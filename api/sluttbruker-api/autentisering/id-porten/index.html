<!DOCTYPE html>
<html lang="nb" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.26">
    <meta name="description" content="Dersom brukeren ikke er autentisert vil API-et redirecte applikasjonen din til ID-portens påloggingsside med responsivt design. I en app vil brukeren kunne velge mellom å autentisere seg ved bruk av av MinID eller BankID. Når brukeren er autentisert i ID-porten vil brukeren bli redirected tilbake til opprinnelig URL. Dette vil fungere for alle klienter som støtter cookies og HTTP-redirect.">
    <title>
      ID-porten :: Altinn docs
    </title>
    <link rel="shortcut icon" href="/docs/images/favicon.png" type="image/x-icon">
    <link href="/docs/css/nucleus.css" rel="stylesheet">
    <link href="/docs/css/font-awesome.min.css" rel="stylesheet">
    <link href="/docs/css/hybrid.css" rel="stylesheet">
    <link href="/docs/css/featherlight.min.css" rel="stylesheet">
    <link href="/docs/css/horsey.css" rel="stylesheet">
    <link href="/docs/css/theme.css" rel="stylesheet">
    <link rel="stylesheet" href="/docs/css/bootstrap.min.css">
    <script src="/docs/js/jquery-2.x.min.js"></script>
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>
  </head>
  <body class="" data-url="/docs/api/sluttbruker-api/autentisering/id-porten/">
    <nav id="sidebar" class="">
      <div class="highlightable">
        <div id="header-wrapper">
          <div id="header">
            <p>
              <a href="/docs" title="Altinn docs"><img src="/docs/images/a-logo-white.svg" alt="Altinn"> docs</a>
            </p>
          </div>

          <div class="searchbox">
            <label for="search-by"><i class="fa fa-search"></i></label> <input data-search-input="" id="search-by" type="text" placeholder="Søk..."> <span data-search-clear=""><i class="fa fa-close"></i></span>
          </div>
          <script type="text/javascript" src="/docs/js/lunr.min.js"></script> 
          <script type="text/javascript" src="/docs/js/horsey.js"></script> 
          <script type="text/javascript">

          var baseurl = "https:\/\/altinn.github.io\/docs\/";
          </script> 
          <script type="text/javascript" src="/docs/js/search.js"></script>
        </div>

        <ul class="topics">
          <li data-nav-id="/docs/guides/" class="dd-item">
            <a href="/docs/guides/"><span>Guider</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
            <ul>
              <li data-nav-id="/docs/guides/samtykke/" class="dd-item">
                <a href="/docs/guides/samtykke/"><span>Samtykke</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/guides/samtykke/sluttbruker/" class="dd-item">
                    <a href="/docs/guides/samtykke/sluttbruker/"><span>For sluttbruker</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/guides/samtykke/sluttbruker/innlogging/" class="dd-item">
                        <a href="/docs/guides/samtykke/sluttbruker/innlogging/"><span>Innlogging</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/sluttbruker/samtykkesiden/" class="dd-item">
                        <a href="/docs/guides/samtykke/sluttbruker/samtykkesiden/"><span>Samtykkesiden</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/sluttbruker/oversikt-samtykker/" class="dd-item">
                        <a href="/docs/guides/samtykke/sluttbruker/oversikt-samtykker/"><span>Oversikt samtykker</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/sluttbruker/trekke-samtykke/" class="dd-item">
                        <a href="/docs/guides/samtykke/sluttbruker/trekke-samtykke/"><span>Trekke samtykke</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/sluttbruker/aktivitetslogg/" class="dd-item">
                        <a href="/docs/guides/samtykke/sluttbruker/aktivitetslogg/"><span>Aktivitetslogg</span></a>
                      </li>
                    </ul>
                  </li>

                  <li data-nav-id="/docs/guides/samtykke/datakilde/" class="dd-item">
                    <a href="/docs/guides/samtykke/datakilde/"><span>For datakilde</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/guides/samtykke/datakilde/opprett-tjeneste/" class="dd-item">
                        <a href="/docs/guides/samtykke/datakilde/opprett-tjeneste/"><span>Opprette tjeneste</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/datakilde/autorisere-datakonsument/" class="dd-item">
                        <a href="/docs/guides/samtykke/datakilde/autorisere-datakonsument/"><span>Autorisere datakonsument</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/datakilde/bruk-av-token/" class="dd-item">
                        <a href="/docs/guides/samtykke/datakilde/bruk-av-token/"><span>Informasjon om token</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/datakilde/test-tjeneste/" class="dd-item">
                        <a href="/docs/guides/samtykke/datakilde/test-tjeneste/"><span>Test av tjeneste</span></a>
                      </li>
                    </ul>
                  </li>

                  <li data-nav-id="/docs/guides/samtykke/datakonsument/" class="dd-item">
                    <a href="/docs/guides/samtykke/datakonsument/"><span>For datakonsument</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/guides/samtykke/datakonsument/komme-i-gang/" class="dd-item">
                        <a href="/docs/guides/samtykke/datakonsument/komme-i-gang/"><span>Komme i gang</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/datakonsument/be-om-samtykke/" class="dd-item">
                        <a href="/docs/guides/samtykke/datakonsument/be-om-samtykke/"><span>Be om samtykke</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/datakonsument/hente-token/" class="dd-item">
                        <a href="/docs/guides/samtykke/datakonsument/hente-token/"><span>Hente token</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/datakonsument/test-tjeneste/" class="dd-item">
                        <a href="/docs/guides/samtykke/datakonsument/test-tjeneste/"><span>Test av samtykke</span></a>
                      </li>
                    </ul>
                  </li>

                  <li data-nav-id="/docs/guides/samtykke/begrepsliste/" class="dd-item">
                    <a href="/docs/guides/samtykke/begrepsliste/"><span>Begrepsliste</span></a>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/guides/sluttbrukersystem/" class="dd-item">
                <a href="/docs/guides/sluttbrukersystem/"><span>Sluttbrukersystemer</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/guides/sluttbrukersystem/grensesnitt/" class="dd-item">
                    <a href="/docs/guides/sluttbrukersystem/grensesnitt/"><span>Grensesnitt</span></a>
                  </li>

                  <li data-nav-id="/docs/guides/sluttbrukersystem/endepunkter-oversikt/" class="dd-item">
                    <a href="/docs/guides/sluttbrukersystem/endepunkter-oversikt/"><span>Endepunkter</span></a>
                  </li>

                  <li data-nav-id="/docs/guides/sluttbrukersystem/funksjonelle-scenario/" class="dd-item">
                    <a href="/docs/guides/sluttbrukersystem/funksjonelle-scenario/"><span>Funksjonelle scenario</span></a>
                  </li>

                  <li data-nav-id="/docs/guides/sluttbrukersystem/hvordan-komme-i-gang/" class="dd-item">
                    <a href="/docs/guides/sluttbrukersystem/hvordan-komme-i-gang/"><span>Hvordan komme i gang</span></a>
                  </li>

                  <li data-nav-id="/docs/guides/sluttbrukersystem/roller-og-rettigheter/" class="dd-item">
                    <a href="/docs/guides/sluttbrukersystem/roller-og-rettigheter/"><span>Roller og rettigheter</span></a>
                  </li>

                  <li data-nav-id="/docs/guides/sluttbrukersystem/skjemasett-sammenlikning/" class="dd-item">
                    <a href="/docs/guides/sluttbrukersystem/skjemasett-sammenlikning/"><span>Skjemasett sammenligning</span></a>
                  </li>

                  <li data-nav-id="/docs/guides/sluttbrukersystem/teknisk-implementasjon/" class="dd-item">
                    <a href="/docs/guides/sluttbrukersystem/teknisk-implementasjon/"><span>Teknisk implementasjon</span></a>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/guides/integrasjon/" class="dd-item">
                <a href="/docs/guides/integrasjon/"><span>Integrasjon</span></a>
              </li>

              <li data-nav-id="/docs/guides/lenketjenester/" class="dd-item">
                <a href="/docs/guides/lenketjenester/"><span>Lenketjenester</span></a>
              </li>

              <li data-nav-id="/docs/guides/tjenesteeier/" class="dd-item">
                <a href="/docs/guides/tjenesteeier/"><span>Tjenesteeier</span></a>
              </li>
            </ul>
          </li>

          <li data-nav-id="/docs/api/" class="dd-item parent">
            <a href="/docs/api/"><span>REST-apier</span> <i class="fa fa-angle-down fa-lg category-icon"></i></a>
            <ul>
              <li data-nav-id="/docs/api/generelt/" class="dd-item">
                <a href="/docs/api/generelt/"><span>Generelt</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/api/generelt/release-notes/" class="dd-item">
                    <a href="/docs/api/generelt/release-notes/"><span>API release notes</span></a>
                  </li>

                  <li data-nav-id="/docs/api/generelt/feil-og-mangler/" class="dd-item">
                    <a href="/docs/api/generelt/feil-og-mangler/"><span>Kjente feil og begrensninger</span></a>
                  </li>

                  <li data-nav-id="/docs/api/generelt/retningslinjer/" class="dd-item">
                    <a href="/docs/api/generelt/retningslinjer/"><span>Retningslinjer</span></a>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/api/sluttbruker-api/" class="dd-item parent">
                <a href="/docs/api/sluttbruker-api/"><span>Sluttbrukere</span> <i class="fa fa-angle-down fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/api/sluttbruker-api/registrering/" class="dd-item">
                    <a href="/docs/api/sluttbruker-api/registrering/"><span>Registrering</span></a>
                  </li>

                  <li data-nav-id="/docs/api/sluttbruker-api/autentisering/" class="dd-item parent">
                    <a href="/docs/api/sluttbruker-api/autentisering/"><span>Autentisering</span> <i class="fa fa-angle-down fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/api/sluttbruker-api/autentisering/brukernavn-og-passord/" class="dd-item">
                        <a href="/docs/api/sluttbruker-api/autentisering/brukernavn-og-passord/"><span>Brukernavn og passord</span></a>
                      </li>

                      <li data-nav-id="/docs/api/sluttbruker-api/autentisering/id-porten/" class="dd-item active">
                        <a href="/docs/api/sluttbruker-api/autentisering/id-porten/"><span>ID-porten</span></a>
                      </li>

                      <li data-nav-id="/docs/api/sluttbruker-api/autentisering/virksomhetssertifikat/" class="dd-item">
                        <a href="/docs/api/sluttbruker-api/autentisering/virksomhetssertifikat/"><span>Virksomhetssertifikat</span></a>
                      </li>
                    </ul>
                  </li>

                  <li data-nav-id="/docs/api/sluttbruker-api/autorisasjon/" class="dd-item">
                    <a href="/docs/api/sluttbruker-api/autorisasjon/"><span>Autorisasjon</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/api/sluttbruker-api/autorisasjon/rolledefinisjoner/" class="dd-item">
                        <a href="/docs/api/sluttbruker-api/autorisasjon/rolledefinisjoner/"><span>Rolledefinisjoner</span></a>
                      </li>

                      <li data-nav-id="/docs/api/sluttbruker-api/autorisasjon/roller-og-rettigheter/" class="dd-item">
                        <a href="/docs/api/sluttbruker-api/autorisasjon/roller-og-rettigheter/"><span>Roller og rettigheter</span></a>
                      </li>
                    </ul>
                  </li>

                  <li data-nav-id="/docs/api/sluttbruker-api/innsyn/" class="dd-item">
                    <a href="/docs/api/sluttbruker-api/innsyn/"><span>Innsynstjenester</span></a>
                  </li>

                  <li data-nav-id="/docs/api/sluttbruker-api/kom-i-gang/" class="dd-item">
                    <a href="/docs/api/sluttbruker-api/kom-i-gang/"><span>Kom i gang!</span></a>
                  </li>

                  <li data-nav-id="/docs/api/sluttbruker-api/meldinger/" class="dd-item">
                    <a href="/docs/api/sluttbruker-api/meldinger/"><span>Meldinger</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/api/sluttbruker-api/meldinger/hente/" class="dd-item">
                        <a href="/docs/api/sluttbruker-api/meldinger/hente/"><span>Hente meldinger</span></a>
                      </li>

                      <li data-nav-id="/docs/api/sluttbruker-api/meldinger/sende-inn/" class="dd-item">
                        <a href="/docs/api/sluttbruker-api/meldinger/sende-inn/"><span>Sende inn</span></a>
                      </li>

                      <li data-nav-id="/docs/api/sluttbruker-api/meldinger/signere/" class="dd-item">
                        <a href="/docs/api/sluttbruker-api/meldinger/signere/"><span>Signere meldinger</span></a>
                      </li>

                      <li data-nav-id="/docs/api/sluttbruker-api/meldinger/slette/" class="dd-item">
                        <a href="/docs/api/sluttbruker-api/meldinger/slette/"><span>Slette meldinger</span></a>
                      </li>
                    </ul>
                  </li>

                  <li data-nav-id="/docs/api/sluttbruker-api/diverse/" class="dd-item">
                    <a href="/docs/api/sluttbruker-api/diverse/"><span>Diverse</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/api/sluttbruker-api/diverse/profil/" class="dd-item">
                        <a href="/docs/api/sluttbruker-api/diverse/profil/"><span>Profil</span></a>
                      </li>

                      <li data-nav-id="/docs/api/sluttbruker-api/diverse/metadata/" class="dd-item">
                        <a href="/docs/api/sluttbruker-api/diverse/metadata/"><span>Metadata</span></a>
                      </li>

                      <li data-nav-id="/docs/api/sluttbruker-api/diverse/samtykke/" class="dd-item">
                        <a href="/docs/api/sluttbruker-api/diverse/samtykke/"><span>Samtykke</span></a>
                      </li>

                      <li data-nav-id="/docs/api/sluttbruker-api/diverse/formidling/" class="dd-item">
                        <a href="/docs/api/sluttbruker-api/diverse/formidling/"><span>Formidling</span></a>
                      </li>

                      <li data-nav-id="/docs/api/sluttbruker-api/diverse/betaling/" class="dd-item">
                        <a href="/docs/api/sluttbruker-api/diverse/betaling/"><span>Betaling</span></a>
                      </li>

                      <li data-nav-id="/docs/api/sluttbruker-api/diverse/referanse-app/" class="dd-item">
                        <a href="/docs/api/sluttbruker-api/diverse/referanse-app/"><span>Referanse-app</span></a>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/api/tjenesteeier-api/" class="dd-item">
                <a href="/docs/api/tjenesteeier-api/"><span>Tjenesteeiere</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/api/tjenesteeier-api/registrering/" class="dd-item">
                    <a href="/docs/api/tjenesteeier-api/registrering/"><span>Registrering</span></a>
                  </li>

                  <li data-nav-id="/docs/api/tjenesteeier-api/autorisasjon/" class="dd-item">
                    <a href="/docs/api/tjenesteeier-api/autorisasjon/"><span>Autorisasjon</span></a>
                  </li>

                  <li data-nav-id="/docs/api/tjenesteeier-api/kontaktinformasjon/" class="dd-item">
                    <a href="/docs/api/tjenesteeier-api/kontaktinformasjon/"><span>Kontaktinformasjon</span></a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>

          <li data-nav-id="/docs/tjenestekatalog/" class="dd-item">
            <a href="/docs/tjenestekatalog/"><span>Tjenestekatalog</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
            <ul>
              <li data-nav-id="/docs/tjenestekatalog/dialog/" class="dd-item">
                <a href="/docs/tjenestekatalog/dialog/"><span>Digital dialog</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/tjenestekatalog/dialog/betaling/" class="dd-item">
                    <a href="/docs/tjenestekatalog/dialog/betaling/"><span>Betaling</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/dialog/formidling/" class="dd-item">
                    <a href="/docs/tjenestekatalog/dialog/formidling/"><span>Formidling av data</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/dialog/innsending/" class="dd-item">
                    <a href="/docs/tjenestekatalog/dialog/innsending/"><span>Innsending</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/dialog/innsyn/" class="dd-item">
                    <a href="/docs/tjenestekatalog/dialog/innsyn/"><span>Innsyn</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/dialog/lenketjeneste/" class="dd-item">
                    <a href="/docs/tjenestekatalog/dialog/lenketjeneste/"><span>Lenketjeneste</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/dialog/melding/" class="dd-item">
                    <a href="/docs/tjenestekatalog/dialog/melding/"><span>Melding</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/dialog/samhandling/" class="dd-item">
                    <a href="/docs/tjenestekatalog/dialog/samhandling/"><span>Samhandling</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/dialog/samtykke/" class="dd-item">
                    <a href="/docs/tjenestekatalog/dialog/samtykke/"><span>Samtykke</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/dialog/varsling/" class="dd-item">
                    <a href="/docs/tjenestekatalog/dialog/varsling/"><span>Varsling</span></a>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/tjenestekatalog/kanaler/" class="dd-item">
                <a href="/docs/tjenestekatalog/kanaler/"><span>Kanaler</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/tjenestekatalog/kanaler/altinn-api/" class="dd-item">
                    <a href="/docs/tjenestekatalog/kanaler/altinn-api/"><span>REST-API</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/kanaler/grensesnitt-sluttbrukersystem/" class="dd-item">
                    <a href="/docs/tjenestekatalog/kanaler/grensesnitt-sluttbrukersystem/"><span>Web services</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/kanaler/grensesnitt-tjenesteeier/" class="dd-item">
                    <a href="/docs/tjenestekatalog/kanaler/grensesnitt-tjenesteeier/"><span>Tjenesteeier</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/kanaler/portal/" class="dd-item">
                    <a href="/docs/tjenestekatalog/kanaler/portal/"><span>Portal</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/kanaler/apps/" class="dd-item">
                    <a href="/docs/tjenestekatalog/kanaler/apps/"><span>Apps</span></a>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/tjenestekatalog/support/" class="dd-item">
                <a href="/docs/tjenestekatalog/support/"><span>Support</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/tjenestekatalog/support/brukersupport/" class="dd-item">
                    <a href="/docs/tjenestekatalog/support/brukersupport/"><span>Brukersupport</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/support/kurs-og-seminar/" class="dd-item">
                    <a href="/docs/tjenestekatalog/support/kurs-og-seminar/"><span>Kurs og seminar</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/support/operativ-veiledning/" class="dd-item">
                    <a href="/docs/tjenestekatalog/support/operativ-veiledning/"><span>Operativ veiledning</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/support/rammeavtale-konsulentbistand/" class="dd-item">
                    <a href="/docs/tjenestekatalog/support/rammeavtale-konsulentbistand/"><span>Rammeavtale konsulentbistand</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/support/sluttbrukersystem/" class="dd-item">
                    <a href="/docs/tjenestekatalog/support/sluttbrukersystem/"><span>Sluttbrukersystem</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/support/statistikk/" class="dd-item">
                    <a href="/docs/tjenestekatalog/support/statistikk/"><span>Statistikk og rapporter</span></a>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/tjenestekatalog/sikkerhet/" class="dd-item">
                <a href="/docs/tjenestekatalog/sikkerhet/"><span>Sikkerhet</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/tjenestekatalog/sikkerhet/autentisering/" class="dd-item">
                    <a href="/docs/tjenestekatalog/sikkerhet/autentisering/"><span>Autentisering</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/sikkerhet/autorisasjon/" class="dd-item">
                    <a href="/docs/tjenestekatalog/sikkerhet/autorisasjon/"><span>Autorisasjon</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/sikkerhet/logging/" class="dd-item">
                    <a href="/docs/tjenestekatalog/sikkerhet/logging/"><span>Logging</span></a>
                  </li>

                  <li data-nav-id="/docs/tjenestekatalog/sikkerhet/signering/" class="dd-item">
                    <a href="/docs/tjenestekatalog/sikkerhet/signering/"><span>Signering</span></a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>

          <li data-nav-id="/docs/altinncore/" class="dd-item">
            <a href="/docs/altinncore/"><span>Tjenester 3.0</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
            <ul>
              <li data-nav-id="/docs/altinncore/goals/" class="dd-item">
                <a href="/docs/altinncore/goals/"><span>Målsettinger</span></a>
              </li>

              <li data-nav-id="/docs/altinncore/status/" class="dd-item">
                <a href="/docs/altinncore/status/"><span>Status</span></a>
              </li>

              <li data-nav-id="/docs/altinncore/satsingsforslag/" class="dd-item">
                <a href="/docs/altinncore/satsingsforslag/"><span>Satsingsforslag 2018</span></a>
              </li>

              <li data-nav-id="/docs/altinncore/architecture/" class="dd-item">
                <a href="/docs/altinncore/architecture/"><span>Arkitektur</span></a>
              </li>

              <li data-nav-id="/docs/altinncore/faq/" class="dd-item">
                <a href="/docs/altinncore/faq/"><span>FAQ</span></a>
              </li>
            </ul>
          </li>

          <li data-nav-id="/docs/slides/" class="dd-item">
            <a href="/docs/slides/"><span>Slides</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
            <ul>
              <li data-nav-id="/docs/slides/tjenester30/" class="dd-item">
                <a href="/docs/slides/tjenester30/"><span>Tjenester 3.0 slide</span></a>
              </li>
            </ul>
          </li>

          <li class="" role="">
            <h3>
              Lenker
            </h3>
            <a href="https://altinn.github.io/DesignSystem"><i class='fa fa-fw fa-star'></i> Designsystem</a>
          </li>

          <li class="" role="">
            <a href="https://altinnett.brreg.no/"><i class='fa fa-fw fa-info-circle'></i> Altinnett</a>
          </li>

          <li class="" role="">
            <a href="/docs/credits"><i class='fa fa-fw fa-bullhorn'></i> Kred</a>
          </li>

          <li class="" role="">
            <a href="https://github.com/altinn/docs"><i class='fa fa-fw fa-github'></i> GitHub repo</a>
          </li>
        </ul>

        <section id="footer">
        </section>
      </div>
    </nav>

    <section id="body">
      <div id="overlay">
      </div>

      <div class="padding highlightable">
        <div id="top-bar">
          <div id="top-github-link">
            <a class="github-link" href="https://github.com/altinn/docs/edit/master/content/api/Sluttbruker-api/autentisering/id-porten.md" target="blank"><i class="fa fa-code-fork"></i> Editer</a>
          </div>

          <div id="breadcrumbs" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
            <span id="sidebar-toggle-span"><a href="#" id="sidebar-toggle" data-sidebar-toggle=""><i class="fa fa-bars"></i></a></span> <span id="toc-menu"><i class="fa fa-list-alt"></i></span> <span class="links"><a href='/docs/'>Altinn docs</a> &gt; <a href='/docs/api/'>REST-apier</a> &gt; <a href='/docs/api/sluttbruker-api/'>Sluttbrukere</a> &gt; <a href='/docs/api/sluttbruker-api/autentisering/'>Autentisering</a> &gt; ID-porten</span>
          </div>

          <div class="progress">
            <div class="wrapper">
              <nav id="TableOfContents">
                <ul>
                  <li>
                    <ul>
                      <li>
                        <ul>
                          <li>
                            <a href="#single-sign-on-sso">Single Sign-On (SSO)</a>
                            <ul>
                              <li>
                                <a href="#1-innebygd-nettleser">1. Innebygd nettleser</a>
                              </li>

                              <li>
                                <a href="#2-hente-ut-p%C3%A5loggings-token">2. Hente ut påloggings-token</a>
                              </li>

                              <li>
                                <a href="#3-videref%C3%B8re-p%C3%A5loggings-token-i-kall-til-altinn-api">3. Videreføre påloggings-token i kall til Altinn API</a>
                              </li>

                              <li>
                                <a href="#4-autentisering-ved-integrasjon-i-andre-portaler">4. Autentisering ved integrasjon i andre portaler</a>
                                <ul>
                                  <li>
                                    <a href="#flyten-for-redirect-l%C3%B8sningen-for-%C3%A5-f%C3%A5-sesjon-i-altinn-er">Flyten for redirect-løsningen for å få sesjon i Altinn er:</a>
                                  </li>
                                </ul>
                              </li>
                            </ul>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>

        <div id="body-inner">
          <h1>
            ID-porten
          </h1>

          <p>
            Altinn API benytter ID-porten til autentisering av brukere. ID-porten er en felles infrastruktur for å logge inn til offentlige tjenester. I ID-porten er det lagt til rette for at innbyggerene selv kan velge hvilken elektronisk ID de ønsker å benytte. Det er mulig å logge inn med elektronisk ID fra MinID, BankID, Buypass og Commfides.
          </p>

          <p>
            ID-porten sine autentiseringsløsinger bruker OpenSSO/OpenAM som fødereringsplattform. Fødereringen baserer seg på SAML2 OASIS-standarden.
          </p>

          <h3 id="single-sign-on-sso">
            Single Sign-On (SSO)
          </h3>

          <p>
            SSO vil si at du sømløst gjenbruker autentiseringen din. Med ID-porten/MinID betyr det i praksis at dersom du har logget inn på en tjeneste hos for eksempel NAV, vil det ikke være nødvendig å gjøre en ny pålogging for å få tilgang til Altinn, eller andre tjenester som benytter ID-porten/MinID. I utgangspunktet er alle tjenester som benytter ID-porten/MinID en del av SSO.
          </p>

          <p>
            Vi vil nå forklare hvordan du kan implementere støtte for autentisering ved bruk av ID-porten i din applikasjon.
          </p>

          <h4 id="1-innebygd-nettleser">
            1. Innebygd nettleser
          </h4>

          <p>
            For at din applikasjon skal kunne benytte web-baserte autentiserings protokoller som SAML til autentisering, må du la brukerne logge inn med en innebygd nettleser.
          </p>

          <p>
            Å bygge inn en nettleser i din applikasjon er enkelt på de vanligste plattformene:
          </p>

          <ul>
            <li>
              <strong>Android</strong>: bruk <a href="http://developer.android.com/guide/webapps/webview.html">WebView</a>.
            </li>

            <li>
              <strong>iOS</strong>: bruk <a href="http://developer.apple.com/library/ios/#DOCUMENTATION/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/DisplayWebContent/DisplayWebContent.html">UIWebView</a>
            </li>
          </ul>

          <p>
            Du kan peke nettleseren til starturl for Altinn API: <a href="https://www.altinn.no/api/my/messages/">https://www.altinn.no/api/my/messages/</a>
          </p>

          <p>
            Da vil brukeren automatisk bli videreført til ID-portens påloggingsside med responsivt design. På denne siden vil brukeren få valget mellom å logge inn med MinID eller BankID. BankID har egne applikasjoner for pålogging (iOS og Android) og disse vil automatisk åpnes og lukkes ved autentisering.
          </p>

          <h4 id="2-hente-ut-påloggings-token">
            2. Hente ut påloggings-token
          </h4>

          <p>
            Etter vellykket pålogging i ID-porten, vil brukeren bli ført tilbake til Altinn og Altinn oppretter et sett med tokens i form av HTTP cookies i Set-Cookie header.
          </p>

          <p>
            Når Altinn har opprettet disse token burde din applikasjon hente de ut og deretter lukke den innebygde nettleseren.
          </p>

          <p>
            Her er eksempler på hvordan du kan hente ut token i HTTP cookie på de vanligste plattformene:
          </p>

          <ul>
            <li>
              <strong>Android</strong>: <a href="http://developer.android.com/reference/android/webkit/CookieManager.html#getCookie(java.lang.String)">CookieManager#getCookie(URL)</a> kan brukes til å hente ut cookier satt av Altinn. Detaljert eksempelkode på denne tekikken kan du finne her.
            </li>

            <li>
              <strong>iOS</strong>: Din applikasjon kan hente ut cookies satt av Altinn ved å bruke <a href="http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSHTTPCookieStorage_Class/Reference/Reference.html">NSHTTPCookieStorage</a>. Dette blir ofte kalt “cookie jar.”
            </li>
          </ul>

          <pre><code>NSHTTPCookie *cookie;
NSHTTPCookieStorage *cookieJar = [NSHTTPCookieStorage sharedHTTPCookieStorage];

for (cookie in [cookieJar cookies]) {
  NSLog(@"%@", cookie);
}
</code></pre>
          <p>
            Detaljert eksempelkode på denne teknikken for iOS finner du <a href="https://sites.google.com/site/oauthgoog/oauth-practices/mobile-apps-for-complex-login-systems/samplecode">her</a>.
          </p>

          <h4 id="3-videreføre-påloggings-token-i-kall-til-altinn-api">
            3. Videreføre påloggings-token i kall til Altinn API
          </h4>

          <p>
            Tokenet <code>.ASPXAUTH</code> legges i HTTP header som “Cookie” i videre på kall til Altinn API:
          </p>

          <pre><code class="language-HTTP">Cookie: .ASPXAUTH=2AF7F203...., etc...
</code></pre>
          <p>
            API nøkkelen må også legges ved i HTTP header slik:
          </p>

          <pre><code class="language-HTTP">ApiKey: myKey
</code></pre>
          <p>
            API nøkkel får du etter <a href="../../registrering/">registrering av din applikasjon</a>.
          </p>

          <h4 id="4-autentisering-ved-integrasjon-i-andre-portaler">
            4. Autentisering ved integrasjon i andre portaler
          </h4>

          <p>
            Det er mulig å integrere innhold i brukernes meldingsboks i Altinn i eksterne portaler ved å bruke Altinn API. Dette krever at den eksterne portalen også fødererer mot ID-porten og er medlem av samme Circle of Trust som Altinn.
          </p>

          <p>
            Altinn API benytter også <a href="http://enable-cors.org/">CORS</a> for ekstra sikkerhet ved kryssdomene forespørsler. For å integrere brukerens meldingsboks i Altinn i en ekstern nettside må dermed domenet til denne nettsiden ligge i Altinns CORS whitelist. Det er derfor nødvendig å registrere nettsiden som skal integrere Altinns meldingsboks hos Altinn. Se <a href="../../registrering/">denne siden</a> for informasjon om registrering. Bruk av Altinn API i eksterne nettsider er bare tilgjengelig for offentlige etater/institusjoner som er tjenesteeiere i Altinn.
          </p>

          <p>
            For at kall mot Altinns API skal fungere fra eksterne sider må brukeren ha en sesjon både hos IDporten og hos Altinn. Ved innlogging med IDporten må man derfor benytte følgende redirect-løsning for å sikre at brukeren også har sesjon i Altinn. Om man logger brukeren inn med IDporten og kaller Altinn uten å bruke redirect, vil IDporten fjerne CORS-headerne som følger med, slik at Altinn ikke lenger har mulighet for å verifisere domenet mot de som er registrert hos oss.
          </p>

          <p>
            Per nå fungerer redirect bare med IDportens mekanismer, ikke med Altinn-innlogging.
          </p>

          <h5 id="flyten-for-redirect-løsningen-for-å-få-sesjon-i-altinn-er">
            Flyten for redirect-løsningen for å få sesjon i Altinn er:
          </h5>

          <p>
            <strong>1.</strong> Ekstern portal kontakter <a href="https://www.altinn.no/Pages/ExternalAuthentication/Redirect.aspx?returnUrl=https://www.minportal.no/portal&amp;userToken=sha256-hash">https://www.altinn.no/Pages/ExternalAuthentication/Redirect.aspx?returnUrl=https://www.minportal.no/portal&amp;userToken=sha256-hash</a>
          </p>

          <p>
            “sha256-hash” er hash av fødselsnummer på autentisert bruker på ekstern portal.
          </p>

          <p>
            UserToken er valgfri og brukes til å sikre at det ikke allerede eksisterer en sesjon i Altinn som tilhører en annen bruker enn den som er autentisert på ekstern portal.
          </p>

          <hr>

          <p>
            <strong>2.</strong> Brukeren blir sendt til Altinn
          </p>

          <p>
            <strong>2-1a. <em>Med</em> userToken angitt:</strong>
          </p>

          <p>
            Dersom brukeren allerede er logget inn i ID-porten opprettes .ASPXAUTH cookie som inneholder sesjonsopplysninger nødvendige for REST-kall. Om det finnes en sesjon i Altinn for en annen bruker, vil denne logges ut og ny sesjon opprettes for brukeren i userToken.
          </p>

          <p>
            <strong>2-1b.</strong> Dersom bruker ikke er logget inn sendes bruker til innloggingsside og må logge inn.<br>
            <strong>2-1c.</strong> Dersom samme bruker er logget inn i Altinn fra før valideres sesjon.
          </p>

          <p>
            <strong>2-2a. <em>Uten</em> userToken:</strong>
          </p>

          <p>
            Dersom bruker allerede er logget inn i ID-porten opprettes <code>.ASPXAUTH</code> cookie som inneholder sesjonsopplysninger nødvendige for REST-kall.
          </p>

          <p>
            <strong>2-2b.</strong> Dersom bruker ikke er logget inn sendes bruker til innloggingsside <strong>2-2c.</strong> OBS! Dersom bruker velger Altinn-innlogging vil man bli sendt tilbake til idporten for å autentisere seg med idporten.
          </p>

          <hr>

          <p>
            <strong>3</strong>
          </p>

          <p>
            <strong>a.</strong> Bruker logger inn og det opprettes .ASPXAUTH-cookie som inneholder sesjonsopplysningene man trenger for ytterligere REST-kall<br>
            <strong>b.</strong> Dersom bruker ikke logger inn, blir brukeren stående på innloggingsside
          </p>

          <hr>

          <p>
            <strong>4.</strong> Altinn sjekker om verdien i returnUrl (<a href="https://www.minportal.no/portal">https://www.minportal.no/portal</a> i dette eksempelet) er gyldig og ligger inne i CORS whitelist
          </p>

          <p>
            <strong>a.</strong> Dersom domenet er gyldig gjennomføres redirect til den eksterne adressen<br>
            <strong>b.</strong> Dersom domenet ikke er gyldig sendes bruker til «Min Meldingsboks» i Altinn Adressen eksterne portaler må bruke blir da: <a href="https://www.altinn.no/Pages/ExternalAuthentication/Redirect.aspx?returnUrl=URL_SOM_BRUKER_SKAL_SENDES_TILBAKE_TIL_ETTER_INNLOGGING">https://www.altinn.no/Pages/ExternalAuthentication/Redirect.aspx?returnUrl=URL_SOM_BRUKER_SKAL_SENDES_TILBAKE_TIL_ETTER_INNLOGGING</a>
          </p>

          <footer class="footline">
          </footer>
        </div>
      </div>

      <div id="navigation">
        <a class="nav nav-prev" href="/docs/api/sluttbruker-api/autentisering/brukernavn-og-passord/" title="Brukernavn og passord"><i class="fa fa-chevron-left"></i></a> <a class="nav nav-next" href="/docs/api/sluttbruker-api/autentisering/virksomhetssertifikat/" title="Virksomhetssertifikat" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
      </div>
    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      </div>
    </div>
    <script src="/docs/js/clipboard.min.js"></script> 
    <script src="/docs/js/featherlight.min.js"></script> 
    <script src="/docs/js/html5shiv-printshiv.min.js"></script> 
    <script src="/docs/js/highlight.pack.js"></script> 
    <script>
    hljs.initHighlightingOnLoad();
    </script> 
    <script src="/docs/js/modernizr.custom.71422.js"></script> 
    <script src="/docs/js/learn.js"></script> 
    <script src="/docs/js/hugo-learn.js"></script>
    <link href="/docs/mermaid/mermaid.css" type="text/css" rel="stylesheet">
    <script src="/docs/mermaid/mermaid.js"></script> 
    <script>
    mermaid.initialize({startOnLoad:true});
    </script>
  </body>
</html>
