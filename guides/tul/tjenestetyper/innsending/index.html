<!DOCTYPE html>
<html lang="nb" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.30.2">
    <meta name="description" content="Innendingstjenester brukes til å sende data fra Sluttbrukerløsningen eller fra sluttbrukersystemer til en etat/tjenesteeier.">
    <title>
      Innsending :: Altinn docs
    </title>
    <link rel="shortcut icon" href="/docs/images/favicon.png" type="image/x-icon">
    <link href="/docs/css/nucleus.css" rel="stylesheet">
    <link href="/docs/css/font-awesome.min.css" rel="stylesheet">
    <link href="/docs/css/hybrid.css" rel="stylesheet">
    <link href="/docs/css/featherlight.min.css" rel="stylesheet">
    <link href="/docs/css/horsey.css" rel="stylesheet">
    <link href="/docs/css/theme.css" rel="stylesheet">
    <link rel="stylesheet" href="/docs/css/bootstrap.min.css">
    <script src="/docs/js/jquery-2.x.min.js"></script>
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>
    <link href="/docs/css/altinn.css" rel="stylesheet">
  </head>
  <body class="" data-url="/docs/guides/tul/tjenestetyper/innsending/">
    <nav id="sidebar" class="">
      <div class="highlightable">
        <div id="header-wrapper">
          <div id="header">
            <p>
              <a href="/docs" title="Altinn docs"><img src="/docs/images/a-logo-white.svg" alt="Altinn"> docs</a>
            </p>
          </div>

          <div class="searchbox">
            <label for="search-by"><i class="fa fa-search"></i></label> <input data-search-input="" id="search-by" type="text" placeholder="Søk..."> <span data-search-clear=""><i class="fa fa-close"></i></span>
          </div>
          <script type="text/javascript" src="/docs/js/lunr.min.js"></script> 
          <script type="text/javascript" src="/docs/js/horsey.js"></script> 
          <script type="text/javascript">

          var baseurl = "https:\/\/altinn.github.io\/docs\/";
          </script> 
          <script type="text/javascript" src="/docs/js/search.js"></script>
        </div>

        <ul class="topics">
          <li data-nav-id="/docs/guides/" class="dd-item parent">
            <a href="/docs/guides/"><span>Guider</span> <i class="fa fa-angle-down fa-lg category-icon"></i></a>
            <ul>
              <li data-nav-id="/docs/guides/integrasjon/" class="dd-item">
                <a href="/docs/guides/integrasjon/"><span>Integrasjon</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/guides/integrasjon/generelt/" class="dd-item">
                    <a href="/docs/guides/integrasjon/generelt/"><span>Generelt</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/guides/integrasjon/generelt/overordnet/" class="dd-item">
                        <a href="/docs/guides/integrasjon/generelt/overordnet/"><span>Overordnet</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/integrasjon/generelt/api-key/" class="dd-item">
                        <a href="/docs/guides/integrasjon/generelt/api-key/"><span>API-key</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/integrasjon/generelt/feil-og-mangler/" class="dd-item">
                        <a href="/docs/guides/integrasjon/generelt/feil-og-mangler/"><span>Kjente feil og mangler</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/integrasjon/generelt/retningslinjer/" class="dd-item">
                        <a href="/docs/guides/integrasjon/generelt/retningslinjer/"><span>Retningslinjer</span></a>
                      </li>
                    </ul>
                  </li>

                  <li data-nav-id="/docs/guides/integrasjon/tjenesteeiere/" class="dd-item">
                    <a href="/docs/guides/integrasjon/tjenesteeiere/"><span>Tjenesteeiere</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/guides/integrasjon/tjenesteeiere/innledning/" class="dd-item">
                        <a href="/docs/guides/integrasjon/tjenesteeiere/innledning/"><span>Innledning</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/integrasjon/tjenesteeiere/api/" class="dd-item">
                        <a href="/docs/guides/integrasjon/tjenesteeiere/api/"><span>REST API</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                        <ul>
                          <li data-nav-id="/docs/guides/integrasjon/tjenesteeiere/api/registrering/" class="dd-item">
                            <a href="/docs/guides/integrasjon/tjenesteeiere/api/registrering/"><span>Registrering</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/integrasjon/tjenesteeiere/api/autorisasjon/" class="dd-item">
                            <a href="/docs/guides/integrasjon/tjenesteeiere/api/autorisasjon/"><span>Autorisasjon</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/integrasjon/tjenesteeiere/api/kontaktinformasjon/" class="dd-item">
                            <a href="/docs/guides/integrasjon/tjenesteeiere/api/kontaktinformasjon/"><span>Kontaktinformasjon</span></a>
                          </li>
                        </ul>
                      </li>

                      <li data-nav-id="/docs/guides/integrasjon/tjenesteeiere/webservice/" class="dd-item">
                        <a href="/docs/guides/integrasjon/tjenesteeiere/webservice/"><span>Web Service</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                        <ul>
                          <li data-nav-id="/docs/guides/integrasjon/tjenesteeiere/webservice/feilhandtering/" class="dd-item">
                            <a href="/docs/guides/integrasjon/tjenesteeiere/webservice/feilhandtering/"><span>Feilhåndtering</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/integrasjon/tjenesteeiere/webservice/feilkoder/" class="dd-item">
                            <a href="/docs/guides/integrasjon/tjenesteeiere/webservice/feilkoder/"><span>Feilkoder</span></a>
                          </li>
                        </ul>
                      </li>

                      <li data-nav-id="/docs/guides/integrasjon/tjenesteeiere/batch/" class="dd-item">
                        <a href="/docs/guides/integrasjon/tjenesteeiere/batch/"><span>Batch</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/integrasjon/tjenesteeiere/funksjonelle-scenario/" class="dd-item">
                        <a href="/docs/guides/integrasjon/tjenesteeiere/funksjonelle-scenario/"><span>Funksjonelle scenario</span></a>
                      </li>
                    </ul>
                  </li>

                  <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/" class="dd-item">
                    <a href="/docs/guides/integrasjon/sluttbrukere/"><span>Sluttbrukere</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/" class="dd-item">
                        <a href="/docs/guides/integrasjon/sluttbrukere/api/"><span>REST API</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                        <ul>
                          <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/kom-i-gang/" class="dd-item">
                            <a href="/docs/guides/integrasjon/sluttbrukere/api/kom-i-gang/"><span>Kom i gang!</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/autentisering/" class="dd-item">
                            <a href="/docs/guides/integrasjon/sluttbrukere/api/autentisering/"><span>Autentisering</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                            <ul>
                              <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/autentisering/brukernavn-og-passord/" class="dd-item">
                                <a href="/docs/guides/integrasjon/sluttbrukere/api/autentisering/brukernavn-og-passord/"><span>Brukernavn og passord</span></a>
                              </li>

                              <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/autentisering/id-porten/" class="dd-item">
                                <a href="/docs/guides/integrasjon/sluttbrukere/api/autentisering/id-porten/"><span>ID-porten</span></a>
                              </li>

                              <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/autentisering/virksomhetssertifikat/" class="dd-item">
                                <a href="/docs/guides/integrasjon/sluttbrukere/api/autentisering/virksomhetssertifikat/"><span>Virksomhets­sertifikat</span></a>
                              </li>
                            </ul>
                          </li>

                          <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/autorisasjon/" class="dd-item">
                            <a href="/docs/guides/integrasjon/sluttbrukere/api/autorisasjon/"><span>Autorisasjon</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                            <ul>
                              <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/autorisasjon/roller-og-rettigheter/" class="dd-item">
                                <a href="/docs/guides/integrasjon/sluttbrukere/api/autorisasjon/roller-og-rettigheter/"><span>Roller og rettigheter</span></a>
                              </li>

                              <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/autorisasjon/rolledefinisjoner/" class="dd-item">
                                <a href="/docs/guides/integrasjon/sluttbrukere/api/autorisasjon/rolledefinisjoner/"><span>Rolle­definisjoner</span></a>
                              </li>
                            </ul>
                          </li>

                          <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/innsyn/" class="dd-item">
                            <a href="/docs/guides/integrasjon/sluttbrukere/api/innsyn/"><span>Innsyns­tjenester</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/meldinger/" class="dd-item">
                            <a href="/docs/guides/integrasjon/sluttbrukere/api/meldinger/"><span>Meldingsboks</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                            <ul>
                              <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/meldinger/hente/" class="dd-item">
                                <a href="/docs/guides/integrasjon/sluttbrukere/api/meldinger/hente/"><span>Hente</span></a>
                              </li>

                              <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/meldinger/oppdatere/" class="dd-item">
                                <a href="/docs/guides/integrasjon/sluttbrukere/api/meldinger/oppdatere/"><span>Oppdatere</span></a>
                              </li>

                              <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/meldinger/sende-inn/" class="dd-item">
                                <a href="/docs/guides/integrasjon/sluttbrukere/api/meldinger/sende-inn/"><span>Sende inn</span></a>
                              </li>

                              <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/meldinger/signere/" class="dd-item">
                                <a href="/docs/guides/integrasjon/sluttbrukere/api/meldinger/signere/"><span>Signere</span></a>
                              </li>

                              <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/meldinger/slette/" class="dd-item">
                                <a href="/docs/guides/integrasjon/sluttbrukere/api/meldinger/slette/"><span>Slette</span></a>
                              </li>
                            </ul>
                          </li>

                          <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/diverse/" class="dd-item">
                            <a href="/docs/guides/integrasjon/sluttbrukere/api/diverse/"><span>Diverse</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                            <ul>
                              <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/diverse/profil/" class="dd-item">
                                <a href="/docs/guides/integrasjon/sluttbrukere/api/diverse/profil/"><span>Profil</span></a>
                              </li>

                              <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/diverse/metadata/" class="dd-item">
                                <a href="/docs/guides/integrasjon/sluttbrukere/api/diverse/metadata/"><span>Metadata</span></a>
                              </li>

                              <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/diverse/samtykke/" class="dd-item">
                                <a href="/docs/guides/integrasjon/sluttbrukere/api/diverse/samtykke/"><span>Samtykke</span></a>
                              </li>

                              <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/diverse/formidling/" class="dd-item">
                                <a href="/docs/guides/integrasjon/sluttbrukere/api/diverse/formidling/"><span>Formidling</span></a>
                              </li>

                              <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/diverse/betaling/" class="dd-item">
                                <a href="/docs/guides/integrasjon/sluttbrukere/api/diverse/betaling/"><span>Betaling</span></a>
                              </li>

                              <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/api/diverse/referanse-app/" class="dd-item">
                                <a href="/docs/guides/integrasjon/sluttbrukere/api/diverse/referanse-app/"><span>Referanse-app</span></a>
                              </li>
                            </ul>
                          </li>
                        </ul>
                      </li>

                      <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/webservice/" class="dd-item">
                        <a href="/docs/guides/integrasjon/sluttbrukere/webservice/"><span>Web Service</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                        <ul>
                          <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/webservice/grensesnitt/" class="dd-item">
                            <a href="/docs/guides/integrasjon/sluttbrukere/webservice/grensesnitt/"><span>Grensesnitt</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/webservice/endepunkter-oversikt/" class="dd-item">
                            <a href="/docs/guides/integrasjon/sluttbrukere/webservice/endepunkter-oversikt/"><span>Endepunkter</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/webservice/funksjonelle-scenario/" class="dd-item">
                            <a href="/docs/guides/integrasjon/sluttbrukere/webservice/funksjonelle-scenario/"><span>Funksjonelle scenario</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/webservice/hvordan-komme-i-gang/" class="dd-item">
                            <a href="/docs/guides/integrasjon/sluttbrukere/webservice/hvordan-komme-i-gang/"><span>Hvordan komme i gang</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/webservice/roller-og-rettigheter/" class="dd-item">
                            <a href="/docs/guides/integrasjon/sluttbrukere/webservice/roller-og-rettigheter/"><span>Roller og rettigheter</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/webservice/skjemasett-sammenlikning/" class="dd-item">
                            <a href="/docs/guides/integrasjon/sluttbrukere/webservice/skjemasett-sammenlikning/"><span>Skjemasett sammenligning</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/integrasjon/sluttbrukere/webservice/teknisk-implementasjon/" class="dd-item">
                            <a href="/docs/guides/integrasjon/sluttbrukere/webservice/teknisk-implementasjon/"><span>Teknisk implementasjon</span></a>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/guides/tul/" class="dd-item parent">
                <a href="/docs/guides/tul/"><span>TUL</span> <i class="fa fa-angle-down fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/guides/tul/innledning/" class="dd-item">
                    <a href="/docs/guides/tul/innledning/"><span>Innledning</span></a>
                  </li>

                  <li data-nav-id="/docs/guides/tul/kom-i-gang/" class="dd-item">
                    <a href="/docs/guides/tul/kom-i-gang/"><span>Kom i gang</span></a>
                  </li>

                  <li data-nav-id="/docs/guides/tul/tjenestetyper/" class="dd-item parent">
                    <a href="/docs/guides/tul/tjenestetyper/"><span>Tjenestetyper</span> <i class="fa fa-angle-down fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/guides/tul/tjenestetyper/ny/" class="dd-item">
                        <a href="/docs/guides/tul/tjenestetyper/ny/"><span>Ny tjeneste og utgave</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/tjenestetyper/felles-funksjonalitet/" class="dd-item">
                        <a href="/docs/guides/tul/tjenestetyper/felles-funksjonalitet/"><span>Felles</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/tjenestetyper/formidling/" class="dd-item">
                        <a href="/docs/guides/tul/tjenestetyper/formidling/"><span>Formidling</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/tjenestetyper/innsending/" class="dd-item parent active">
                        <a href="/docs/guides/tul/tjenestetyper/innsending/"><span>Innsending</span> <i class="fa fa-angle-down fa-lg category-icon"></i></a>
                        <ul>
                          <li data-nav-id="/docs/guides/tul/tjenestetyper/innsending/betaling/" class="dd-item">
                            <a href="/docs/guides/tul/tjenestetyper/innsending/betaling/"><span>Betaling</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/tul/tjenestetyper/innsending/master/" class="dd-item">
                            <a href="/docs/guides/tul/tjenestetyper/innsending/master/"><span>Master</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/tul/tjenestetyper/innsending/vedleggstyper/" class="dd-item">
                            <a href="/docs/guides/tul/tjenestetyper/innsending/vedleggstyper/"><span>Vedleggstyper</span></a>
                          </li>
                        </ul>
                      </li>

                      <li data-nav-id="/docs/guides/tul/tjenestetyper/innsyn/" class="dd-item">
                        <a href="/docs/guides/tul/tjenestetyper/innsyn/"><span>Innsyn</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/tjenestetyper/lenke/" class="dd-item">
                        <a href="/docs/guides/tul/tjenestetyper/lenke/"><span>Lenke</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/tjenestetyper/melding/" class="dd-item">
                        <a href="/docs/guides/tul/tjenestetyper/melding/"><span>Melding</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/tjenestetyper/samhandling/" class="dd-item">
                        <a href="/docs/guides/tul/tjenestetyper/samhandling/"><span>Samhandling</span></a>
                      </li>
                    </ul>
                  </li>

                  <li data-nav-id="/docs/guides/tul/funksjonalitet/" class="dd-item">
                    <a href="/docs/guides/tul/funksjonalitet/"><span>Funksjonalitet</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/guides/tul/funksjonalitet/kodelister/" class="dd-item">
                        <a href="/docs/guides/tul/funksjonalitet/kodelister/"><span>Kodelister</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/funksjonalitet/migrering/" class="dd-item">
                        <a href="/docs/guides/tul/funksjonalitet/migrering/"><span>Migrering</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/funksjonalitet/oversetting/" class="dd-item">
                        <a href="/docs/guides/tul/funksjonalitet/oversetting/"><span>Oversetting</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/funksjonalitet/rolleadministrasjon/" class="dd-item">
                        <a href="/docs/guides/tul/funksjonalitet/rolleadministrasjon/"><span>Rolleadministrasjon</span></a>
                      </li>
                    </ul>
                  </li>

                  <li data-nav-id="/docs/guides/tul/diverse/" class="dd-item">
                    <a href="/docs/guides/tul/diverse/"><span>Diverse</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/guides/tul/diverse/administrators-oppgaver/" class="dd-item">
                        <a href="/docs/guides/tul/diverse/administrators-oppgaver/"><span>Administrators oppgaver</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/diverse/begrepsliste/" class="dd-item">
                        <a href="/docs/guides/tul/diverse/begrepsliste/"><span>Begrepsliste</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/diverse/ekstern-stil/" class="dd-item">
                        <a href="/docs/guides/tul/diverse/ekstern-stil/"><span>Ekstern stil</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/diverse/enhetstest/" class="dd-item">
                        <a href="/docs/guides/tul/diverse/enhetstest/"><span>Enhetstest</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/diverse/sletting/" class="dd-item">
                        <a href="/docs/guides/tul/diverse/sletting/"><span>Slette tjeneste og utgave</span></a>
                      </li>
                    </ul>
                  </li>

                  <li data-nav-id="/docs/guides/tul/vedlegg/" class="dd-item">
                    <a href="/docs/guides/tul/vedlegg/"><span>Vedlegg</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/guides/tul/vedlegg/a/" class="dd-item">
                        <a href="/docs/guides/tul/vedlegg/a/"><span>A: Skjemautvikling i InfoPath</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/vedlegg/b/" class="dd-item">
                        <a href="/docs/guides/tul/vedlegg/b/"><span>B: Utforming av brukergrensesnitt for skjema</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/vedlegg/c/" class="dd-item">
                        <a href="/docs/guides/tul/vedlegg/c/"><span>C: Utforming av brukervennlige tjenester</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/vedlegg/d/" class="dd-item">
                        <a href="/docs/guides/tul/vedlegg/d/"><span>D: InfoPath kodestandard</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/vedlegg/e/" class="dd-item">
                        <a href="/docs/guides/tul/vedlegg/e/"><span>E: InfoPath navnestandard</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/vedlegg/f/" class="dd-item">
                        <a href="/docs/guides/tul/vedlegg/f/"><span>F: Bruk av Visual Studio</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/vedlegg/g/" class="dd-item">
                        <a href="/docs/guides/tul/vedlegg/g/"><span>G: Web Service-oppslag fra InfoPath</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/tul/vedlegg/mappere/" class="dd-item">
                        <a href="/docs/guides/tul/vedlegg/mappere/"><span>Mappere</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                        <ul>
                          <li data-nav-id="/docs/guides/tul/vedlegg/mappere/generelt/" class="dd-item">
                            <a href="/docs/guides/tul/vedlegg/mappere/generelt/"><span>Generelt</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/tul/vedlegg/mappere/teknologi/" class="dd-item">
                            <a href="/docs/guides/tul/vedlegg/mappere/teknologi/"><span>Teknologi</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/tul/vedlegg/mappere/utvikling/" class="dd-item">
                            <a href="/docs/guides/tul/vedlegg/mappere/utvikling/"><span>Utvikling</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/tul/vedlegg/mappere/testing/" class="dd-item">
                            <a href="/docs/guides/tul/vedlegg/mappere/testing/"><span>Testing</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/tul/vedlegg/mappere/installasjon/" class="dd-item">
                            <a href="/docs/guides/tul/vedlegg/mappere/installasjon/"><span>Installasjon</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/tul/vedlegg/mappere/diverse/" class="dd-item">
                            <a href="/docs/guides/tul/vedlegg/mappere/diverse/"><span>Diverse</span></a>
                          </li>
                        </ul>
                      </li>

                      <li data-nav-id="/docs/guides/tul/vedlegg/regelmotor/" class="dd-item">
                        <a href="/docs/guides/tul/vedlegg/regelmotor/"><span>Regelmotor</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                        <ul>
                          <li data-nav-id="/docs/guides/tul/vedlegg/regelmotor/innledning/" class="dd-item">
                            <a href="/docs/guides/tul/vedlegg/regelmotor/innledning/"><span>Innledning</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/tul/vedlegg/regelmotor/regler/" class="dd-item">
                            <a href="/docs/guides/tul/vedlegg/regelmotor/regler/"><span>Regler</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/tul/vedlegg/regelmotor/betingelser/" class="dd-item">
                            <a href="/docs/guides/tul/vedlegg/regelmotor/betingelser/"><span>Betingelser</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/tul/vedlegg/regelmotor/utvidede-beskrivelser/" class="dd-item">
                            <a href="/docs/guides/tul/vedlegg/regelmotor/utvidede-beskrivelser/"><span>Utvidede beskrivelser</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/tul/vedlegg/regelmotor/eksempler/" class="dd-item">
                            <a href="/docs/guides/tul/vedlegg/regelmotor/eksempler/"><span>Eksempler</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/tul/vedlegg/regelmotor/innf%C3%B8ring-i-xml/" class="dd-item">
                            <a href="/docs/guides/tul/vedlegg/regelmotor/innf%C3%B8ring-i-xml/"><span>Innføring i xml</span></a>
                          </li>

                          <li data-nav-id="/docs/guides/tul/vedlegg/regelmotor/xsd/" class="dd-item">
                            <a href="/docs/guides/tul/vedlegg/regelmotor/xsd/"><span>Regelmotor.xsd</span></a>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/guides/samtykke/" class="dd-item">
                <a href="/docs/guides/samtykke/"><span>Samtykke</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/guides/samtykke/sluttbruker/" class="dd-item">
                    <a href="/docs/guides/samtykke/sluttbruker/"><span>For sluttbruker</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/guides/samtykke/sluttbruker/innlogging/" class="dd-item">
                        <a href="/docs/guides/samtykke/sluttbruker/innlogging/"><span>Innlogging</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/sluttbruker/samtykkesiden/" class="dd-item">
                        <a href="/docs/guides/samtykke/sluttbruker/samtykkesiden/"><span>Samtykkesiden</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/sluttbruker/oversikt-samtykker/" class="dd-item">
                        <a href="/docs/guides/samtykke/sluttbruker/oversikt-samtykker/"><span>Oversikt samtykker</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/sluttbruker/trekke-samtykke/" class="dd-item">
                        <a href="/docs/guides/samtykke/sluttbruker/trekke-samtykke/"><span>Trekke samtykke</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/sluttbruker/aktivitetslogg/" class="dd-item">
                        <a href="/docs/guides/samtykke/sluttbruker/aktivitetslogg/"><span>Aktivitetslogg</span></a>
                      </li>
                    </ul>
                  </li>

                  <li data-nav-id="/docs/guides/samtykke/datakilde/" class="dd-item">
                    <a href="/docs/guides/samtykke/datakilde/"><span>For datakilde</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/guides/samtykke/datakilde/opprett-tjeneste/" class="dd-item">
                        <a href="/docs/guides/samtykke/datakilde/opprett-tjeneste/"><span>Opprette tjeneste</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/datakilde/autorisere-datakonsument/" class="dd-item">
                        <a href="/docs/guides/samtykke/datakilde/autorisere-datakonsument/"><span>Autorisere datakonsument</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/datakilde/bruk-av-token/" class="dd-item">
                        <a href="/docs/guides/samtykke/datakilde/bruk-av-token/"><span>Informasjon om token</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/datakilde/test-tjeneste/" class="dd-item">
                        <a href="/docs/guides/samtykke/datakilde/test-tjeneste/"><span>Test av tjeneste</span></a>
                      </li>
                    </ul>
                  </li>

                  <li data-nav-id="/docs/guides/samtykke/datakonsument/" class="dd-item">
                    <a href="/docs/guides/samtykke/datakonsument/"><span>For datakonsument</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                    <ul>
                      <li data-nav-id="/docs/guides/samtykke/datakonsument/komme-i-gang/" class="dd-item">
                        <a href="/docs/guides/samtykke/datakonsument/komme-i-gang/"><span>Komme i gang</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/datakonsument/be-om-samtykke/" class="dd-item">
                        <a href="/docs/guides/samtykke/datakonsument/be-om-samtykke/"><span>Be om samtykke</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/datakonsument/hente-token/" class="dd-item">
                        <a href="/docs/guides/samtykke/datakonsument/hente-token/"><span>Hente token</span></a>
                      </li>

                      <li data-nav-id="/docs/guides/samtykke/datakonsument/test-tjeneste/" class="dd-item">
                        <a href="/docs/guides/samtykke/datakonsument/test-tjeneste/"><span>Test av samtykke</span></a>
                      </li>
                    </ul>
                  </li>

                  <li data-nav-id="/docs/guides/samtykke/begrepsliste/" class="dd-item">
                    <a href="/docs/guides/samtykke/begrepsliste/"><span>Begrepsliste</span></a>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/guides/digital-post-til-virksomheter/" class="dd-item">
                <a href="/docs/guides/digital-post-til-virksomheter/"><span>Digital Post til Virksomheter</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/guides/digital-post-til-virksomheter/sp%C3%B8rsm%C3%A5l-og-svar/" class="dd-item">
                    <a href="/docs/guides/digital-post-til-virksomheter/sp%C3%B8rsm%C3%A5l-og-svar/"><span>Spørsmål og svar om DPV</span></a>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/guides/autorisasjon/" class="dd-item">
                <a href="/docs/guides/autorisasjon/"><span>Autorisasjon</span></a>
              </li>
            </ul>
          </li>

          <li data-nav-id="/docs/altinncore/" class="dd-item">
            <a href="/docs/altinncore/"><span>Tjenester 3.0</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
            <ul>
              <li data-nav-id="/docs/altinncore/goals/" class="dd-item">
                <a href="/docs/altinncore/goals/"><span>Målsettinger</span></a>
              </li>

              <li data-nav-id="/docs/altinncore/status/" class="dd-item">
                <a href="/docs/altinncore/status/"><span>Status</span></a>
              </li>

              <li data-nav-id="/docs/altinncore/satsingsforslag/" class="dd-item">
                <a href="/docs/altinncore/satsingsforslag/"><span>Satsingsforslag 2018</span></a>
              </li>

              <li data-nav-id="/docs/altinncore/architecture/" class="dd-item">
                <a href="/docs/altinncore/architecture/"><span>Arkitektur</span></a>
              </li>

              <li data-nav-id="/docs/altinncore/faq/" class="dd-item">
                <a href="/docs/altinncore/faq/"><span>FAQ</span></a>
              </li>

              <li data-nav-id="/docs/altinncore/slide/" class="dd-item">
                <a href="/docs/altinncore/slide/"><span>Slide</span></a>
              </li>
            </ul>
          </li>

          <li data-nav-id="/docs/releases/" class="dd-item">
            <a href="/docs/releases/"><span>Endringslogg</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
            <ul>
              <li data-nav-id="/docs/releases/2017/" class="dd-item">
                <a href="/docs/releases/2017/"><span>2017</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/releases/2017/17-3/" class="dd-item">
                    <a href="/docs/releases/2017/17-3/"><span>17.3</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2017/17-2/" class="dd-item">
                    <a href="/docs/releases/2017/17-2/"><span>17.2</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2017/17-1-1/" class="dd-item">
                    <a href="/docs/releases/2017/17-1-1/"><span>17.1.1</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2017/etablering/" class="dd-item">
                    <a href="/docs/releases/2017/etablering/"><span>Etablering</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2017/17-1/" class="dd-item">
                    <a href="/docs/releases/2017/17-1/"><span>17.1</span></a>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/releases/2016/" class="dd-item">
                <a href="/docs/releases/2016/"><span>2016</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/releases/2016/16-1/" class="dd-item">
                    <a href="/docs/releases/2016/16-1/"><span>16.1</span></a>
                  </li>
                </ul>
              </li>

              <li data-nav-id="/docs/releases/2015/" class="dd-item">
                <a href="/docs/releases/2015/"><span>2015</span> <i class="fa fa-angle-right fa-lg category-icon"></i></a>
                <ul>
                  <li data-nav-id="/docs/releases/2015/15-3/" class="dd-item">
                    <a href="/docs/releases/2015/15-3/"><span>15.3</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2015/15-2/" class="dd-item">
                    <a href="/docs/releases/2015/15-2/"><span>15.2</span></a>
                  </li>

                  <li data-nav-id="/docs/releases/2015/15-1/" class="dd-item">
                    <a href="/docs/releases/2015/15-1/"><span>15.1</span></a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>

          <li class="" role="">
            <h3>
              Lenker
            </h3>
            <a href="https://altinn.github.io/DesignSystem"><i class='fa fa-fw fa-star'></i> Designsystem</a>
          </li>

          <li class="" role="">
            <a href="https://altinnett.brreg.no/"><i class='fa fa-fw fa-info-circle'></i> Altinnett</a>
          </li>

          <li class="" role="">
            <a href="/docs/credits"><i class='fa fa-fw fa-bullhorn'></i> Kred</a>
          </li>

          <li class="" role="">
            <a href="https://github.com/altinn/docs"><i class='fa fa-fw fa-github'></i> GitHub</a>
          </li>
        </ul>

        <section id="footer">
        </section>
      </div>
    </nav>

    <section id="body">
      <div id="overlay">
      </div>

      <div class="padding highlightable">
        <div id="top-bar">
          <div id="top-github-link">
            <a class="github-link" href="https://github.com/altinn/docs/blob/master/content/guides/tul/tjenestetyper/innsending/_index.md" target="blank"><i class="fa fa-code-fork"></i> Endre</a>
          </div>

          <div id="breadcrumbs" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
            <span id="sidebar-toggle-span"><a href="#" id="sidebar-toggle" data-sidebar-toggle=""><i class="fa fa-bars"></i></a></span> <span id="toc-menu"><i class="fa fa-list-alt"></i></span> <span class="links"><a href='/docs/'>Altinn docs</a> / <a href='/docs/guides/'>Guider</a> / <a href='/docs/guides/tul/'>TUL</a> / <a href='/docs/guides/tul/tjenestetyper/'>Tjenestetyper</a> / Innsending</span>
          </div>

          <div class="progress">
            <div class="wrapper">
              <nav id="TableOfContents">
                <ul>
                  <li>
                    <ul>
                      <li>
                        <a href="#spesifikasjon-innsendingstjeneste">Spesifikasjon - innsendingstjeneste</a>
                        <ul>
                          <li>
                            <a href="#utgaveparametre">Utgaveparametre</a>
                            <ul>
                              <li>
                                <a href="#downloadqueue">DownloadQueue</a>
                              </li>

                              <li>
                                <a href="#delvis-kopi">Delvis kopi</a>
                              </li>

                              <li>
                                <a href="#kvitteringstekst">Kvitteringstekst</a>
                              </li>

                              <li>
                                <a href="#betaling">Betaling</a>
                              </li>
                            </ul>
                          </li>

                          <li>
                            <a href="#overstyr-rettigheter">Overstyr rettigheter</a>
                          </li>

                          <li>
                            <a href="#prosessflyt">Prosessflyt</a>
                            <ul>
                              <li>
                                <a href="#velge-mal">Velge mal</a>
                              </li>

                              <li>
                                <a href="#bruke-mal">Bruke mal</a>
                              </li>
                            </ul>
                          </li>

                          <li>
                            <a href="#skjemasett">Skjemasett</a>
                          </li>

                          <li>
                            <a href="#splitt-av-data">Splitt av data</a>
                          </li>

                          <li>
                            <a href="#metadatafiler">Metadatafiler</a>
                          </li>

                          <li>
                            <a href="#filvedlegg">Filvedlegg</a>
                            <ul>
                              <li>
                                <a href="#filvedlegginnstillinger">Filvedlegginnstillinger</a>
                              </li>

                              <li>
                                <a href="#vedleggstyper">Vedleggstyper</a>
                              </li>
                            </ul>
                          </li>
                        </ul>
                      </li>

                      <li>
                        <a href="#innhold-innsendingstjeneste">Innhold – innsendingstjeneste</a>
                        <ul>
                          <li>
                            <a href="#skjema">Skjema</a>
                          </li>

                          <li>
                            <a href="#sideegenskaper">Sideegenskaper</a>
                          </li>

                          <li>
                            <a href="#sporvalg">Sporvalg</a>
                          </li>

                          <li>
                            <a href="#innholdsreferanser">Innholdsreferanser</a>
                          </li>

                          <li>
                            <a href="#preutfylling">Preutfylling</a>
                            <ul>
                              <li>
                                <a href="#n%C3%B8kkel-verdi-preutfylling">Nøkkel/verdi-preutfylling</a>
                              </li>

                              <li>
                                <a href="#registerpreutfylling">Registerpreutfylling</a>
                              </li>

                              <li>
                                <a href="#mottaksdefinisjon">Mottaksdefinisjon</a>
                              </li>
                            </ul>
                          </li>

                          <li>
                            <a href="#skd-betalingsinformasjon">SKD betalingsinformasjon</a>
                          </li>

                          <li>
                            <a href="#hjelpetekster">Hjelpetekster</a>
                          </li>

                          <li>
                            <a href="#innsendingstjeneste-fra-sbs">Innsendingstjeneste fra SBS</a>
                            <ul>
                              <li>
                                <a href="#prinsipper">Prinsipper</a>
                              </li>

                              <li>
                                <a href="#overstyrbare-felter">Overstyrbare felter</a>
                              </li>

                              <li>
                                <a href="#kun-xsd-validering">Kun XSD-validering</a>
                              </li>

                              <li>
                                <a href="#integritetssjekk-fra-sluttbrukersystem">Integritetssjekk fra sluttbrukersystem</a>
                              </li>
                            </ul>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>

        <div id="body-inner">
          <h1>
            Innsending
          </h1>

          <p>
            Innendingstjenester er tjenester som brukes til å sende data fra Sluttbrukerløsningen eller fra sluttbrukersystemer til en etat/tjenesteeier. Innsendingstjenester kan instansieres i SBL av sluttbruker, dvs initialiseres som et element tilhørende en gitt avgiver, eller den kan sendes til sluttbrukers meldingsboks fra en etat.
          </p>

          <figure>
            <img src="/docs/images/guides/tul/arbeidsflate-innsending.png?width=700">
            <figcaption>
              <h4>
                Figur 43 – Arbeidsflaten til en nyopprettet utgave av en innsendingstjeneste
              </h4>
            </figcaption>
          </figure>

          <h2 id="spesifikasjon-innsendingstjeneste">
            Spesifikasjon - innsendingstjeneste
          </h2>

          <p>
            For en innsendingstjeneste må det som for øvrige tjenestetyper registreres utgaveparametre, og det er mulig å overstyre rettigheter. I tillegg må du definere en prosessflyt, og du kan definere et skjemasett eller splitting av data som oversendes tjenesteeiere.
          </p>

          <h3 id="utgaveparametre">
            Utgaveparametre
          </h3>

          <p>
            Enhver utgave må ha utgaveparametre. Hvordan du registrerer disse, er <a href="../felles-funksjonalitet/#utgaveparametere">beskrevet her</a>.
          </p>

          <h4 id="downloadqueue">
            DownloadQueue
          </h4>

          <p>
            Et av valgene man gjør for en innsendingstjeneste er valget av oversendingsmetode. Her kan tjenesteeier gjøre et valg mellom:
          </p>

          <ol>
            <li>La Altinn overføre innsendte tjenesteutgaver til tjenesteeiers mottakersystem ved bruk av angitt metode. Dette gir flere muligheter for overføringen men krever bestilling av grensesnitt hos drifsleverandør.
            </li>

            <li>Mottakersystem kan hente utgavene selv ved bruk av DownloadQueue web servicen.
            </li>
          </ol>

          <p>
            Dersom en metode for overføring av innsendte tjenesteutgaver skal velges må en tjenesteeier først bestille et grensesnitt (oppsett av sendingsparametre, shipment definition) hos driftsleverandør. Dette gir stor fleksibilitet, og tjenesteeier kan da selv velge mellom tilgjengelige overførings protokoller og hyppighet for overføring (umiddelbart eller satsvis). Dette spesifiseres i bestillingsskjema. Det er for eksempel &nbsp;også mulig å benytte webservice til umiddelbar overføring av innsendte tjenesteutgaver, hvor tjenesteier er server og Altinn er klient. Et slikt system må kunne ta imot innkommende nettverksforbindelser, og dette medfører visse krav til sikkerhet og tilgjengelighet som er med på å heve terskelen for å ta i mot innsendte tjeneste utgaver.
          </p>

          <p>
            Ved bruk av DownloadQueue vil klient- og tjener-rollene byttes om, slik at tjenesteeier opptrer som klient og selv tar initiativet til å hente innsendte tjenesteutgavedata fra Altinn. En slik løsning stiller mindre krav til tjenesteeierens system. Det er ikke mulig å bruke begge løsningene samtidig for en utgave, og det er heller ikke mulig å motta PDF kopi av innsendt tjenesteutgave ved bruk av DownloadQueue. DownloadQueue anbefales kun for mindre tjenesteordninger uten stort trykk ved innsendingsfrister. Dersom det er ønskelig å bruke DownloadQueue på større tjenesteordninger, må ASF kontaktes først.
          </p>

          <h4 id="delvis-kopi">
            Delvis kopi
          </h4>

          <p>
            Valget «Tillat delvis kopiering» endrer start-tjeneste prosessen til å inkludere et steg der sluttbruker kan velge å basere skjemaet på en tidligere kopi. Dersom sluttbruker velger et tidligere skjema, vil det oppføre seg som en «kopi fra arkiv»-instansiering (dvs. at alle kopierbare felter hentes fra det gamle skjema over i det nye). Dersom skjemautvikler har definert feltet <code>PartialCopy</code> i my namespacet (my:PartialCopy), vil dette være satt til true.
          </p>

          <p>
            Skjemautvikler kan legge på logikk via regler eller kode for å gjøre spesiell håndtering dersom «delvis kopi» er valgt, f.eks blanke ut enkelte felt eller oppdatere/beregne nye verdier basert på (det man må anta kommer fra) en tidligere kopi. Funksjonen i seg selv gjør ingen validering eller gir en garanti for at alle felt har verdi. Skjemautvikler må derfor ta høyde for de mulighetene sluttbrukeren har for å levere tall/tekst/blankt osv. når logikken utformes, også for utgaver som ligger tilbake i tid (som det kan kopieres fra).
          </p>

          <p>
            Se <a href="../../vedlegg/">vedleggene</a> for nærmere informasjon om hvordan man setter opp regler og kode i InfoPath.
          </p>

          <p>
            Det er ingen restriksjoner på hva og hvordan skjemautvikler benytter denne funksjonen.
          </p>

          <p>
            <strong>NB: Skjemalogikken må selv sette flagget til «false», slik at ikke logikken kjøres igjen neste gang skjema åpnes!</strong>
          </p>

          <p>
            Det mest hensiktsmessige er å benytte regelen «Form Load» eller metoden «FormEvents_Loading». Hvis man skal blanke verdier i en repeterende tabell og ikke ønsker at det skal ligge igjen tomme rader må dette gjøres i VSTA kode (se koden under), siden en regel-basert tilnærming ikke klarer å slette tomme rader.
          </p>

          <figure>
            <img src="/docs/images/guides/tul/delvis-kopi-sbl.jpeg?width=700">
            <figcaption>
              <h4>
                Figur 44 – Eksempel på valgmulighet i Sluttbrukerløsningen
              </h4>
            </figcaption>
          </figure>

          <figure>
            <img src="/docs/images/guides/tul/delvis-kopi-regel.png?width=700">
            <figcaption>
              <h4>
                Figur 44b – Eksempel på regelbasert håndtering av delvis kopi
              </h4>
            </figcaption>
          </figure>

          <p>
            Eksempel på kodebasert (VSTA) håndtering av “delvis kopi”:
          </p>

          <pre><code class="language-csharp">private void nullUt(string xmlRef)
{
    XPathNavigator main = MainDataSource.CreateNavigator();
    XPathNodeIterator nodesToDelete = main.Select(xmlRef, NamespaceManager);

    while (nodesToDelete.MoveNext())
    {
        //nodesToDelete.Current.SetValue(string.Empty); // Denne er ikke god nok - valgfrie felt blir tilsynelatende obligatoriske etter utnulling
        
        //Hentet fra SettVerdi
        if (nodesToDelete.Current != null)
        {
            if (nodesToDelete.Current.MoveToAttribute("nil", "http://www.w3.org/2001/XMLSchema-instance"))
            {
                nodesToDelete.Current.DeleteSelf();
            }
            nodesToDelete.Current.SetValue("");
            //hvis verdien er blank må kanskje attributt xsi:nil="true" legges til igjen.       Avhengig av datatype
            if (string.IsNullOrEmpty(""))
            {   
                // Feltet skal tømmes
                // Får man exception så skal ikke attributen legges til (feltet er obligatorisk)
                try
                {
                    //node.CreateAttribute("xsi", "nil", "http://www.w3.org/2001/XMLSchema-instance", "true"); //Denne funker bare i Infopath Preview
                    nodesToDelete.Current.ReplaceSelf(nodesToDelete.Current.OuterXml.Replace("&gt;&lt;/", " xsi:nil=\"true\"&gt;&lt;/")); // Denne funker både i Infopath Preview og i SBL 
                }
                catch (InvalidOperationException e) //gives warning "The variable 'e' is declared but never used" -&gt; ignore
                {
                    //do nothing
                }
            }
        }
    }
}
</code></pre>
          <h4 id="kvitteringstekst">
            Kvitteringstekst
          </h4>

          <p>
            Utgaveparametrene er forhåndsutfylt med standard kvitteringstekster for informasjonstekst, kvitteringstekst i portal og kvitteringstekst i e-post. Informasjonstekst er teksten som blir vist på toppen etter signering/arkivering (øverste røde ramme på bildet under) i Sluttbrukerløsningen og kvitteringstekst i portal er teksten i høyre marg på samme side (ramme til høyre på bildet). Kvitteringstekst i e-post er teksten som vil stå i e-post som blir sendt som kvittering. Dersom standardtekstene ikke passer for ditt tilfelle kan du endre teksten for utgaven til en tekst du mener passer bedre.
          </p>

          <figure>
            <img src="/docs/images/guides/tul/kvitteringstekst-sbl.png?width=700">
            <figcaption>
              <h4>
                Figur 45 – Kvitteringstekstenes plassering i Sluttbrukerløsningen.
              </h4>
            </figcaption>
          </figure>

          <h4 id="betaling">
            Betaling
          </h4>

          <p>
            Innsendingsutgaver kan ta i bruk <a href="betaling/">betalingsløsningen</a> i Altinn dersom tjenesteeier har gjort denne tilgjengelig. Dersom betaling er tilgjengelig vil du se en egen seksjon på utgaveparametersiden der du kan sette opp betaling. Seksjonen vil ikke dukke opp dersom tjenesteeier ikke har betaling tilgjengelig.
          </p>

          <figure>
            <img src="/docs/images/guides/tul/betaling.png">
            <figcaption>
              <h4>
                Betaling
              </h4>
            </figcaption>
          </figure>

          <p>
            For å bruke betaling på utgaven må «Bruk betaling» være valgt. Når dette er valgt vil feltene i betalingsseksjonen bli obligatoriske og må fylles ut. Dersom betaling ikke er valgt, kan ikke disse feltene fylles ut. Eventuelle verdier som måtte stå i feltene vil da bli fjernet ved innsjekking.
          </p>

          <p>
            Ordrenummer kan enten bli laget av skjemaet (InfoPath) eller av Altinn. Du velger denne dersom du har et skjema som genererer et ordrenummer. Har du valgt denne er det altså skjemaet sitt ansvar å legge inn ordrenummeret i et felt i skjemaet. Du står fritt til bruke hvilken metode du vil for å komme fram til ordrenummeret, så lenge det blir gjort tilgjengelig i et felt. Ordrenummeret må kun inneholde bokstaver eller tall, ingen spesialtegn.
          </p>

          <p>
            Betalingsleverandøravtale forteller hvilken avtale som skal brukes. Alternativene du har her blir bestemt av tjenesteeier, og er basert på de avtalene tjenesteeier har med ulike betalingsleverandører. Avtalene blir identifisert med formelen {Betalingsleverandørnavn} – {merchant id}.
          </p>

          <p>
            Betalingsmetoder er de ulike metodene brukeren kan bruke for å betale via betalings­leverandøren. Dette er for eksempel «Visa» eller «MasterCard». Valg av betalingsmetoder er avhengig av hva som er definert på den betalings­leverandør­avtalen du velger. Den delen vil derfor kunne endre seg når du velger en avtale i nedtrekkslista.
          </p>

          <p>
            Dersom avtalen ikke tillater begrensing av betalingsmetoder vil du ikke få opp dette valget. Alle betalingsmetoder som avtalen tillater vil i så fall automatisk bli tillatt.
          </p>

          <p>
            For avtaler som tillater begrensing vil du få opp en avkryssingsboks for hver av de betalingsmetodene som avtalen tillater. Du må da sette kryss for alle de betalings­metodene du vil godta for utgaven. Dersom du har fått dette valget på en avtale, må du velge minst en betalingsmetode.
          </p>

          <p>
            De fire XPath-parameterene brukes til å gi detaljer om det skjemaet som skal brukes på utgaven. Meningen med disse er å fortelle hvilke felter i skjemaet som skal inneholde informasjon om betaling. Du skal fylle inn en XPath som vil gi en unik sti til feltet.
          </p>

          <p>
            Sum-feltet i skjemaet skal inneholde den summen som skal betales. Skjemaet har ansvar for å fylle ut rett sum i dette feltet, slik at betalingsløsningen i Altinn kan finne korrekt beløp som sluttbrukeren må betale. Dette feltet kan brukes til å ha en betinget betaling på utgaven. For å få til dette må du ha en logikk som setter sum-feltet til «0» dersom betaling ikke skal utføres. Motsatt må sum-feltet få et beløp større enn 0 for å sørge for at Altinn vil kreve betaling på utgaven.
          </p>

          <p>
            Feltet for beskrivelse skal inneholde den teksten som skal vises til sluttbrukeren som forklaring for betalingen inne i løsningen til betalingsleverandøren.
          </p>

          <p>
            Ordrenummer-feltet er det feltet som skal ha ordrenummeret for betalingen. Avhengig av valget gjort i «Ordrenummer generes av skjema» skal dette feltet enten fylles ut av skjema, eller så skal Altinn legge inn ordrenummer i dette feltet. Dersom du velger at skjema genererer ordrenummer, så må du sørge for at skjema legger dette inn i feltet.
          </p>

          <p>
            Transaksjons-id er en id som blir generert av betalingsleverandør ved betaling. Dette er et felt som skjemaet må ha for å kunne ta imot denne id-en. Feltet skal ikke fylles ut av skjema.
          </p>

          <p>
            For at betaling skal fungere må du også velge en <a href="#prosessflyt">prosessflyt</a> som inneholder et betalingssteg.
          </p>

          <h3 id="overstyr-rettigheter">
            Overstyr rettigheter
          </h3>

          <p>
            Rettigheter trenger du bare å <a href="../felles-funksjonalitet/#overstyr-rettigheter">overstyre</a> hvis den utgaven du utvikler har flere signeringssteg, eller hvis den har andre rettighetskrav enn de som allerede er satt på tjenestenivå. Hver utgave vil arve disse rettighetene når den migreres til SBL, og få med seg overstyringene i tillegg.
          </p>

          <h3 id="prosessflyt">
            Prosessflyt
          </h3>

          <p>
            Prossessflyt kan defineres for en innsendningstjeneste og angir hvilken flyt tjenesten skal følge i SBL. Med dette menes at man velger hvilke steg tjenesteeier vil at utgaven skal igjennom hos utfyller. F.eks. vil en prosessflyt med signeringssteg tvinge utfyller til å måtte signere skjemaet før den kan sendes inn og arkiveres.
          </p>

          <h4 id="velge-mal">
            Velge mal
          </h4>

          <p>
            På parametersiden <em>Prosessflyt</em> kan du definere en prosessflyt basert på en prosessflytmal.
          </p>

          <p>
            Det finnes to typer prosessflytmaler du kan velge mellom:
          </p>

          <ul>
            <li>
              <strong>Felles maler</strong> tilgjengeliggjør generelle maler som alle tjenesteeiere kan benytte i nedtrekkslisten. Disse er tomme.
            </li>

            <li>
              <strong>Tjenesteeiers maler</strong> - tilgjengeliggjør maler som allerede er tilpasset tjenesteeier i nedtrekkslisten. Disse kan være delvis eller ferdig utfylt.
            </li>
          </ul>

          <p>
            Dette velges ved hjelp av radioknappene på toppen. Valget vil påvirke hvilke maler som er tilgjengelig i nedtrekkslisten. For å benytte en gitt mal trykker man på knappen <em>Bruk Mal</em>.
          </p>

          <figure>
            <img src="/docs/images/guides/tul/prosessflyt-velg-mal.png">
            <figcaption>
              <h4>
                Figur 46 – Prosessflyt; valg av mal
              </h4>
            </figcaption>
          </figure>

          <p>
            Stegene en prosessflyt kan bestå av, er utfyllingssteg, signeringssteg, betalingssteg og innsendingssteg. Det finnes flere typer signeringssteg: Enkelt, enkelt/betinget og brukerstyrt. Et betinget signeringssteg vil bare gjennomføres hvis en bestemt betingelse er oppfylt. I et brukerstyrt signeringssteg definerer du hvor mange signaturer som skal innhentes, og så vil brukeren bli bedt om å identifisere de aktuelle brukerne som skal signere.
          </p>

          <p>
            Du velger hvilke steg tjenesten skal inneholde ved å velge en mal som inneholder de rette stegene. Klikk på <em>Bruk mal</em> for å velge ønsket mal.
          </p>

          <p>
            P.t. finnes det ni felles prosessflytmaler tilgjengelig i TUL:
          </p>

          <ul>
            <li>Utfylling og innsending
            </li>

            <li>Utfylling og signering
            </li>

            <li>Utfylling og betinget signering
            </li>

            <li>Utfylling og dobbel signering
            </li>

            <li>Utfylling og betinget dobbel signering
            </li>

            <li>Betaling
            </li>

            <li>Utfylling og betaling
            </li>

            <li>Utfylling, betaling og signering
            </li>

            <li>Utfylling, signering og betaling
            </li>
          </ul>

          <p>
            Nye prosessflytmaler settes opp i XML, noe som kan gjøres av tjenesteeiere. Dette er nødvendig for å ta i bruk ny versjon 2-funksjonalitet knyttet til signering. Se <a href="../../diverse/administrators-oppgaver/#prosessflytmaler">prosessflytmaler</a> for informasjon om hvordan nye maler lages og tilgjengeliggjøres i TUL.
          </p>

          <h4 id="bruke-mal">
            Bruke mal
          </h4>

          <p>
            For hvert steg i prosessflyten kan du sette parametre som bestemmer hvordan hvert enkelt steg i flyten skal gjennomføres i sluttbrukerløsningen. Hvilke parametre som fremkommer, avhenger av stegtypen. Noen eksempler fra signeringssteg:
          </p>

          <ul>
            <li>Sikkerhetsnivå: Kan settes per steg i prosessflyten og overstyrer sikkerhetsnivået for utgaven for det enkelte steget.
            </li>

            <li>Signeringstekst: Det er mulig å angi en signeringstekst som vises for sluttbruker på signeringssiden. Gjelder per signeringssteg.
            </li>

            <li>Obligatorisk signering: Definerer om sluttbruker a) må signere på hovedskjema og alle skjemavedlegg, b) fritt kan velge å signere på enkeltskjema, eller c) kan velge innenfor de skjema som ikke er markert med obligatorisk signering på skjemasett-siden.
            </li>

            <li>Har ikke signert tidligere: Settes til ”ja” hvis signaturen som innhentes i steget må komme fra bruker som ikke har signert tidligere i arbeidsflyten.
            </li>

            <li>Antall signaturer: Gjelder brukerstyrt signering. Angir minimum antall signaturer som skal innhentes i steget; sluttbruker kan velge et større tall.
            </li>

            <li>Unike signaturer: Gjelder brukerstyrt signering. Settes til ”ja” hvis innhentede signaturer i steget må komme fra forskjellige brukere.
            </li>
          </ul>

          <figure>
            <img src="/docs/images/guides/tul/prosessflyt-parametre.png">
            <figcaption>
              <h4>
                Figur 47 – Prosessflyt; eksempel på parametre.
              </h4>
            </figcaption>
          </figure>

          <p>
            Hvis utvikler setter sikkerhetsnivå til 2 på en utgave av en innsendingstjeneste og setter sikkerhetsnivå til 3 på signeringssteg så vil det i praksis bety at sluttbruker får kjørt gjennom tjenesten på nivå 2, men i det øyeblikket sluttbruker trykker på signeringsknappen så blir han/hun tvunget til å logge inn på ny med en innloggingsmetode med sikkerhetsnivå 3.
          </p>

          <p>
            Betinget signering betyr at man kan avgjøre under utfylling om bruker må signere på skjema eller ikke, ved å sjekke inntastet verdi i et felt mot en gitt grenseverdi.
          </p>

          <p>
            For prosessflytene som inneholder betinget signering, vil det på signeringssteget være noen ekstra parametere:
          </p>

          <ul>
            <li>
              <strong>Betinget felt</strong>: Her angis xPath til feltet som det skal sjekkes mot.
            </li>

            <li>
              <strong>Operator:</strong> Angir hvordan man skal sjekke grenseverdi mot felt.
            </li>

            <li>
              <strong>Grenseverdi:</strong> Angir hvilken verdi det betingete feltet skal matche iht operatoren.
            </li>
          </ul>

          <p>
            F.eks. hvis man i et skjema vil at utfyller skal slippe å signere hvis han eller hun sender inn skjema for en bedrift som har under 500.000 kr i omsetning, kan verdiene være som følger:
          </p>

          <table>
            <thead>
              <tr>
                <th>
                  Betinget felt
                </th>
                <th>
                  Operator
                </th>
                <th>
                  Grenseverdi
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  /skjema/grp_omsetning/AarligOmsetning
                </td>
                <td>
                  &gt;
                </td>
                <td>
                  500000
                </td>
              </tr>
            </tbody>
          </table>

          <h3 id="skjemasett">
            Skjemasett
          </h3>

          <p>
            Et skjemasett er en hierarkisk samling av skjemaer som inngår i en innsendingstjeneste. Her bestemmer du hvilke underskjemaer som inngår i utgaven, hvor utgaven inneholder hovedskjemaet. Et skjemasett kan bygges basert på de skjemaene som tilhører gitt tjenesteeier. Det kan ikke velges underskjema fra samme tjeneste som utgaven du definerer tilhører.
          </p>

          <p>
            På parametersiden <em>Skjemasett</em> er alle tjenesteeiers skjema listet med tjenestens kortnavn, utgavens kortnavn, informasjon om hvorvidt skjemaet er definert som hovedskjema eller ikke, versjonsstatus og produksjonsstatus sammen med en lenke (<em>Legg til</em>) for å legge til skjemaet i skjemasettet. Det er viktig å merke seg at man kun velger å benytte skjemaet og skjemaets parametre, være seg preutfylling, sideegenskaper etc fra utgaven man velger i listen. Disse dataene vil inngå i hovedskjemaets utgave ved en migrering. I forhold til i SUM (forgjengeren til TUL) er det derfor ikke nødvendig å migrere underskjema før hovedskjema. Underskjema vedlikeholdes derfor i sin egen utgave.
          </p>

          <p>
            Når et skjema blir valgt, legges det til en liste der tjenesteutvikler kan konfigurere egenskaper for valgte underskjema ved å sette følgende parametre:
          </p>

          <ul>
            <li>Parameteren <em>Sluttbruker kan legge til manuelt</em> vil gjøre det mulig for sluttbruker selv å legge dette skjema inn som underskjema. Satt som default valg i TUL.
            </li>

            <li>Parameteren <em>Maks ett</em> vil gjøre det umulig å legge til mer enn én forekomst av dette skjema for sluttbruker i SBL. Satt som default valg i TUL.
            </li>

            <li>Parameteren <em>Inkluder i felles datakilde</em> fører til at felter i underskjema blir tilgjengelig for hovedskjema. Satt som default valg i TUL. NB! Ved bruk av <a href="../../vedlegg/regelmotor/">regelmotor</a> er ikke dette nødvendig
            </li>

            <li>Parameteren <em>Bruk felles datakilde</em> betyr at underskjema vil få tilgang til felter fra andre utvalgte skjema i skjemasettet. NB! Ved bruk av <a href="../../vedlegg/regelmotor/">regelmotor</a> er ikke dette nødvendig
            </li>

            <li>Parameteren <em>Obligatorisk signering</em> vil gjøre det obligatorisk for sluttbruker å signere dette skjema, dersom signeringssteget i arbeidsflyten angir at signeringkrav settes på skjemanivå (dvs. avhengig av denne parameteren).
            </li>
          </ul>

          <p>
            På skjemasett-siden ligger det også en parameter som styrer obligatorisk signering for hovedskjema, ref. ovenfor.
          </p>

          <p>
            Et skjema kan slettes fra skjemasettet i etterkant ved å trykke på lenken <em>Fjern</em> i listen over skjemaer som lagt til.
          </p>

          <figure>
            <img src="/docs/images/guides/tul/skjemasett.png?width=700">
            <figcaption>
              <h4>
                Figur 48 – Skjemasett
              </h4>
            </figcaption>
          </figure>

          <p>
            Ved åpning av skjemasettsiden vil viste utgaver være sortert alfabetisk på utgave-kortnavn.
          </p>

          <p>
            <strong>Felles datakilde</strong>
          </p>

          <p>
            Felles datakilde er en funksjon som tilgjengeliggjør ekstra datakilder i InfoPath-skjemaet. Man kan dermed benytte strukturen fra andre skjema og få eksempelvis verdioverføringer innad i et skjemasett.
          </p>

          <p>
            <em>Det vil ikke være mulig å enhetsteste verdioverføringer. Dvs, man kan ikke teste en verdioverføring fra et underskjema til hovedskjema i InfoPath preview-modus.</em>
          </p>

          <p>
            Felles datakilde genereres ved hjelp av <em>Generér felles datakilde</em>-knappen. Det er verdt å merke seg at siden et underskjema kan være del av flere skjemasett, vil det kunne forekomme flere datakilder i skjemaet enn det som er nødvendig. Disse kan, hvis ønskelig, slettes ved å navigere til <em>Datakilde</em> i hjelpefanen i InfoPa th, deretter velge <em>Behandle datatilkoblinger</em> og deretter markere den man vi slette og velge <em>Fjern</em>.
          </p>

          <p>
            En god regel vil være å fjerne datakoblinger fra en felles datakilde, før en ny opprettes. Dette er fordi at i enkelte tilfeller vil man kunne få en ”sirkulær” datakilde, hvor felter kan referere til seg selv.
          </p>

          <p>
            Felles datakilde vil finnes i skjemaet som en <em>sekundær datakilde</em>. Dermed kan man velge å benytte felter fra underskjemaet i kalkyler, valideringer o.l. i hovedskjemaet. Disse feltene hentes fra InfoPath sin datakilde-meny på samme måte som for hovedkilden.
          </p>

          <p>
            Det er også mulig å benytte egendefinerte felter og altinn-namespace felter i felles datakilde.
          </p>

          <h3 id="splitt-av-data">
            Splitt av data
          </h3>

          <p>
            Ved innsending av et skjemasett sendes data registrert av sluttbruker i SBL til tjenesteeier. Splitt av data tilbyr en mer fleksibel håndtering av disse dataene ved å angi at alle eller deler av dataene skal distribueres til en eller flere andre tjenesteeiere.
          </p>

          <p>
            Det må defineres en splitt for hver tjenesteeier som skal motta data, og for hvert skjema i skjemasettet som skal avgi data til denne tjenesteeieren. Du kan enten velge å sende hele skjemaet, eller bare deler av det. Velger du «Send hele skjemaet», så vil alle feltene i skjemaet bli sendt over i denne splitten. Dersom du bare vil sende deler av skjemaet må du lage en XSLT-fil som mapper felter fra skjemaets XSD. Denne filen må du lage, for eksempel ved bruk av Visual Studio, før splitten kan registreres i TUL. Splitten registreres i TUL ved å laste opp XSLT-filen. Merk at dersom du har valgt å sende hele skjemaet, så vil opplastingskontrollen være deaktivert. Du må altså velge mellom å sende hele skjema, eller å bare sende deler ved hjelp av XSLT-fil.
          </p>

          <p>
            I tillegg må du fortelle hvilken tjenesteeier som skal motta dataene, hvilken oversendelsesmetode som skal brukes og hvilket skjema splitten skal hente data fra. Hvis en tjenesteeier skal motta flere splitter fra samme skjemasett, må oversendelsesmetoden være den samme. Du må da definere en ny splitt for hvert skjema som skal sendes.
          </p>

          <figure>
            <img src="/docs/images/guides/tul/datasplitt.png">
            <figcaption>
              <h4>
                Figur 49 - Definisjon av datasplitt
              </h4>
            </figcaption>
          </figure>

          <p>
            Ved å trykke på knappen <em>Legg til</em> vil splittdefinisjonen legges til i en liste lengre ned på siden. Splitten kan slettes fra listen ved å klikke på lenken <em>Slett.</em>
          </p>

          <h3 id="metadatafiler">
            Metadatafiler
          </h3>

          <p>
            En innsendingstjeneste kan benytte egne metadatafiler for å skreddersy tjenesten i SBL. På metadatasiden kan man laste opp metadatafiler som inneholder informasjon om hvordan skjemaene skal valideres og hvordan verdier kalkuleres og overføres mellom skjemaer. Man kan for eksempel velge om validering og kalkulering skal gjøres gjennom Infopath eller Altinns egen regelmotor ARE.
          </p>

          <p>
            ARE regelfiler kan inneholde både valideringer og kalkuleringer. SBL har standardfunksjonalitet for å utnytte disse, såfremt filen overholder definerte formatkrav. Ved bruk av ARE må også filen inneholde definisjonen på alle reglene som skal brukes. For hjelp til å lage ARE-regelfiler se <a href="../../vedlegg/regelmotor/">vedlegg om regelmotor</a>.
          </p>

          <p>
            Kun ARE er definert som standard metadatafiltype, men man kan også bruke andre metadatatyper om utgaven benytter tilpasset visning/programlogikk i SBL som utnytter disse filene.
          </p>

          <p>
            Det kan bare lastes opp én fil av hver metadatatype. Ved opplasting av ny fil av samme type, overskrives den eksisterende.
          </p>

          <figure>
            <img src="/docs/images/guides/tul/metadatafiler.png?width=700">
            <figcaption>
              <h4>
                Figur 50 - Metadatafiler
              </h4>
            </figcaption>
          </figure>

          <h3 id="filvedlegg">
            Filvedlegg
          </h3>

          <figure>
            <img src="/docs/images/guides/tul/filvedlegg.png?width=700">
            <figcaption>
              <h4>
                Figur 51 - Filvedlegg-siden
              </h4>
            </figcaption>
          </figure>

          <p>
            På filvedleggsiden avgjør du om det skal være tillatt å laste opp filvedlegg i tjenesteutgaven eller ikke. De andre valgene på denne siden vil ikke være tilgjengelige før du har valgt å tillate filvedlegg.
          </p>

          <h4 id="filvedlegginnstillinger">
            Filvedlegginnstillinger
          </h4>

          <p>
            Innstillinger for de binære filvedleggene. Disse tre valgene lå tidligere på utgaveparametersiden.
          </p>

          <ul>
            <li>
              <strong>Tillat vedlegg</strong> - Angir om sluttbruker kan laste opp egne filer som vedlegg til innsendingstjenesten. Satt som default valg i TUL.
            </li>

            <li>
              <strong>Kryptér binære filer</strong> - Angir om binære filvedlegg skal krypteres. Deaktiveres hvis «Tillat vedlegg» ikke er valgt. Kryptering kan ikke benyttes samtidig med vedleggstyper.
            </li>

            <li>
              <strong>Nye filvedlegg kan lastes opp under signering</strong> - Angir om bruker i SBL kan laste opp binære vedlegg etter utfylling, under signering. Alle filvedlegg har en begrensning på 10 MB.
            </li>
          </ul>

          <h4 id="vedleggstyper">
            Vedleggstyper
          </h4>

          <p>
            For å bruke en eller flere vedleggstyper må tjenesteutvikleren gå inn på «Filvedlegg» fra tjenesteutgavearbeidsflaten. På denne siden kan du bestemme om filvedlegg skal være tillatt eller ikke. Dersom du tillater filvedlegg, men ikke velger noen vedleggstype, vil det være de globale innstillingene for filvedlegg som vil gjelde. Velger du derimot en eller flere vedleggstyper, vil det være innstillingene i de vedleggstypene du har valgt som vil gjelde. Om tjenesteutgaven har vedleggstyper vil sluttbruker måtte velge en av de for hver fil han vil laste opp.
          </p>

          <p>
            For å legge en vedleggstype til en tjenesteutgave velger du rett vedleggstype fra nedtrekksmenyen «Vedleggstyper». Når du velger en vedleggstype vil du få opp regler som er definert for denne. For å ta den i bruk trykk på «Legg til»-knappen. De vedleggstypene du har valgt vil dukke opp i listen nederst på siden.
          </p>

          <p>
            For å fjerne en vedleggstype fra tjenesteutgaven trykk på «Slett» bak den vedleggstypen du vil fjerne. Dette vil fjerne vedleggstypen fra denne tjenesteutgaven.
          </p>

          <p>
            For å lagre endringer du har gjort må du sjekke inn siden.
          </p>

          <p>
            Se mer <a href="vedleggstyper/">informasjon om vedleggstyper</a>.
          </p>

          <h2 id="innhold-innsendingstjeneste">
            Innhold – innsendingstjeneste
          </h2>

          <p>
            Innholdet i en innsendingstjeneste er informasjonen som ligger i InfoPath-skjema. For at innholdet skal vises og behandles riktig i Altinn, er det nødvendig å registrere en del tilleggsinformasjon om hvordan det skal oppføre seg. Du må definere sideegenskaper, og du kan registrere innholdsreferanser. Andre eksempler er preutfylling, SKD betalingsinformasjon og hjelpetekster. For at skjema og tilleggsinformasjonen skal spille sammen, må skjema utvikles etter bestemte retningslinjer. Dette kapitlet gir en oversikt over hvordan du gjør dette, og refererer til vedlegg for detaljert informasjon og eksempler.
          </p>

          <h3 id="skjema">
            Skjema
          </h3>

          <p>
            Se <a href="../felles-funksjonalitet/#infopath-skjema-i-altinn">InfoPath-skjema i Altinn</a> for beskrivelse av prinsipper rundt skjemabibliotek, skjema og visning, samt inn-/utsjekking og publisering av skjema.
          </p>

          <p>
            En tjenesteutgave av en innsendingstjeneste må ha ett, og bare ett, hovedskjema. Dersom tjenesten skal ha underskjemaer må underskjemaene defineres som egne tjenester og utgaver, og deretter knyttes opp mot tjenesten gjennom et <a href="#skjemasett">skjemasett</a>.
          </p>

          <p>
            I skjemaet bestemmes skjemaets layout, overskrifter/ledetekster, datafelt, kalkyler, valideringsregler og tilhørende feilmeldinger. Du kan også legge inn <em>Hjelp</em>-knapper som gir tilgang til <a href="#hjelpetekster">hjelpeinformasjon</a> under utfyllingen i SBL.
          </p>

          <p>
            Følgende vedlegg er relevante:
          </p>

          <ul>
            <li>
              <a href="../../vedlegg/a/">Vedlegg A: Skjemautvikling i InfoPath</a> inneholder en innføring i skjemautvikling i InfoPath for bruk rettet mot TUL.
            </li>

            <li>
              <a href="../../vedlegg/b/">Vedlegg B: Utforming av brukergrensesnitt for skjema</a> beskriver utvikling av brukergrensesnitt i InfoPath i forhold til presentasjon i SBL.
            </li>

            <li>
              <a href="../../vedlegg/c/">Vedlegg C: Utforming av brukervennlige tjenester</a> gir veiledning i utforming av brukervennlige og tilgjengelige tjenester.
            </li>
          </ul>

          <h3 id="sideegenskaper">
            Sideegenskaper
          </h3>

          <p>
            Du må definere sideegenskaper for at det skal være mulig i SBL å vite for eksempel hvilke InfoPath-visninger som skal vises for utfylling, og hvilke som skal brukes for utskrift. Dette er beskrevet under fellesfunksjonaliteten <a href="../felles-funksjonalitet/#sideegenskaper">sideegenskaper</a>.
          </p>

          <p>
            Informasjonen som angis under Sideegenskaper er avgjørende for at skjema skal kunne presenteres og fylles ut i SBL iht. ELMER-retningslinjene.
          </p>

          <h3 id="sporvalg">
            Sporvalg
          </h3>

          <p>
            Sporvalg er en funksjonalitet bestemmer hvilke sider som presenteres for sluttbrukeren avhengig av hva bruker fyller ut i skjema. Dette muliggjør å tilpasse skjemaet til flere formål.
          </p>

          <p>
            Et sporvalg består av flere spor. En utgave kan ha flere sporvalg, på ulike sider, det skal dog ikke være mer enn <em>ett</em> sporvalg pr side. Skal man ha flere sporvalg på samme side, må verdier mellomlagres i uttrykksbokser.
          </p>

          <p>
            Eksempel:<br>
            Dersom spørsmålet «Er du gift?» ligger på side 1 i et skjema kan svaret medføre to ulike <em>spor</em> avhengig av om sluttbrukeren svarer «Ja» eller «Nei».
          </p>

          <ul>
            <li>Dersom sluttbruker svarer «Ja» skal skjemaside 2 «Informasjon om ektefelle» fylles ut før skjemaside 3 og 4.
            </li>

            <li>Dersom sluttbruker svarer «Nei» skal <em>ikke</em> skjemaside 2 «Informasjon om ektefelle» bli vist i det hele tatt, men sluttbruker skal tas direkte til skjemaside 3 og 4.
            </li>
          </ul>

          <p>
            For å definere sporvalget videre i TUL, velg <em>Sporvalg</em> under område <em>Innholdsspesifikasjon</em> på utgavens arbeidsflate. Definer et spor ved å velge side og felt, og skriv inn verdi. Velg deretter hvilke sider som skal vises for denne verdien. Alle spor med felles side og felt vil danne et sporvalg. Figuren under viser to spor i samme sporvalget.
          </p>

          <figure>
            <img src="/docs/images/guides/tul/sporvalg.png?width=700">
            <figcaption>
              <h4>
                Figur 52 – Sporvalg
              </h4>
            </figcaption>
          </figure>

          <p>
            Hvis du endrer siderekkefølge under Sideegenskaper, vil dette kunne påvirke tidligere definerte sporvalg. Et sporvalg som er blitt ugyldig på grunn av endret siderekkefølge, vises innrammet i rødt, og en tooltip forklarer hva som har skjedd. Du kan da slette sporvalget og definere det på nytt med den nye siderekkefølgen, alternativt gå til Sideegenskaper og endre til opprinnelig siderekkefølge.
          </p>

          <h3 id="innholdsreferanser">
            Innholdsreferanser
          </h3>

          <p>
            <a href="../felles-funksjonalitet/#presentasjonsfelt">Presentasjonsfelt</a> hjelper sluttbruker å finne skjemaet i SBL, og <a href="../felles-funksjonalitet/#geografisk-tilh%C3%B8righet">referanser til geografisk informasjon</a> i skjema gjør det mulig å styre tilgang til skjema i tjenesteeiers arkiv basert på avgivers tilhørighet.
          </p>

          <h3 id="preutfylling">
            Preutfylling
          </h3>

          <p>
            Med preutfylling menes at felter i et skjema kan være forhåndsutfylt når skjemaet åpnes i sluttbrukerløsningen. Det er tre ulike måter å preutfylle på:
          </p>

          <ol>
            <li>Skjemaet leveres ferdig preutfylt fra tjenesteeier til Altinn. Sluttbruker vil se et utfylt skjema i sluttbrukerløsningen med data som tjenesteeier/etat har bestemt.
            </li>

            <li>Tjenesteeier sender prefilldata som nøkkel/verdi-par, i kombinasjon med avgiver-ID. Nøkkelen identifiserer skjema og felt (xPath) der verdien skal fylles inn. Her vil felt bli preutfylt hvis de matcher xPath som tjenesteeier/etat har angitt. Dette vil tilsvare preutfyllingen av spesifikke orid’er i Altinn 1.
            </li>

            <li>Preutfyllingsdata hentes fra sentrale registre og fylles ut i gitte felter. Tjenesteutvikler bestemmer hva som skal preutfylles i de enkelte feltene. Data til disse feltene hentes fra registeret i sluttbrukerløsningen ved instansiering av skjema.
            </li>
          </ol>

          <p>
            I TUL må preutfyllingssiden fylles ut dersom dersom tjenesten skal benytte preutfyllingsmåte 2 eller 3.
          </p>

          <h4 id="nøkkel-verdi-preutfylling">
            Nøkkel/verdi-preutfylling
          </h4>

          <p>
            Huk av for <em>Tillat nøkkel/verdi preutfylling</em> dersom tjenesteeier skal kunne sende inn prefilldata som nøkkel/verdi-par for denne tjenesten. Det er viktig at Xpath som ligger lagret i SBL må matche skjemaets felter sin xPath for at de skal forhåndsutfylles ved nøkkel/verdi preutfylling.
          </p>

          <h4 id="registerpreutfylling">
            Registerpreutfylling
          </h4>

          <p>
            Registerpreutfylling går ut på at man velger hvilke felt som skal inneholde data fra hvilke registerfelt. Dataene som vises er da basert på hvilken avgiver som utfyller sender inn for.
          </p>

          <p>
            Velg register, skjemaside, skjemafelt, kontekst og registerfelt for de feltene som skal hentes fra sentrale registre. Det legges til en ny blank linje i preutfyllingsbildet for hver linje som registreres, slik at man kan registrere så mange felt man vil.
          </p>

          <p>
            Det finnes tre registre, og hver av registrene har egne <em>kontekster</em>. Kontekster er på bakgrunn av <em>hva</em> man skal hente ut data
          </p>

          <table>
            <thead>
              <tr>
                <th>
                  Registerforkortelse
                </th>
                <th>
                  Registernavn
                </th>
                <th>
                  Kontekst
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  DSF
                </td>
                <td>
                  Det sentrale folkeregister
                </td>
                <td>
                  Privatperson
                </td>
              </tr>

              <tr>
                <td>
                  ER
                </td>
                <td>
                  Enhetsregisteret
                </td>
                <td>
                  Enhet, juridisk enhet og valgt org.nummer
                </td>
              </tr>

              <tr>
                <td>
                  DLS
                </td>
                <td>
                  Deltakerlignende selskap
                </td>
                <td>
                  Ingen
                </td>
              </tr>
            </tbody>
          </table>

          <p>
            <em>Merk: DLS har p.t. ingen prefillfelter tilgjengelig.</em>
          </p>

          <p>
            <strong>Forskjell på kontekster i enhetsregisteret</strong>
          </p>

          <table>
            <thead>
              <tr>
                <td>
                  Bedrift
                </td>
                <td>
                  <p>
                    A: Om valgt organisasjonsnummer er en bedrift vil feltet bli fylt med data for bedriften.
                  </p>

                  <p>
                    B: Om valgt organisasjonsnummer er en juridisk enhet vil ikke feltet bli fylt ut.
                  </p>
                </td>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  Juridisk enhet
                </td>
                <td>
                  <p>
                    A: Om valgt organisasjonsnummer er en juridisk enhet blir feltet fylt med data for den juridiske enheten
                  </p>

                  <p>
                    B: Om valgt organisasjonsnummer er en bedrift blir feltet fylt med data for bedriftens juridiske enhet
                  </p>
                </td>
              </tr>

              <tr>
                <td>
                  Valgt org.nummer
                </td>
                <td>
                  Blir fyllt med data for valgt organisasjonsnummer, uavhengig om organisasjonsnummer representerer juridisk enhet eller bedrift.
                </td>
              </tr>
            </tbody>
          </table>

          <p>
            &nbsp;
          </p>

          <p>
            <strong>Mulige preutfyllingsvalg:</strong>
          </p>

          <table>
            <thead>
              <tr>
                <th colspan="5" style="text-align:center">
                  Enhetsregisteret
                </th>
              </tr>

              <tr>
                <th colspan="3" style="text-align:center">
                  TUL
                </th>
                <th colspan="2" style="text-align:center">
                  SBL
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  <em>Kontekst</em>
                </td>
                <td>
                  <em>Norsk visningsnavn</em>
                </td>
                <td>
                  <em>Engelsk visningsnavn</em>
                </td>
                <td>
                  <em>Tabell</em>
                </td>
                <td>
                  <em>Kolonne</em>
                </td>
              </tr>

              <tr>
                <td>
                  Juridisk enhet
                </td>
                <td>
                  Organisasjons­nummer
                </td>
                <td>
                  Organisation number
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  OrgNumber_AK
                </td>
              </tr>

              <tr>
                <td>
                  Juridisk enhet
                </td>
                <td>
                  Navn
                </td>
                <td>
                  Name
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  UnitName
                </td>
              </tr>

              <tr>
                <td>
                  Juridisk enhet
                </td>
                <td>
                  Adresse
                </td>
                <td>
                  Address
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  AdressPostAddress
                </td>
              </tr>

              <tr>
                <td>
                  Juridisk enhet
                </td>
                <td>
                  Postnummer
                </td>
                <td>
                  Postal code
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  PostalCodeMail_FK
                </td>
              </tr>

              <tr>
                <td>
                  Juridisk enhet
                </td>
                <td>
                  Poststed
                </td>
                <td>
                  Postal district
                </td>
                <td>
                  REG_Postal­Code
                </td>
                <td>
                  City
                </td>
              </tr>

              <tr>
                <td>
                  Juridisk enhet
                </td>
                <td>
                  Forretnings­adresse
                </td>
                <td>
                  Business address
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  BusinessAddress
                </td>
              </tr>

              <tr>
                <td>
                  Juridisk enhet
                </td>
                <td>
                  Forretnings­postnummer
                </td>
                <td>
                  Postal code (business address)
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  PostalCodeBusiness_FK
                </td>
              </tr>

              <tr>
                <td>
                  Juridisk enhet
                </td>
                <td>
                  Forretnings­poststed
                </td>
                <td>
                  Postal district (business address)
                </td>
                <td>
                  REG_Postal­Code
                </td>
                <td>
                  City
                </td>
              </tr>

              <tr>
                <td>
                  Juridisk enhet
                </td>
                <td>
                  Telefon­nummer
                </td>
                <td>
                  Phone number
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  TelephoneNumber
                </td>
              </tr>

              <tr>
                <td>
                  Juridisk enhet
                </td>
                <td>
                  Mobiltelefon­nummer
                </td>
                <td>
                  Mobile phone number
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  MobilePhone
                </td>
              </tr>

              <tr>
                <td>
                  Juridisk enhet
                </td>
                <td>
                  Faxnummer
                </td>
                <td>
                  Fax number
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  Fax
                </td>
              </tr>

              <tr>
                <td>
                  Juridisk enhet
                </td>
                <td>
                  Epost
                </td>
                <td>
                  Email address
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  EMailAddress
                </td>
              </tr>

              <tr>
                <td>
                  Juridisk enhet
                </td>
                <td>
                  Internett adresse
                </td>
                <td>
                  Web address
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  InternetAddress
                </td>
              </tr>

              <tr>
                <td>
                  Bedrift (Unit)
                </td>
                <td>
                  Organisasjonsnummer
                </td>
                <td>
                  Organisation number
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  OrgNumber_AK
                </td>
              </tr>

              <tr>
                <td>
                  Bedrift (Unit)
                </td>
                <td>
                  Navn
                </td>
                <td>
                  Name
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  UnitName
                </td>
              </tr>

              <tr>
                <td>
                  Bedrift (Unit)
                </td>
                <td>
                  Adresse
                </td>
                <td>
                  Address
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  AdressPostAddress
                </td>
              </tr>

              <tr>
                <td>
                  Bedrift (Unit)
                </td>
                <td>
                  Poststed
                </td>
                <td>
                  Postal district
                </td>
                <td>
                  REG_Postal­Code
                </td>
                <td>
                  City
                </td>
              </tr>

              <tr>
                <td>
                  Bedrift (Unit)
                </td>
                <td>
                  Postnummer
                </td>
                <td>
                  Postal code
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  PostalCodeMail_FK
                </td>
              </tr>

              <tr>
                <td>
                  Bedrift (Unit)
                </td>
                <td>
                  Telefonnummer
                </td>
                <td>
                  Phone number
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  TelephoneNumber
                </td>
              </tr>

              <tr>
                <td>
                  Bedrift (Unit)
                </td>
                <td>
                  Mobiltelefonnummer
                </td>
                <td>
                  Mobile phone number
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  MobilePhone
                </td>
              </tr>

              <tr>
                <td>
                  Bedrift (Unit)
                </td>
                <td>
                  Faxnummer
                </td>
                <td>
                  Fax number
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  Fax
                </td>
              </tr>

              <tr>
                <td>
                  Bedrift (Unit)
                </td>
                <td>
                  Epost
                </td>
                <td>
                  Email address
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  EMailAddress
                </td>
              </tr>

              <tr>
                <td>
                  Bedrift (Unit)
                </td>
                <td>
                  Internett adresse
                </td>
                <td>
                  Web address
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  InternetAddress
                </td>
              </tr>

              <tr>
                <td>
                  Valgt org. nr.
                </td>
                <td>
                  Organisasjons­nummer
                </td>
                <td>
                  Organisation number
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  OrgNumber_AK
                </td>
              </tr>

              <tr>
                <td>
                  Valgt org. nr.
                </td>
                <td>
                  Organisasjonsform
                </td>
                <td>
                  Entity type
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  UnitType
                </td>
              </tr>

              <tr>
                <td>
                  Valgt org. nr.
                </td>
                <td>
                  Navn
                </td>
                <td>
                  Name
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  UnitName
                </td>
              </tr>

              <tr>
                <td>
                  Valgt org. nr.
                </td>
                <td>
                  Adresse
                </td>
                <td>
                  Address
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  AdressPostAddress
                </td>
              </tr>

              <tr>
                <td>
                  Valgt org. nr.
                </td>
                <td>
                  Postnummer
                </td>
                <td>
                  Postal code
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  PostalCodeMail_FK
                </td>
              </tr>

              <tr>
                <td>
                  Valgt org. nr.
                </td>
                <td>
                  Poststed
                </td>
                <td>
                  Postal district
                </td>
                <td>
                  REG_Postal­Code
                </td>
                <td>
                  City
                </td>
              </tr>

              <tr>
                <td>
                  Valgt org. nr.
                </td>
                <td>
                  Forretningsadresse
                </td>
                <td>
                  Business address
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  BusinessAddress
                </td>
              </tr>

              <tr>
                <td>
                  Valgt org. nr.
                </td>
                <td>
                  Forretningspostnummer
                </td>
                <td>
                  Postal code (business address)
                </td>
                <td>
                  REG_Unit
                </td>
                <td>
                  PostalCodeBusiness_FK
                </td>
              </tr>

              <tr>
                <td>
                  Valgt org. nr.
                </td>
                <td>
                  Forretningspoststed
                </td>
                <td>
                  Postal district (business address)
                </td>
                <td>
                  REG_Postal­Code
                </td>
                <td>
                  City
                </td>
              </tr>
            </tbody>
          </table>

          <p>
            <strong>Folkeregisteret</strong>
          </p>

          <table>
            <thead>
              <tr>
                <th>
                  Norsk visningsnavn TUL)
                </th>
                <th>
                  Engelsk visningsnavn (TUL)
                </th>
                <th>
                  Tabell (SBL)
                </th>
                <th>
                  Kolonne (SBL)
                </th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>
                  Fødselsnummer
                </td>
                <td>
                  Personal ID number
                </td>
                <td>
                  REG_USER
                </td>
                <td>
                  FNumber_AK
                </td>
              </tr>

              <tr>
                <td>
                  Navn
                </td>
                <td>
                  Name
                </td>
                <td>
                  REG_USER
                </td>
                <td>
                  Name
                </td>
              </tr>

              <tr>
                <td>
                  Fornavn
                </td>
                <td>
                  First name
                </td>
                <td>
                  REG_USER
                </td>
                <td>
                  FirstName
                </td>
              </tr>

              <tr>
                <td>
                  Etternavn
                </td>
                <td>
                  Surname
                </td>
                <td>
                  REG_USER
                </td>
                <td>
                  LastName
                </td>
              </tr>

              <tr>
                <td>
                  Adresse
                </td>
                <td>
                  Address
                </td>
                <td>
                  REG_Alternative­Address­Line
                </td>
                <td>
                  AddressLine1 + AddressLine2
                </td>
              </tr>

              <tr>
                <td>
                  Postnummer
                </td>
                <td>
                  Postal code
                </td>
                <td>
                  REG_Alternative­Address­Line
                </td>
                <td>
                  PostalCode_FK
                </td>
              </tr>

              <tr>
                <td>
                  Poststed
                </td>
                <td>
                  Postal district
                </td>
                <td>
                  REG_PostalCode
                </td>
                <td>
                  City
                </td>
              </tr>

              <tr>
                <td>
                  Kommune­nummer
                </td>
                <td>
                  Municipal Number
                </td>
                <td>
                  REG_Municipal
                </td>
                <td>
                  MunicipalNumber_AK
                </td>
              </tr>

              <tr>
                <td>
                  Kommunenavn
                </td>
                <td>
                  Municipal Name
                </td>
                <td>
                  REG_Municipal
                </td>
                <td>
                  MunicipalName
                </td>
              </tr>

              <tr>
                <td>
                  Mellomnavn
                </td>
                <td>
                  Middle Name
                </td>
                <td>
                  REG_USER
                </td>
                <td>
                  MiddleName
                </td>
              </tr>

              <tr>
                <td>
                  Gatenavn (bosted)
                </td>
                <td>
                  Street Name
                </td>
                <td>
                  REG_Street
                </td>
                <td>
                  StreetName
                </td>
              </tr>

              <tr>
                <td>
                  Stedsnavn (bosted)
                </td>
                <td>
                  Place Name
                </td>
                <td>
                  REG_Property
                </td>
                <td>
                  AddressName
                </td>
              </tr>

              <tr>
                <td>
                  Husnummer (bosted)
                </td>
                <td>
                  House Number
                </td>
                <td>
                  REG_AddressLine
                </td>
                <td>
                  HouseNumber
                </td>
              </tr>

              <tr>
                <td>
                  Husbokstav (bosted)
                </td>
                <td>
                  House Letter
                </td>
                <td>
                  REG_AddressLine
                </td>
                <td>
                  HouseLetter
                </td>
              </tr>
            </tbody>
          </table>

          <figure>
            <img src="/docs/images/guides/tul/preutfylling.png?width=700">
            <figcaption>
              <h4>
                Figur 53 - Preutfylling
              </h4>
            </figcaption>
          </figure>

          <h4 id="mottaksdefinisjon">
            Mottaksdefinisjon
          </h4>

          <p>
            Under mottaksdefinisjon kan man angi hvilket felt i skjemaet som skal styre hvor skjemaet havner etter at det er arkivert i Altinn.
          </p>

          <h3 id="skd-betalingsinformasjon">
            SKD betalingsinformasjon
          </h3>

          <p>
            Betalingsinformasjonen er spesialtilpasset skjemaordningene MVA og Terminoppgaven (FLT) til Skatteetaten (SKD). Det er altså ingen generell løsning som kan brukes av alle.
          </p>

          <p>
            Den må ikke bli forvekslet med den <a href="betaling/">generelle betalingsløsningen</a>.
          </p>

          <p>
            Dersom en innsendningstjeneste skal kunne generere betalingsinformasjon i sluttbrukerløsningen angir du her hvilke felter i innsendingen som skal benyttes for de ulike betalingsdetaljene.
          </p>

          <p>
            Du kan velge gjenbrukbar logikk for generering av betalingsinformasjon i et nedtrekksliste for <em>Betalingslogikk</em> øverst på siden. Hvilke felter som er påkrevd, avhenger av hvilken betalingslogikk som er valgt. Det vil derfor ikke i TUL valideres og må kjennes av den enkelte skjemautvikler basert på logikken som velges.
          </p>

          <figure>
            <img src="/docs/images/guides/tul/skd-betalingsinfo.png?width=700">
            <figcaption>
              <h4>
                Figur 54 – SKD betalingsinformasjon
              </h4>
            </figcaption>
          </figure>

          <h3 id="hjelpetekster">
            Hjelpetekster
          </h3>

          <p>
            Til hvert felt i et skjema laget i InfoPath kan det knyttes en hjelpetekst. Hjelpteksten vises iht. ELMER-retningslinjene i høyre side i SBL. En hjelpetekst i TUL knyttes ikke direkte til et felt, men til en bildeknapp (PictureButton) som må plasseres i nærhet av feltet den skal tilhøre. Denne bildeknappen må ha et navn som begynner på <em>HelpText_</em> for å kunne gjenkjennes i TUL. For hver bildeknapp i skjemaet som har et navn som begynner på HelpText_ vil det være mulig å definere <em>én</em> tekst.
          </p>

          <p>
            Først oppretter du hjelpeknapper i InfoPath for enkeltfelter og overskrifter som skal ha hjelpetekster. Se <em>Vedlegg A: Veiledning i skjemautvikling i InfoPath</em> for en beskrivelse av hvordan dette gjøres.
          </p>

          <p>
            I TUL kan du velge å se alle hjelpeknappene i skjemaet eller velge side i nedtrekkslisten for å begrense innholdet i listen. En hjelpetekst bør inneholde en begrenset mengde tekst for ikke å ”flyte ut” i SBL. Begrensningen er dog ca. 5000 tegn, inklusive mellomrom og spesialtegn. Det er verdt å merke seg at dette er inkludert HTML-formatering.
          </p>

          <figure>
            <img src="/docs/images/guides/tul/hjelpetekster.png?width=700">
            <figcaption>
              <h4>
                Figur 55 - Hjelpetekster
              </h4>
            </figcaption>
          </figure>

          <p>
            <strong>Hjelpetekst nivå 1 og nivå 2</strong>
          </p>

          <p>
            Det er hensiktsmessig å begrense innholdet i hjelpeteksten som vises i sluttbrukerløsningen til så kort og konsist som mulig, men der hvor det ikke er hensiktsmessig eller mulig bør man tilstrebe å vises informasjon fra eksterne kilder i et eget vindu. Hjelpetekst som vises i sluttbrukerløsningen kalles <em>Nivå 1</em>, mens ekstern hjelpetekst kalles <em>Nivå 2</em>.
          </p>

          <p>
            For å gjøre dette må man legge inn en lenke i hjelpeteksten i TUL. Dette gjøres i to steg via teksteditoren:
          </p>

          <p>
            (tekst innenfor <code>$</code> vil variere)
          </p>

          <ol>
            <li>Plassér markøren i hjelpeteksten der du vil at lenken skal vises.
            </li>

            <li>Klikk på lenke-ikonet <img src="/docs/images/guides/tul/lenke-ikon.png" alt=""> og tast inn url’en til den eksterne hjelpeteksten.
            </li>

            <li>Bytt til kildevisning av teksten ved å klikke på kilde-ikonet <img src="/docs/images/guides/tul/kilde-ikon.png" alt="">
            </li>

            <li>Finn HTML-koden til lenken, angitt som <code>&lt;a href="http://$adresse$"&gt;$Lenke$&lt;/a&gt;</code>
            </li>

            <li>Legg til target=”_blank” slik at HTML-koden blir <code>&lt;a href="http://$adresse$" target="_blank"&gt;$Lenke$&lt;/a&gt;</code>
            </li>
          </ol>

          <p>
            Dette vil gjøre at lenken åpnes i nytt vindu.
          </p>

          <h3 id="innsendingstjeneste-fra-sbs">
            Innsendingstjeneste fra SBS
          </h3>

          <h4 id="prinsipper">
            Prinsipper
          </h4>

          <p>
            Ved innsending fra sluttbrukersystem gjelder i utgangspunktet tre prinsipper:
          </p>

          <ol>
            <li>Altinn skal ikke endre på skjemasettet som ble sendt inn av SBS.
            </li>

            <li>Altinn kan imidlertid tilføye kalkulerte felter som SBS <em>unnlater</em> å sende inn.
            </li>

            <li>Skjemasett med feil skal i utgangspunktet stoppes av Altinn og innsending skal feile.
            </li>
          </ol>

          <p>
            Det andre prinsippet åpner for at SBS kan benytte seg av kalkyler og prefill som er bygget inn i skjemasettet (ved å unnlate å sende inn de aktuelle feltene). Altinn vil da tilføye feltene med beregnet verdi. SBS får en kvittering som indikerer alle felter som ikke ble sendt inn fra SBS, men ble tilføyd av Altinn og sendt videre til tjenesteeier. Feltverdien (fra kalkyle eller prefill) er også angitt i kvitteringen.
          </p>

          <p>
            Tjenesteeier har mulighet til å fravike det tredje prinsippet ved å definere <em>overstyrbare felter</em>.
          </p>

          <h4 id="overstyrbare-felter">
            Overstyrbare felter
          </h4>

          <p>
            Dersom det skal tillates at SBS sender inn en verdi som fraviker fra prefill eller kalkyle-verdi må feltet defineres som overstyrbart i TUL.
          </p>

          <p>
            Når SBS sender inn en verdi som fraviker fra en slik “forventet” verdi og feltet er overstyrbart vil innsendingen gå gjennom. Tjenesteeier mottar skjemasettet med den verdi som ble sendt inn fra SBS, men får ingen indikasjon på at feltverdien avviker fra “forventet” verdi. SBS får på sin side en kvittering som indikerer hvert felt hvor Altinn “forventet” en annen verdi, samt hvilken verdi Altinn “forventet”.
          </p>

          <p>
            En teknisk beskrivelse av hvordan skjemasett sammenliknes, hva som menes med “ulik verdi”, og kriterier for feil (stoppe innsending) og advarsler finnes i “Implementasjonsguide for sluttbrukersystemer”.
          </p>

          <figure>
            <img src="/docs/images/guides/tul/overstyrbare-felter.png?width=700">
            <figcaption>
              <h4>
                Overstyrbare felter
              </h4>
            </figcaption>
          </figure>

          <p>
            Overstyrbare felter defineres på siden innholdsreferanser i arbeidsflaten for tjenesteutgave. Velg skjemaside først, deretter felt.
          </p>

          <h4 id="kun-xsd-validering">
            Kun XSD-validering
          </h4>

          <p>
            Kalkyler, prefill og valideringer i et skjema kan “skrus av” for innsendinger fra SBS. Dette tillater en markant ytelsesforbedring, men medfører at alle innsendinger tillates så lenge selve meldingsformatet for oppgavesettet er fulgt.
          </p>

          <p>
            Merk at innsendt XML alltid valideres mot XSD, uavhengig av om denne opsjonen er valgt eller ikke. Når opsjonen er valgt gjøres <em>kun</em> XSD-validering ved innsendinger fra SBS. Opsjonen har ingen effekt for SBL-brukere.
          </p>

          <figure>
            <img src="/docs/images/guides/tul/xsd-validering.png?width=700">
            <figcaption>
              <h4>
                XSD validering
              </h4>
            </figcaption>
          </figure>

          <p>
            Kun XSD-validering settes på siden XSD-egenskaper i arbeidsflaten for tjenesteutgave. Opsjonen er normalt ikke valgt, som betyr at all funksjonalitet definert i skjemasettet er “på” - kalkyler, valideringer og prefill kjører også ved innsending fra SBS.
          </p>

          <h4 id="integritetssjekk-fra-sluttbrukersystem">
            Integritetssjekk fra sluttbrukersystem
          </h4>

          <p>
            Altinn støtter utvikling av skjemaer som kan signeres med XMLDsig standard. Foreløpig er dette begrenset til skjemaer som er signert av sluttbruker system og sendt komplett via webservice. Funksjonen kan ikke brukes i tjenesteutgaver som bruker skjemasett med felles datakilde.
          </p>

          <p>
            For å nyttegjøre seg av XMLDsig må XSD oppdateres manuelt (inntil videre) med XMLDSIG deklarasjoner. Dette må gjøres i forkant av import til Infopath. Følgende deklarasjoner må gjøres:
          </p>

          <ul>
            <li>XMLDSig namespace må være definert i header <code>xmlns:dsig="http://www.w3.org/2000/09/xmldsig#</code>
            </li>

            <li>XMLDSIG placeholder må angis direkte i sekvens etter siste element innenfor et rotelement i XSD for en innsendingstjeneste:<br>
              <code>&lt;xs:any namespace="http://www.w3.org/2000/09/xmldsig#" processContents="lax" minOccurs="0" maxOccurs="unbounded"/&gt;</code>
            </li>
          </ul>

          <p>
            Eksempel:
          </p>

          <pre><code class="language-xml">&lt;xs:schema  xmlns:brreg="http://www.brreg.no/or"
            xmlns:xs="http://www.w3.org/2001/XMLSchema"
            xmlns:dsig="http://www.w3.org/2000/09/xmldsig#"
            elementFormDefault="qualified"
            attributeFormDefault="unqualified"&gt;
    &lt;xs:element name="Skjema"&gt;
        &lt;xs:complexType&gt;
            &lt;xs:sequence&gt;
                &lt;xs:element ref="soknad-grp-5627" minOccurs="0"/&gt;
                &lt;xs:any namespace="http://www.w3.org/2000/09/xmldsig#" processContents="lax" minOccurs="0" maxOccurs="unbounded"/&gt;
            &lt;/xs:sequence&gt;
            …
        &lt;/xs:complexType&gt;
    &lt;/xs:element&gt;
&lt;/xs:schema&gt;
</code></pre>
          <p>
            Merk at bruk av <code>any</code> element med lax direktiv er obligatorisk for at skjema skal kunne brukes av InfoPath, men inneholde vil bli validert av Altinns XSD validering.
          </p>

          <p>
            Når XSD er oppdatert kan den importeres til InfoPath. Pass på at «Ikke tillat signering av skjema» er valgt i InfoPath, vi bruker Altinn til å signere.
          </p>

          <figure>
            <img src="/docs/images/guides/tul/form-options.png">
            <figcaption>
              <h4>
                Form Options
              </h4>
            </figcaption>
          </figure>

          <p>
            Når man har laget et skjema som inneholder et XMLDSig element og lastet det opp i TUL, vil et nytt valg være tilgjengelig på siden “XSD-egenskaper”.
          </p>

          <figure>
            <img src="/docs/images/guides/tul/integritetssjekk.png">
            <figcaption>
              <h4>
                Integritetssjekk
              </h4>
            </figcaption>
          </figure>

          <p>
            Her finnes nå en nedtrekksliste som foreløpig har to valg:
          </p>

          <ul>
            <li>Integritetssjekk fra sluttbrukersystem
            </li>

            <li>Av/Ingen
            </li>
          </ul>

          <p>
            Ved valget «Av/Ingen» gjøres ingen integritetssjekk, mens det ved valget «Integritetssjekk fra sluttbrukersystem» vil være mulig å legge ved en XMLDSig signatur i XML som sendes inn. XMLDSig signaturen vil bli validert før oversendelse til tjenesteeier og tjenesteeier har så mulighet til å validere signaturen i sine internesystemer.
          </p>

          <footer class="footline">
          </footer>
        </div>
      </div>

      <div id="navigation">
        <a class="nav nav-prev" href="/docs/guides/tul/tjenestetyper/formidling/" title="Formidling"><i class="fa fa-chevron-left"></i></a> <a class="nav nav-next" href="/docs/guides/tul/tjenestetyper/innsending/betaling/" title="Betaling" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
      </div>
    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      </div>
    </div>
    <script src="/docs/js/clipboard.min.js"></script> 
    <script src="/docs/js/featherlight.min.js"></script> 
    <script src="/docs/js/html5shiv-printshiv.min.js"></script> 
    <script src="/docs/js/highlight.pack.js"></script> 
    <script>
    hljs.initHighlightingOnLoad();
    </script> 
    <script src="/docs/js/modernizr.custom.71422.js"></script> 
    <script src="/docs/js/learn.js"></script> 
    <script src="/docs/js/hugo-learn.js"></script>
    <link href="/docs/mermaid/mermaid.css" type="text/css" rel="stylesheet">
    <script src="/docs/mermaid/mermaid.js"></script> 
    <script>
    mermaid.initialize({startOnLoad:true});
    </script>
  </body>
</html>
