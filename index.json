[
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/a/",
	"title": "A: Skjemautvikling i InfoPath",
	"tags": [],
	"description": "Stegvis utvikling av et skjema i InfoPath.",
	"content": "For informasjon om mer generell InfoPath funksjonalitet, henvises til standard dokumentasjon for Microsoft InfoPath. Denne kan bl.a. finnes ved hjelp av hjelp-funksjonen (trykk F1) i InfoPath eller på http://office.microsoft.com/nb-no/infopath/default.aspx\nDet forventes at den som skal bruke dette dokumentet har bakgrunn fra bruk av dataverktøy og helst også fra programmering. Kjennskap til hva en XSD er, og hvor den kommer fra er en betingelse for å utvikle skjemaer. Som en tommelfingerregel, er det anbefalt at alle skjema bygges på en XSD, og det er XSD’en som angir hvilke felter som skjemaet skal bestå av. Samme XSD vil også bli benyttet senere for validering av skjema ved innsending av sluttbruker.\nVidere for de som skal programmere, forlanges kompetanse i bruk av Visual Studio.\nFør oppstart av InfoPath I eksemplet beskrevet i dette dokumentet, skal det lages utvalgte deler av skjema RF-1189 og RF-1113.\nFørst bør det lages en egen katalog for lagring av filer knyttet til utvikling av skjemaet. Det skal her benyttes TUL-share. P.t. er det \\\\alt-tul-db-c02\\tulshare\\Infopath\\etater og hvilken tjenesteeier man utvikler for. Det bør lages én katalog pr. utgave.\nPå denne katalogen bør også datakilde (XSD) lagres. XSD kan hentes fra SERES før et skjema kan utvikles i InfoPath (inneholder definisjon av hvilke felt som skal være med i skjema). Det er også mulig å lage XSD selv, eller lage XSD på bakgrunn av InfoPato-skjemaet i InfoPath.\nAltinn-definerte inputfelt Ut av boksen lar ikke InfoPath deg benytte egendefinerte inputfelter i en repeterende gruppe. Dette er ønsket løst uten at hjelpefeltene må legges til i skjemaets opprinnelige datakilde, i tidligere løsning omtalt som OR-spesifikasjon.\nFor å løse dette problemet må man benytte et Altinn-definert input felt. Et altinn-definert felt er et felt som er definert i en egen datakilde, hvor datakilden enten er importert til eller refererer til hoveddatakilden. Dette gjøres ved å først lage datakilden hvor hjelpefeltene skal ligge. Disse vil da ligge i et eget navnerom (namespace). Dette navnerommet må begynne med altinn i alle tilfeller.\nVidere følger et eksempel på bruk av Altinn-definerte inputfelt i RF-1037. RF-1037 inneholder en tabell for arbeidsgiveravgift hvor bruker skal velge en komunne fra en nedtrekksliste, hvorpå arbeidsgiveravgiftsone og komunnenummer skal vises automatisk. For å få dette til, må man velge å legge arbeidsgiveravgiftsone og en radindeks (som ikke vises i skjema) i altinn-navnerommet. Dermed må man definere disse to feltene i en egen datakilde, altinn_namespace.xsd:\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;xs:schema xmlns:xs=\u0026#34;http://www.w3.org/2001/XMLSchema\u0026#34; xmlns:or=\u0026#34;http://www.brreg.no/or\u0026#34; xmlns=\u0026#34;http://www.brreg.no/seres\u0026#34; xmlns:altinn=\u0026#34;www.altinn.no/infopath-extensions\u0026#34; targetNamespace=\u0026#34;www.altinn.no/infopath-extensions\u0026#34; elementFormDefault=\u0026#34;qualified\u0026#34; attributeFormDefault=\u0026#34;unqualified\u0026#34;\u0026gt; \u0026lt;xs:element name=\u0026#34;AltinnField_kommunenavn_grp_4953\u0026#34; type=\u0026#34;xs:string\u0026#34;/\u0026gt; \u0026lt;xs:element name=\u0026#34;AltinnField_sone_grp_4953\u0026#34; type=\u0026#34;xs:string\u0026#34;/\u0026gt; \u0026lt;xs:element name=\u0026#34;AltinnField_rowindex_grp_4953\u0026#34; type=\u0026#34;xs:string\u0026#34;/\u0026gt; \u0026lt;/xs:schema\u0026gt; Som man ser over er det angitt tre felter i altinn-datakilden. Nå må man i hovedkilden angi at denne datakilden skal kunne benyttes. Dette gjøres ved å inkludere en import-statement i toppen av datakilden:\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; standalone=\u0026#34;no\u0026#34;?\u0026gt; \u0026lt;xs:schema attributeFormDefault=\u0026#34;unqualified\u0026#34; elementFormDefault=\u0026#34;qualified\u0026#34; xmlns:brreg=\u0026#34;http://www.brreg.no/or\u0026#34; xmlns:xs=\u0026#34;http://www.w3.org/2001/XMLSchema\u0026#34; xmlns:altinn=\u0026#34;www.altinn.no/infopath-extensions\u0026#34;\u0026gt; \u0026lt;xs:import namespace=\u0026#34;www.altinn.no/infopath-extensions\u0026#34; schemaLocation=\u0026#34;altinn_namespace.xsd\u0026#34;/\u0026gt; Merk at begge datakildene må ligge i samme katalog slik at InfoPath finner de.\nVidere må man så i hoveddatakilden legge til de feltene man vil benytte fra altinn-navnerommet:\n\u0026lt;xs:element name=\u0026#34;TabellArbeidsgiveravgift-grp-4953\u0026#34;\u0026gt; \u0026lt;xs:complexType\u0026gt; \u0026lt;xs:sequence\u0026gt; \u0026lt;xs:element minOccurs=\u0026#34;0\u0026#34; ref=\u0026#34;AvgiftsbetalerOrganisasjonsnummer-datadef-27605\u0026#34;/\u0026gt; \u0026lt;xs:element minOccurs=\u0026#34;0\u0026#34; ref=\u0026#34;KommuneNummer-datadef-5950\u0026#34;/\u0026gt; \u0026lt;xs:element minOccurs=\u0026#34;0\u0026#34; ref=\u0026#34;ArbeidsgiveravgiftGrunnlagSpesifisert-datadef-27607\u0026#34;/\u0026gt; \u0026lt;xs:element minOccurs=\u0026#34;0\u0026#34; ref=\u0026#34;RefusjonGrunnlagSpesifisert-datadef-27608\u0026#34;/\u0026gt; \u0026lt;xs:element minOccurs=\u0026#34;0\u0026#34; ref=\u0026#34;PensjonPremieTilskuddSpesifisert-datadef-27611\u0026#34;/\u0026gt; \u0026lt;xs:element minOccurs=\u0026#34;0\u0026#34; ref=\u0026#34;altinn:AltinnField_kommunenavn_grp_4953\u0026#34;/\u0026gt; \u0026lt;xs:element minOccurs=\u0026#34;0\u0026#34; ref=\u0026#34;altinn:AltinnField_sone_grp_4953\u0026#34;/\u0026gt; \u0026lt;xs:element minOccurs=\u0026#34;0\u0026#34; ref=\u0026#34;altinn:AltinnField_rowindex_grp_4953\u0026#34;/\u0026gt; \u0026lt;/xs:sequence\u0026gt; \u0026lt;xs:attribute fixed=\u0026#34;4953\u0026#34; name=\u0026#34;gruppeid\u0026#34; type=\u0026#34;xs:positiveInteger\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;/xs:element\u0026gt; Som vist over er det lagt til tre altinn-definerte felter i gruppen TabellArbeidsgiveravgift-grp-4953. Merk at disse tre nye feltene er prefixet med navnerommet altinn. Disse feltene vil da vises i InfoPath etter at datakilden (XSD) er importert.\nSe også beskrivelse av skjemasett.\nDermed kan de ”nye” feltene fritt benyttes hvor som helst i skjema, og i motsetning til vanlig egendefinerte hjelpefelter som man oppretter direkte i InfoPath (typisk my:felter), kan disse feltene også benyttes i repeterende grupper. Merk at altinn-definerte felter ikke sendes med til tjenesteier.\nI og med at dette er vanlig tekst, kan f.eks. Notepad++ benyttes som editeringsverktøy.\nOppstart av InfoPath, Import av XSD-fil og generell oppsett av skjema og layout Start InfoPath, og velg ”Ny” fra Fil-menyen. Følgende skjermbildet vil vises.\nDobbelklikk på ikonet ”XML eller XML-skjema”. I neste skjermbilde angis navnet på datakilden (XSD) som skal benyttes, og velg å ikke benytte flere datakilder. Fullfør. Husk å benytte den rettede datakilden hvis den kommer fra brreg. Skjemaet er nå klart til utvikles videre.\nSom vist i figuren over, er det på høyre side i InfoPath en oversikt over alle grupper/felter som finnes i datakilden. På venstre side er det et tomt område, hvor skjema skal bygges. Hit skal sidemal fra tjenesteier kopieres til på følgende vis:\n I Windows Utforsker, høyreklikk ”sidemal_skd-pmh2009-05-18.xsn” (gjelder for SKD, for andre etater kan man bruke andre maler med andre navn) og velg ”Design” fra meny. Klikk \u0026ldquo;OK\u0026rdquo; på evt feilmelding som dukker opp. Kopier hele sidemal over i i det nye skjema (skjermbilde ovenfor) vha standard kopier/lim inn (eksempel Ctrl-A, Ctrl-C og Ctrl-V (i nytt skjema)):  En sidemal lages som et normalt InfoPath-skjema uten datakilde og kan benyttes som grunnlag for nye skjemaer. En sidemal bør kun inneholde et absolutt minimum av funksjonalitet, og heller fokusere på riktig bakgrunnsfarge, skrifttyper, størrelser, logoer osv. Det anbefales at alle elementer som for eksempel uttrykksbokser, tekstbokser, ikon o.l bør legges inn i egne tabeller slik at elementene blir ”låst fast” i skjemaet som vist på figur under. Elementene i skjemaet vil da bli riktig posisjonert uavhengig av nettlesere som blir bruk i portalen. På denne måten sikrer man en konform layout innenfor en tjenesteeier.\nSe også oppdatering av datakilde for å bytte ut datakilde i et ekstisterende skjema.\nDet anbefales forøvrig at sidemalen lagres på arbeidsflate for tjenesteeier.\nFor at skjemaet ikke skal få horisontal scroll i SBL, er det viktig at bredden ikke overstiger 630px. Denne bredden tar da høyde for bredden på en evt. vertikal scrollbar, og det anbefales at det tas høyde for dette uansett om siden forventer vertikal scroll eller ikke.\nTilpass bilde til mal for det aktuelle skjema ved å evt fjerne felter og ledetekster. Marker felter og ledetekst samt tekstene ”Skjematittel” og ”Framskutt ledetekst”, og trykk ”Slett”.\nLegg inn ny tekst for skjemaet. Alle tekster skal defineres i beregnet verdi kontroller. Velges fra ” kontroller” under menylinjen Hjem.\nLegg inn tittelen på utgaven i hermeteng (”RF-1189 Årsoppgjør for utleie mv. fast eiendom 2008”). Se også fargekoder Altinn. (foreløpig utgave pr 2009-05-18) for definering av riktig fargekode, font og størrelse for teksten. Dermed har vi en sidemal for kopiering til øvrige sider i skjemaet ved og opprette sider og bruker utklippstavlefunksjonalitet.\nAlternativer for skjema Før man laster opp Infopath skjema i TUL er det noen viktige innstillinger som må settes ellers vil man få problemer når man skal migrere skjema. Man må gå inn på «Fil» på menylinjen og velg «alternativer for skjema». Gå deretter inn på «Sikkerhet og klarering» og velg fullstendig klarering\nDeretter må man gå inn på kompatibilitet i kategorien under alternativ for skjema. Velg webleserskjema som skjematype.\nHvis man skal bruke C# kode i skjemaet sitt så må man også huske på å angi programmeringsspråk og plassering av prosjektkoden. Da går man inn på «programmering» under kategorien, velger C# som kodespråk og angir stien til en egen mappe under TUL share (G:)\nOppdatering av (hoved)datakilde Det kan i enkelte tilfeller være ønskelig å bytte ut hoveddatakilden med en ny, hvis for\neksempel det har tilkommet nye felter osv. Dette gjøres ved å velge ”Oppdater felt” under ”Data” på menylinjen . Du velger da den nye XSD’en og angir at du ikke skal benytte flere kilder. Deretter er det viktig at man kjører ”Regelinspeksjon” fra samme Data-menylinje. Grunnen til dette er at felter som eksisterte i den gamle datakilden, men er fjernet fra den, nye kan være benyttet i xPath-uttrykk. Dette må rettes opp før utgaven kan migreres.\nDefinisjon av sider i InfoPath skjema (Views) Under menylinjen Sideutforming. ”Visning 1” vises som default. Visning betegner side i skjema. Velg ”Ny visning” og skriv navn. Man bør definere beskrivende sidenavn for hver visning/side i InfoPath. Dette er ikke nødvendig, ettersom sidensidenavn og rekkefølge må oppgis i TUL. Men det anbefales å gi navn med løpenummeret slik at sidene kan sees i riktig rekkefølge i InfoPath under utvikling. VITKIG: Sidenavn kan ikke inneholde spesialtegn eller nasjonale tegn.\nFra Visning 1 kopieres det oppsettet man lagde (Ctrl A, Ctrl C) og limes inn på alle sider som skal finnes i skjema.\nInnlegging av felt fra Datakilde (fra XSD) Velg side 1 (Visning 1) og bytt til Datakilde. Legg til Uttrykksbokser for tekstene ”Innledning” og ”Avgiver” som vist under. Husk å sjekke fonter, farger etc. i henhold til sidemal.\nVelg gruppe som skal være på denne siden, ved å markere ”Avgiver-grp-231” under ”GenerellInformasjon-grp-959”, som vist i eksemplet under. Dra den fra Datakilde til punktet under overskriftslinje i skjema og velg Kontroller i oppsettstabell fra popup meny (merk at man ikke kan velge hele siden – dvs gruppe med undergrupper, man må velge gruppe som kun inneholder orid’er. Er det flere slike grupper på side, må alle dras inn på siden enkeltvis).\nDet er også mulig å dra inn enkeltfelter ved å ikke markere hele gruppen, men markere enkeltfelter i datakilden.\nLinje med ”Gruppeid” skal ikke vises, og fjernes ved å markere linjen, høyreklikke og velge ”Slett rader”. Erstatt alle ledetekster i layouttabellen med Uttrykksbokser og tekster som vist i eksempel under, i henhold til standard font/farge. Vær nøye med riktig ledetekst til riktig felt. For å skape ”litt luft” i venstre kant av layout tabellen, anbefales det å legge inn en smal kolonne til venstre. Dette kan gjøres ved markere tabellen, høyreklikke, og velge Sett inn -\u0026gt; Kolonne til venstre fra popup. Denne vil være del av tabellen og det er tabellen som må få riktig avstand til venstre marg.\nSett bakgrunnsfarge på grupperammen (layout tabellen), ved å markere gruppen, høyreklikk og velge Kantlinjer og skygger. Velg flipp Skygger og sett riktig farge (ref avsnitt Fargekoder Altinn).\nFeltene for fødselsnummer og organisasjonsnummer skal være skrivebeskyttet og ha bakgrunnsfarge for skrivebeskyttet felt. Marker felt og velg bakgrunnsfarge fra verktøylinja. For å skrivebeskytte felt, dobbeltklikk på feltet, og Egenskaper for tekstboks vises. Grunnen er at disse feltene skal preutfylles i sluttbrukerløsningen, og vil derfor inneha korrekt data iht folkeregisteret eller enhetsregisteret, og skal dermed ikke kunne endres av utfyller.\nVelg flipp Visning og marker Skrivebeskyttet:\nSett riktig størrelse på feltet i forhold til antall tegn, ved å velge flipp Størrelse, velg riktig enhet og bredde:\nHvis det ikke er et vanlig tekstfelt man ønsker, men en annen type kontroll (radioknapp, nedtrekksliste osv) skal man høyreklikke på feltet Endre til -\u0026gt; og velge ønsket kontroll type:\nVed å høyreklikke på feltet og velge egenskaper kan man velge forskjellige innstillinger som: skrivebeskyttet, max antall tegn i feltet, justering på innholdet, formatet på numerisk felt osv.\nFor å kunne tabulere i riktig rekkefølge, må man velge avanserte egenskaper og sette ønsket tabulatorindeks. Om feltet ikke skal være tabulerbart så skal tabulatorindeks settes til -1.\nKalkyler, eksempel på repeterende gruppe og radioknapper Siden som nå er laget inneholder ikke kalkyler. Det er derfor behov for å bygge en side til, for eksempel side 3 i RF-1189. Vha. ”Legg til visning …”-funksjonen nevnt ovenfor, vil vi kalle siden for ”View 3”. Denne inneholder også en repeterende gruppe (enten tabell for innlegging av flere rader eller seksjon som kan også legges inn flere ganger etter hverandre), knapp (ikon) for hjelpetekst, samt kontroller for radioknapp, nedtrekksliste og datovalg.\nI utgangspunktet benyttes samme fremgangsmåte som for første side i skjemaet. Ledetekster skal settes i hver sin uttrykksboks og feltene som skal benyttes finnes i datakilde under hovedgruppen ”InntekterUtleieverdi-grp-960”. Legg inn den repeterende gruppen for utleieinntekter ved å markere ”Utleie-grp-4939” i datakilden, og dra den inn på skjema. Du får nå 3 valg fra popupmeny, velg ”Gjentatt tabell” og følgende utgangspunkt for videre redigering vil vises:\nHvis repeterende gruppe er veldig stor med lange overskrifter kan det være lurt å velge ”Gjentatt inndeling”, da vil feltene med tilhørende ledetekster bli plassert under hverandre.\nSlett kolonne for ”Gruppeid”, erstatt hver enkelt standard ledetekst med uttryksboks og ledetekst som vist i det ferdige sideeksempel. Husk også å tilpasse bredden slik at den passer med mal-bredden for skjema.\nFortsett med gruppe for kårbolig (Kar-grp-4942), som legges inn med valg ”kontroller i layouttabell”. For de tre siste feltene i denne gruppen, må presentasjon endres til radioknapper. Høyreklikk på feltene, i popup-meny velges ”Endre til” og deretter ”Alternativknapp”. For hver av radioknappene vil det vises en ledetekst på høyre side. Disse må erstattes av de vanlige uttrykksboksene, en for hver tekst. Legg merke til at teksten som skal vises ikke alltid er helt identisk med den genererte fra datakilden (xsd).\nTil sist legges feltene for post 1.3 til post 1.5 inn. Disse feltene ligger i datakilden rett under hovedgruppen ”InntekterUtleieverdi-grp-960”, derfor er det denne som skal markeres som vist under:\nFør kalkylearbeidet kan starte, må feltet for post 1.5 ”Samlet bruttoinntekt” settes til skrivebeskyttet, og layouttabellen tilpasses med blanke kolonner for luft på venstre side, samt plass til å kunne sette inn hjelpeikon senere, som vist i det ferdige sideeksempelet, figur 152.\nDet skal nå legges inn en kalkyle i post 1.5, som skal summere ”Beløp” fra tabellen i post 1.1, samt postene 1.2, 1.3 og 1.4.\nKalkylen skal dermed inneholde følgende elementer og orid’er:\n:22033 = sum(:22014) + :22032 + :22101 + :22026\nEksempel skjermbildene for denne seansen vises samlet under teksten. Høyreklikke på orid :22033 (post 1.5 ”Samlet bruttoinntekt” ), velge ”Egenskaper for tekstboks” (1) og flipp ”Data”. Her vises ”Verdi”-feltet hvor kalkylen skal legges inn.\nKlikk videre på knappen ”fx” til venstre for ”Verdi”-feltet for å komme inn ”Sett inn formel” vinduet (2). Her kan en skrive inn kalkylen. Skriv inn funksjonsnavn og operatorer og velg felt som skal inngå vha. knappen ”Sett inn fellt eller gruppe …” (3). Funksjonsnavn med syntaks kan også velges vha. knappen ”Sett inn funksjon …”.\nKalkylen skal se slik ut når den er ferdig, og inneholder en funksjon ”sum()” som summerer alle rader med angitt felt fra den repeterende gruppen i post 1.1:\nsum(UtleieInntektSpesifisertEiendom-datadef-22014) +\rVedlikeholdskostnaderMvLeietakere-datadef-22032 +\rInntekterAndre-datadef-22101 +\rsum(UtleieInntektSpesifisertEiendom-datadef-22014) +\rEgenleieKarInntekt-datadef-22026\rSkjermbilder henvist til i beskrivelsen over:\nMerk at summeringsfeltet får verdi 0 hvis alle feltene som inngår i kalkyle er tomme. Om dette ikke er ønskelig kan det løses på 2 måter.\nEn er med ”Regler …” funksjonen og en annen er ved å omskrive kalkylen.\nHvis man benytter seg av ”Regler …” funksjonen må man være klar over at et stort antall regler for å tømme summeringsfelter i skjema, kan forårsake dårligere ytelse i skjema. Alternativet omskrivning av kalkyler er da aktuelt.\n”Regler …” funksjonen:\n Høyreklikk på feltet for post 1.5 ”Samlet bruttoinntekt” og velg ”Regler …”   Her kan det legges inn regler tilknyttet feltet ved å trykke på “Ny”-knappen   Velg så “Angi verdien …” for å sette opp kriteriene:    Det første kriteriet er at selve summeringsfeltet skal ha verdi 0. Dette må settes eksplisitt som standardverdi i feltet man sjekker på. Velg deretter de feltene som inngår i kalkylen. For disse velges ”Er tomt”. Alle felt i kalkylen må være med, ellers risikeres at summeringsfeltet blir blanket ut selv om deler av kalkylen har verdi.\n  Trykk OK for å returnere til forige vindu. Til sist må ”Legg til handlig …”-knappen benyttes fra ”Regler”-vinduet. Velg ”Angi verdien for et felt” som aksjon og så feltet som skal settes. ”Felt” vises som et punktum, siden der dette feltet det ble klikket på ved inngang til regeldefinisjonen.\n  Merk at man ikke får skrevet mer enn fem if-setninger i betingelsene. Hvis man vil implementere det for kalkyler med flere felter så må man bruke uttrykksbokser. Dette gjøres ved å ”mellomlagre” deler på den måten at man tar f.eks. to if-setninger og lagrer resultatet av denne i en uttrykksboks og benytter da den aggregerte verdien inn i den betingelsen det ikke var plass.\nOmskrivning av kalkyle:\nDenne metoden kan sees på som et alternativ til ”Regler …” metoden.\nIstedenfor å bruke regler til å tømme summeringsfeltene på hvert av feltene som inngår i kalkylen, vil vi nå kun bruke en formel i summeringsfeltes standardverdi.\nVi bruker en string metode for å bestemme om kalkylen skal vises eller ikke:\nsubstring(Kalkyle, 1, (Betingelse) * (1 div 0))\rHvor ”Kalkyle” byttes ut med kalkylen og ”Betingelse” byttes ut med en eller-sjekk på om alle feltene som ingår i kalkylen er tomme.\n Høyre klikk på summeringsfeltet og velg ”Egenskaper” Trykk deretter på ”fx” knappen til høyre for ”verdi” feltet Med utgangspunkt i malen overfor, fyll ut formelen, erstatt ”Kalkyle” med:  sum(UtleieInntektSpesifisertEiendom-datadef-22014) + VedlikeholdskostnaderMvLeietakere-datadef-22032 + InntekterAndre-datadef-22101 + sum(UtleieInntektSpesifisertEiendom-datadef-22014) + EgenleieKarInntekt-datadef-22026\r Erstatt ”Betingelse” med:  (count(UtleieInntektSpesifisertEiendom-datadef-22014[. != \u0026quot;\u0026quot;]) \u0026gt; 0 or VedlikeholdskostnaderMvLeietakere-datadef-22032 != \u0026quot;\u0026quot; or InntekterAndre-datadef-22101 != \u0026quot;\u0026quot; or count(UtleieInntektSpesifisertEiendom-datadef-22014[. != \u0026quot;\u0026quot;]) \u0026gt; 0 or EgenleieKarInntekt-datadef-22026 != \u0026quot;\u0026quot;)\r Dermed vil resulatet som vises i tekstboksen bli summen av kalkylen hvis en eller flere av feltene som inngår i kalkylen er ikke-tomme.  Kalkyler i repeterende gruppe legges inn på samme måte. Hvis noen repeterende felter skal summeres opp i feltet som er utenfor repeterende gruppe så skal man bruke funksjon SUM og sette inn feltet som skal summeres.\nFlere tips:\n Man har tilgang til alle variabler fra alle sider Man kan kopiere enkelte regler ved å velge \u0026ldquo;Kopier regel\u0026rdquo;-ikonet, eller man kan velge og kopiere alle regler for et felt ved å velge \u0026ldquo;Kopier alle\u0026rdquo;-ikonet. For å skrive kompliserte kalkyler i C#, kan man under Utvikler menylinjen velge Visning byttet-hendelse For å telle antall ikke-tomme felt skal man bruke formel count(felt_xxx[text() != \u0026quot;\u0026quot;]) For å sette in formel med betingelse bruk (field1 | field2)[condition]. For eksempel se http://blogs.msdn.com/infopath/archive/2006/11/27/conditional-default-values.aspx Hvis man skal summere det totale, f.eks pris*antall som repeteres bruk: sum(eval(grp-3455; \u0026quot; datadef-17677 * datadef-23949\u0026quot;)) Ref. http://blogs.msdn.com/infopath/archive/2006/12/04/xpath-powers-calculating-totals.aspx I noen tilfeller vil det ikke være mulig å sette inn feltnavn ved å peke på feltene, og man får gjerne en feilmelding når en prøver på det. I så fall kan man kopiere XPath (for å få tak i XPath så skal man finne feltet i datakilden, høyreklikke og velge kopier XPath) og fjerne stien slik at det kun feltenavn står igjen. For å summere det totale som ovenfor (pris*antall som repeteres bruk) men kun ved spesielle betingelser bruker man formel under. Eksempel gjelder summering kun de tilfellene der valget i en nedtrekksliste ikke er lik ”S”)  sum(eval(NyutstedteAksjerOmfordeling-grp-3455[AksjerNyutstedteFondsemisjonMvType-datadef-17679 != \u0026quot;S\u0026quot;]; \u0026quot;AksjerNyutstedteFondsemisjonMvAntall-datadef-17677 * AksjerNyutstedteFondsemisjonMvPalydende-datadef-23949\u0026quot;))\rValideringer Valideringen forhindrer bruker fra å levere feilaktige data eller f.eks data som ikke kan leveres sammen eller ikke stemmer med hverandre. Valideringen kjøres uansett om feltet er tomt (forskjell fra Altinn I løsning).\nValideringer som gjør bruk av verdier i felles datakilde (skjemasett) må bruke disse verdiene direkte og ikke mellomlagre de i hjelpefelter. Hvis hjelpefelter benyttes så vil ikke valideringene fungere ved innsending fra SBS.\nI versjon 2 er det mulig å legge til valideringer som varsler bruker om potensielle feil, men som ikke forhindrer bruker fra å levere tjenesten, dette kalles myke kontroller. Myke kontroller kan sees på som veiledning til sluttbruker og kan for eksempel gi brukeren beskjed om at han eller hun har skrevet inn en verdi i et felt som virker usannsynlig for et felt eller en kombinasjon av felter.\nFor å legge inn valideringer i RF-1189, er det behov for å legge inn nok en side. Med bakgrunn i tidligere avsnitt, kan denne nå lages som vist under, med unntak av hjelpeikonet. På denne siden inngår layout tabellene ”Nettoinntekt-grp-4945” og \u0026ldquo;OmfatterKostnadeneNoeAvFolgende-grp-2330\u0026rdquo; som ligger under gruppe \u0026ldquo;Kontrollsporsmal-grp-239\u0026rdquo;:\nFor å legge inn validering på et felt skal man høyreklikke på dette, velge Datavalidering-\u0026gt;Legg til og legge inn betingelser og feilmelding.\nLegg inn følgende validering i RF-1189 for post 3.1 og radioknapp med orid :7911:\nTabell 7 – Validering i RF-1189\n   Skjema involvert Kontroll Formel Utslagstekst i Altinn     RF-1189 Må svare på kontrollspørsmål om skatter Utslag_hvis ikke felt_utfylt(:7911); NOB:Vennligst svar på kontrollspørsmålet om skatter i post 3.1. NON:Ver gild og svar på kontrollspørsmålet om skattar i post 3.1.    Dette betyr at det er obligatorisk å velge enten Ja eller Nei ved hjelp av radioknappene; feltet kan ikke være ubesvart.\nHøyreklikk radioknappen i post 3.1 og velg kommando ”Regler”. Velg her ”Behandle regler…” Velg så å legge til en ny validering:\nUnder ”Hvis betingelsen oppfylles:” velges UtgifterSkattFormueInntekt-datadef-7911 (radioknapp-feltet) og med operand ”er ikke lik” og verdi ”Ja”. Velg ”og” og legg til samme operand for samme felt, men denne gang med verdi ”Nei”. Med andre ord sjekker vi på om feltet har enten verdi Ja eller Nei. I skjermtips kan for eksempel legges inn ”Post 3.1” mens feilmelding på bokmål skal være ” Vennligst svar på kontrollspørsmålet om skatter i post 3.1.”. Trykk OK for å returnere til datavalideringsvinduet, og ”OK” for å returnere til skjermbildet.\nTilsvarende valideringer skal legges inn på de to øvrige radioknappfeltene for post 3.2 og 3.3. Sjekk detaljert design for nærmere spesifikasjoner.\nFlere tips:\n Merk at man ikke får lagt inn mer enn 5 betingelser samt at det ikke er mulig å sette parentes mellom OG’er og ELLER’er For å skrive kompliserte valideringer i C#, kan man høyreklikke på et felt og velge Programming-\u0026gt;Validating event. I så fall må Visual Studio være installert. I InfoPath må en huske på å velge aktuell mappe fra skjemaet i Verktøy-\u0026gt;Alternativer for skjema-\u0026gt;Programmering-\u0026gt;Project location for Visual Basic and C# code Ved store valideringer, må en benytte uttrykksbokser.  InfoPath har ikke funksjonalitet for å støtte myke kontroller. Siden myke kontroller vil bli håndtert forskjellig fra feilvalideringer i SBL er det nødvendit å skille mellom myke kontroller og feilvalideringer i InfoPath. Dette gjøres ved å benytte et prefiks før selve meldingen. Alle myke kontroller som defineres i InfoPath-skjemaet skal ha prefikset _MYK_. Meldingen får dermed følgende format _MYK_[meldingstekst], som for eksempel _MYK_Ugyldig postnummer. Teksten _MYK_ blir fjernet før meldingen vises til bruker i SBL.\nAvansert eksempel på validering For de mer viderekomne, gis her et litt mer avansert eksempel på store valideringer med bruk av expression. Det anbefales å sjekke eksemplet i RF-1086.\nImplementering av følgende betingete validering i RF-1086:\n\r\r\rBOH_10:1\r17677, 17678, 17679, 17680, 23949\r10\rHVIS (orid 17677 eller orid 17678 eller orid 17679 eller orid 17680 eller orid 23949 er blanke) SÅ utslag.\r\rI post 10 mangler ett eller flere av de følgende feltene utfylling:\rAntall nyutstedte aksjer, Antall aksjer etter, Hendelsestype, Tidspunkt eller Pålydende per utstedt aksje.\r\r\r\r\rDvs. hvis noen av disse 5 felter av fylt ut skal alle være fylt ut.\nNedenfor følger en anbefaling på hvordan dette kan implementeres:\n Opprette hjelpefelt BOH_10_1 med default value 1. Kopiere Xpath til alle de 5 feltene (med å høyreklikke på feltene i Data source og velge ”Kopier Xpath”). Opprette validering med 2 if-setninger, der det ene sjekker om noen av disse feltene er fylt ut og det andre skjekker om noen av feltene er blank – da skal man få feilmelding, fordi enten alle skal være tomme eller alle skal være utfylt. For å skrive if-setningene, velger man uttrykk og skriver følgene to linjer: Den første linjen/valideringen sjekker om noe er tomt:  /Skjema/UtstedelseAvAksjerIfmFondsemisjonSplittMv-grp-3454/NyutstedteAksjerOmfordeling-grp-3455/AksjerNyutstedteFondsemisjonMvAntall-datadef-17677 | /Skjema/UtstedelseAvAksjerIfmFondsemisjonSplittMv-grp-3454/NyutstedteAksjerOmfordeling-grp-3455/AksjerNyutstedteFondsemisjonMvAntallEtter-datadef-17678 | /Skjema/UtstedelseAvAksjerIfmFondsemisjonSplittMv-grp-3454/NyutstedteAksjerOmfordeling-grp-3455/AksjerNyutstedteFondsemisjonMvType-datadef-17679 | /Skjema/UtstedelseAvAksjerIfmFondsemisjonSplittMv-grp-3454/NyutstedteAksjerOmfordeling-grp-3455/AksjerNyutstedteFondsemisjonMvTidspunkt-datadef-17680 | /Skjema/UtstedelseAvAksjerIfmFondsemisjonSplittMv-grp-3454/NyutstedteAksjerOmfordeling-grp-3455/AksjerNyutstedteFondsemisjonMvPalydende-datadef-23949 = \u0026quot;\u0026quot;\r Videre, følger her den andre som sjekker om noe er fylt ut:  /Skjema/UtstedelseAvAksjerIfmFondsemisjonSplittMv-grp-3454/NyutstedteAksjerOmfordeling-grp-3455/AksjerNyutstedteFondsemisjonMvAntall-datadef-17677 | /Skjema/UtstedelseAvAksjerIfmFondsemisjonSplittMv-grp-3454/NyutstedteAksjerOmfordeling-grp-3455/AksjerNyutstedteFondsemisjonMvAntallEtter-datadef-17678 | /Skjema/UtstedelseAvAksjerIfmFondsemisjonSplittMv-grp-3454/NyutstedteAksjerOmfordeling-grp-3455/AksjerNyutstedteFondsemisjonMvType-datadef-17679 | /Skjema/UtstedelseAvAksjerIfmFondsemisjonSplittMv-grp-3454/NyutstedteAksjerOmfordeling-grp-3455/AksjerNyutstedteFondsemisjonMvTidspunkt-datadef-17680 | /Skjema/UtstedelseAvAksjerIfmFondsemisjonSplittMv-grp-3454/NyutstedteAksjerOmfordeling-grp-3455/AksjerNyutstedteFondsemisjonMvPalydende-datadef-23949 != \u0026quot;\u0026quot;\rPå grunna av at InfoPath har relativt små vinduer som ikke gir god oversikt, anbefales det å skrive alt dette i et tekst-verktøy som for eksempel Notepad og lime inn i InfoPath etterpå. Om alt legges inn korrekt vil Datavalideringsvinduet få ut noe sånt:\nPattern validering For å legge på sjekk av gyldig verdi, for eksempel for og epost, kan man i InfoPath matche verdien mot et pattern. Et pattern er en generisk måte å uttrykke en gitt seksvens og sammensetning av tegn. Dette er også kalt regulæruttrykk. Dette gjøres også vha Datavalideringskommandoen. Eksempel på setting av mønster for epost i skjema RF-1086:\nI tillegg til de valideringene som legges inn av skjemautvikler så vil InfoPath/Forms Server utføre ”xsd valideringer”, dvs restriksjoner som er lagt på feltene i xsd spesifikasjonen til skjemaet. Rekkefølgen på disse feilmeldingene styres av InfoPath/FormServer, og det er ikke mulig å endre denne rekkefølgen. Microsoft har valgt å gi xsd-valideringer (f.eks sjekk på lengde, maks/min verdi og regulære uttrykk) presidens foran valideringen som sier at feltet er påkrevd. Dette er årsaken til at meldinger som f.eks. ”Only spesific pattern allowed” vises før ”Cannot be blank”.\nHvis man velger å benytte pattern validering, så vil man kunne se at regulæruttrykket vises i høyrekolonnen i SBL ved validering. For å komme rundt dette, må man gjøre følgende:\n Legg inn et hjelpefelt istedenfor feltet som har pattern validering. Feltet som kommer fra datakilde skal da ikke dras inn i skjemaet. Legg inn en egen pattern validering på hjelpefeltet med en egen feilmelding slik at denne vises istedenfor pattern valideringsmeldingen fra xsd’en. Overfør verdien til det egentlige feltet fra hjelpefeltet. Hvis dette gjelder felter i en repeterende gruppe så må hjelpefeltet ligge i en altinn xsd, ellers samme prinsipp.  Hvis denne metodikken benyttes vil man unngå at regulæruttrykkene vises i SBL.\nValidering fra VSTA / C#-kode I enkelte tilfeller ønsker man også å kunne produsere valideringsmeldinger fra C#-koden.\nDette gjøres ved at man i koden har følgende kode for hver valideringsmelding:\npublic void InnsenderHvitvaskingAnsvarligFornavn_2D_datadef_2D_33869_Validating(object sender, XmlValidatingEventArgs e) { if (e.Site.Value.Equals(\u0026#34;123\u0026#34;)) { e.ReportError(e.Site, true, \u0026#34;Feilmelding\u0026#34;); } } Merk at man også her, hvis ønskelig, benytter ressurstekster (ref. kap 21.1.1) til å kunne vise feilmeldingen på språket som sluttbruker har valgt i portalen (SBL). Man trenger ikke gjøre noe annet enn å hente inn teksten fra ressurstekstens datakilde. Bl.a. språk trenger man ikke ta hensyn til da ressurstekstene er allerede knyttet til skjema på riktig språk.\nAltinn portalen er utvidet med funksjonalitet for å trigge validering av hovedskjema (HS) når et underskjema (US) valideres.\nHvis man legger inn et hjelpefelt som heter ValidateMainForm, som ligger i my namespacet (my:ValidateMainForm), og som har verdien \u0026ldquo;true\u0026rdquo;, så vil Altinn portalen gjøre en validering av HS hvis HS allerede er validert OK.\nDynamikk Dynamikk går ut på at utseende/oppførsel til et felt i skjermbildet, er avhengig av en betingelse knyttet til informasjon i et annet felt. Utfra de sidene som nå er laget i skjema RF-1189, kan det legges inn dynamikk for følgende spesifikasjon fra detaljert design:\nTabell 8 – Dynamikk\n   Feltnavn (Datadef/orid) Post i skjema Beskrivelse av dynamikk     7911/ 7912 3.1 Beløpsfelt skal gråes ut hvis svar er nei   7913/ 7914 3.2 Beløpsfelt skal gråes ut hvis svar er nei   7915/ 7916 3.3 Beløpsfelt skal gråes ut hvis svar er nei    Dette er en vanlig form for dynamikk, som altså går ut på å ”disable” et felt ved inntreff av en betingelse. Normalt ønskes det at både feltet og ledeteksten blir ”grået ut”, og at det ikke er mulig å klikke inn i feltet. I tillegg skal feltet her blankes ut. Denne dynamikken skal inn på samme skjemaside som også vist i ”Figur 1189 View 6” i forrige avsnitt (Valideringer):\nSom spesifikasjonen viser, gjelder dynamikken alle de 3 siste postene. Her nøyer vi oss med å legge den inn for Post 3.1, vha følgende framgangsmåte:\n  Høyreklikke på feltet 7912 (”Ev. beløp”) og velge ”Betinget formattering…”.\n  Først skal vi sette feltet vårt til Skrivebeskyttet. Trykk knappen ”Legg til…” for å legge inn betingelsen på samme vis som ved valideringer (opp til 5 linjer) som vist under: Det er her kun behov for en linje i betingelsen. I første nedtrekkslisteboksen velges radioknappfeltet ”UtgifterSkattFormueInntekt-datadef-7911”, i neste ”er ikke lik” og verdien i det siste skal være ”Nei”. Til slutt klikkes det på ”skrivebeskyttet” og ”OK”. I dette tilfellet velger vi ikke at feltet skal skjules, noe som kan ellers kan være aktuelt. For de andre radioknappene i samme ”gruppe” vil det være vice versa.\n  Merk at feltet ikke blir tømt selv når det er skrivebeskyttet eller skjult. Derfor må verdien fjernes manuelt ved å opprette en regel (Rule) på det feltet som styrer dynamikken (radioknapp feltet 7911). Det er verdt å merke seg at reglene kjøres kun når feltene er blitt valgt og gitt en verdi. Regel opprettes ved å:\n Høyreklikke radioknapp feltet 7911. Velge ”Regler…”. Klikk på ”Legg til…” knappen for å legge til en ny regel. Klikk ”Angi betingelse …” for å sette opp betingelse for når regelen skal kjøres (”UtgifterSkattFormueInntekt-datadef-7911” ”is equal to” ”Nei”). Trykk OK for å returnere. Til sist settes selve aksjonen opp ved å trykke på ”Legg til handling …”. Handling settes til ”Sett feltverdi”. Felt skal være ” UtgifterSkattFormueInntektBelop-datadef-7912”. Verdi skal være blank.    For å utføre dynamikken også på ledetekst ”Ev. beløp”, må denne være opprettet som uttrykksboks. Uttrykksbokser kan behandles som et vanlig felt og man kan legge på samme betinget formattering på den. Til forskjell fra formatet på feltet, kan det her settes en fargekode som for et felt som er skrivebeskyttet (ref avsnitt Fargekoder Altinn)\n  Avansert eksempel på dynamikk For de mer viderekomne, gis her et noe mer avansert eksempel på dynamikk som krever bruk av expressions. Eksemplet kan sjekkes i RF-1097. Bruk av expressions er nødvendig dersom man må bruke flere enn 5 felt/betingelser. Formelen må da bygges opp ved å bruke XPath på feltene.\nNB! InfoPath bryter automatisk en stor expression i flere. Derfor bør man ikke blande or og and i samme expression\nNedenfor eksempel fra RF-1097:\n/Skjema/SoknadOmEndringAvEllerKravOmForskuddsskatt-grp-7675/Innsender-grp-7676/EnhetOrganisasjonsform-datadef-30638 = \u0026quot;1\u0026quot; or /Skjema/SoknadOmEndringAvEllerKravOmForskuddsskatt-grp-7675/Innsender-grp-7676/EnhetOrganisasjonsform-datadef-30638 = \u0026quot;3\u0026quot; or /Skjema/SoknadOmEndringAvEllerKravOmForskuddsskatt-grp-7675/Innsender-grp-7676/EnhetOrganisasjonsform-datadef-30638 = \u0026quot;5\u0026quot; or /Skjema/SoknadOmEndringAvEllerKravOmForskuddsskatt-grp-7675/Innsender-grp-7676/EnhetOrganisasjonsform-datadef-30638 = \u0026quot;11\u0026quot; or /Skjema/SoknadOmEndringAvEllerKravOmForskuddsskatt-grp-7675/Innsender-grp-7676/EnhetOrganisasjonsform-datadef-30638 = \u0026quot;12\u0026quot; or /Skjema/SoknadOmEndringAvEllerKravOmForskuddsskatt-grp-7675/Innsender-grp-7676/EnhetOrganisasjonsform-datadef-30638 = \u0026quot;14\u0026quot; or /Skjema/SoknadOmEndringAvEllerKravOmForskuddsskatt-grp-7675/Innsender-grp-7676/EnhetOrganisasjonsform-datadef-30638 = \u0026quot;20\u0026quot; or /Skjema/SoknadOmEndringAvEllerKravOmForskuddsskatt-grp-7675/Innsender-grp-7676/EnhetOrganisasjonsform-datadef-30638 = \u0026quot;67\u0026quot; or /Skjema/SoknadOmEndringAvEllerKravOmForskuddsskatt-grp-7675/Innsender-grp-7676/EnhetOrganisasjonsform-datadef-30638 = \u0026quot;68\u0026quot; or /Skjema/SoknadOmEndringAvEllerKravOmForskuddsskatt-grp-7675/Innsender-grp-7676/EnhetOrganisasjonsform-datadef-30638 = \u0026quot;69\u0026quot; or /Skjema/SoknadOmEndringAvEllerKravOmForskuddsskatt-grp-7675/Innsender-grp-7676/EnhetOrganisasjonsform-datadef-30638 = \u0026quot;86\u0026quot;\rSlik blir eksempelet seende ut i InfoPath:\nRessursfiler og tekstfiler I skjemaet kan man komme borti situasjoner hvor man har behov for å oversette tekster som ikke kan puttes inn i uttrykksbokser eller av andre grunner ikke kan oversettes i TUL. For å kunne benytte slike tekster velger man å bruke ressursfiler. En ressursfil kan være en hvilken som helst fil, som InfoPath pakker sammen med skjemaene.\nFor å få ressursfiltekster til oversetting i TUL velger man å lage seg en XML-fil som man kaller Ressurstekster.xml. Denne må være på følgende format og innholdet må være på utgavens hovedspråk:\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;ResourceTexts\u0026gt; \u0026lt;ResourceText name=\u0026#34;orgnr_kan_ikke_brukes\u0026#34;\u0026gt; \u0026lt;Message\u0026gt;Organisasjonsnummer kan ikke brukes\u0026lt;/Message\u0026gt; \u0026lt;MessageDetail\u0026gt;Vennligst korrigèr org.nr.\u0026lt;/MessageDetail\u0026gt; \u0026lt;/ResourceText\u0026gt; \u0026lt;ResourceText name=\u0026#34;fnr_er_ikke_gyldig\u0026#34;\u0026gt; \u0026lt;Message\u0026gt;Fødselsnummeret kan ikke brukes\u0026lt;/Message\u0026gt; \u0026lt;MessageDetail\u0026gt;Vennligst korrigèr fødselsnummer\u0026lt;/MessageDetail\u0026gt; \u0026lt;/ResourceText\u0026gt; \u0026lt;/ResourceTexts\u0026gt; Som man ser fra XML’en over så har man flere sett med tekster, hvor hver nøkkel ( har to korresponderende tekster. Dette blir på samme måte som med valideringstekster.\nDet er viktig at nøkkelen er unik innad i skjemaet. Man kan ha så mange tekstsett man vil.\nEt sett med tekster er definert vha \u0026lt;ResourceText\u0026gt; -noden.\nNår XML-filen er ferdig, velger man å legge den til i InfoPath. Dette gjøres ved gå til Verktøy på menylinjen og velge Ressursfiler\u0026hellip; Legg deretter til Ressurstekster.xml. Nå er det flere måter å ta i bruk tekstene på, men det letteste er å legge til en datakobling mot denne ressursfilen. Dette gjøres på samme måte som man legger til en kodeliste, men istedenfor å hente data fra en web-service, velger man å hente fra et XML-dokument. På neste side klikker man på Ressursfiler\u0026hellip; og velger Ressurstekster.xml. Nå er disse tekstene klare for å benyttes i skjema, på samme måte som felter fra hoveddatakilden.\nTekstene i filen Ressurstekster.xml vil være tilgjengelig for oversetting i TUL sin oversettingsmodul etter at skjemaet er sjekket inn. På denne måte vil InfoPath-filene på de ulike språkene ha lokaliserte ressurstekster.\nUnder følger et eksempel på hvordan man tar i bruk en ressurstekst i en regel.\nNår man legger til en hendelse på en regel, velger man å sette verdi i et felt. Dette er default-valget i en ny regel. Deretter velger man feltet som skal få en verdi, og så verdien, enten Message eller MessageDetail. For å hente riktig verdi velger man å lage en xPath ved å klikke på funksjonsknappen. Velg så å legg til felt eller gruppe og velg datakilden til ressursfilen. Her velger man feltet Message og så Filtrer Data. Det som er viktig nå, er at man filtrerer på name; velg å legg til ny filtrering og definer at name skal være lik, og så må man angi nøkkelen til tekstsettet man ønsker å benytte.\nPå denne måten vil man kunne bruke tekster fra annet enn uttrykksbokser/skjemaelementer, oversette de i TUL og fylle de inn i inputbokser etc.\nHjelpefelter, verdioverføringer Man kan opprette hjelpefelter som ikke finnes opprinnelig i XSD og bruke dem f.eks for å vise delsummer på andre sider. For å opprette felt eller gruppe skal man velge ”Datakilde”, høyreklikke på ”Skjema” og velge ”Legg til…”. Skriv her inn navn på felt og trykk OK. Feltet vises nå under ”Datakilde” på skjemaets høyeste nivå. Deretter kan man dra feltet fra ”Datakilde” til visning (side) og plassere feltet der man vil og velge ønsket felttype (kontrol).\nMerk at i ”Datakilde” forblir feltet på øverste nivå, det er ikke mulig å få flyttet det til andre sider eller grupper som er definert i XSD.\nVerdioverføringer For å vise verdien fra et felt på en annen side (view) i skjema, trenger en ikke å opprette duplikate-felt. For dette kan man bare dra det originale feltet fra ”Datakilde” til de stedene man vil ha det (husk at å la alle disse kopiene være skrivebeskyttet).\nEksempel på verdioverføring finnes allerede i skjemaeksemplet vårt. Se ”Figur 1189 visning 6” eller visning 6 i InfoPath. Der viser feltet for samlet bruttoinntekt den overførte verdien fra post 1.5 i visning 3. Dette har skjedd automatisk ved at feltet ”BruttoinntektUtleieMv-datadef-22033” også er blitt opprettet i visning 6.\nMan trenger dermed ikke å overføre verdier av delsummer fra side til side, fordi en i InfoPath har tilgang til alle variabler fra alle steder i skjema.\nMan får ikke opprettet egendefinerte grupper eller repeterende felter, men man kan legge kontrolluttryksboks inn i repeterende gruppe og opprette kalkyler eller dynamikk der.\nNår man oppretter lister, eksempelvis nedtrekkslister, vil verdien denne viser være kodeverdien. For at man skal få frem tekstverdien som svarer til denne koden, må man benytte seg av et hjelpefelt. I hjelpefeltet henter man tekstverdien som svarer til koden ifra listen. Hjelpefeltet defineres så som en presentasjonsfelt istedenfor listen. På denne måten vil tekstverdien og ikke kodeverdien vises i den aktuelle listen.\nWeb-, print- og kvitteringssider For å lage printutgaver basert på skjermbildene på Web, skal man opprette så mange view’er som det er sider i skjema, kalle dem f.eks ”Print view 1” osv. Deretter kopiere og lime innholdet fra hver side til tilhørende print view side.\nPrint view’ene kan settes til å være read-only ved å velge ”Egenskaper” under “Sideutforming” flipp ”Generelt” og krysse av for skrivebeskyttet. I flipp ”utskriftsinnstillinger” kan man også sette formatet på side som skal skrives ut. Benytt gjerne forhåndsvisfunksjonen for å verifisere utskriftversjon.\nHvis man vil ha en annen layout på printutgavene, for eksempel slå sammen flere web sider på samme printside, så er det bare å opprette det nødvendige antall visninger, definere ønsket layout, for eksempel ved å kopiere felter fra andre web sider (views) eller dra dem direkte fra datakilden.\nKvittering opprettes på samme måte. Lag et ekstra view og kall den f.eks ”Receipt”. Definer deretter layout og legge på de feltene som man ønsker å ha på kvitteringen.\nDet er også mulig å definere hjelpefelter og legge dem på print utgaver og kvitteringen\nHjelpetekster (knapper) Svært mange skjermbilder i Altinn er definert med mulighet for å få opp hjelpeinformasjon på skjermen. Til dette benyttes det i InfoPath hjelpeknapper som ser slik ut:\nBildefilene vil du finne på \\\\alt-tul-db-c02\\tulshare\\InfoPath\\Etater på TUL-Share.\nFor å plassere en bildeknapp i skjermbildet, klikk på «Picture button» under «Controls» på hjemmefanen. Klikk på knappen for å vise «Button Properties». Her kan knappen tilpasses. Klikk «Picture» for å legge til hovedbildet. Klikk «Hover» for å legge til bilde som skal vises når du holder musen over knappen.\nDeretter kan knappen kopieres til alle stedene i skjema hvor det skal være hjelpeknapper, og det gjenstår bare å endre til respektive Id’er:\n Høyreklipp på bildeknappen og velg egenskaper for bildeknapp. Endre ID fra CTRLXX til HelpText_xxx, hvor xxx er valgfri.  Sporvalg For at sporvalgsfelter skal fungere i InfoPath skjema, er det nødvendig med to handlinger. Først må sporvalgsfeltet settes til å alltid poste tilbake til serveren. Dette gjøres ved å dobbeltklikke feltet, velge flipp Webleserskjemaer og velg radioknapp Alltid, som vist under:\nDet andre er at det må legges inn C# kode for feltets Changed hendelse. Sporvalg er ikke er en del av eksempel skjema RF-1189, men kan enkelt legges til ved å benytte “Utvikler” og “Endret hendelse”:\nFølgende kode skal legges inn for dette feltet:\nNotifyHost(\u0026#34;TrackFieldChanged_\u0026#34; + e.Site.Name); Dette skal legges i metoden som automatisk ble lagt til av Visual Studio.\npublic void OppgaveAr_2D_datadef_2D_11236_Changed(object sender, XmlEventArgs e) { NotifyHost(\u0026#34;TrackFieldChanged_\u0026#34; + e.Site.Name); } Hvis det benyttes avmerkingsbokser for sporvalg, må det håndteres at kombinasjonen av disse angir et spor. Ellers må samme kode legges på Changed hendelsen for avmerkingsbokser.\nInnlegging av kode i et skjema For å kunne legge inn kode i skjema må man gjøre følgende:\n Velg ”Fil”, deretter “Alternativer for skjema” fra verktøymenyen. Velg ”Programmering”. Velge C# som programmerings språk under Kodespråk for skjemamal. Merk at denne kan være grået ut og forhåndsvalgt. I Prosjektplassering, bla til mappe hvor InfoPath skal legge koden, helst i samme mappe som XSN fila (skjemafilen) på TUL-Share.  Merk at når man har kodet ferdig, må man velge Build i Visual Studio for å sikre at koden blir med inn i skjema.\nSe eksempel nedenfor:\nForhåndsvisning og enhetstest i InfoPath I InfoPath gis det mulighet til å foreta en enkel inspeksjon av hvordan skjema fungerer, ved å benytte ”Forhåndsvisnings”-valget. Denne finnes i verktøylinja i InfoPath og kan benyttes til enhetstest av skjema. For eksempel kan det legges inn verdier, og en kan verifisere at feltene oppfører seg som de skal. Det samme gjelder for kalkylene som er lagt inn. Eksempel fra RF-1189 View 3:\nFor å komme tilbake til Design modus, velges ”Lukk forhåndsvisning” fra verktøylinja.\nViktig tips dersom det vises følgende feilmelding når en skal åpne forhåndsvisning:\n \u0026ldquo;InfoPath cannot open the selected form\u0026rdquo;\n I InfoPath må da kommando “Fil -\u0026gt; Alternativer for skjema -\u0026gt; Sikkerhet og klarering” velges, deretter:\n Huk av \u0026ldquo;Bestem sikkerthetsnivå automatisk (anbefales)\u0026rdquo; Velg radioknapp ”Fullstendig klarering” og trykk ”OK”  Dette tipset er for øvrig hentet fra http://social.msdn.microsoft.com/Forums/en-US/vsto/thread/4f497859-b1f7-4498-95cb-bb9903bfaf5c (Gjelder for 2007 versjon, men kan fortsatt være til hjelp i 2010 versjon)\nMerk at det ikke er mulig å teste preutfylling eller uthenting av andre data fra sluttbrukerløsningen. Man får dog testet alle hjelpevariabler, kodeliste etc.\nFargekoder Altinn  Foreløpig utgave pr 2009-05-18\u0026hellip;\n    Fargekode RGB     Bakgrunn side 241,245,247   Bakgrunn grupperamme 226,234,240   Rammestrek rundt grupperamme 212,224,231   Overskrift - skjema (9pt bold) 22,55,68   Strek øverst på siden 223,237,239   Overskrift gruppe (8pt bold) 0,51,102   Ledetekst (8pt) 0,51,102   Felttekst (8pt) 0,51,102   Fremskutt hjelpetekst 112,150,175   Bakgrunn - Skrivebekyttet felt 226,234,240 (samme som bagrunn grupperamme)   Hjelpeikon - bakgrunn 231,226,161   Ramme rundt felt 212,208,200   Ramme rundt web-side 184,203,216 (vises på WEB-PRINT)    I beskrivelsen over vil f.eks. 9ptbold bety skriftstørrelse 9 og fete typer.\nSkrifttyper\nDet er for InfoPath-skjemaer , som for HTML generelt når det gjelder skrifttyper (fonts).\nDet er derfor viktig å velge standardiserte skrifttyper som f.eks. Arial, Verdana, Times New Roman, Lucida etc. Det vil være opp til sidemalen hvilken skrifttype som bør benyttes, samt hvordan denne vises i de ulike browserene/OS’ene.\nSette fargekoder i InfoPath\n Ekspander nedtrekksgardin for farge. Velg More Colors.  I vindu \u0026ldquo;Farge\u0026rdquo;:\nVelg en hvit tom rute under seksjon egendefinerte farger. Endre fargekoder for rød, Grønn og Blå (se koder over). Legg til egendefinert farge. Lagre som en egendefinert farge . OK.  "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/digitaldialog/",
	"title": "Digital dialog",
	"tags": [],
	"description": "Med digital dialog kan du lage alt fra enkle til avanserte skjemaer.",
	"content": "Prosessen for å lage skjemaer og meldinger vil være forskjellig alt etter som hvor stor eller liten målgruppen er, hvor mye data som skal behandles eller hvor mye jobb det er å legge til rette for at egne systemer kan snakke med Altinn.\nSlik går du frem:\n Start alltid med å definere brukerbehov\nTenk nøye gjennom hele prosessen fra et brukerperspektiv. Hva er utfordringen og hvem skal den løses for? Hva er databehovet? Lag gjerne en skisse til kommunikasjon med brukeren og test skissen på folk i målgruppen. God planlegging er nøkkelen til et godt resultat. Sjekk Guide: Hvordan jobbe brukerorientert? for inspirasjon. Få tilgang til systemer\nHvis du ikke har utviklet tjenester i Altinn før trenger du tilgang til Altinn tjenesteutviklingsløsning og domeneklient. I tillegg trenger du tilgang for å benytte Altinn sine webservicer. I Kom i gang med utvikling kan du lese om hvordan du får tilganger. Tilrettelegge egne systemer for sending og mottak av data\nFor å kunne sende og motta data trenger du å legge til rette for dette i de interne systemene. Den mest brukte formen for integrasjon mot Altinn er ved bruk av SOAP, men batch er også mulig hvis det er snakk om store datamengder. Utvikle tjenestene\nEn digital dialog består gjerne av et skjema og en melding som du lager i Altinns tjenesteutviklingsløsning og domeneklient. I domeneklienten definerer du felter i skjema for å kunne gjøre oversendinger til ditt system. Her er det en god idé hvis du på forhånd har jobbet med flyt og tekster i skjemaet ut fra et brukerperspektiv, slik at du har klart for deg hva som skal utvikles. Under brukerveiledning for TUL kan du lese mer om hvordan du går frem. Altinn får nye skjema og nytt verktøy for å lage skjema og meldinger i løpet av 2019! Les mer om Altinn Studio Teste tjenestene\nAltinn har et eget testmiljø hvor du kan teste om tjenester og grensesnitt virker som det skal. I testmiljøet bruker du fiktive testpersoner og organisasjoner. Når du har kommet så langt i utviklingen er det også viktig å brukerteste den endelige løsningen på reelle folk i målgruppen. Dette for å sikre at det ikke er noen hinder for de som skal bruke tjenestene. Produksjonssette tjenestene\nProduksjonssetting av tjenestene gjøres ved å lage en bestilling til Altinn sin selvbetjeningsløsning. Denne får du innlogging til i oppstartsmøtet med Altinn. Som regel kan tjenestene produksjonssettes samme dag som bestillingen sendes. Husk å sjekke at tjeneste og tilhørende grensesnitt fungerer i produksjonsmiljø før produksjonssetting.  \r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/tjenester/ebevis/",
	"title": "eBevis",
	"tags": [],
	"description": "Informasjon om leverandører i offentlige anskaffelser",
	"content": "eBevis er et samarbeid Brønnøysundregistrene, Skatteetaten, Digitaliseringsdirektoratet og DFØ. Løsningen ble produksjonsatt 01.04.19.\neBevis er en løsning som er laget for å digitalisere anskaffelsesprosessen, og brukes samtidig som et verktøy for å kontrollere om leverandører er seriøse. eBevis lar offentlige oppdragsgivere/innkjøpere få tilgang til å hente inn definerte sanntidsdata om leverandører i forbindelse med offentlige anskaffelser. Det gjelder både før og etter kontraktinngåelse.\nVed hjelp av samtykkeløsningen i Altinn eller hjemmel, vil løsningen kunne høste og avgi ikke-åpne data, for eksempel skatteopplysninger.\nTjenesten forvaltes av Brønnøysundregistrene.\nLes mer om anskaffelser  Lenke til beskrivelse av eBevis-tjenesten hos Brønnøysundregistrene  Beviskoder \r\r\r\r\n\rTilgang\rAsynkron\rMaks tilgjengelighet\rHar parametre\r\rParametere\rDette er parametere som kan eller må oppgis i forespørselen\n\r\rParameter\rType\rPåkrevd\r\r\r\r\r\r \r\r\r\rVerdier i retur\rDette er feltene som ligger i svaret\n\r\rParameter\rType\rKilde\r\r\r\r\r\r \r\r\rEksempel på forespørsel\r\r\r\r\r\r\r\r\r\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/tjenester/tilsynsdata/eksempler/enhetsinformasjon/",
	"title": "Enhetsinformasjon",
	"tags": [],
	"description": "Datamodell og schema",
	"content": "Schema { \u0026#34;$schema\u0026#34;: \u0026#34;http://json-schema.org/draft-07/schema#\u0026#34;, \u0026#34;$id\u0026#34;: \u0026#34;enhetsinformasjon\u0026#34;, \u0026#34;title\u0026#34;: \u0026#34;Tilda/enhetsinformasjon\u0026#34;, \u0026#34;definitions\u0026#34;: { \u0026#34;tilsynsadresse\u0026#34;: { \u0026#34;$id\u0026#34;: \u0026#34;tilsynsadresse\u0026#34;, \u0026#34;type\u0026#34;: [ \u0026#34;object\u0026#34;, \u0026#34;null\u0026#34; ], \u0026#34;properties\u0026#34;: { \u0026#34;lokalitetsreferanse\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;bygningsnummer\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;bruksenhetsnummer\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;adressenavn\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;adressenummer\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;postnummer\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;poststedsnavn\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;kommunenummer\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;bydel\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;fylkesnummer\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;lengdegrad\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;breddegrad\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;stedstype\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;stedbeskrivelse\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] } }, \u0026#34;required\u0026#34;: [ \u0026#34;lokalitetsreferanse\u0026#34;, \u0026#34;bygningsnummer\u0026#34;, \u0026#34;bruksenhetsnummer\u0026#34;, \u0026#34;adressenavn\u0026#34;, \u0026#34;adressenummer\u0026#34;, \u0026#34;postnummer\u0026#34;, \u0026#34;poststedsnavn\u0026#34;, \u0026#34;kommunenummer\u0026#34;, \u0026#34;bydel\u0026#34;, \u0026#34;fylkesnummer\u0026#34;, \u0026#34;lengdegrad\u0026#34;, \u0026#34;breddegrad\u0026#34;, \u0026#34;stedstype\u0026#34;, \u0026#34;stedbeskrivelse\u0026#34; ] } }, \u0026#34;type\u0026#34;: \u0026#34;object\u0026#34;, \u0026#34;properties\u0026#34;: { \u0026#34;navn\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;tilsynsobjektHovedenhet\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;tilsynsobjekt\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;besoeksadresse\u0026#34;: { \u0026#34;$ref\u0026#34;: \u0026#34;tilsynsadresse\u0026#34; }, \u0026#34;naeringskode\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;organisasjonsform\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;aarligOmsetning\u0026#34;: { \u0026#34;type\u0026#34;: [ \u0026#34;string\u0026#34;, \u0026#34;null\u0026#34; ] }, \u0026#34;driftsstatus\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;string\u0026#34;, \u0026#34;enum\u0026#34;: [ \u0026#34;konkurs\u0026#34;, \u0026#34;underAvvikling\u0026#34;, \u0026#34;underTvangsavviklingEllerTvangsopploesning\u0026#34;, \u0026#34;ok\u0026#34; ] } } } Eksempel { \u0026#34;navn\u0026#34;: \u0026#34;Organisasjonen AS\u0026#34;, \u0026#34;tilsynsobjekt\u0026#34;: \u0026#34;123456789\u0026#34;, \u0026#34;besoeksadresse\u0026#34;: { \u0026#34;lokalitetsreferanse\u0026#34;: null, \u0026#34;bygningsnummer\u0026#34;: null, \u0026#34;bruksenhetsnummer\u0026#34;: null, \u0026#34;adressenavn\u0026#34;: \u0026#34;Adresseveien 9000\u0026#34;, \u0026#34;adressenummer\u0026#34;: null, \u0026#34;postnummer\u0026#34;: \u0026#34;1415\u0026#34;, \u0026#34;poststedsnavn\u0026#34;: \u0026#34;OPPEGÅRD\u0026#34;, \u0026#34;kommunenummer\u0026#34;: \u0026#34;0021\u0026#34;, \u0026#34;bydel\u0026#34;: null, \u0026#34;fylkesnummer\u0026#34;: \u0026#34;0301\u0026#34;, \u0026#34;lengdegrad\u0026#34;: null, \u0026#34;breddegrad\u0026#34;: null, \u0026#34;stedstype\u0026#34;: null, \u0026#34;stedbeskrivelse\u0026#34;: null }, \u0026#34;naeringskode\u0026#34;: \u0026#34;47.110\u0026#34;, \u0026#34;organisasjonsform\u0026#34;: \u0026#34;AS\u0026#34;, \u0026#34;aarligOmsetning\u0026#34;: \u0026#34;1mnok\u0026#34;, \u0026#34;driftsstatus\u0026#34;: \u0026#34;ok\u0026#34; } "
},
{
	"uri": "https://altinn.github.io/docs/api/rest/kom-i-gang/",
	"title": "Kom i gang med REST API",
	"tags": [],
	"description": "Selv om tilgang til Altinns REST API er åpent, må du registrere din applikasjon og autentisere deg. Dette for at vi skal kunne stoppe misbruk og feilbruk.",
	"content": "Registrer din applikasjon Dette gjøres litt ulikt avhengig om du representerer en tjenesteeier eller ikke.\nEr du allerede tjenesteeier i Altinn? Da bestiller du tilgang fra tjenesteeier sitt dashboard på Altinn/digitalisering (krever innlogging). Her velger du \u0026ldquo;Support\u0026rdquo; \u0026raquo; \u0026ldquo;Ny sak\u0026rdquo; \u0026raquo; \u0026ldquo;Bestilling\u0026rdquo; \u0026raquo; \u0026ldquo;Tilganger\u0026rdquo; \u0026raquo; \u0026ldquo;REST API\u0026rdquo;. Har du ikke tilgang til dashboard kan du be om dette ved å sende en henvendelse til tjenesteeier@altinn.no. Er du innleid konsulent må tilganger bestilles av den etaten/kommunen du jobber for.\nEr du ikke tjenesteeier i Altinn? Da fyller du ut denne bestillingen og sender inn (krever innlogging i Altinn)\nNår vi har registrert informasjonen vil vi sende en API-nøkkel som du må benytte i din applikasjon.\nAutentisering For at tilgang til innholdet i brukerens meldingsboks skal gis, kreves det at du autentiserer deg.\nAltinn API støtter fire ulike autentiseringsmetoder. Dersom du trenger tilgang til Altinns REST-api for tjenesteeiere må du bruke Maskinporten eller virksomhetssertifikat som autentiseringsmetode.\n\rVis/skjul innhold\r\rAutentisering med brukernavn og passord\r\r\rAutentisering med brukernavn og passord Altinn API støtter autentisering med kun brukernavn (eller personnummer) og passord registrert på brukerens profil i Altinn. Registrering av brukernavn og passord gjøres i Altinn portalen under Profil, roller og rettigheter.\nAutentisering med brukernavn og passord gir tilgang til å hente meldinger og sende inn skjema som krever sikkerhetsnivå 1.\n1. Utfør autentisering Send følgende POST-forespørsel mot APIet:\nPOST https://www.altinn.no/api/authentication/authenticatewithpassword HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey { \u0026#34;UserName\u0026#34;: \u0026#34;MyUsername\u0026#34;, \u0026#34;UserPassword\u0026#34;: \u0026#34;MyPassword\u0026#34; } Ved korrekt autentisering vil du få status 200 OK som respons fra Altinn REST API\n2. Hente ut påloggings-token Etter vellykket pålogging oppretter Altinn et sett med tokens i form av HTTP cookies i Set-Cookie header.\nNår Altinn har opprettet disse token burde din applikasjon hente de ut\nHer er eksempler på hvordan du kan hente ut token i HTTP cookie på de vanligste plattformene:\n Android: CookieManager#getCookie(URL) kan brukes til å hente ut cookien satt av Altinn. Detaljert eksempelkode på denne teknikken kan du finne her. iOS: Din applikasjon kan hente ut cookies satt av Altinn ved å bruke NSHTTPCookieStorage. Dette blir ofte kalt \u0026ldquo;cookie jar.\u0026rdquo;  NSHTTPCookie *cookie; NSHTTPCookieStorage *cookieJar = [NSHTTPCookieStorage sharedHTTPCookieStorage]; for (cookie in [cookieJar cookies]) { NSLog(@\u0026#34;%@\u0026#34;, cookie); } Detaljert eksempelkode på denne teknikken for iOS finner du her.\n3. Videreføre påloggings-token i kall til Altinn API Tokenet .ASPXAUTH legges i HTTP header som \u0026ldquo;Cookie\u0026rdquo; i videre på kall til Altinn API:\nCookie: .ASPXAUTH=2AF7F203... API nøkkelen må også legges ved i HTTP header slik:\nApiKey: myKey API nøkkel får du etter registrering av din applikasjon.\n\r\r \rVis/skjul innhold\r\rAutentisering med Token\r\r\r\rAutentisering med ID-porten\rAutentisering med ID-porten Altinn tilbyr OIDC/OAuth2-basert autentisering og autorisasjon for eksterne integrasjoner (f.eks. sluttbrukersystemer) via ID-porten for endepunkter som krever person-autentisering. For å få tilgang til samarbeidsportalen, hvor virksomheten din kan konfigurere klienter som brukes for å aksessere Altinns API-er, ta kontakt med servicedesk@digdir.no.\nAltinn definerer en rekke scopes som kan brukes for å begrense tilgangen en gitt klient kan få. Se liste over scopes for mer informasjon om hvordan du kan provisjonere din klient.\nAltinn vil fortsette å støtte legacy autentisering via ID-porten og cookies en tid fremover, men dette mønsteret anbefales ikke for nye integrasjoner.\nID-porten støtter ulike flyter avhengig av implementasjon og hvordan klienten er konfigurert. Se integrasjonsguiden for utfyllende informasjon om hvordan du integrerer med ID-porten.\nEn typisk autorisasjonskode-flyt er som følger:\n1. Send sluttbruker til autorisasjonsendepunkt GET https://oidc-ver2.difi.no/idporten-oidc-provider/authorize?\rscope=altinn:instances.meta\u0026amp;\racr_values=Level3\u0026amp;\rclient_id=min_klient_id\u0026amp;\rredirect_uri=https://eksempel.no/response\u0026amp; response_type=code\rMerk at andre felter kan være påkrevd å oppgi avhengig av din implementasjon/klient. Se integrasjonsguiden for mer informasjon.\n2. Motta autorisasjonskode på oppgitt endepunkt Etter bruker har autentisert seg (hvis ikke allerede innlogget), og har gitt tilgang din klient tilgang til scopet, blir han/hun videresendt til endepunktet oppgitt i redirect_uri med en autorisasjonskode, f.eks. https://eksempel.no/response?code=1JzjKYcPh4M....FMT0=.\nDenne autorisasjonskode benyttes for å hente ut access_token fra ID-porten i neste steg.\n3. Hent ut access_token Avhengig av klient type vil prosessen har noen forskjeller (se integrasjonsguiden for mer detaljer), men i hovedsak handler det om å sende autorisasjonskoden mottatt i forrige trinn til ID-portens token-endepunkt, som da vil utstede et access_token. Responsen her vil se ut noe ala dette:\n{\r\u0026quot;access_token\u0026quot;: \u0026quot;eyJraWQiOiJjWmswME1rbTVIQzRnN3Z0NmNwUDVGSFp...YIcXH0AaRpxffAx7vJj6xzuIJ4C0DxnPCfRRA\u0026quot;,\r\u0026quot;token_type\u0026quot;: \u0026quot;Bearer\u0026quot;,\r\u0026quot;expires_in\u0026quot;: 3599,\r\u0026quot;refresh_token\u0026quot;: \u0026quot;qcCtId5...r0igT2nI\u0026quot;,\r\u0026quot;scope\u0026quot;: \u0026quot;altinn:instances.meta\u0026quot;\r}\r4. Hent ut informasjon fra Altinn Tokenet mottatt i forrige trinn benyttes mot Altinns API sammen med API-nøkkel, f.eks.:\nGET /api/my/messagebox HTTP/1.1\rHost: https://tt02.altinn.no\rAccept: application/hal+json\rApiKey: min-api-nøkkel\rAuthorization: Bearer eyJraWQiOiJjWmswME1rbTVIQzRnN3Z0NmNwUDVGSFp...YIcXH0AaRpxffAx7vJj6xzuIJ4C0DxnPCfRRA\rsom da returnerer data for brukeren tokenet representerer.\n\r\rAutentisering med Maskinporten\rAutentisering med Maskinporten For API-er som krever autentisering av virksomhet støtter Altinn bruk av access tokens utstedt av Maskinporten. Se Maskinportens konsument-guide for mer informasjon om hvordan din organisasjon kan ta dette i bruk. Autentiseringen gir sikkerhetsnivå 3.\nMaskinporten-autentisering kan foreløpig ikke benyttes sammen med virksomhetsbrukere.\rAltinn definerer en rekke scopes som kan brukes for å begrense tilgangen en gitt klient kan få. Se liste over scopes for mer informasjon om hvordan du kan provisjonere din klient.\n1. Hent token fra Maskinporten Token hentes fra Maskinporten via et JWT Bearer Grant, som da signeres med eget virksomhetssertifikat.\nEksempel på payload for bearer grant mot testmiljø (TT02) som forventer tokens fra VER2-miljøet av Maskinporten:\n{ \u0026#34;aud\u0026#34;: \u0026#34;https://ver2.maskinporten.no/\u0026#34;, \u0026#34;resource\u0026#34;: \u0026#34;https://tt02.altinn.no/\u0026#34;, \u0026#34;scope\u0026#34;: \u0026#34;altinn:serviceowner\u0026#34;, \u0026#34;iss\u0026#34;: \u0026#34;806e1e80-e3a7-4a73-980e-f92ba1c2bf86\u0026#34;, \u0026#34;exp\u0026#34;: 1592896775, \u0026#34;iat\u0026#34;: 1592896655, \u0026#34;jti\u0026#34;: \u0026#34;bebeb0da-fef3-4b67-a0fc-b08d0b68fddd\u0026#34; } Eksempel på payload for bearer grant mot prodmiljø:\n{ \u0026#34;aud\u0026#34;: \u0026#34;https://maskinporten.no/\u0026#34;, \u0026#34;resource\u0026#34;: \u0026#34;https://www.altinn.no/\u0026#34;, \u0026#34;scope\u0026#34;: \u0026#34;altinn:serviceowner\u0026#34;, \u0026#34;iss\u0026#34;: \u0026#34;806e1e80-e3a7-4a73-980e-f92ba1c2bf86\u0026#34;, \u0026#34;exp\u0026#34;: 1592896775, \u0026#34;iat\u0026#34;: 1592896655, \u0026#34;jti\u0026#34;: \u0026#34;bebeb0da-fef3-4b67-a0fc-b08d0b68fddd\u0026#34; } Du kan bruke verktøyet MaskinportenTokenGenerator for å teste generering av bearer grants og for å få ut access tokens fra Maskinporten.\n2. Legg ved tokenet i requesten Tokenet legges i Authorization-headeren i requesten av type Bearer. Eksempel:\nGET /api/serviceowner/reportees?subject=... HTTP/1.1 ApiKey: din-api-nøkkel-her Authorization: Bearer eyJraWQiO... Accept: application/hal+json \r\rAutentisering med Altinn-token\rAutentisering med Altinn-token Altinn støtter token fra forskjellige eksterne ID-providere. For å redusere kompleksitet og øke ytelse har man i Altinn3 gjort det mulig for eksterne å veksle et token utstedt fra ID-porten eller maskinporten, og få tilbake et Altinn3-token. Dette tokenet kan så benyttes videre inn mot Altinn sine API-er. En detaljert dokumentasjonen for hvilke token som kan veksles ligger her\nEn typisk flyt for å få vekslet inn et allerede utstedt token er som følger:\n1. Veksling av ID-porten- eller Maskinporten-token til Altinn-token Token utstedt fra enten ID-porten eller Maskinporten legges inn som Authorization-header en Bearer-prefix. Man gjør så en GET-request mot ønsket miljø og får tilbake et gyldig Altinn3-token dersom det opprinnelige tokenet er gyldig.\nRequest:\nGET /authentication/api/v1/exchange/{token-provider} HTTP/1.1 Authorization: Bearer eyJraWQiO... Accept: application/hal+json Response:\neyJhbGciOiJ...\rEndepunkt for utveksling at token mot TT-miljø: https://platform.tt02.altinn.no/authentication/api/v1/exchange/{token-provider}\nEndepunkt for utveksling av token mot prod-miljø: https://platform.altinn.no/authentication/api/v1/exchange/{token-provider}\nGyldige token-providers er:\n id-porten maskinporten altinnstudio  En utfyllende swagger-dokumentasjonen for dette endepunktet finnes her\n2. Legg ved tokenet i Requesten Det vekslede tokenet legges i Authorization-headeren i requesten av type Bearer. Eksempel:\nGET /api/serviceowner/reportees?subject=... HTTP/1.1 ApiKey: din-api-nøkkel-her Authorization: Bearer eyJraWQiO... Accept: application/hal+json \r\r\r \rVis/skjul innhold\r\rAutentisering med virksomhetssertifikat\r\r\rAutentisering med virksomhetssertifikat I tillegg til Maskinporten-tokens støtter Altinns REST-api bruk av virksomhetssertifikat som TLS klientsertifikater. Autentiseringen gir sikkerhetsnivå 3 og kan brukes mot alle API-ets ressurser på vegne av organisasjonen sertifikatet tilhører og andre som organisasjonen har rettigheter på vegne av gjennom en virksomhetsbruker.\nNoen API-er kan benyttes direkte uten først å logge inn med virksomhetsbruker, og krever kun at virksomhetssertifikatet benyttes samt at ?ForceEIAuthentication oppgis som query-parameter.\nDersom man utvikler en ekstern portalløsning der brukerne er innlogget med f.eks. ID-porten, kan IKKE sertifikatet brukes til å sende inn på vegne av disse. Virksomhetssertifikatet er en maskin-til-maskin-integrasjon på vegne av innehaverorganisasjon og andre den har rettigheter for, og må ikke forveksles med en mulighet til backend-integrasjon mot Altinn på vegne av brukere på ekstern portal.\n1. Sette opp virksomhetsbruker Etter at man har installert sertifikat fra utsteder, må man knytte sertifikatet opp mot virksomheten i Altinn ved å opprette en såkalt virksomhetsbruker. Dette er nærmere beskrevet her.\n2. Tildele roller og rettigheter Når man logger inn med en virksomhetsbruker første gang, har ikke denne tilstrekkelig med roller og rettigheter for en organisasjon til å kunne verken se aktive skjema eller sende inn nye før roller/rettigheter har blitt delegert.\n3. Autentisere seg mot Altinn API Send følgende POST-request mot APIet med brukernavn/passord for virksomhetsbruker opprettet i 1.\nPOST https://www.altinn.no/api/authentication/authenticatewithpassword?ForceEIAuthentication HTTP/1.1 Host: www.altinn.no Content-Type: application/hal+json ApiKey: myKey { \u0026#34;UserName\u0026#34;: \u0026#34;MyUsername\u0026#34;, \u0026#34;UserPassword\u0026#34;: \u0026#34;MyPassword\u0026#34; } Dersom requesten genereres fra ekstern webside, vil brukeren få beskjed om å velge sertifikat av nettleser (trigges av parameteren ?ForceEIAuthentication).\nVed programmatisk bruk fra f.eks. Java eller .NET legger man ved sertifikatet i HttpRequest.ClientCertificates.\nEksempelkode ligger her.\nNår man autentiserer seg mot REST-apiet ved hjelp av sertifikat, bruker man hele sertifikatet (eks .p12) - ikke .cer som man eksporterer for å opprette virksomhetsbruker i portal.\n\r\r Du er klar! Når du har fullført registrering og autentisering er du klar til å kommunisere med Altinn fra web-applikasjonen din! Finn tilgjengelige REST-APIer i venstremenyen. Her er en Postman collection som inneholder eksempler på REST-spørringene som ligger under https://altinn.no/api/help og https://altinn.no/api/serviceowner/help.\n\rOAuth2 scopes for begrensning av tilganger\rScopes benyttes av Altinn for å begrense tilganger for OAuth2-klienter.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/digital-post-til-virksomheter/overorndet-funksjonalitet/",
	"title": "Overordnet funksjonalitet",
	"tags": [],
	"description": "Altinn har utviklet et ferdig sett med Meldingstjenester til bruk i DPV. Dette er fellestjenester som alle avsendere av DPV kan benytte uten noen form for tjenesteutvikling på forhånd.",
	"content": "Digital post og kategorier Meldingskategorier for ordinær post Det er foreløpig utviklet 10 ulike Meldingstjenester innenfor ulike tjenesteområder, inkludert en generell kategori:\n   Kategori ExternalServiceCode / ExternalServiceEditionCode     Post fra det offentlige innenfor administrasjon 4255/10   Post fra det offentlige innenfor plan, bygg og geodata 4255/1   Post fra det offentlige innenfor helse, sosial og omsorg 4255/2   Post fra det offentlige innenfor oppvekst og utdanning 4255/3   Post fra det offentlige innenfor kultur, idrett og fritid 4255/4   Post fra det offentlige innenfor trafikk, reiser og samferdsel 4255/5   Post fra det offentlige innenfor natur og miljø 4255/6   Post fra det offentlige innenfor næringsutvikling 4255/7   Post fra det offentlige innenfor skatter og avgifter 4255/8   Post fra det offentlige innenfor tekniske tjenester 4255/9    Alle disse Meldingstjenestene er knyttet opp til en ny Rolle i Altinn «Post/Arkiv». Det anbefales at avsender benytter meldingstypen \u0026ldquo;Generell: Post fra det offentlige innenfor administrasjon\u0026rdquo;, hvis det ikke er særskilte behov for at posten skal prekategoriseres for sluttbruker. I tillegg finnes det nå Meldingstjenester som støtter taushetsbelagt informasjon - se eget avsnitt under.\nDet er verdt å nevne at metadata på postmeldinger bør videreutvikles, men basert på en mer fleksibel og skalerbar modell som kan benyttes i ulike domene og fagområder.\rJfr figur over, basisfunksjonalitet for forsendelse av Meldinger i Altinn dekker fra før av behov for forsendelse, statusoppdatering, varslinger og revarsel. Men i tillegg til basis meldingsfunksjonalitet er det for DPV lagt inn mulighet for:\n Å sende post på vegne av annen virksomhet. En mottaker vil da kunne se hvem som er den faktiske avsender, ikke den tekniske avsender. Altinn loggfører både hvem som er teknisk og hvem som er faktisk avsender. Styrt brukertilgang til post via rollen «Post/Arkiv» Å hente status på inntil 10.000 meldinger ad gangen (ny Web Service) eller basert på søkekriterier Å benytte virksomhetsertifikat på Web Service operasjoner uten å måtte angi brukernavn+passord (altså en mer \u0026lsquo;normal\u0026rsquo; bruk av virksomhetsertifikat).  Støtte for taushetsbelagt post Hvis man skal sende ut meldinger til en virksomhet som inneholder særlig sensitiv og taushetsbelagt informasjon (f eks informasjon om enkeltpersoner knyttet til straffesaker, barnevernssaker o.l.) så er det viktig å legge til rette for at innsyn i innholdet begrenses til de i virksomheten som har tjenstlig behov for å se dette. I slike tilfeller kan IKKE meldingskategorier for ordinær post benyttes.\nDigital post til virksomheter tilbyr nå muligheten for å sende taushetsbelagt informasjon i meldingene. Det er opprettet tre nye DPV-tjenester som støtter denne funksjonaliteten. Meld fra til servicedesk@altinn.no dersom det er behov for tilsvarende tjenester innenfor andre områder:\n   Kategori ExternalServiceCode / ExternalServicceEditionCode     Taushetsbelagt post fra det offentlige innenfor helse, sosial og omsorg 5504/1   Taushetsbelagt post fra det offentlige innenfor oppvekst og utdanning 5504/2   Taushetsbelagt post fra det offentlige innenfor administrasjon 5504/3    Tjenestene som støtter forsendelse av taushetsbelagt informasjon avviker noe fra «vanlige» Altinn-tjenester. Det spesielle med tjenestene er at rollen(e) som gir tilgang til tjenestene ikke er forhåndstildelt til roller fra Enhetsregisteret. Dette innebærer at det i utgangspunktet er INGEN som ser meldingen som er send til virksomhetens innboks, heller ikke daglig leder eller styrets leder. Det er derfor viktig å sikre informajson om tilgangsstyring når tjenesten tas i bruk til nye målgrupper\nTilgangsstyring til taushetsbelagt post Tilgangsstyring hos virksomhet som mottar denne typen meldinger må sørge for at bare de som har tjenstlig behov for det får tilgang til innholdet. Her finner du vår anbefaling på hvordan dette bør gjøres i virksomheten.\nKrav til utforming av taushetsbelagt post For å sikre at det er rette vedkommende i virksomheten som får tilgang til de taushetsbelagte meldingene, er det viktig at avsender tilpasser innholdet i meldingen slik at det er enkelt å se hva meldingen gjelder og hvem i egen organisasjonen som skal ha tilgang til meldingen. Dette kan f.eks gjøres ved å ha entydig tekst i MessageTitle – gjerne navngi mottaker dersom dette er kjent, evt benytt saksnummer eller annen informasjon som kan knytte meldingen til rett person i virksomheten.\nKrav til varsling ved taushetsbelagt post Når en meldingen med taushetsbelagt innhold opprettes SKAL det varsles med Notification for å sikre at virksomheten får beskjed om at det er sendt en melding i innboksen. Varslingen må inneholde informasjon om at meldingen er taushetsbelagt, samt beskrivelse av hva virksomheten må gjøre for å sikre at rette vedkommende får tilgang til meldingen, dvs hva meldingen gjelder, hvem som skal ha meldingen, hvilken enkelttjeneste eller rolle som må delegeres for å gi tilgang o.l.\nVarsel og evt revarsel Varsler og revarsel i DPV benytter generell funksjonalitet for dette i Altinn. I Altinn kan man utvikle egne varselsmaler til spesifikk bruk, med ulike forhåndsdesignet statiske tekster og bruk av \u0026ldquo;variabler\u0026rdquo; (tokens) for utfylling av evt avsenderstyrt varselstekst (i runtime). For DPV tilbys 2 varselsmaler, som bør benyttes der det er behov for varsel og evt revarsel:\n VarselDPVUtenRevarsel\nFor varsler der det ikke er behov for å sende revarsel VarselDPVMedRevarsel (7 dager)\nFor varsler der det er behov for både å sende varsel og revarsel hvis ikke lest innen 7 dager  Altinn vil benytte den kontaktinformasjon som allerede er registrert i Altinn for forsendelse av varsler hvis ikke avsender angir dette spesifikt selv i postforsendelsen. Avsender må altså kun kjenne til org.nr til mottager hvis de ikke selv ønser å spesifisere dette.\nJuridisk er det viktig å være klar over følgende: Krav om revarsling er knyttet til om forsendelsen gjelder enkeltvedtak og lignende, jf eForvaltningsforskriften § 8, 5.ledd og 6.ledd:\n«Informasjonssystemet skal registrere tidspunktet for når parten har skaffet seg tilgang til enkeltvedtaket, og data som bekrefter at vedkommende har rett til å gjøre seg kjent med vedtaket. Har parten ikke skaffet seg tilgang til enkeltvedtaket innen én uke fra det tidspunktet vedtaket ble gjort tilgjengelig, og varsel ble sendt, skal parten varsles en gang til i samsvar med tredje ledd. Første og annet punktum gjelder ikke dersom vedtaket er sendt en elektronisk adresse mottaker oppgir jf. annet ledd annet punktum.\nDet som gjelder enkeltvedtak i annet til femte ledd ovenfor, gjelder tilsvarende for;\n forhåndsvarsel etter forvaltningsloven § 16, for andre meldinger som har betydning for vedkommendes rettsstilling eller for behandlingen av saken, og for meldinger som det av andre grunner er av særlig betydning å sikre at vedkommende mottar.»  Integrasjon Statlige virksomheter integrerer seg mot tjenesten DPV via Difis Integrasjonspunkt for eFormidling, eller direkte fra egne løsninger mot Altinns Webtjenestegrensesnitt. Ta kontakt med servicedesk@digdir.no for å bestille tilgang til tjenesten DPV med eFormidling. Du kan lese mer om tjenesten her: (https://samarbeid.difi.no/felleslosninger/eformidling).\nKommuner kan benytte KS sin løsning (SvarUt), og kan henvende seg til KS (https://www.ks.no/fagomrader/digitalisering/felleslosninger/svar-inn-og-svar-ut/komme-i-gang-med-svarut/).\nDPV for Sluttbruker Det blir enklere for alle mottakere av post når denne er knyttet til en generell rolle uansett hvem som er avsender. For en Sluttbruker vil man da kun delegere tilganger til en virksomhet sin post én gang for all post fra alle avsendere.\nDe som skal lese post for en virksomhet må ha rollen «Post/Arkiv». Alle som har en nøkkelrolle i en virksomhet får denne rollen automatisk. Rollen «Post/Arkiv» kan videre delegeres til:\n Andre privatpersoner Andre virksomheter Virksomhetsbrukere (som benytter virksomhetssertifikat)  Det er kun de som har nøkkelrolle (daglig leder, styreleder o.l) eller har fått rollen «Tilgangsstyring» som kan delegere videre.\nSluttbrukere kan integrere sine IKT løsninger mot egen Meldingsboks i Altinn, slik mange allerede har gjort siden Altinns begynnelse. Altinn tilbyr Web Services enten i form av SOAP eller REST.\nDe standard Meldingstjenestene for DPV er alle satt opp på sikkerhetsnivå 3. Sikkerhetsnivå 4 er mulig i Altinn, men inntil videre er dette ikke satt opp for DPV meldingstjenestene. Det er i dag kun mulig å lese meldingstjenester med sikkerhetsnivå 4 ved ordinær innlogging via Idporten, men maskinintegrasjon er ikke mulig. Virksomhetsertifikat-autentisering gir kun sikkerhetsnivå 3, og Idporten støtter pr i dag ikke systemautentisering. Hvis det allikevel blir behov for at DPV støtter meldingstjenester på sikkerhetsnivå 4 vil Altinn generere og tilby meldingstjenester som krever dette nivået, men da med dagens begrensning at maskinintegrasjon ikke er mulig.\nDPV for Avsender Alle som skal ta i bruk DPV, må i utgangspunktet benytte de felles meldingstjenestene som er utviklet. Avsender må selv vurdere om de ønsker å benytte 1 eller flere av de 13 felles meldingtjenestene som er utviklet. Det er særlig viktig å vurdere om meldingene inneholder taushetsbelagt informasjon. I de tilfellene må tjenestene som støtter taushetsbekagt inforamsjon benyttes.\nTanken med DPV er basert på dagens Meldingstjenester i Altinn med noen få valgfrie endringer. Teknisk kan dagens Tjenesteeiere fortsatt benytte eksisterende meldingstjenester, men bør vurdere overgang til de generelle og felles Meldingstjenestene som nå er ferdig utviklet i Altinn, der Altinn står som forvalter og tjenesteutvikler.\nDe etatene som benytter egenutviklete Meldingstjenester kan fortsette med dette hvis det er særskilte behov for å styre spesifikke rollekrav/tilganger til en melding og at den benyttes i en flerveis dialogtjeneste sammen med andre sluttbrukertjenester i Altinn.\nEksisterende avsendere må derfor konfigurere om sine løsninger slik at man benytter de korrekte tjenestekodene når de skal benytte de nye generelle DPV meldingstjenestene.\nEn avsender kan sende post ved å knytte seg til Altinns Web Service grensesnitt «InsertCorrespondence», eller på Batch (SFTP). Når en offentlig virksomhet er registrert i Altinn som Tjenesteeier eller gjort avtale for bruk av DPV kan man benytte DPV og de felles meldingstjenestene direkte ved enten:\n Bestille brukernavn + passord Benytte eget virksomhetssertifikat  For de som skal sende post på vegne av andre organisasjoner, så skal et nytt parameter benyttes i integrasjonsgrensesnittet, \u0026ldquo;OnBehalfOfOrgNr\u0026rdquo;. Dette feltet skal da inneholde et orgnr for en offentlig virksomhet som har gyldig tjenesteeier-/DPV- avtale med Altinnn.\nEllers kan parameter \u0026ldquo;MessageSender\u0026rdquo; benyttes som før for de som har behov for å angi for sluttbruker et spesifikk avsendernavn innenfor egen organisasjon.\n"
},
{
	"uri": "https://altinn.github.io/docs/kom-i-gang-med-utvikling/tilganger/",
	"title": "Tilganger",
	"tags": [],
	"description": "For å utvikle tjenester i Altinn trenger du tilgang til Altinns verktøy og webløsninger.",
	"content": "Bestillinger til Altinn gjøres fra den enkelte tjenesteeier sitt dashboard på Altinn/digitalisering: https://www.altinndigital.no/oversikt/ (krever innlogging). Her velger du hva du skal bestille og legger inn de opplysningene det spørres om. Har du ikke tilgang til dashboard kan du be om dette ved å sende en henvendelse til tjenesteeier@altinn.no. Er du innleid konsulent må tilganger bestilles av den etaten/kommunen du jobber for.\nTjenesteeier sitt dashboard\n(Erstatter tidligere brukte Selvbetjeningsportalen på https://smssp-sso.brreg.no/)\nFor utvikling av tjenester trenger du tilgang til:   Altinn tjenesteutviklingsløsning (TUL)\nDet finnes to ulike nivå for brukertilgang:\n Ordinær tjenesteutvikling Gir tilgang til å utvikle meldingstjenester og innsendingstjenester (skjema) uten avansert funksjonalitet som ikke støttes av Infopath. Gir også tilgang til å sette opp en lenketjeneste (Styring av tilgang). For å få slik tilgang kreves deltakelse på tjenesteutviklingskurs eller tilsvarende opplæring av andre ressurser som har deltatt på kurs. Avansert tjenesteutvikling Gir ovennevnte tilganger samt tilgang til å utvikle innsynstjenester (Hente data fra register) og innsendingstjenester (skjema) med oppslag til ekstern web service. Du får tilgang til Team Foundation Server for versjonshåndtering og til utviklingsserver i TUL. Det er her nødvendig med egen lisens til Visual Studio.    SERES domeneklient\nSkal du utvikle en innsynstjeneste eller en innsendingstjeneste/skjema er det også nødvendig med tilgang til tjenesteeier sitt domene i SERES domeneklient. I domeneklienten lager du en meldingsmodell og generer en XSD som benyttes som datamodell i ditt skjema/din innsynstjeneste.\n  Altinn Studio / Altinn 3 Nå kan du ta i bruk nye Altinn Studio for å lage alt fra enkle skjema til komplekse applikasjoner. Dette er et verktøy som er helt selvbetjent, og du behøver bare opprette en bruker for å teste det ut. Merk at for å få publisere tjenester til produksjonsmiljøet må tjenesteeier godta bruksvilkår for Altinn i skyen. Her kan du lese mer om Altinn Studio.\n  For sending av data til system trenger du tilgang til: For at dine systemer skal kunne sende eller motta data til/fra Altinn vil noen av bestillingene nedenfor være relevante for deg - avhengig av hvordan ditt system skal kommunisere med oss:\n  Web servicer\nFor å kunne sende/motta data til/fra Altinn må tjenesteeier registrere sitt system og få passord som skal benyttes i kall mot Altinn. Alle tjenesteeiere har ved opprettelse i Altinn fått tildelt brukernavn og passord, men det er mulig å bestille flere tilganger. Tilgangen er IP-styrt.\n  FTP/SFTP grensesnitt\nFor oversendelse av data til/fra Altinn via FTP/SFTP bestilles det et grensesnitt for dette.\n  Åpning i brannmur\nÅpning i brannmurer er nødvendig for grensesnitt med Altinn hvor tjenesteeier skal legge/hente filer på Altinn sin filserver (være aktiv part). Tjenester som gjør oppslag mot eksterne tjenester (Web Services) vil også trenge åpning i brannmurer hos Altinn.\n  API-nøkkel\nAltinns REST-API for tjenesteeiere er bare tilgjengelig med bruk av virksomhetssertifikat og krever at man har en API-nøkkel.\n  Testbrukere\nI Altinn sine testmiljø benyttes fiktive testpersoner og –organisasjoner. Mange av våre eksisterende tjenesteeiere har fått tildelt et sett med testbrukere. Har du ikke tilgang til testbrukere må du bestille dette.\n  Når tjenestene er klar til publisering:  Produksjonssetting\nBestillinger du har gjort for integrasjon mot Altinn (webservice, åpning i brannmur, grensesnitt over FTP/SFTP osv.) må også bestilles for kommunikasjon mellom ditt og vårt produksjonsmiljø. Tjenester, og eventuelt tilhørende kodelister, må produksjonssettes. Du gjør tjenesten klar for produksjon i tjenesteutviklingsløsningen (TUL). I tillegg må det bestilles en produksjonssetting da det er vår driftsleverandør som legger ut tjenestene i Altinn sitt produksjonsmiljø. For en helt ny tjeneste skal det lages en informasjonsside om tjenesten under “alle skjema” på altinn.no. Du finner også en bestilling for dette.  "
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/b/",
	"title": "B: Utforming av brukergrensesnitt for skjema",
	"tags": [],
	"description": "Retningslinjer/forslag for utforming av sider av skjema i InfoPath.",
	"content": "Alle offentlige nettskjemaer for innsendingstjenester skal følge ELMER 2-retningslinjene, dette er nærmere beskrevet i vedlegg C.\nSidestørrelse Standard sidestørrelse for skjema er 630px bredde. Høden til skjemaet vil variere, men skjemautvikler bør splitte sider med mye høyde for å unngå unødvendig vertikal scrollbar. Om bredden er mer enn 630 px vil horisental scrollbar inntreffe. Hvis siden avviker fra standard sidestørrelse må man justere høyde/bredde slik at man ikke får både vertikal og horisontal scrollbar. Det skal være minst mulig scrolling og helst ikke horisontal scrolling. Skjema skal deles over flere sider, men der dataene henger tett sammen skal man heller bruke scrolling vertikalt. Dette kan for eksempel være hvis det er en stor tabell eller utregninger som er avhengig av andre felt. I enkelte tilfeller kan det være nødvendig med horisontal scrolling i forbindelse med store tabeller for ikke å gjøre skjemaet for komplekst for brukeren.\nHvis man må ha scrolling, forsøk å markere at det kommer noe mer på siden, feks ved å legge deler av en ledetekst eller et felt før scrollingen begynner.\nFor å unngå horisontal scrolling, må ikke sidebredden overstige 630px for skjema til innsendingstjenester eller 700px for skjema til innsynstjenester. Denne bredden tar hensyn til vertikal scrollbar.\nSideoverskrift (skjemanavn) Alle sider skal ha en sideoverskrift i form av skjemanavn. Under skjemanavnet skal det være en linje. Linjen skal gå tvers over hele siden som vist i figuren under av etatslogo. Overskriftens posisjonering kan være som eksempelet under.\nEtatslogo I Altinn er det obligatorisk med etatslogo på skjemaets første side. Det er valgfritt hvorvidt man også legger inn logo øverst til høyre på øvrige sider i skjemaet.\nLogo for de ulike etatene skjemaene i Altinn skal plasseres øverst til høyre i skjemaene.\nFor å få riktig bakgrunnsfarge på etatens logo må man lage en gif-fil med transparent bakgrunn. Logoens størrelse bør settes som vist under.\nGrupper Grupper er felter som logisk hører sammen, og vil ofte være plassert inne i en ramme. Det kan være flere grupper på én side. En gruppe bør ikke være delt over flere sider. Det anbefales å ha luft mellom ulike grupper på samme side. Disse bør adskilles med minumum en linjeavstand.\nGrupper inne i andre grupper skal ikke ha ramme rundt seg.\nEn gruppe skal ha gruppeoverskrift, hvis den ikke har overskrift skal den heller ikke ha ramme rundt seg.\nKnapper Plassering av knapper i skjema:\nFor knapper som har direkte tilknytning til felter i skjemaet skal knappene plasseres i forhold til disse. Når knapp har tilknytning til ett felt skal knappen som hovedregel plasseres til høyre for inputfeltet, slik:\nI situasjoner der dette ikke er gunstig grunnet lengde på ledetekst og feltlengde, kan knapp plasseres under inputfelt:\nFor knapper med direkte tilknytning til flere felter bestemmes plassering av knapp ut fra plassering av felter. Dersom alle inputfelter ligger på en linje bør også knappen ligge på denne linjen, slik:\nI situasjoner der tilknyttede inputfelter er fordelt på flere linjer plasseres knappen under inputfeltene, slik:\nTabeller En tabell vil alltid starte som en rad og antall rader i en tabell kan enkelt genereres automatisk når utvikler trykker på TAB. En tabell kan eventuelt splittes opp ved å trykke på høyre museknapp (split cells) når markøren er inne i tabellen. Utvikler kan da velge hvor mange rader og kolonner tabellen skal inneholde.\n Kolonneoverskrifter skal ”alignes” left med feltene i kolonnene. Kolonneoverskrifter og ledetekstene på rader skal ikke være i fet skrift. Kolonneoverskrifter med ulik antAlle rader i teksten, skal \u0026ldquo;alignes\u0026rdquo; i bunnen (se eksempel nedenfor, i Error! Reference source not found.).  Tabeller og matriser med sumfelt\nTabeller og matriser med ledetekst foran radene skal ha ledeteksten for sum venstrejustert med ledetekstene.\nTabeller som ikke har ledetekst foran hver rad skal ha ledeteksten for sum venstrejustert lik tabellens første kolonne.\nVertikale overskrifter\nVertikale overskrifter med flere ledetekster til høyre for seg (se eks. fra RF-1071 under):\nHer er teksten \u0026ldquo;A. Tilgang i året\u0026rdquo; overskrift for postene 101-103.\nLøsning: Del opp i 3 grupper, flytt vertikal tekst opp som gruppetittel - da \u0026ldquo;A. Tilgang i året\u0026rdquo; gruppen seende slik ut:\n![Figur 185 – Løsning for A. \u0026ldquo;Tilgang i året\u0026rdquo;](/docs/images/guides/tul/løsning-for-a.png \u0026ldquo;Figur 185 – Løsning for A. \u0026ldquo;Tilgang i året\u0026rdquo;\u0026quot;)\nTekstfelter, ledetekster og grafikk.  Redigerbare tekstbokser skal vises med hvit bakgrunn. Ikke-redigerbare data skal vises med grå bakgrunn Ledetekster starter med stor bokstav (må sikres ved registrering i OR) Ledetekster avsluttes uten kolon (må sikres ved registrering i OR).\n(Kolon kan i visse tilfeller føre til feil i skjema) Ledetekster skal venstrejusteres og feltene skal igjen venstrejusteres slik at ledetekst og felt danner to kolonner. Tallet i beløpsfeltet skal høyrejusteres. Alle andre typer tekster skal venstrejusteres i sine felt. Hvis et felt har maks antall tegn, skal ikke feltet være større enn maks antall tegn. Det skal være jevn avstand mellom ledetekstene selv om en ledetekst går over flere linjer. Hvis det ikke er ramme rundt ledetekster, skal det være minst like mye luft mellom siste ledetekst og sideslutt som mellom ledetekstene. Hvis papirskjemaet har spesialtegn som + eller - i feltet, skal dette plasseres på venstre side av feltet, sentrert (vertical center) i det elektroniske skjemaet og ha samme font og farge som ledeteksten. Trekk ledeteksten lengst mulig ut slik at den blir på færrest mulig linjer. Dette begrenses naturligvis av feltenes lengde. Kommentarfelt (som går over flere linjer) skal plasseres under tilhørende ledetekst og være en stor boks. Det skal være samme innrykk på ledeteksten og kommentarfeltet. Ledetekster som er uthevet i papirskjemaet med feks fet skrift, kan også utheves i web-skjemaet hvis skjemaeier ønsker det.  Alle felt er i utgangspunktet redigerbare med unntak av preutfylte og kalkulerte felt.\nPlassering av overskrifter, ledetekster og rammer Sidemalen under er hentet fra Skatteetaten. Denne viser eksempler på overskrifter, ledetekster, rammer, bruk av tabeller og elementer plassert i tabeller.\nEksempler på skatteetatens sidemaloppsett:\n Ledetekst med tilhørende felt plasseres likt fra toppen av siden. Marger Innenfor Side er satt opp med:  Venstremarg - 9px Høyremarg - 8px   Innenfor Gruppe:  Venstremarg - 9px Høyremarg - 8px   Kolonnebredde for hjelpetekstikon - 19px Kolonnebredde for fortegn - 13px  Plassering av felt Forsøk å danne kolonner på en side når det står flere felt horisontalt. Felt som står under hverandre skal være venstrejustert.\nHvis felt og ledetekst ikke er så lange at de vil dekke hele siden horisontalt, skal feltene plasseres mot venstre.\nRekkefølgen på felter skal som en hovedregel ha samme rekkefølge som i papirskjemaet. Ett unntak på dette er plassering av avgiver og revisor/regnskapsfører på første side.\nPostnummer og poststed skal som hovedregel plasseres under hverandre og rett etter adressefeltet.\nFelt som inneholder postnummer, Organisasjonsnummer, fødselsnummer, dato o.l bør bli satt opp med bestmet bredde som passer til lengden av data som feltet skal innholde.\nHvis man har noen generelle informasjonsfelt og deretter en del summeringsfelt, kan man unngå fra hovedregelen om at lengste ledetekst bestemmer plassering av alle felter som vist her:\nNår flere sider i et skjema har samme oppsett, skal feltene på sidene ha samme feltlengde og plassering. Dette gjelder f.eks. årsregnskap fra BR (RR0003).\nPlassering av hjelpe-ikon Hjelp-ikon skal plasseres foran feltet det tilhører, justert midt på. Hjelp-ikon som tilhører hele grupper skal plasseres etter gruppetittelen som vist i eksempletet til Skatteetatens sidemal.\nRadioknapper (radio buttons)  Radioknapper skal benyttes der brukeren må velge fra en gruppe av 6 eller mindre gjensidig utelukkende valg. Hvis det er mer enn 6 valg, bør en rullgardinliste brukes. Hvis radioknapper benyttes i en tabell, skal alltid rullgardinliste brukes uansett antall valg. Tekst tilhørende radioknappene skal stå på høyre side av knappen. Ingen av radioknappene bør være valgt som standard. Radioknapper skal ha spørsmål til venstre og knappene med alternativene ved siden av til høyre. Dette gjelder ikke sporvalg (se under Innledende dialog) Margin på hver radioknapp skal stå til auto (kjent feil i InfoPath Form Services gjør at den må stå til auto) Teksten på øverste alternativ skal stå på linje med ledeteksten.  Avkryssingsbokser (check boxes)  Avkryssingsbokser skal benyttes for binære valg. Avkryssingsboksene skal være uavhengige av hverandre. Tekst tilhørende avkryssingsboksene skal stå på høyre side av avkryssingsboksen. Flere avkryssingsboks skal arrangeres vertikalt. Hvis det er mange avkryssingsbokser, kan de også plasseres horisontalt for å utnytte plassen. Avkryssningsboksen plasseres i en tabell for å låse posisjoneringen. Det er anbefalt å ha litt luft mellom avkryssningsboks og andre elementer. Avkryssingsbokser skal ikke rammes inn. Hvis det er 10 eller færre avkryssingsbokser kan de plasseres i kolonner for å utnytte plassen. Rekkefølgen av alternativene skal følge rekkefølgen i skjemaet. Vi anbefaler skjemaeier å plassere alternativene logisk, feks alfabetisk. Ulike avkryssningsbokser bør knyttes opp til ulike hendelser eller verdier.  Det kan være ønskelig å benytte flere avkrysningsbokser for valg, og dette kan gjøres ved å først sette inn en avkrysningboks og knytte denne til et felt i skjema. Deretter høyreklikker man på feltet man har lagt til, og deretter limer det inn igjen så mange avkrysningsbokser man vil ha. Merk at alle avkrysningsboksene må ha ulik verdi når avsjekket, ellers vil de ikke fungere uavhengig. Det vil også være slik at kun èn avkrysningsboks kan være avsjekket pr. felt i datakilde. Dvs at hvis tre avkrysningsbokser er tilknyttet felt A, vil kun en av de være avsjekket samtidig.\nListebokser (List box)  Listebokser skal brukes for store datamengder. Fra 3 til 9 elementer skal vises av gangen. Bruker skal kunne taste en eller flere bokstaver for å flytte i listene. Dersom brukeren kan velge flere forekomster fra en liste, skal det være en liste til som viser hva som er valgt. Dersom det er aktuelt å velge alle, skal det være en avkryssingsrute eller knapp med Velg alle. Denne må da ha kode for å automatisk velge alle instanser i listen.  Ferdig utfylte felt Felt som er ferdig utfylt fra for eksempel SBS skal som hovedregel være utilgjengelige (skrivebeskyttet). Dette markeres med at feltet får grå bakgrunnsfarge.\nDynamiske felt Alle felt som er dynamiske skal være synlige, men utilgjengelige (altså \u0026ldquo;grået ut\u0026rdquo;). Med dynamiske felt menes felt som brukeren skal svare på basert på tidligere svar, f.eks. ved å svare Ja på et felt skal brukeren fylle ut en adresse, mens svarer brukeren nei skal adressen ikke fylles ut.\nHvis du må lage spørsmålet for å få dynamiske felt, skal spørsmålet stilles med radioknapper med ja/nei svaralternativ.\nDynamiske felt vedlikeholdes i InfoPath ved hjelp av betinget formatering, hvor man setter en regel som sier at feltet skal være inaktivt basert på en kondisjon. Denne kondisjonen kan f.eks. være at et annet felt i skjemaet ikke skal være tomt eller inneha en bestemt verdi.\nFremskutt hjelpetekst Generell fremskutt hjelpetekst skal settes i en egen gruppe uten overskrift. Fremskutt hjelpetekst som gjelder hele skjemaet og som brukeren bør lese før hun starter å fylle ut skjemaet skal stå på toppen av første side i skjemaet.\nFremskutt hjelpetekst som tilhører et felt, skal plasseres tilsvarende som i papirskjemaet. Hvis fremskutt hjelpetekst skal plasseres på linjen etter ledeteksten, men sammen med ledetekst skal de plasseres med rett venstrekant. Eksempel:\n1. Dette er en ledetekst\nOg her er den tilhørende hjelpeteksten\nTab mellom felt Brukeren skal kunne flytte seg mellom felter i et skjema ved bruk av TAB-tasten. TAB skal ikke gå innom hjelp-ikon og heller ikke felt som brukeren ikke kan endre. Standard verdi for tabolatorindeks i tekstbokser er ”0”, og TAB tasten vil da gå inn i feltet. Om verdien blir satt til ”-1” hopper TAB-tasten over dette feltet og går inn i neste felt med verdi ”0”. Figuren under viser en tekstboks med tabulatorindeks ”-1”.\nInnledende dialog (sporvalg) Innledende dialog er en egen side før selve skjemautfyllingen begynner for å velge spor. Siden avgjør hvilke deler av skjemaet som blir tilgjengeliggjort for brukeren avhengig av alternativene brukeren velger.\nSiden skal ha:\n Fremskutt hjelpetekst før spørsmålet: ”Dette er spørsmål som vil avklare hvilke deler av skjemaet du skal fylle ut. Velg riktig alternativ for deg og klikk på Neste knappen.” Hvis det er flere spørsmål plasseres de under hverandre tilsvarende som inne i skjemaet. Radioknapper plasseres under spørsmålet (se eksempel under).  Eksempel:\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/tjenester/tilsynsdata/eksempler/tilsynskoordineringer/",
	"title": "Tilsynskoordineringer",
	"tags": [],
	"description": "Datamodell og schema",
	"content": "Eksempel { \u0026#34;tilsynskoordineringer\u0026#34;: [ { \u0026#34;tildaenhet\u0026#34;: \u0026#34;974720760\u0026#34;, \u0026#34;tilsynutfoertav\u0026#34;: \u0026#34;222222222\u0026#34;, \u0026#34;ansvarligtilsynsmyndighet\u0026#34;: \u0026#34;223344556\u0026#34;, \u0026#34;kontrolladresser\u0026#34;: [ { \u0026#34;lokalitetsreferanse\u0026#34;: 427760, \u0026#34;lokalitetsbeskrivelse\u0026#34;: \u0026#34;Enda ei rønne\u0026#34;, \u0026#34;lokalitetsnoekkelord\u0026#34;: \u0026#34;fairly fat dinosaur\u0026#34;, \u0026#34;lengdegrad\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;breddegrad\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;bygningsnummer\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;bruksenhetsnummer\u0026#34;: \u0026#34;Enhetsnummer\u0026#34;, \u0026#34;adressenavn\u0026#34;: \u0026#34;Gåssvingen 59, 0640 Oslo\u0026#34;, \u0026#34;adressenummer\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;postnummer\u0026#34;: \u0026#34;Postnummer\u0026#34;, \u0026#34;poststedsnavn\u0026#34;: \u0026#34;fairly fat dinosaur\u0026#34;, \u0026#34;kommunenummer\u0026#34;: \u0026#34;0301\u0026#34;, \u0026#34;bydel\u0026#34;: \u0026#34;Dal\u0026#34;, \u0026#34;fylkesnummer\u0026#34;: \u0026#34;020\u0026#34; }, { \u0026#34;lokalitetsreferanse\u0026#34;: 427760, \u0026#34;lokalitetsbeskrivelse\u0026#34;: \u0026#34;Enda ei rønne\u0026#34;, \u0026#34;lokalitetsnoekkelord\u0026#34;: \u0026#34;fairly fat dinosaur\u0026#34;, \u0026#34;lengdegrad\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;breddegrad\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;bygningsnummer\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;bruksenhetsnummer\u0026#34;: \u0026#34;Enhetsnummer\u0026#34;, \u0026#34;adressenavn\u0026#34;: \u0026#34;Gåssvingen 59, 0640 Oslo\u0026#34;, \u0026#34;adressenummer\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;postnummer\u0026#34;: \u0026#34;Postnummer\u0026#34;, \u0026#34;poststedsnavn\u0026#34;: \u0026#34;fairly fat dinosaur\u0026#34;, \u0026#34;kommunenummer\u0026#34;: \u0026#34;0301\u0026#34;, \u0026#34;bydel\u0026#34;: \u0026#34;Dal\u0026#34;, \u0026#34;fylkesnummer\u0026#34;: \u0026#34;020\u0026#34; } ], \u0026#34;kontaktpunkt\u0026#34;: [ { \u0026#34;rapportansvarlig\u0026#34;: \u0026#34;Ansvarligheten selv\u0026#34;, \u0026#34;avdeling\u0026#34;: \u0026#34;fairly fat dinosaur\u0026#34;, \u0026#34;telefonnummer\u0026#34;: \u0026#34;12345678\u0026#34;, \u0026#34;epost\u0026#34;: \u0026#34;fairlyfatdinosaur@fairlyfatdinosaurcom\u0026#34;, \u0026#34;adresse\u0026#34;: \u0026#34;Gåssvingen 59, 0640 Oslo\u0026#34; } ], \u0026#34;bekymringsmeldinger\u0026#34;: [ { \u0026#34;tilsynsmyndighet\u0026#34;: \u0026#34;12345678\u0026#34;, \u0026#34;lokalitetsreferanse\u0026#34;: 1, \u0026#34;melding\u0026#34;: \u0026#34;VIKTIG BESKJED NR 1\u0026#34;, \u0026#34;bekymringsdato\u0026#34;: \u0026#34;2017-07-14T00:00:00\u0026#34; }, { \u0026#34;tilsynsmyndighet\u0026#34;: \u0026#34;12345678\u0026#34;, \u0026#34;lokalitetsreferanse\u0026#34;: 1, \u0026#34;melding\u0026#34;: \u0026#34;VIKTIG BESKJED NR 2\u0026#34;, \u0026#34;bekymringsdato\u0026#34;: \u0026#34;2017-07-14T00:00:00\u0026#34; } ], \u0026#34;aapnetilsyn\u0026#34;: 12, \u0026#34;planlagteKontroller\u0026#34;: [ { \u0026#34;planlagtkontrolldato\u0026#34;: \u0026#34;2021-04-30T14:34:17.2976235+02:00\u0026#34;, \u0026#34;varighet\u0026#34;: 1, \u0026#34;tilsynstema\u0026#34;: \u0026#34;tema\u0026#34;, \u0026#34;aktivitet\u0026#34;: \u0026#34;aktivitet\u0026#34;, \u0026#34;aktivitetsutfoerelse\u0026#34;: \u0026#34;aktivitetsutførelsestype\u0026#34;, \u0026#34;observasjon\u0026#34;: \u0026#34;observasjoner\u0026#34;, \u0026#34;samtidigKontroll\u0026#34;: [ { \u0026#34;tilsynsmyndighet\u0026#34;: \u0026#34;123456788\u0026#34;, \u0026#34;tilsynstema\u0026#34;: \u0026#34;tema\u0026#34;, \u0026#34;aktivitetsutfoerelse\u0026#34;: \u0026#34;aktivitetseksekvering\u0026#34; } ] } ], \u0026#34;kampanjer\u0026#34;: [ { \u0026#34;kampanjenavn\u0026#34;: \u0026#34;Laktosesjekk\u0026#34;, \u0026#34;beskrivelse\u0026#34;: \u0026#34;Tilsyn av iskremselgere\u0026#34;, \u0026#34;startdato\u0026#34;: \u0026#34;2021-04-28T14:34:17.2977116+02:00\u0026#34;, \u0026#34;sluttdato\u0026#34;: \u0026#34;2021-04-29T14:34:17.2977135+02:00\u0026#34; } ] } ] } "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/bruke-rest-api/",
	"title": "API",
	"tags": [],
	"description": "",
	"content": "Innledning Integrasjon mot REST krever ingen spesiell programvare eller infrastruktur, men forutsetter at det benyttes et virksomhetssertifikat for autentisering og en apikey man kan be om på https://data.altinn.no.\nProtokoll og formater REST-APIet bygger på HTTP, og tilkoblinger sikres ved hjelp av TLS 1.2 kryptering. Dataene formateres i JSON.\nVersjonering API-et har et versjonsprefiks som en del av URL-en. Gjeldende versjon er \u0026ldquo;v1\u0026rdquo;, og eventuelt nye versjoner vil få \u0026ldquo;v2\u0026rdquo;, \u0026ldquo;v3\u0026rdquo; etc. data.altinn.no vil så langt det lar seg gjøre unngå å introdusere nye versjoner, men for å sikre bakoverkompabilitet med alle konsumenter vil nødvendig forbedring og utvidelse av funksjonalitet kunne medføre at en ny versjon må introduseres.\nNye uavhengige actions og modeller vil kunne bli lagt til en eksisterende versjon, men ingen endringer (selv ikke rent additive) vil bli gjort på eksisterende actions og modeller i en gitt versjon.\nGamle versjoner vil bli støttet i minst XX måneder etter at en ny versjon tilgjengeliggjøres, og alle registrerte brukere i vil bli underrettet i god til før utfasing av gamle versjoner finner sted for å sikre at alle får migrert til ny versjon.\nMer informasjon om versjoner, endringslogg og planlagte utfasinger finnes i API-portalen.\n Gå til data.altinn.no API Portal  Beviskoder Datafeltene (navn, antall og verdityper) i beviskoder er å regne som ikke-muterbare, men beviskoder vil kunne endre påkrevd tilgangsnivå når som helst. Ved behov for nye datafelter i en gitt beviskode, vil en ny uavhengig beviskode introduseres.\nGamle beviskoder vil kunne utfases i takt med tilgjengeligheten av dataene i de underliggende registrene. Disse er eksterne for eBevis, og følgelig utenfor vår kontroll - men så langt det lar seg gjøre vil beviskoder på samme måte som versjoner i API-et bli støttet i minst XX måneder før disse fases ut.\n Vis liste over alle beviskoder (JSON)  Feil- og statuskoder Feil- og statuskoder som beskrevet i metadata-API-et vil ikke kunne endres eller fjernes uten at ny versjon av API-et introduseres, men nye feil- og statuskoder vil kunne bli lagt til i en eksisterende versjon.\n Vis liste over alle statuskoder (JSON) Vis liste over alle feilkoder (JSON)  Autentisering og autorisasjon For å autentisere seg mot REST-API trenger man et virksomhetssertifikat utstedt av en offentlig godkjent aktør. Begge tilbyr både produksjons- og test-sertifikater som kreves for bruk mot de respektive miljøene.\nDette sertifikatet må benyttes gjennom standard klientsertifikat autentisering, noe de fleste HTTP-klienter støtter.\nAutorisasjon foregår gjennom registrering av en konto og bruk av API-nøkler.\n Les om virksomhetssertifikat fra Buypass Les om virksomhetssertifikat fra Commfides Les om bruk av klientsertifkat i Postman  Hvordan komme i gang med REST-API Alle brukere av må registrere en profil i utviklerportalen eller i testmiljøet https://test.data.altinn,no hvor man kan registrere applikasjoner og få utdelt API-nøkler som må oppgis i alle requests til data.altinn.no. Kontaktopplysningene du oppgi vil bli benyttet for å sende informasjon om planlagte endringer og nedetid samt annen driftsrelatert informasjon. På profilsiden vil man også kunne hente ut detaljert bruksstatistikk.\n Gå til eBevis API Portal  Hvordan innhente opplysninger om en virksomhet For å hente ut informasjon, må man først sende en autorisasjonsforespørsel til REST-APIet, som inneholder informasjon om hvilken virksomhet man spør om og hvilke beviskoder det gjelder. Hvis forespørselen blir autorisert, vil man som svar få en akkrediterings-ID som representerer bevisforespørselen. For bevis som er åpne eller hjemmelsbaserte, vil ,am umiddelbart kunne høste disse bevisene med kall hvor denne akkrediterings-IDen oppgis. For bevis som krever samtykkesvar, vil man kunne sjekke status på dette (om svar er avgitt eller ikke), og så fort dette foreligger vil du kunne høste beviset på samme måte (så lenge samtykket er gyldig og ikke trukket tilbake).\n Vis liste over alle beviskoder (JSON) Vis oversikt over metadata-tjenester  Teknisk beskrivelse av API På portalen finner du oppdatert teknisk dokumentasjon om actions, modeller og feilsituasjoner. Du kan også hente ned Swagger/OpenAPI definisjoner.\nDet er to miljøer som er tilgjengelig utenfra- prod og staging. Begge miljøene har et metadata-API, som ikke krever autentisering eller autorisasjon for bruk.\n Oversikt over eBevis API-er  Bruke Postman for testing Det er utarbeidet en colection med forespørsler i Postman som fritt kan lastes ned og benyttes for testing mot eBevis REST API. Se Github-lenken under for mer informasjon.\n Postman-collection på Github  Last ned Postman  "
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/c/",
	"title": "C: Utforming av brukervennlige tjenester",
	"tags": [],
	"description": "Hvordan lage brukervennlige tjenester i TUL.",
	"content": "Brukervennlige tjenester bidrar til at brukeren får en positiv opplevelse av tjenesten, og sikrer at alle brukere kan benytte tjenesten, samt at tjenesten kan benyttes på ulike skjermlesere.\nTjenesteutviklingsløsningen skal legge til rette for å utvikle tjenester som er konforme med WCAG 2.0-standarden på A og AA-nivå.\nI WCAG 2.0 brukes fire prinsipper for tilgjengelig web-innhold:\n Gjenkjennbart – informasjon og brukergrensesnitt må presenteres på måter brukerne kan oppfatte. Anvendelig – brukergrensesnitt og navigasjon må fungere for alle brukere. Forståelig – tekstinnhold må være lesbart og forståelig. Robust – innhold må kunne presenteres på ulike agenter, inkludert hjelpemiddelteknologi.  Tjenesteutvikler bør etterstrebe å lage innhold som følger disse prinsippene. Det er viktig for tjenesteutvikler å sørge for at språket er godt og forståelig. I tillegg bør eventuelle bilder ha beskrivende tekster.\nSkal en tjenesteeier utvikle stilark for bruk ved portaluavhengighet, må det sørges for at stilarkene er konforme med WCAG-krav. Det er viktig at stilark som lastes opp er gyldig CSS som validerer mot CSS 2.1-standarden. Dette valideres ikke av TUL men kan enkelt gjøres med en ekstern CSS-validator av den som har laget stilarket.\nAlle offentlige nettskjemaer for innsendingstjenester skal følge ELMER 2-retningslinjene. ELMER er vedtatt som retningslinjer for brukergrensesnitt i offentlige skjemaer på Internett og skal sikre bedre skjemaer, bedre datakvalitet og raskere saksbehandling.\nVed å benytte InfoPath og påfølgende parametersetting i TUL kan tjenesteutvikler utvikle ELMER-skjema. Altinn II støtter ELMER 2-retningslinjene, med unntak av:\n Utsatt visning av feil/mangler ved kryssvalidering og obligatoriske felt (alle meldinger knyttet til feltvalidering vises fortløpende i informasjonsområdet og deretter på kontrollside, som ved feil utfylling av enkeltfelt). Separate tabellsider i full skjermbredde i skjema som for øvrig benytter ELMER-navigasjon. Hjelpetekst med lenker som leder til andre steder i skjemaet. Gruppering av sider i navigasjonsmenyen med kapitteloverskrifter.  Det vil være mindre unntak mht. nøyaktig hvordan informasjon blir presentert for sluttbruker. For eksempel sier ELMER at bruker kan fjerne fremhentet hjelpetekst ved å klikke på Hjelp-knappen på nytt. I Altinn vil bruker i stedet kunne fjerne hjelpeteksten ved å klikke på et x-symbol ved teksten i informasjonsområdet.\nSiden ELMER 2-retningslinjene fokuserer på enkeltskjema, mens Altinn II også håndterer skjemasett, er det også gjort enkelte justeringer i sideflyten rundt kontroll og innsending i forhold til retningslinjene.\nFor innsynstjenester er det utviklet tre eksempelskjema som er tenkt benyttet som utgangspunkt for utforming av brukergrensesnitt­et, basert på tre ulike interaksjonsmønstre. Skjemaene er ikke ment å bli brukt som gjenbrukbare eksempler eller maler for utvikling av en innsynstjeneste. De er utviklet med fokus på interaksjon og layout som sluttbruker vil se i SBL. Funksjonaliteten og arkitekturen bak, som er nødvendig for at en innsynstjeneste skal virke, er ikke med i disse eksemplene.\nSkjemaene er tilgjengeliggjort i dokumentbiblioteket på startsiden. De er kalt Lookup single view, Lookup left menu og Lookup accordion for å gjenspeile layouten på skjemaene.\nLookup single view består av kun et view (en side), og har et område for header/tittel på toppen, et område for input av data (dette kan sløyfes) og et område for selve resultate av innsynstjenesten (output).\nLookup left menu består av flere views(sider) og en venstremeny der brukeren kan navigere mellom de ulike sidene. Dette eksempelskjemaet har også et et område for header/tittel på toppen. Området for selve resultatet av innsynstjenesten (output) er i midten av siden. Hva som vises her avhenger av hvilken side som er valgt i venstremenyen.\nLookup accordion består av kun et view (en side), og har et område for header/tittel på toppen. Under header-området er området for selve resultatet av innsynstjenesten (output), og det er bygd opp med en rekke områder som kan ekspanderes og trekkes sammen ved å klikke på pluss- og miustegn.\nRetningslinjer for utforming av innsendingstjenester TUL støtter ELMER for innsendingstjenester ved at tjenesteutvikler kan angi om skjemaet skal presenteres i sluttbrukerløsningen i henhold til ELMER-retningslinjene. I følge ELMER skal skjemasiden være delt i tre områder ved siden av hverandre. Alle ordinære sider i skjemaet består av et utfyllingsområde for selve skjemaet med et navigasjonsområde til venstre og et område for selvvalgt tilleggsinformasjon til høyre. I tillegg skal det være en knapperad med navigasjonsknapper under skjemaet.\nSelve skjemaet bygges i InfoPath og lastes opp på en tjenesteutgaves arbeidsflate i TUL. I skjemadelen presenteres svarfelter som skal fylles ut av sluttbrukeren sammen med ledetekster og eventuelle hjelpeikoner.\nNavigasjonsområdet vil ved bruk av ELMER bli plassert til venstre for selve utfyllingsområdet. Navigasjonsområdet er en meny bygget opp av alle sidene i skjemaet. Skjemaet bør gis forståelige sidenavn som beskriver den enkelte sides temaer. Sidenavnet som skal vises i menyteksten kan være et forenklet kortnavn. Kortnavn kan defineres i parameterseksjonen Sideegenskaper i TUL.\nTjenesteutvikler kan også angi om navigasjonen skal være fri eller styrt. Bruk av ELMER med fri navigasjon er satt som default valg i TUL, og anbefales. Kun i spesielle tilfeller kan det være hensiktsmessig å velge styrt navigasjon, som for eksempel hvis det er nødvendig å lede sluttbrukeren gjennom et bestemt resonnement.\nNår skjemaet åpnes første gang, vil området for tilleggsinformasjon presentere en standardisert oppskrift på hvordan skjemaet skal brukes. Området kan også inneholde meldinger fra systemet eller hjelpetekster. Disse dukker opp ved validering av skjema eller når bruker klikker på et hjelpeikon. Hensikten er å kunne gi individuell støtte for utfyllingen uten å forstyrre selve utfyllingsområdet. Hjelpetekstene defineres i parameterseksjonen Hjelpetekster i TUL. Meldinger til sluttbruker angis i InfoPath (se 6.1.3 Valideringer).\nI følge ELMER skal nettskjemaer benytte svaravhengige spørsmål og sporvalg. Svaravhengige spørsmål defineres i InfoPath, mens sporvalg defineres i TUL, under parameterseksjonen Sporvalg.\nELMER anbefaler at kjente opplysninger forhåndsutfylles hvis det vil være til hjelp for sluttbrukeren (utfylleren). Under parameterseksjonen Preutfylling i TUL kan tjenesteutvikler forhåndsutfylle data fra Det sentrale folkeregister, Enhetsregisteret og Register over deltakerlignede selskap.\nI noen skjemaer kan det være nyttig for brukeren å få en oppsummering av tallstørrelser fra utfylte sider. Hvis det finnes et slikt sammendrag, skal det i følge ELMER presenteres alene på siste side i skjema og hete Sammendrag. Når sluttbrukeren er ferdig med å fylle ut et nettskjema, er det dessuten viktig at han får en klar og tydelig tilbakemelding om at skjemaet er sendt inn. Etter å ha fylt ut et skjema vil sluttbruker bli sendt til en egen kvitteringsside med kvitteringstekst, en oversikt over innsendte skjema og et sammendrag av det enkelte skjema, samt betalingsinformasjon der dette er aktuelt. Hvilke felter som skal med i sammendraget defineres i InfoPath, men i parameterseksjonen Sideegenskaper i TUL må det defineres hvilkne sider i InfoPath-dokumentet som skal brukes til sammendraget.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/tjenester/tilsynsdata/eksempler/tilsynsrapporter/",
	"title": "Tilsynsrapporter",
	"tags": [],
	"description": "Datamodell og schema",
	"content": "Eksempel { \u0026#34;tilsynsrapporter\u0026#34;: [ { \u0026#34;tildaenhet\u0026#34;: \u0026#34;123456789\u0026#34;, \u0026#34;tilsynutfoertav\u0026#34;: \u0026#34;222222222\u0026#34;, \u0026#34;ansvarligtilsynsmyndighet\u0026#34;: \u0026#34;222222222\u0026#34;, \u0026#34;tilsynsegenskaper\u0026#34;: { \u0026#34;kommunalt\u0026#34;: \u0026#34;ja\u0026#34;, \u0026#34;storulykke\u0026#34;: \u0026#34;nei\u0026#34;, \u0026#34;uanmeldt\u0026#34;: \u0026#34;ja\u0026#34;, \u0026#34;internTilsynsid\u0026#34;: \u0026#34;e1d1c5e4-bb40-40e3-97ad-8da7efc25105\u0026#34;, \u0026#34;tilsynsutvelgelse\u0026#34;: \u0026#34;Veldig suspekte folk\u0026#34;, \u0026#34;tilsynsstatus\u0026#34;: \u0026#34;aapen\u0026#34;, \u0026#34;tilsynstema\u0026#34;: \u0026#34;Fem tema om dagen gjør godt for magen\u0026#34;, \u0026#34;tilsynsnoekkelord\u0026#34;: \u0026#34;key, word\u0026#34;, \u0026#34;nettrapport\u0026#34;: \u0026#34;https://www.vg.no\u0026#34; }, \u0026#34;kontrolladresse\u0026#34;: [ { \u0026#34;lokalitetsreferanse\u0026#34;: 427760, \u0026#34;lokalitetsbeskrivelse\u0026#34;: \u0026#34;Enda ei rønne\u0026#34;, \u0026#34;lokalitetsnoekkelord\u0026#34;: \u0026#34;fairly fat dinosaur\u0026#34;, \u0026#34;lengdegrad\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;breddegrad\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;bygningsnummer\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;bruksenhetsnummer\u0026#34;: \u0026#34;Enhetsnummer\u0026#34;, \u0026#34;adressenavn\u0026#34;: \u0026#34;Gåssvingen 59, 0640 Oslo\u0026#34;, \u0026#34;adressenummer\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;postnummer\u0026#34;: \u0026#34;Postnummer\u0026#34;, \u0026#34;poststedsnavn\u0026#34;: \u0026#34;fairly fat dinosaur\u0026#34;, \u0026#34;kommunenummer\u0026#34;: \u0026#34;0301\u0026#34;, \u0026#34;bydel\u0026#34;: \u0026#34;Dal\u0026#34;, \u0026#34;fylkesnummer\u0026#34;: \u0026#34;020\u0026#34; }, { \u0026#34;lokalitetsreferanse\u0026#34;: 427760, \u0026#34;lokalitetsbeskrivelse\u0026#34;: \u0026#34;Enda ei rønne\u0026#34;, \u0026#34;lokalitetsnoekkelord\u0026#34;: \u0026#34;fairly fat dinosaur\u0026#34;, \u0026#34;lengdegrad\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;breddegrad\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;bygningsnummer\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;bruksenhetsnummer\u0026#34;: \u0026#34;Enhetsnummer\u0026#34;, \u0026#34;adressenavn\u0026#34;: \u0026#34;Gåssvingen 59, 0640 Oslo\u0026#34;, \u0026#34;adressenummer\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;postnummer\u0026#34;: \u0026#34;Postnummer\u0026#34;, \u0026#34;poststedsnavn\u0026#34;: \u0026#34;fairly fat dinosaur\u0026#34;, \u0026#34;kommunenummer\u0026#34;: \u0026#34;0301\u0026#34;, \u0026#34;bydel\u0026#34;: \u0026#34;Dal\u0026#34;, \u0026#34;fylkesnummer\u0026#34;: \u0026#34;020\u0026#34; } ], \u0026#34;tilsynsaktiviteter\u0026#34;: [ { \u0026#34;tilsynsaktivitetreferanse\u0026#34;: 1, \u0026#34;lokalitetsreferanse\u0026#34;: 1, \u0026#34;internKontrollid\u0026#34;: \u0026#34;22645022-198f-4f01-a865-ddf3b6a0f776\u0026#34;, \u0026#34;kontrollobjekt\u0026#34;: \u0026#34;123456789\u0026#34;, \u0026#34;dato\u0026#34;: \u0026#34;2021-04-08T14:34:17.2190696+02:00\u0026#34;, \u0026#34;varighet\u0026#34;: 1, \u0026#34;aktivitet\u0026#34;: \u0026#34;aktivitet\u0026#34;, \u0026#34;aktivitetsutfoerelse\u0026#34;: \u0026#34;fysisk\u0026#34;, \u0026#34;observasjon\u0026#34;: \u0026#34;Vi kikket på en god stund\u0026#34;, \u0026#34;samtidigKontroll\u0026#34;: [ { \u0026#34;tilsynsmyndighet\u0026#34;: \u0026#34;222222222\u0026#34;, \u0026#34;tilsynstema\u0026#34;: \u0026#34;tema\u0026#34;, \u0026#34;aktivitetsutfoerelse\u0026#34;: \u0026#34;\u0026#34; } ], \u0026#34;bekymringsmeldinger\u0026#34;: [ { \u0026#34;tilsynsmyndighet\u0026#34;: \u0026#34;12345678\u0026#34;, \u0026#34;melding\u0026#34;: \u0026#34;VIKTIG BESKJED\u0026#34; }, { \u0026#34;tilsynsmyndighet\u0026#34;: \u0026#34;12345678\u0026#34;, \u0026#34;melding\u0026#34;: \u0026#34;VIKTIG BESKJED\u0026#34; } ] } ], \u0026#34;kontaktpunkt\u0026#34;: [ { \u0026#34;rapportansvarlig\u0026#34;: \u0026#34;Ansvarligheten selv\u0026#34;, \u0026#34;avdeling\u0026#34;: \u0026#34;fairly fat dinosaur\u0026#34;, \u0026#34;telefonnummer\u0026#34;: \u0026#34;12345678\u0026#34;, \u0026#34;epost\u0026#34;: \u0026#34;fairlyfatdinosaur@fairlyfatdinosaurcom\u0026#34;, \u0026#34;adresse\u0026#34;: \u0026#34;Gåssvingen 59, 0640 Oslo\u0026#34; } ], \u0026#34;tilsynsnotater\u0026#34;: \u0026#34;Notater, notater, notater i lange baner\u0026#34;, \u0026#34;bruddOgReaksjoner\u0026#34;: [ { \u0026#34;tilsynsaktivitetreferanse\u0026#34;: 427760, \u0026#34;lokalitetsreferanse\u0026#34;: 427760, \u0026#34;utredning\u0026#34;: \u0026#34;Forklaring\u0026#34;, \u0026#34;lovparagraf\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;reaksjonsdato\u0026#34;: \u0026#34;2017-07-14T00:00:00\u0026#34;, \u0026#34;alvorsgrad\u0026#34;: [ { \u0026#34;reaksjonsverdi\u0026#34;: 427760, \u0026#34;reaksjonstype\u0026#34;: \u0026#34;Spesifisert type reaksjon\u0026#34;, \u0026#34;reaksjonsklasse\u0026#34;: 427760, \u0026#34;lavreaksjon\u0026#34;: 427760, \u0026#34;hoeyreaksjon\u0026#34;: 427760, \u0026#34;lavalvorsgrad\u0026#34;: 427760, \u0026#34;hoeyalvorsgrad\u0026#34;: 427760 } ], \u0026#34;oppfoelgingspaaminnelser\u0026#34;: 427760 } ] } ] } "
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/d/",
	"title": "D: InfoPath kodestandard",
	"tags": [],
	"description": "En oversikt over kodestandard for InfoPath.",
	"content": "Dette vedlegget bør oppdateres etter hvert som nye skjema blir utviklet i TUL og man kommer fram til standarder på tvers av tjenesteeierne. Det er altså opp til tjenesteeiere å oppdatere dette vedlegget.\nSom et utgangspunkt anbefales Brad Adams sin oppsummering http://blogs.msdn.com/brada/articles/361363.aspx.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/tjenester/tilsynsdata/eksempler/trendrapporter/",
	"title": "Trendrapporter",
	"tags": [],
	"description": "Datamodell og schema",
	"content": "Eksempel { \u0026#34;trendrapporter\u0026#34;: [ { \u0026#34;tildaenhet\u0026#34;: \u0026#34;974720760\u0026#34;, \u0026#34;tilsynutfoertav\u0026#34;: \u0026#34;222222222\u0026#34;, \u0026#34;ansvarligtilsynsmyndgihet\u0026#34;: \u0026#34;222222222\u0026#34;, \u0026#34;aarligeTotaler\u0026#34;: [ { \u0026#34;aar\u0026#34;: 2021, \u0026#34;antallBekymringsmeldinger\u0026#34;: 1, \u0026#34;maanederMedData\u0026#34;: 11, \u0026#34;antallTilsyn\u0026#34;: 2, \u0026#34;antallTilsynUtenReaksjoner\u0026#34;: 1, \u0026#34;tilsynMedReaksjoner\u0026#34;: 1, \u0026#34;antallKontroller\u0026#34;: 2, \u0026#34;kontrollerUtenReaksjoner\u0026#34;: 1, \u0026#34;kontrollerMedReaksjoner\u0026#34;: 1, \u0026#34;anmeldtReaksjon\u0026#34;: 1 }, { \u0026#34;aar\u0026#34;: 2020, \u0026#34;antallBekymringsmeldinger\u0026#34;: 1, \u0026#34;maanederMedData\u0026#34;: 12, \u0026#34;antallTilsyn\u0026#34;: 3, \u0026#34;antallTilsynUtenReaksjoner\u0026#34;: 1, \u0026#34;tilsynMedReaksjoner\u0026#34;: 1, \u0026#34;antallKontroller\u0026#34;: 2, \u0026#34;kontrollerUtenReaksjoner\u0026#34;: 1, \u0026#34;kontrollerMedReaksjoner\u0026#34;: 1, \u0026#34;anmeldtReaksjon\u0026#34;: 1 }, { \u0026#34;aar\u0026#34;: 2019, \u0026#34;antallBekymringsmeldinger\u0026#34;: 1, \u0026#34;maanederMedData\u0026#34;: 12, \u0026#34;antallTilsyn\u0026#34;: 1, \u0026#34;antallTilsynUtenReaksjoner\u0026#34;: 1, \u0026#34;tilsynMedReaksjoner\u0026#34;: 1, \u0026#34;antallKontroller\u0026#34;: 2, \u0026#34;kontrollerUtenReaksjoner\u0026#34;: 1, \u0026#34;kontrollerMedReaksjoner\u0026#34;: 1, \u0026#34;anmeldtReaksjon\u0026#34;: 1 }, { \u0026#34;aar\u0026#34;: 2018, \u0026#34;antallBekymringsmeldinger\u0026#34;: 1, \u0026#34;maanederMedData\u0026#34;: 12, \u0026#34;antallTilsyn\u0026#34;: 12, \u0026#34;antallTilsynUtenReaksjoner\u0026#34;: 1, \u0026#34;tilsynMedReaksjoner\u0026#34;: 1, \u0026#34;antallKontroller\u0026#34;: 2, \u0026#34;kontrollerUtenReaksjoner\u0026#34;: 1, \u0026#34;kontrollerMedReaksjoner\u0026#34;: 1, \u0026#34;anmeldtReaksjon\u0026#34;: 1 }, { \u0026#34;aar\u0026#34;: 2017, \u0026#34;antallBekymringsmeldinger\u0026#34;: 1, \u0026#34;maanederMedData\u0026#34;: 12, \u0026#34;antallTilsyn\u0026#34;: 21, \u0026#34;antallTilsynUtenReaksjoner\u0026#34;: 1, \u0026#34;tilsynMedReaksjoner\u0026#34;: 1, \u0026#34;antallKontroller\u0026#34;: 2, \u0026#34;kontrollerUtenReaksjoner\u0026#34;: 1, \u0026#34;kontrollerMedReaksjoner\u0026#34;: 1, \u0026#34;anmeldtReaksjon\u0026#34;: 1 } ] } ] } "
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/e/",
	"title": "E: InfoPath navnestandard",
	"tags": [],
	"description": "Oersikt over navnestandard for felter, grupper, script og skjema i InfoPath.",
	"content": "Som for kodestandarden er dette vedlegget \u0026ldquo;levende\u0026rdquo; og skal vedlikeholdes av tjenesteeierene. Det er ingen forutsetning av alle tjenesteeiere har lik navne standard, men en felles navnestandard vil lette arbeid og videreutvikling på tvers av personer.\nDet anbefales at felter som ligger i altinn-namespace prefikses med Altinn_Field_. Eks. altinn:Altinn_Field_123.\nMerk at det som står etter kolon-tegnet er valgfritt, og alle felter som benytter altinn-navnerommet, fjernes før oversendelse til etat.\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/innledning/",
	"title": "Innledning",
	"tags": [],
	"description": "Oversikt og struktur, forutsetninger, beskrivelse av aktører samt overordnet prosess for Tjenesteutviklingsløsningen (TUL) i Altinn.",
	"content": "Dette er en brukerveiledning for de som ønsker å utvikle tjenester i Altinns Tjenesteutviklingsløsning (TUL). Målgruppen for dokumentet er fagpersoner, kommunikasjons­medarbeidere og IKT-medarbeidere hos tjenesteeier som benytter verktøyene i TUL gjennom tjenesteutviklingsprosessen.\nBrukerveiledningen dekker også løsnings­administrators arbeidsoppgaver blant annet knyttet til å tildele/kontrollere brukertilgang i TUL på vegne av tjenesteeier. Informasjon rettet mot den mer tekniske målgruppen som er fortrolig med Visual Studio som arbeidsverktøy, er plassert i vedlegg.\nFølgende tjenestetyper er beskrevet i denne brukerveiledningen; innsending, melding, innsyn, samhandling, lenke og formidling.\nDenne guiden har som målsetning å gi tilstrekkelig beskrivelse av alle arbeidsoppgaver knyttet til tjenesteutvikling i Altinn. Hvis du oppdager mangler eller har innspill om forbedringer kan du enten opprette en pull request med endringer eller opprette en issue på GitHub.\nViktige forkortelser:\n TUL – Tjenesteutviklingsløsningen SBL – Sluttbrukerløsningen SBS – Sluttbrukersystem XSN – Filtypen til InfoPath-skjema  Utover disse finnes flere ord som er verdt å merke seg i begrepslisten.\nDenne guiden tar for seg den delen av tjenesteutviklingsprosessen som foregår i Tjenesteutviklingsløsningen, heretter kalt TUL. I forkant av dette må tjenesteutvikler gjennomføre en jobb knyttet til spesifisering av krav og design for tjenesten. Dette bør resultere i en skisse som beskriver hvordan tjenesten skal se ut i Altinn og sjekkliste for ønskede egenskaper som tjenesten skal ha. Likedan så finnes rutiner for varsling og bestillinger knyttet til testing og produksjonssetting som tjenesteutvikler må forholde seg til. Slik informasjon vil til en hver tid finnes på https://altinn.brreg.no.\nProduktet av TUL kan sies å være en utgave som migreres til Sluttbrukerløsningen, heretter kalt SBL.\nBestanddeler TUL består av en samling flere utviklingsverktøy hvor ulike deler benyttes til å utvikle ulik funksjonalitet i tjenesten i Altinn. Av disse så er følgende relevant for tjenesteutvikler i TUL:\n SharePoint InfoPath (utvikling av skjema) Microsoft Visual Studio Tools for Applications (utvikling av avanserte kontroller og kalkyler) Active Directory Users and Computers Andre hjelpeverktøy som Windows utforsker og andre standardprodukter Visual Studio og utviklingsimage (utvikling av mappere for innsynstjenester)  Forutsetninger Denne brukerveiledningen forutsetter grunnleggende kunnskap om standardproduktene SharePoint og InfoPath, og er ikke en komplett brukermanual for disse verktøyene. Dette gjelder også områdene der Visual Studio må benyttes som verktøy. Det forutsettes også at tjenesteutvikler i TUL har gjennomført tilstrekkelig opplæring/kursing i regi av Altinn Sentralforvaltning før tilgang til TUL gis.\nOversikt og struktur TUL er som nevnt en helhetlig løsning for utvikling av tjenester i Altinn. Her gir vi en enkel beskrivelse av struktur og prinsipper.\nStruktur TUL er designet slik at man har et hierarki mellom tjenesteeier, tjeneste og utgave, som vist i figur 1 under.\nTUL kan brukes av et udefinert antall tjenesteeiere som hver har sin arbeidsflate. En arbeidsflate er en side som viser og gir tilgang til all relevant informasjon for gitt nivå. Hver tjenesteeier kan ha en eller flere tjenester og hver tjeneste er representert ved sin egen arbeidsflate. En tjeneste kan igjen ha en eller flere utgaver og hver utgave er representert ved sin egen arbeidsflate.\nI figuren over representerer hver boks en arbeidsflate. Det er verdt å merke seg at en tjenesteutgave kan kun tilhøre en tjeneste, og en tjeneste kan kun tilhøre en tjenesteeier.\n Eksempel på tjenesteeier: Skatteetaten / SKD Eksempel på tjeneste: Alminnelig omsetningsoppgave Eksempel på utgave: 2009  I eksempelet over vil man i år 2010 kun opprette en ny utgave under eksisterende tjeneste. På denne måten får man det man ønsker.\nTjenestetyper En tjeneste i Altinn (som også kalles et element, en forekomst eller en instans) er alltid knyttet til én aktør (avgiver). Den oppstår (opprettes eller instansieres) på et bestemt tidspunkt og kan i de aller fleste tilfelle arkiveres i aktørens arkiv.\nI Altinn har vi disse tjenestetypene:\n  Innsendingstjeneste: Et skjema eller skjemasett som sendes fra sluttbruker på vegne av en aktør, til en tjenesteeier. Innsendingen kan opprettes av sluttbruker eller tjenesteeier, og det er mulig med forhåndsutfylling med sluttbrukerens data (prefill). Skjemasettet kan følge en prosessflyt som omfatter utfylling, et antall signeringer og innsending.\n  Innsynstjeneste: Et skjema som kan åpnes av sluttbruker, og som enten automatisk eller på brukers initiativ gjør oppslag i eksterne systemer og viser informasjon til sluttbruker. Det er mulig med lagring og signering av framhentet informasjon i aktørens arkiv.\n  Meldingstjeneste: Informasjon som sendes fra tjenesteeier til en aktør og presenteres i form av HTML, binære vedlegg og/eller skjema. Det er mulig å sende ut varsel om mottatt melding og be om bekreftelse på mottak. Meldinger kan arkiveres i aktørens arkiv.\n  Samhandlingstjeneste: En gruppering av underliggende tjenester som inngår i en sammenheng, supplert med støtteinformasjon og statusmerknader som kommuniseres til sluttbruker. Underliggende tjenester kan eies av forskjellige tjenesteeiere. Også sluttbruker selv kan definere grupperinger av tjenester. Samhandlingstjenester følger samme prinsipper for øvrige tjenestetyper for opprettelse og arkivering.\n  Lenketjeneste: En lenketjeneste er en lenke fra Altinn til en tjeneste som ligger hos tjenesteeieren. For å få tilgang til tjenesten må sluttbruker være logget inn hos ID-Porten gjennom Altinn. Altinn har lenken til tjenesteeierens tjeneste i sin tjenestekatalog.\n  Formidlingstjeneste: Dette er en tjeneste som brukes til å overføre filer fra en avsender til en eller flere mottakere. Tjenesten kan bare brukes via web service eller SFTP.\n  Aktører Det er ønskelig at man innenfor den enkelte tjenesteeier skal kunne utføre betydelige deler av arbeidet knyttet til å etablere og vedlikeholde tjenester i Altinn. Dog er det samtidig enkelte kompliserte oppgaver som krever til dels dyp teknisk kompetanse. De involverte brukerne kan derfor grupperes basert på kompetanse og arbeidsfordeling i tjenesteutviklingen. Dette er ikke en kategorisering uten nyanser, da en og samme person vil kunne falle inn i flere grupper.\nTabellen under viser de ulike brukerne og deres typiske oppgaver.\n\r\r\r\rBruker og egenskaper\rTypiske oppgaver\r\r\r\r\r\r\r\rFagperson som forstår kommunikasjonsbehov knyttet til aktuelle offentlig tjenester basert på faglig kompetanse.\nEr opptatt av at tjenester skal være effektive, feilfrie og av høy brukskvalitet; er nøyaktig og ønsker å levere god kvalitet.\nHar et fagområde utenom IKT; bruker IKT-verktøy, men er ingen systemutvikler.\nHar fått grunnopplæring i TUL og evt. InfoPath.\nArbeider med tjenestedefinisjon og vedlikehold generelt, eller er spesialisert inn mot bestemte oppgaver.\n\r\r\rOpprette tjeneste/tjeneste­utgave\rUtarbeide design\rDefinere tjeneste inkludert evt. prosessflyt og skjemasett\rUtvikle tjenesteinnhold inkludert layout, tekster, kalkyler og regler\rEnhetsteste tjeneste\rStarte migrering til portalmiljø\rSystemteste/akseptanseteste tjeneste\rPublisere informasjon om tjeneste\rVedlikeholde og migrere kodeliste\r\r\r\r\r\r\r\rOversetter som har kompetanse på de aktuelle språkene.\nEr grundig og ønsker å bidra til enkel og forståelig kommunikasjon.\nHar fått grunnopplæring i TUL vinklet mot språkmodulen.\n\r\r\rOversette tjeneste\rOversette rolle\r\r\r\r\r\r\r\rIKT-person som har erfaring med systemutvikling.\nBehersker InfoPath (inkludert Xpath og C# i Visual Studio for Application) og SharePoint.\nHar fått grunnopplæring i TUL.\n\r\r\rUtarbeide prosessflytmal\rUtarbeide komplekse regler/kontroller\r\r\r\r\r\r\r\rTeknisk utvikler med god forståelse av Altinn-løsningen.\nHar spesialisert kompetanse knyttet til verktøyene i Altinn, for eksempel Workflow Foundation eller BizTalk.\nEnkelte har tilgang til å iverksette endringer i produksjonsmiljøet.\nFor øvrig som IKT.\n\r\r\rUtvikle ny kjøretids­komponent, for eksempel prosessflyt­komponent og tilstandsmodell\rProduksjonssette komponent\rProduksjonssette tjeneste\rOpprette arbeidsområde og database for etat/ny tjenesteeier\rOpprette nytt integrasjonspunkt mot etat\r\r\r\r\r\rLøsnings­admin\n\r\rLøsningsadministrator (tjenesteeier­administrator) med god forståelse av Altinn-løsningen, spesielt TUL.\nGir støtte til tjenesteeiere i tjenesteutviklings­arbeidet. Kan være administrator på vegne av en enkelt tjenesteeier eller for hele løsningen.\nBruker IKT-verktøy, men er ingen systemutvikler.\nHar fått opplæring i Active Directory og i SharePoint, vinklet mot bruker­administrasjon og/eller tilpasning av samhandlings­områder i SharePoint.\n\r\r\rAdministrere roller og rettigheter for TUL-brukere\rLaste opp nyttig og nødvendig informasjon for de som skal jobbe i TUL, for eksempel dokumentmaler, dokumenter og kunngjøringer\r\r\r\r\r\rProsess  Opprette overordnet design for tjeneste: Kan gjøres i Tjenesteutviklingsløsningen, men også i egne dokument i forkant av opprettelse av tjeneste. Opprette detaljert design for tjeneste: Opprettelse av tjeneste. Man får da tilgang til arbeidsflaten, dokumentbibliotek, tjenestedefinering og tjenesteutvikling (skjemautvikling). Definere tjeneste: Konfigurering av tjeneste, ved parametersetting. Utvikle tjeneste: Utvikling av skjema/dialogsider, samt:  Konfigurering av innhold Oversette tjeneste. Utvikle og migrere kodeliste. Utvikle og migrere prosessflytmal og komponenter.   Enhetstest tjeneste: Enhetstesting av skjema og kodegjennomgang. Utføres i forkant av systemtest, men kan også utføres iterativt i utviklingsprosessen. Migrere tjeneste til portalmiljø. Systemteste tjeneste: Test av tjeneste i Sluttbrukerløsningen og sluttbrukersystemer. Akseptanseteste tjeneste: Test av tjeneste i Sluttbrukerløsningen og sluttbrukersystemer. Produksjonssette tjeneste: Migrering til Sluttbrukerløsningen. Publisering av tjeneste: Publisering på InfoPortalen  "
},
{
	"uri": "https://altinn.github.io/docs/kom-i-gang-med-utvikling/",
	"title": "Kom i gang med utvikling",
	"tags": [],
	"description": "Som utvikler trenger du tilgang til våre løsninger. Hvilke tilganger som er nødvendige avhenger av hva du skal utvikle.",
	"content": "Med våre åpne API-er kan du integrere dine eksterne system mot eksisterende tjenester i Altinn. Du trenger ikke være tjenesteeier for å gjøre dette. For bruk av produktet “Digital post til virksomheter” trenger du heller ikke skrive under på en avtale, men må signere bruksvilkår.\nResten av våre produkter krever at din organisasjon er tjenesteeier i Altinn. Du kan sjekke her om din etat eller kommune allerede bruker oss. Som tjenesteeier får du tilgang til en ekstra del av Altinns API-er, og du kan produksjonssette tjenester gjennom våre verktøy TUL og Altinn Studio. Statlige etater, direktorater, tilsyn eller fylkeskommuner og kommuner kan bli tjenesteeiere i Altinn.\nKom i gang som tjenesteeier Dersom organisasjonen din er tjenesteeier i Altinn kan du utvikle digitale tjenester ved hjelp av våre verktøy og API-er.\nSkal du bruke TUL eller Altinn Studio? Nå kan Altinn Studio, Altinns nye utviklingsløsning og sky-baserte infrastruktur, tas i bruk. I første omgang vil du kunne lage enkle applikasjoner, og de funksjonelle behovene til de som er piloter vil ha fokus.\nSkal du utvikle en kompleks tjeneste med avansert logikk anbefaler vi at du tar kontakt med oss for en vurdering.\nTilgang til systemer Når du er ny som tjeneseeier får du tilgang til et eget område/oversikt for på Altinn digitalisering. Den som er serviceleder hos din etat eller kommune kan selv gi tilgang til kolleger som skal jobbe med Altinn.\nUt over det trengs det tilgang til verktøyer og webløsninger for integrasjon.\nHvilke tilganger trenger jeg?\nHva nå? Når du har fått tilgangene du trenger, kan du følge brukerveiledningene under TUL eller en av våre utviklingsguider for å sette opp og produksjonssette din tjeneste. Du velger om du vil ta i bruk produktene som de er eller integrere dem i ditt eget grensesnitt ved hjelp av API.\n\rTilganger\rFor å utvikle tjenester i Altinn trenger du tilgang til Altinns verktøy og webløsninger.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/f/",
	"title": "F: Bruk av Visual Studio",
	"tags": [],
	"description": "Hjelp til å komme i gange med utvikling av mappere i Visual Studio.",
	"content": "For utvikling av Web Service-mappere til innsynstjenester, så er dette kode som tjenesteeier kan utvikle på egen hånd og som deretter kvalitetsikres av ASF, eventuelt også applikasjonsleverandør før driftsleverandør produksjonssetter dette.\nForutsetninger Visual Studio (2015 anbefalt) er installert og C# Development Setting valgt for installasjonen.\nKoble opp mot tjenesteeiers TFS prosjekt Velg Team -\u0026gt; Manage connections…\nVelg Team -\u0026gt; Manage connections…Connect to team project\nVelg Servers…\nVelg Add…\nKryss av ServDev (inneholder repository for Mapperne )\nTrykk Connect.\nVelg Clone this repository for å hente kildekoden.\nAngi plassering av lokal arbeidskatalog, og velg Clone\nÅpne\n$/\u0026lt;tjenesteeierforkortelse\u0026gt;/Mappers/\u0026lt;tjenesteeierforkortelse\u0026gt;.sln\r(for eksempel $/TTD/Mappers/TTD.sln) for å utvikle mapper.\nÅpne\n$/\u0026lt;tjenesteeierforkortelse\u0026gt;/Conditions/Altinn.SBL.Conditions.sln\r(for eksempel $/TTD/Conditions/Altinn.SBL.Conditions.sln) for å utvikle conditions.\n\u0026lt;tjesteeierforkortelse\u0026gt; kan i sin tur være delt opp i \u0026lt;etat\u0026gt;\u0026lt;avdeling\u0026gt;\u0026lt;prosjekt\u0026gt;.\nAlt avhengig av hvordan tjenesteeier er organisert og hvor mange mappere de har.\nFor å referere til Altinn-tjenester må man linke inn proxy dll-er. Disse ligger ferdigkompilert på utviklingsmiljøet, i katalogen c:\\dev\\lib\\\u0026lt;versjon\u0026gt;, for eksempel \u0026ldquo;c:\\dev\\lib\\2.0.5\u0026rdquo;.\nViktig:\nSelv om det er teknisk mulig å benytte vilkårlige proxies og rammeverkmetoder fra dll-er under \u0026ldquo;c:\\dev\\lib\u0026rdquo;, anbefales det å begrense seg til kun å benytte metoder i baseklassene (Altinn.SBL.ServiceEngine.Case.AltinnConditionsBase for conditions og Altinn.SBL.ServiceEngine.Lookup.Mappers.Common.Services.AltinnMapperBase for mappers), da disse er de eneste som garantert vil være bakoverkompatible i fremtidige versjoner.\nForvaltning av kildekode i TFS I TFS vil tjenesteeiers utviklere ha skrivetilgang, og kunne forvalte kildekoden etter eget ønske. Leverandøren besørger drift av TFS (inkludert backup), men vil ikke aktivt forvalte tjenesteeiers kildekode uten at det foreligger en eksplisitt bestilling på dette.\nHvis det ikke er laget mapper eller conditions prosjekt for en tjenesteeier som ønsker dette, så skal dette skallet settes opp av Leverandør. Bruk av TFS og Visual Studio for å sjekke ut/inn er utenfor scope for denne brukerdokumentasjonen.\nProsjektstruktur for mappere Over vises grunnleggende innhold i solution for en mapper åpnet i Visual Studio, og i listen under er forklaring.\n  Config\n env_variables.csv\nInneholder substitueringsvariabler som kan ha forskjellige verdier avhengig av til hvilket miljø som mapperen deployes til. Denne definerer variabelnavn og tilhørende variabler ved hjelp av en kommaseparert liste, hvor hver av verdiene tilhører et spesifisert miljø (f.eks. AT/TT/Prod). internal/external.web.config\nKan inneholde diverse konfigurasjonsnøkler og WCF-konfigurasjon (inkludert endepunkt mot tjenesteeiers web services). Setup-prosjektene omdøper internal/external.web.config til web.config for hhv interne og eksterne tjenester.    Services\n Service References\nInneholder genererte proxier til tjenesteeiers Web Services. Proxiene anvendes i Mapper.cs IMapper.cs er Web Services kontrakten for mapper. Mapper.cs er implementasjonen av service kontrakten IMapper.cs. Denne filen har \u0026ldquo;hovedfokus\u0026rdquo; når man utvikler en mapper. Mapper.svc er selve endepunktet, filen som man peker på fra InfoPath. Denne navngis av tjenesteeier. Transfer.cs innholder datakontrakter brukt av mapper. Utility.cs inneholder klasser for logging, objekt konvertering og konfigurasjons uthenting.    Tests\n Services References inneholder proxier til mapper services. Proxiene anvendes i MapperUnitTest.cs. MapperUnitTest.cs inneholder alle enhetstestene av mapper.    Setup-prosjekter\nDisse benyttes til å generere en msi-fil som brukes for å installere mapperen i et miljø. Her adderes alt innhold som skal inngå i installasjonsfil. Den eksterne setup-en er kun nødvendig hvis mapperen skal eksponeres eksternt (mot sluttbrukersystemer).\n  Hensiktsmessig Web Service API for Mappers Da tjenesteutvikler i InfoPath kobler seg mot Web Service mapper er det hensiktsmessig at både input- og output-verdier fra denne Web Servicen er atomiske elemeter som en i InfoPath kan koble direkte mot feltene i InfoPath. Dette bør utvikler ta hensyn til.\nLagre signert kopi TUL har en parameter som sier om det er mulig å lagre en signert kopi av innsynstjenesten. For å minimere vedlikehold kan utvikler velge å gjøre et oppslag mot Service Metadata slik at en evt. endring på denne parameteren dynamisk tas hensyn til av mapperen (IsSigningAllowedForLookupService).\nHensynta sluttbrukersystemer Kun innsynstjenester som kan returnere en ”komplett” xml vil det kunne være hensiktsmessig å tilgjengeliggjøre for sluttbrukersystem. For sluttbrukersystemer må det lages en separat WebService (facade) som har postfix ”External” som er den som skal tilgjengeliggjøres for eksterne systemer. Denne vil så kalle mapperen for å hente data. Dette er helt identisk med hvordan andre interne tjenester i Altinn II er blitt gjort tilgjengelig eksternt.\nKvittering på benyttet innsyn TUL har en parameter som angir om det skal sendes bekreftelse på bruk av tjenesten til tjenesteeier. For å minimere vedlikehold kan utvikler velge å gjøre et oppslag mot Service Metadata slik at en evt. endring på denne parameteren dynamisk tas hensyn til av proxy-tjenesten.\nDeploy av mappers og conditions Mappere for innsynstjenester og conditions for samhandlingstjenester utvikles i Visual Studio og kompileres og pakkes til msi-filer (ved hjelp av et setup-prosjekt i Visual Studio). Det anbefales å pakke generert msi og exe fil i et rar-arkiv før oversendelse til driftsleverandør. Msi-filene kan deretter installeres i de ulike SBL-miljøene av Driftsleverandøren.\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/g/",
	"title": "G: Web Service-oppslag fra InfoPath",
	"tags": [],
	"description": "Dette vedlegget inneholder en beskrivelse av hvordan man kan gjøre web service-oppslag fra et InfoPath-skjema.",
	"content": "Web service-oppslag vil være i kjernen i hvordan registeroppslag fungerer. Dette vil fungere på den måten at skjemaet vil kontakte registeret med predefinerte parametere og deretter få et svar som man kan behandle i skjema. Denne veiledningen vil derfor beskrive en generell fremgangsmåte for hvordan gjøre et web service-oppslag i InfoPath-skjema. Eksempeldataene benyttet i fremgangsmåten tilhører Hent arkivreferanse. P.t. er det ikke andre skjemaspesifikke tjenester tilgjengelig.\nHvordan kalle en WebService fra et InfoPath skjema Legg til en datatilkobling ved å tab’en som heter Data i InfoPath. Velg deretter Datatilkoblinger og deretter Legg til…\nMan må så velge å opprette en ny tilkobling for å motta data, og dette via en webtjeneste.\nAdressen som angis for webtjenesten vil kunne variere iht hvilket oppslag som skal gjøres, for eksempel vil adressen for å hente arkivreferanse være\nhttps://infopathservices.altinn.no:87/ServiceEngine/ReporteeElementListInfoPath.svc?WSDL\nNår denne adressen er angitt, vil InfoPath forsøke å kontakte tjensten for å hente en liste over operasjoner. Antall operasjoner og navn vil variere med tjenesten. Velg deretter operasjonen du ønsker å benytte.\nHusk å fjern avkryssning for om data skal hentes når skjema åpnes hvis data ikke skal hentes før man trykker på en knapp i skjemaet.\nAkkurat samme måte benyttes for å koble innsynstjenester mot operasjoner i mappere.\nAdressen for å koble seg mot en gitt mapper vil være:\nhttp://mapperservices.altinn.no:87/ServiceEngine/Mappers/\u0026lt;tjenesteeierkode\u0026gt;/X.svc?WSDL\rDer \u0026lt;tjenesteeierkode\u0026gt; er tjenesteeierkode (SKD/NAV/etc) og X styres av tjenesteeier selv.\nNå er datastrukturen fra oppslaget tilgjengelig som en sekundær datakilde og kan derfor benyttes i skjema. Det er verdt å merke seg at for de fleste spesifikke Altinn registeroppslagene vil man måtte autentisere seg, og at enhetstest i InfoPath derfor vil være vanskelig. Se neste kapittel for kode som må legges inn for spesifikke oppslag.\nResultatet fra oppslaget kan vises i skjemaet på mange måter. Et eksempel er en repeterende tabell som populeres på bakgrunn av klikk på knappen Hent arkivreferanser.\nFor å angi registeroppslaget skal utføres eller den eksterne tjensten skal kalles ved trykk på knappen, må det lages en regel på knappen som skal brukes til å kalle Web servicen. Dette gjøres ved å høyreklikke på knappen og velge Egenskaper for knapp\u0026hellip; og deretter klikke på Regler\u0026hellip; og velge Legg til\u0026hellip; Man må nå angi et navn på regelen. Dette navnet kan være selvvalgt. Velg Legg til handling\u0026hellip; og velg Spørring ved hjelp av datatilkobling i nedtrekkslisten for Handling. Nå må den sekundære tilkoblingen velges.\nNå vil oppslaget utføres ved klikk på knappen.\nSom nevnt tidligere vil enkelte mapper/registeroppslag kreve ekstra informasjon fra skjemaet for å kunne autentisere seg, samt vite hvilke brukerspesifikke data som skal hentes ut.\nNeste kapittel vil vise dette for Altinn spesifikke oppslag.\nSjekkpunkter for InfoPath skjemaer for innsynstjenester Forutsetninger for data hentes når skjema åpnes Verdiene for alle sekundære datakilder som benyttes for Web/Utskrift/Signatur visninger, må kopieres til deres tilsvarende motparter i skjemaets hoveddatakilden. Dette må og gjøres for egendefinerte felter som benyttes som presentasjonsfelt. Alternativt kan verdiene fra felter i sekundære data kilder overføres til felter i skjemaet som allerede ligger i hoveddatakilden.\nForutsetninger for at data hentes på forespørsel ved bruk av knapper Disse må og følge forutsetnignene beskrevet ovenfor. Det et ønskelig at data hentes når knappen blir trykket på. Knappene som benyttes ha følgende instillinger:\nHandling settes til “Regler og egendefinert kode”:\nEtter at “Handling” er satt, må du skrive inn koden som er beskrevet nedenfor:\nVi må legge til en linje i koden for at knappen skal kommunisere med hovedsiden. Følgende kode må da legges til i formcode.cs:\nC# kode for registeroppslag Legg inn C# kode i Loading eventen til skjema. Koden skal hente ut portal parametre som skal benyttes i kallet til web servicen. Dette er data som hentes ut fra FormState under skjemautfylling i portalen.\nEksemplet under viser hvordan dette skal kodes, og legg merke til at det enkelte skjemaspesifikke verdier som må settes, bl.a. ekstern tjenestekode og ekstern utgavekode.\npublic void FormEvents_Loading(object sender, LoadingEventArgs e) { string opensso = FormState[\u0026#34;OpenSSOID\u0026#34;] as string; string userid = FormState[\u0026#34;UserID\u0026#34;] as string; string reporteeElementID = FormState[\u0026#34;ReporteeElementID\u0026#34;] as string; string reporteeID = FormState[\u0026#34;ReporteeID\u0026#34;] as string; string language = FormState[\u0026#34;Language\u0026#34;] as string; XPathNavigator secDS = this.DataSources[\u0026#34;GetArchivedFormTaskList\u0026#34;].CreateNavigator(); XPathNavigator node = secDS.SelectSingleNode( \u0026#34;/dfs:myFields/dfs:queryFields/tns:GetArchivedFormTaskList/tns:userID\u0026#34;, NamespaceManager); if (node != null \u0026amp;\u0026amp; userid != null) { node.SetValue(userid); } node = secDS.SelectSingleNode( \u0026#34;/dfs:myFields/dfs:queryFields/tns:GetArchivedFormTaskList/tns:reporteeID\u0026#34;, NamespaceManager); if (node != null \u0026amp;\u0026amp; reporteeID != null) { node.SetValue(reporteeID); } node = secDS.SelectSingleNode( \u0026#34;/dfs:myFields/dfs:queryFields/tns:GetArchivedFormTaskList/tns:serviceCode\u0026#34;, NamespaceManager); if (node != null) { node.SetValue(\u0026#34;132323\u0026#34;); //Legg inn serviceCode for det aktuelle skjemaet  } node = secDS.SelectSingleNode( \u0026#34;/dfs:myFields/dfs:queryFields/tns:GetArchivedFormTaskList/tns:altinnIServiceCode\u0026#34;, NamespaceManager); if (node != null) { node.SetValue(\u0026#34;0\u0026#34;); //Legg inn altinnIServiceCode (OR form nummer) for det aktuelle skjemaet, 0 hvis ikke altinn1 skjema  } node = secDS.SelectSingleNode( \u0026#34;/dfs:myFields/dfs:queryFields/tns:GetArchivedFormTaskList/tns:languageID\u0026#34;, NamespaceManager); if (node != null \u0026amp;\u0026amp; language != null) { node.SetValue(language); } } Dette er et kodeeksempel som er spesifikt for GetArchivedFormTaskList, for andre web service kall så vil navn på sekundær datakilde og Xpath uttrykk endres. For kall til andre (ikke Altinn) tjenester vil det ikke være nødvendig å hente ut parametre fra FormState.\nBruk av AltinnMapperContext AltinnMapperContext er en kontekst XML som du kan bruke i InfoPath skjema og i mapper og som blant annet gir deg tilgang til UserID, Username, Firstname, ReporteeNumber, ServiceOwnerCode etc. I figuren nedenfor ser du alle elementene vi kan hente ut fra AltinnMapperContext\nDu kan få tilgang til alle parametrene fra AltinnMapperContext direkte i skjema ved å bruke InfoPath regler i motsetning til ved bruk av FormState varibler der man må bruke C# kode for å hente ut opplysninger om innlogget bruker og avgiver.\nMappere som utvikles og deployes til SBL kan rent teknisk kalles av alle InfoPath-skjema i løsningen, også på tvers av tjenesteiere. Dette kan være en sikkerhetsrisiko. Ved å benytte seg av AltinnMapperContext i mapper kan man forsikre seg om at bare de som har authentisert seg og valgt riktig avgiver skal få gjort kall mot gitte eksterne ressurser gjennom mapperen.\nFor å bruke AltinnMapperContext i InfoPath skjema må du legge til fila AltinnMapperContext.xml som en sekundær datakilde. AltinnMapperContext ligger under TULShare her: \\\\alt-tul-db-c02\\tulshare\\InfoPath\\Etater\nFor å legge til AltinnMapperContext som en sekundær datakilde i InfoPath skjema kan du gjøre følgende:\n Åpne InfoPath skjema og gå inn på fanen Data Gå inn på «Fra andre kilder» og velg «Fra XML fil» Bla deg frem til AltinnMapperContext.xml på TULShare (se figur under) og trykk på neste  Det kommer da opp et vindu med en advarsel om at tilkoblinger til XML filer ikke søttes i en nettverksbane men denne meldingen kan man bare se bort fra og trykke på neste knappen. Dataen vil bli inkludert som en ressursfil i skjema. Tilslutt kommer det opp at vindu der man kan endre navn på datatilkoblingen, vi anbefaler bare at navnet «AltinnMapperContext» bare står Fjern haken for å hente data automatisk når skjemaet åpnes hvis man ikke har et absolutt behov for dette. Åpner man vindu for datatilkoblingene til InfoPath skjema ser man nå at AltinnMapperContext er blitt lagt til som en sekundær datakilde i skjema.  For å teste ut at InfoPath skjema får tak i data fra AltinnMapperContext kan man bruke et felt i hoveddatakilden som skal vise verdien fra et felt i AltinnMapperContext.\nHvis man har behov for å enhetsteste AltinnMapperContext fra InfoPath kan man fylle XML fila med testdata. Det er først når man har migrert skjema til sluttbrukerløsningen at AltinnMapperContext blir fylt med reelle data.\nFor kommunikasjon med mappere så er det spesielt elementet AltinnMapperContext/ContextXml (en Base64 enkodet og signert representasjon av de samme dataene) som er interessant. Denne skal sendes med i forespørselen til mapperen på lik linje med andre funksjonelle felter.»\nTilgjengelige webtjenester og oppslag Sluttbrukerløsningen tilbyr et sett med webtjenester og mapper-operasjoner som kan benyttes i InfoPath-skjema. Disse webtjenestene muliggjør oppslag i sluttbrukerløsningens register over personer og enheter, men også andre komponenter som liste over arbeidselementer til den enkelte avgiver.\nUnder følger en oversikt over webtjenestene. Mapper-implementasjonene utvikles av den enkelte tjenesteeier og listes derfor ikke her.\nSe eksempel i C# kode for registeroppslag for hvordan parameterne skal settes.\nGetArchivedFormTaskList Henter en liste over arkiverte skjemasett/avgiverelementer basert på input parameterne.\n   Input Beskrivelse     int altinnIServiceCode Valgfri: Angir OrFormNumber for den tjenesten som skal hentes fra Altinn1 arkiv.   string serviceCode Valgfri: Angir ServiceCode(ekstern tjenestekode) for den tjenesten som skal hentes fra Altinn2 arkiv.   int userID Kan hentes med (int)FormState[\u0026quot;UserID\u0026quot;]   int reporteeID Kan hentes med FormState[\u0026quot;ReporteeID\u0026quot;] as string   int languageID Kan hentes med FormState[\u0026quot;Language\u0026quot;] as string    Begge de valgfri parameterne er teknisk sett valgfrie, men minst en av de to parameterne må angis.\n Endepunkt: ServiceEngine.ReporteeElementList Returverdi: ArchivedFormTaskIPBEList  GetFormSetElements Henter en liste som inneholder alle elementer i det gjeldende skjemasett/avgiverelement. Listen inneholder tre typer elementer: hovedskjema, vedleggskjema og binære vedlegg.\n   Input Beskrivelse     int userID Kan hentes med (int)FormState[\u0026quot;UserID\u0026quot;]   int reporteeElementID Kan hentes med FormState[\u0026quot;ReporteeElementID\u0026quot;] as string   int languageID Kan hentes med FormState[\u0026quot;Language\u0026quot;] as string     Endepunkt: ServiceEngine.ReporteeElementList Returverdi: FormSetElementBEList  GetOrganizationRegisterData Henter data om en organisasjon basert på organisasjonsnummer.\n   Input Beskrivelse     int userID Kan hentes med (int)FormState[\u0026quot;UserID\u0026quot;]   int orgNO Påkrevd: Angir organisasjonsnummer for den organisasjonen som skal hentes.     Endepunkt: Register.RegisterER Returverdi: OrganizationRegisterBE  GetOrganizationRegisterDataV2 Henter data om en organisasjon basert på organisasjonsnummer. Støtter enhetsnavn på mer en 35 tegn.\n   Input Beskrivelse     int userID Kan hentes med (int)FormState[\u0026quot;UserID\u0026quot;]   int orgNO Påkrevd: Angir organisasjonsnummer for den organisasjonen som skal hentes.     Endepunkt: Register.RegisterER Returverdi: OrganizationRegisterBE  GetOrganizationsOfferingRole Henter liste som inneholder juridiske underenheter av en organisasjon basert på organisasjonsnummer.\n   Input Beskrivelse     string coveredByOrganizationNumber Påkrevd: Angir organisasjonsnummer for den organisasjonen som liste skal hentes fra.   string role Påkrevd: Angir rolle     Endepunkt: Register.RegisterER Returverdi: OrganizationBEList  ValidateEmailAddress Validerer epostadresse.\n   Input Beskrivelse     string verdi Epost     Endepunkt: ServiceEngine.FormsEngineInfoPathCodeLibrary Returverdi: bool (true/false)  ValidateModulus11OrgNumber Validerer organisasjonsnummeret.\n   Input Beskrivelse     string verdi Organisasjonsnummer     Endepunkt: ServiceEngine.FormsEngineInfoPathCodeLibrary Returverdi: bool (true/false)  ValidateModulus11Fnumber Validerer fødselsnummeret.\n   Input Beskrivelse     string verdi Fødselsnummer     Endepunkt: ServiceEngine.FormsEngineInfoPathCodeLibrary Returverdi: bool (true/false)  ValidateModulus11BankAccount Validerer kontonummeret.\n   Input Beskrivelse     string verdi Kontonummer     Endepunkt: ServiceEngine.FormsEngineInfoPathCodeLibrary Returverdi: bool (true/false)  GetPersonRegisterData Henter data om en person, basert på både fødselsnummer og etternavn. Begge parametere må stemme overens for at data skal returneres om en person. Dette er en mekanisme som sørger for at man bare kan hente data for personer som man vet både fødselsnummer og navn på.\n   Input Beskrivelse     int userID Kan hentes med (int)FormState[\u0026quot;UserID\u0026quot;]   string SSN Påkrevd: Angir fødselsnummer for den personen som skal hentes.   string lastName Påkrevd: Angir etternavn for den personen som skal hentes.     Endepunkt: Register.RegisterDSF Returverdi: PersonRegisterBE  GetPersonRegisterDataV2 Henter data om en person, basert på både fødselsnummer og etternavn. Begge parametere må stemme overens for at data skal returneres om en person. Dette er en mekanisme som sørger for at man bare kan hente data for personer som man vet både fødselsnummer og navn på.\nDenne metoden er utgått og vil bli fjernet fra fremtidige leveranser av SBL og må derfor omgående byttes ut med GetPersonRegisterDataV3.\n   Input Beskrivelse     string SSN Påkrevd: Angir fødselsnummer for den personen som skal hentes.   string lastName Påkrevd: Angir etternavn for den personen som skal hentes.     Endepunkt: Register.RegisterDSF Returverdi: PersonRegisterV2BE  GetPersonRegisterDataV3 Henter data om en person, basert på både fødselsnummer og etternavn. Begge parametere må stemme overens for at data skal returneres om en person. Dette er en mekanisme som sørger for at man bare kan hente data for personer som man vet både fødselsnummer og navn på.\n   Input Beskrivelse     int userID Kan hentes med (int)FormState[\u0026quot;UserID\u0026quot;]   string SSN Påkrevd: Angir fødselsnummer for den personen som skal hentes.   string lastName Påkrevd: Angir etternavn for den personen som skal hentes.     Endepunkt: Register.RegisterDSF Returverdi: PersonRegisterV2BE  GetFamily Merk at denne metoden kun kan benyttes av tjenesteeier med hjemmel til taushetsbelagt informasjon fra Folkeregisteret. Evt bruk av dette oppslaget må derfor avklares før tjenesten kan tas i bruk. Pr i dag kan tjenesten benyttes av Helsedirektoratet.\rHenter resten av familien basert på et fødselsnummer etter de prinsipper som gjelder i dagens flyttemelding:\n Dersom et familioverhode(far eller mor) oppgis, hentes andre familioverhoder og deres barn. Dersom et barn i en familie oppgis, så hentes bare dette barnet. Døde familiemedlem returneres ikke.     Input Beskrivelse     int userID Kan hentes med (int)FormState[\u0026quot;UserID\u0026quot;]   string fNumber Påkrevd: Angir fødselsnummer for den personen som familie skal hentes for.     Endepunkt: Register.RegisterDSF Returverdi: PersonRegisterBEList  GetCompleteFamily Merk at denne metoden kun kan benyttes av tjenesteeier med hjemmel til taushetsbelagt informasjon fra Folkeregisteret. Evt bruk av dette oppslaget må derfor avklares før tjenesten kan tas i bruk. Pr i dag kan tjenesten benyttes av Helsedirektoratet.\rHenter resten av familien basert på et fødselsnummer uavhengig av brukerens rolle i familien. Døde familiemedlem returneres ikke.\n   Input Beskrivelse     int userID Kan hentes med (int)FormState[\u0026quot;UserID\u0026quot;]   string fNumber Påkrevd: Angir fødselsnummer for den personen som familie skal hentes for.     Endepunkt: Register.RegisterDSF Returverdi: PersonRegisterBEList  GetStreetNames Henter en liste med gatenavn som passer med søkeparameterne.\n   Input Beskrivelse     int userID Kan hentes med (int)FormState[\u0026quot;UserID\u0026quot;]   string municipalNumber Valgfri: Angir kommunen som skal søkes i.   string streetName Valgfri: angir søkestreng for gatenavn.     Endepunkt: Register.RegisterCommon Returverdi: StreetBEList  GetProperty Henter en liste over eiendommer som passer med søkekriteriene som er angitt som innparametere.\n   Input Beskrivelse     int userID Kan hentes med (int)FormState[\u0026quot;UserID\u0026quot;]   string municipalNumber Påkrevd: Kommunenummer   string landNumber Påkrevd: Gårdsnummer   string titleNumber Påkrevd: Bruksnummer   string leaseNumber Valgfri: Festenummer   string subNumber Valgfri: Undernummer     Endepunkt: Register.RegisterCommon Returverdi: PropertyBEList  GetApartmentNumbersForPropertyAddress Henter en liste over bolignummer som er tilgjengelig på en addresse.\n   Input Beskrivelse     string municipalNumber Påkrevd: Kommunenummer   string landNumber Påkrevd: Gårdsnummer   string titleNumber Påkrevd: Bruksnummer   string leaseNumber Påkrevd: Festenummer   string subNumber Påkrevd: Undernummer     Endepunkt: Register.RegisterCommon Returverdi: ApartmentNumberBEList  GetApartmentNumbersForStreetAddress Henter en liste over bolignummer som er tilgjengelig på en addresse.\n   Input Beskrivelse     string municipalNumber Påkrevd: Kommunenummer   string streetCode Påkrevd: Gatekode   string houseNumber Påkrevd: Husnummer   string houseLetter Valgfri: Husbokstav returnerer bare den spesifiserte husbokstaven og dersom den er utelatt leter den bare etter bolignummer for adresser uten husbokstav.     Endepunkt: Register.RegisterCommon Returverdi: ApartmentNumberBEList  Returverdier \r\r\rNavn\rDatatype\rBeskrivelse\rEksempel\r\r\r\r\rArchivedFormTaskIPBEList\r\rListe med ArchivedFormTaskIPBE\r\r\r\rArchivedFormTaskIPBE\r\r\r\r\r\rTitle\rstring\rNavn\r\r\r\rArchivedDate\rDateTime\rDato og tidspunkt for når skjemasettet ble arkivert\ryyyy-MM-ddThh:mm:ss\r\r\rArchiveReference\rstring\rUnik referanse for melding i Altinn arkiv.\rAR94295 (Altinn2)\nAM11111 (Altinn1)\r\r\rFormSetElementBEList\r\rListe med FormSetElementBE\r\r\r\rFormSetElementBE\r\r\r\r\r\rIconFileName\rAttachmentType\rFilnavn for ikon\r\r\r\rItemID\rint\rID-en til hovedskjema, underskjema eller binært vedlegg i dette skjemasettet\r\r\r\rItemName\rstring\rNavn på hovedskjema, underskjema eller binært vedlegg.\r\r\r\rItemURL\r\rURL for å åpne hovedskjema, uinderskjema eller binært vedlegg.\r\r\r\rItemType\rItemTypeEnum\rHovedskjema, underskjema eller vedlegg.\r1: Hovedskjema\n2: Underskjema\n3: Vedlegg\r\r\rValidationStatusType\rFormValidationStatusType\rValideringsstatus\r1: Gyldig\n2: Ugyldig\n3: Ikke validert\r\r\rIsSigningMandatory\rbool\rIndikerer om hoved- eller underskjemaet må signeres.\r\r\r\rCreatedByUserID\rint\rID-en til innlogget bruker.\r\r\r\rCreatedDateTime\rDateTime\rOpprettelsesdato for vedlegg.\ryyyy-MM-ddThh:mm:ss\r\r\rIsAddedAfterFormFillin\rbool\rIndikerer om vedlegget er lagt til etter at skjema er utfylt.\r\r\r\rDestinationType\rUserTypeRestriction\rDestination type for binære vedlegg\r0: Default\n1: Bare i portal\n2: Bare sluttbrukersystemer\n3: Alle\r\r\rIsAssociatedToFormSet\rbool\rIndikerer om vedlegget er med i et skjemasett.\r\r\r\rOrganizationBEList\r\rListe av OrganizationBE elementer\r\r\rOrganizationBE\r\r\r\r\r\rOrgNumber\rstring\rOrganisasjonsnummer\r010008433\r\r\rUnitName\rstring\rNavn\r\r\r\rEditedName\rString\rEndret navn\r\r\r\rUnitDescription\rString\rBeskrivelse\r\r\r\rEstablished\rDateTime\rEtablert\r\r\r\rPartyID\rInt\rId for å identifisere party-entitet i Altinn\r\r\r\rAdressPostAddress\rstring\rPostadresse\r\r\r\rPostalCodeBusiness\rstring\rKontorpostnummer\r\r\r\rPostalCityMail\rstring\rPoststed\r\r\r\rBusinessAddress\rstring\rKontoradresse\r\r\r\rPostalCodeMail\rstring\rPostnummer, postadresse\r\r\r\rMailCountry\rString\rLand\r\r\r\rBusinessCommunityNumber\rString\rKontorets kommunenummer\r\r\r\rPostCommunityNumber\rString\rPoststedets kommunenummer\r\r\r\rPostalCityBusiness\rstring\rPoststed, forretningsadresse\r\r\r\rTelephoneNumber\rstring\rTelefon\r\r\r\rMobileNumber\rstring\rMobil\r\r\r\rFax\rstring\rFax\r\r\r\rEMailAddress\rstring\rE-post\r\r\r\rInternetAddress\rstring\rHjemmeside\r\r\r\rUnitStatus\rstring\rForetaksstatus\rN – Ny\nE - endret\nS - slettet\nL - gjenåpnet\r\r\rUnitType\rstring\rType foretak\rANNA\r\r\rUnitTypeFlag\rstring\rFlagg for type foretak\rP - produksjon\nT - test\r\r\rEstablishedDate\rDateTime\rEtableringsdato\ryyyy-MM-ddThh:mm:ss\r\r\rLastChangedDateTime\rDateTime\rTidspunkt for når organisasjonen var sist endret\r\r\r\rSubStatus\rstring\rUnderstatus\rEBTC\r\r\rTrustedPartner\rBool\rForteller om organisasjonen er en tiltrodd samarbeidspartner.\r\r\r\rLegalEntity\rInt\rOrganisasjonsnummer for organisasjonens juridiske enhet, kan være det samme som OrgNumber\r\r\r\rOrganizationRegisterBE\r\r\r\r\r\rOrgNumber\rstring\rOrganisasjonsnummer\r010008433\r\r\rName\rstring\rNavn\r\r\r\rPostAddress\rstring\rAdresse\r\r\r\rPostPostCode\rstring\rPostnummer\r\r\r\rPostPostCity\rstring\rPoststed\r\r\r\rBusinessAddress\rstring\rForretningsadresse\r\r\r\rBusinessPostCode\rstring\rPostnummer, forretningsadresse\r\r\r\rBusinessPostCity\rstring\rPoststed, forretningsadresse\r\r\r\rTelephoneNumber\rstring\rTelefon\r\r\r\rMobileNumber\rstring\rMobil\r\r\r\rFaxNumber\rstring\rFax\r\r\r\rEMailAddress\rstring\rE-post\r\r\r\rInternetAddress\rstring\rHjemmeside\r\r\r\rUnitStatus\rstring\rForetaksstatus\rN – Ny\nE - endret\nS - slettet\nL - gjenåpnet\r\r\rUnitType\rstring\rType foretak\rANNA\r\r\rEstablishedDate\rDateTime\rEtableringsdato\ryyyy-MM-ddThh:mm:ss\r\r\rMunicipalNumber\rstring\rKommunenummer\r0301\r\r\rSubStatus\rstring\rUnderstatus\rEBTC\r\r\rCountryCode\rstring\rLandkode\rNO, DE\r\r\rPersonRegisterBEList\r\rListe med PersonRegisterBE\r\r\r\r\rPersonRegisterBE\r\r\r\r\r\rSocialSecurityNumber\rstring\rFødselsnummer\r07037512345\r\r\rName\rstring\rFullt navn\r\r\r\rFirstName\rstring\rFornavn\r\r\r\rLastName\rstring\rEtternavn\r\r\r\rCommunityNumber\rString\rTilsvarer PropertyBE.MunicipalNumber\r0301\r\r\rHouseLetter\rstring\rHusbokstav\rA\r\r\rHouseNumber\rstring\rHusnummer\r0057, 17\r\r\rStreetName\rstring\rGatenavn\rMIDDELTHUNS GATE\r\r\rPostalCode\rstring\rPostnummer\r186\r\r\rCity\rstring\rPoststed\rBERGEN\r\r\rMaritalStatus\rMaritalStatus\rSivilstatus\r0 Uoppgitt (D)\n1 Ugift\n2 Gift\n3 Enke(mann)\n4 Skilt\n5 Separert\n6 Partner\n7 Separert partner\n8 Skilt partner\n9 Gjenlevende partner\r\r\rFamilieNumber\rstring\rFødselsnummer/fødselsnummer til referanseperson i familie for personer med familiekode 2 eller 3.\r07037512345\r\r\rFamilyPersonCodeDescription\rstring\r\r1- Referanseperson\n2 - Gift kvinne/yngste partner som bor sammen med ekt\n3 - Barn som bor sammen med foreldre\r\r\rCitizenshipCountry\rstring\rNasjonalitet\r\r\r\rSpecialRegType\rint\r\r0 Vanlig bosatt\n1 Utenriks\n2 Militær\n3 Svalbard\n4 Klientadresse\n5 Uten fast bosted\n6 Sperret adresse, strengt fortrolig\n7 Sperret adresse, fortrolig\n8 Pendlere\r\r\rIsUnderAge\rbool\rUnder myndighetsalder\r\r\r\rDateOfDeath\rDateTime\rDødsdato\ryyyy-MM-ddThh:mm:ss\r\r\rLastChanged\rDateTime\rDato for siste endring\ryyyy-MM-ddThh:mm:ss\r\r\rApartmentNumber\rstring\rLeilighetsnummer\r\r\r\rPIDType\rstring\rID-type\rD – D-nummer\nF - Fødselsnummer\r\r\rProperty\rPropertyBE\r(se PropertyBE under)\r\r\r\rPersonRegisterV2BE\r\r\r\r\r\rSocialSecurityNumber\rstring\rFødselsnummer\r07037512345\r\r\rName\rstring\rFullt navn\r\r\r\rFirstName\rstring\rFornavn\r\r\r\rMiddleName\rString\rMellomnavn\r\r\r\rLastName\rstring\rEtternavn\r\r\r\rMaritalStatus\rMaritalStatus\rSivilstatus\r0 Uoppgitt (D)\n1 Ugift\n2 Gift\n3 Enke(mann)\n4 Skilt\n5 Separert\n6 Partner\n7 Separert partner\n8 Skilt partner\n9 Gjenlevende partner\r\r\rFamilieNumber\rstring\rFødselsnummer/fødselsnummer til referanseperson i familie for personer med familiekode 2 eller 3.\r07037512345\r\r\rFamilyPersonCodeDescription\rstring\r\r1- Referanseperson\n2 - Gift kvinne/yngste partner som bor sammen med ektefelle\n3 - Barn som bor sammen med foreldre\r\r\rSpecialRegType\rint\r\r0 Vanlig bosatt\n1 Utenriks\n2 Militær\n3 Svalbard\n4 Klientadresse\n5 Uten fast bosted\n6 Sperret adresse, strengt fortrolig\n7 Sperret adresse, fortrolig\n8 Pendlere\r\r\rIsUnderAge\rbool\rUnder myndighetsalder\r\r\r\rDateOfDeath\rDateTime\rDødsdato\ryyyy-MM-ddThh:mm:ss\r\r\rLastChanged\rDateTime\rDato for siste endring\ryyyy-MM-ddThh:mm:ss\r\r\rPIDType\rstring\rID-type\rD – D-nummer\nF - Fødselsnummer\r\r\rPostalAddress\rPostalAddressBE\r(se PostalAddressBE under)\r\r\r\rResidentialAddress\rResidentialAddressBE\r(se ResidentialAddressBE under)\r\r\r\rStreetBEList\r\rListe med StreetBE\r\r\r\rStreetBE\r\r\r\r\r\rStreetId\rint\rGate-ID\r21644\r\r\rMunicipalId\rInt\rKommune-ID\r220\r\r\rMunicipalNumber\rstring\rKommunenummer\r0301\r\r\rStreetCode\rstring\rGatekode\r06740\r\r\rStreetName\rstring\rGatenavn\rANDEDAMVEIEN\r\r\rPropertyBEList\r\rListe med PropertyBE\r\r\r\rPropertyBE\r\r\r\r\r\rPropertyId\rint\rUnik identifikator for eiendom\r\r\r\rMunicipalName\rstring\rKommunenavn\rHURDAL\r\r\rLandNumber\rstring\rLandnummer\rFra input\r\r\rMunicipalNumber\rstring\rKommunenummer\rFra input\r\r\rTitleNumber\rstring\r\rFra input\r\r\rLeaseNumber\rstring\r\rFra input, fire tegn, venstrepadding med 0\r\r\rSubNumber\rstring\r\rFra input, tre tegn, venstrepadding med 0\r\r\rAddressName\rstring\rAdresse\rVINDALSVEGEN\r\r\rApartmentNumberBEList\r\rListe med ApartmentNumberBE\r\r\r\rApartmentNumberBE\r\r\r\r\r\rApartmentNumber\rstring\rBolignummer\rH0101\r\r\rPostalAddressBE\r\r\r\r\r\rAddressLine1\rstring\rLinje 1 av adresse\r\r\r\rAddressLine2\rstring\rLinje 2 av adresse\r\r\r\rAddressLine3\rstring\rLinje 3 av adresse\r\r\r\rPostalCode\rstring\rPostnummer\r186\r\r\rCity\rstring\rPoststed\rBERGEN\r\r\rCountryCode\rstring\rLandkode tre siffer\r000\r\r\rResidentialAddressBE\r\r\r\r\r\rStreetCode\rstring\rFemsifret gatekode\r\r\r\rStreetName\rstring\rGatenavn\r\r\r\rHouseNumber\rstring\rHusnummer\r\r\r\rHouseLetter\rstring\rHusbokstav\r\r\r\rLandNumber\rstring\rGårdsnummer\r\r\r\rTitleNumber\rstring\rBruksnummer\r\r\r\rLeaseNumber\rstring\rFestenummer\r\r\r\rSubNumber\rstring\rUndernummer\r\r\r\rAddressName\rstring\rAdresse\r\r\r\rResidentialAddressLine1\rstring\rLinje 1 av bostedsadresse\r\r\r\rResidentialAddressLine2\rstring\rLinje 2 av bostedsadresse\r\r\r\rPostalCode\rstring\rPostnummer\r\r\r\rCity\rstring\rSted\r\r\r\rApartmentNumber\rstring\rLeilighetsnummer\r\r\r\rMunicipalNumber\rstring\rKommunenummer\r\r\r\rMunicipalName\rstring\rKommunenavn\rHURDAL\r\r\r"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2018/18-12/",
	"title": "18.12",
	"tags": [],
	"description": "Visning av organisasjonsform i REST, styre utsendelse av varsel ved prefill, feilrettinger m.m.",
	"content": "Endringer i portal Filtrering av aktørlisten basert på innstilling angitt i portalen Regnskapsførere og revisorer kan velge bort å se klienter i aktørlisten hvis de ønsker dette ved å gå inn i \u0026ldquo;profil\u0026rdquo; og \u0026ldquo;Avanserte innstillinger\u0026rdquo;. Etter 17.2 releasen fungerte ikke dette selv om man valgte bort å se klienter. Dette er nå korrigert og fungerer som tiltenkt.\nEndringer i REST API Mulighet for delegering av revisor/regnskapsfører rolle i REST API er tatt bort Blir det forsøkt delegert en revisor/regnskapsfører rolle (klientrolle) gjennom rolle og rettighetsdelegering i sluttbrukers REST API, vil delegeringen nå gi feilkode 403 med en beskrivende feilmelding. Disse rollene må delegeres via portalen.\nVisning av organisasjonsform, foreldreorganisasjon og link til Enhetsregisteret via REST API Tidligere var det ikke mulig fra REST responsen å avgjøre hvorvidt en hovedenhet hadde underenheter eller ikke. Endringen medfører at det nå er mulig å se organisasjonsformen til hvert selskap slik at man kan filtrere på hovedenheter, underenheter og indre selskap. I tillegg er det lagt til en lenke som peker til Enhetsregisteret for hvert element.\nLegge til Secure og HttpOnly på .ASPXAUTH ved fornyelse av cookie ved bruk av REST API Ved fornyelse av cookien .ASPXAUTH via REST API ble tidligere ikke “Secure” og “HttpOnly” satt. Dette blir nå gjort.\nEndringer i SOAP API Nytt parameter for å styre utsendelse av varsel ved opprettelse av elementer gjennom Prefill Operasjonen SubmitAndInstantiatePrefilledFormTask har fått et nytt parameter kalt ValidateButDoNotSendNotification. Når dette flagget blir satt til true vil logikken stoppe utsending av varsel selv om alt validerer OK. I tillegg gjør logikken en bedre verifisering av kontaktinformasjon knyttet til avgiver opp mot varsel innstillinger. Flagget er avhengig av at forespørselen inneholder informasjon om varsel utsending, men vil ikke gi noen feil om det skulle mangle.\nDet nye flagget ValidateButDoNotSendNotification skal kunne brukes av tjenesteeiere hvis de ønsker å validere at Altinn har nok informasjon til å kunne sende varsel uten at det faktisk sendes varsel. Dette kan da brukes i de tilfellene hvor de også skal lage et meldingselement (correspondence) og ønsker å knytte varsel til det isteden. Skulle verifisering av kontaktinformasjon resultere i en feil så vil tjenesten returnere en feilmelding om dette. Det blir ikke laget noe skjemaelement i en slik situasjon. Tjenesteeier kan da velge å opprette skjema i en forespørsel uten varselinformasjon eller velge en annen kanal som for eksempel papir.\nEndringen gjelder alle typer avgivere. Utbedringene som nå er gjort kan føre til litt andre feilmeldinger enn tidligere.\nDiverse bugfix Profilsiden - Resultat for tjenestesøk vises ikke på mobil En feil i tjenestesøk komponenten førte til at søkeresultatet ikke ble synlig for mobilvisning for tre visninger i profilsiden:\n Gi og fjerne rettigheter Opprettelse av lokal rolle Din kontaktinformasjon for virksomheten \u0026gt; Varsling kun for enkelttjenester  Feilen er nå rettet\nUtbedret logikk som bestemmer fødselsdatoen ut fra fødselsnummer ved bruk av makroer i varsel maler Altinn benytter per i dag fødselsnummer til å beregne fødselsdato. Logikken som gjør denne beregningen før fødselsdato benyttes i varsel maler hadde 2 feil. Det kunne plassere personer i feil århundre og gi personer med D-nummer ugyldige fødselsdatoer. Dette er nå rettet.\nKlientdelegering - feil i teller på fjern alle klienter I klientrolle administrasjonen for en gitt ansatt er det en link/knapp for å slette alle klienter den ansatte har. Link teksten sin teller er nå endret til å vise oppdatert totalt antall klienter den ansatte har, i stedet for antall klienter visningen inneholdt (visningen var begrenset til å laste 20 om gangen).\nKlientdelegering - Utbedring av feil for klientdelegering på fil for å unngå duplikat utsendelser av epostvarsling For versjon 18.7 av Altinn ble det levert forbedring rundt format på eposter for klientdelegerin på fil. I den sammenheng ble det innført en feil der utsending av epost til de som mottar delegering av en eller flere klientroller kunne motta opptil flere tusen eposter.\nFeilen er nå utbedret så mottaker mottar en epost pr. rolle, pr. klient.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2019/19-12/",
	"title": "19.12",
	"tags": [],
	"description": "Ny visning for &#34;andre med rettigheter&#34;, ytelsesforbedringer og feilrettinger.",
	"content": "Endringer i portal Panelet for “Andre med rettigheter” har fått listevisning Kortene som var i “andre med rettigheter” panelet er omgjort til liste. Et ikon kommer opp på tilhørende panel hvis noen har bedt om rettighet. Listen storteres alfabetisk på navn.\n Nytt søkefelt i “andre med rettigheter” I panelet “andre med rettigheter” har det også kommet et nytt søkefelt (se bildet over) som kan brukes til å søke etter navn på en persons for- og etternavn eller organisasjon.\nSøkemulighetene er:\n Navn på person eller organisasjon som er gitt rolle/rettighet/instansdelegering direkte eller via ekstern autorisasjonskilde (Enhetsregisteret, Folkeregisteret med flere). Navn på person eller organisasjon som har fått rolle/rettighet indirekte via nøkkelrolle hos organisasjon med rolle/rettighet.  Endringer i autorisasjon Sikkerhet i eOppslag introduseres i pilot-produksjon. Les mer om denne endringen.\nREST API Unødvendig dokumentasjon på sluttbrukersystemer fjernet Dokumentasjonen av sluttbruker-apiet inneholdt tidligere en seksjon for SRR som var tom. Denne er nå fjernet da dette ikke eksisterer på dette APIet.\nFeilrettinger Ytelsesforbedringer utført for Download Queue Forbedrede saneringsrutiner og endel andre mindre tiltak utført. Det ble også utført ytelsesforbedringer ved forrige release.\nTjenester 3.0 Utviklingsarbeidet med prosjektet Tjenester 3.0 pågår Se egen side her på github for beskrivelse, status og forventet tid for release.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/roadmap/2021/",
	"title": "Altinn Roadmap 2021",
	"tags": [],
	"description": "Overordnet roadmap for videreutvikling av Altinn i 2021.",
	"content": "Q1 - 2021 Altinn 3 - Støtte for tjenester uten grafisk brukergrensesnitt Den nye plattformen Altinn 3 gir økt fleksibilitet for hva slags applikasjoner som kan utvikles. Det skal også legges til rette for at tjenesteeiere kan lage applikasjoner uten å måtte definere et brukergrensesnitt for disse. Dette vil være tjenester som kun er tilgjengelig som API-er. Første bruker av denne funksjonaliteten vil være Sirius-prosjektet i Skatteetaten som vil lage en valideringsapp for bruk mot sluttbrukersystemer.\nData.altinn.no Støtte Maskinporten-autentisering i egne api-er\n✔️ Varsling sendes hovedenhetens varslingsadresse når underenhet ikke har registrert varslingsadressse I noen tilfeller så finnes det kontaktinformasjon registrert i KOFUVI på virksomheten men ikke på tilhørende underenhet. I dag blir det i slike tilfeller ikke sendt ut varsel. Dette skal endres slik at varsel skal til hovedenhetens varslingsadresse dersom underenheten ikke har registrert egen varslingsadresse.\n✔️ Tilby favoritter/alfabetisk visning ved valg av avgiver når man starter tjenste Endringen gjelder 2.0 tjenester. Når bruker starter en 2.0 tjeneste i dag så må han velge hvilken aktør han skal utføre tjenesten for. Denne visningen skal forbedres og fornyes slik at aktørene viser valgte favoritter samt lister opp aktører alfabetisk, i tillegg til at aktør kan søkes opp.\nQ2 - 2021 Ta i bruk vergemål som autorisasjonskilde I forbindelse med at Altinn skal ta i bruk modernisert folkeregister så vil vi få tilgang til opplysninger om hvem som er oppnevnt som verge på vegne av personer satt under vergemål.\nVergeroller I første omgang vil man kun få oppnevnt 3 ulike typer vergeroller i Altinn.\n \u0026ldquo;Verge\u0026rdquo;, denne rollen vil i utgangspunktet ikke gi noen rettigheter på vegne av den som er satt under vergemål. Men den som er oppnevnt som verge kan \u0026ldquo;be om rettighet\u0026rdquo; fra den han er verge for. Så kan den som er satt under vergemål gi vergen rettigheten eller vergen kan logge på med kodebrikke/minID til den som er satt under vergemål. \u0026ldquo;Verge for mindreårig asylsøker eller flykning\u0026rdquo;  Sivilrettsforvaltningen starter i 2020 et prosjekt \u0026ldquo;Vergemålsopplysninger integrert i Fullmaktsregister for Innbyggere (FUFINN)\u0026rdquo;. De vil gjennom dette prosjketet granulerer og kvalitetssikrer vergemål som er registert hos Fylkesmannen. Dette vil igjen gjøre det mulig å automatisere vergehavers fullmakter og rettighter ytterligere. Altinn vil ta i bruk og tilpasse seg de nye vergerollene etterhvert som de etableres.\nAltinn 3 - Støtte for meldinger som del av en dialog Støtte for at tjenesteeier skal kunne sende en melding som del av dialogen med sluttbrukeren i en Altinn 3-applikasjon.\nAltinn 3 - Finne Tjenester ved søk i innboks/arkiv Når bruker søker i innboks skal en kunne liste applikasjoner fra Altinn apps sammen med treffene fra Altinn 2-innboksen.\nAltinn 3 - ny løsning for administrasjon av roller Roller og autorisasjonstjenester (delegerbare ressurser/lenketjenester) opprettes og administreres fra tjenesteutviklingsløsningen Altinn 2/TUL i dag. TUL skal på sikt erstattes med Altinn 3/Altinn studio. Det er derfor nødvendig å lage en ny løsning for administrasjon og vedlikehold av roller og autoriasjonsressurser i Altinn studio.\nAltinn 3 - Bedre støtte for applikasjoner med mange elementer Det skal innføres funksjonalitet for at tjenester som består av mange input-felter, avkryssingsbokser og radioknapper osv. skal fungere effektivt for bruker ved utfylling i Altinn-portalen.\n\u0026ldquo;Proffversjon\u0026rdquo; av innboks Brukere som har mye innhold i innboksen eller kan representere mange aktører skal få mulighet å tilpasse innboksen. Dette for at den bedre skal kunne ivareta behovene i den enkelte innboks og på tvers av innboksene til flere aktører. Det vil tilbys muligheter for å sette ulike innstillinger som påvirker hva som vises. I tillegg vil søk på tvers av aktører gjøres mer fleksibelt.\nTilby tilgangsstrying på app-nivå for tjeneste 3.0 Altinn Autorisasjon skal utvikle støtte for tilgangsstyring og autorisering av operasjoner på applikasjoner i Tjenester 3.0.\n✔️ Nødvendige endringer i Altinnknyttet til KS svarut og behandling av meldinger med taushetsbelagt informasjon For å sikre tilgang til meldinger med sensitiv innhold skal KS benytte Altinn Autorisasjon som informasjonspunkt for å gi tilgang til meldinger på instansnivå. Dette betyr at delegering av tilgang til instanser i innboksen må videreføres ved arkivering av melding.\nStøtte for å sende digitalt valgkort via Altinn til innbyggere som ikke har DPI Valgkort skal i 2021 distribueres digitalt til alle innbyggere. For innbyggere som ikke er reservert men som ikke har valgt digital postboks (digipost, eboks) så vil valgkortet sendes til innboksen i Altinn.\nTidbegrensning av rettighter og rolle I dag finnes det mulighet for å angi \u0026ldquo;gyldig til\u0026rdquo; tidspunkt for samtykkedelegeringer. Tilsvarende funksjonalitet skal tilbys ved delegering av øvrige rettighter og roller som gir tilgang til å utføre tjenester på vegne av andre.\nQ3 - 2021 Publisering av hendelser på REST-API for tjenesteeier Det vil bli mulig å hente ut status på meldinger og varsler ved at det i Altinn publiseres en feed for hendelser. Denne feed vil på sikt erstatte dagens SOAP-operasjoner for meldingshistorikk. Dataene i feeden vil i første omgang ha levetid på 30 dager.\nAltinn 3 - Signering Arbeidsflytstegene utfylling og arkivering vil bli utvidet med nytt signeringssteg.\nIntegrasjon mot Advokatregisteret Altinn skal kobles opp mot Advokatregisteret for å kunne bruke dette som autorisasjonskilde. Formålet er å gi advokater mulighet til enklere å få rettigheter på vegne av sine klienter til å utføre digitale tjenester. Altinn skal også legge til rette for videreformidling av informasjon fra advokatregisteret til andre offentlig og private aktører\nTa i bruk AA registeret for å registerer Ansatt relasjon til virksomhet AA-registeret (arbeidsgiver- og arbeidstakerregisteret) eies og forvaltes av NAV og er et grunndataregister som gir en oversikt over alle arbeidsforhold i Norge med noen få unntak. AA registeret skal tas i bruk som et hjelpemiddel og forenkling av tilgangsstyring i Altinn. Når vi tar i bruk dette registeret vil vi kunne:\n  gi bedre oversikt over hvem som har tilganger (er vedkommende ansatt/ikke ansatt)\n  finne og velge rettighetsmottaker fra en liste over ansatte i stedet for å spørre den ansatte etter fødselsnummer\n  gi varsling hvis ansatt slutter\n  legge til rette for at ansatte selv kan be om rettigheter\n  Q4 - 2021 Tilgangsstyring i kunde-leverandør forhold Ofte leier personer/virksomheter inn andre virksomheter til å utføre oppgaver for seg som innebærer bruk av tjenester i Altinn, f eks bistand på HR eller regnskapsføring.\nI dagens Altinn delegerer en rettighet/rolle til Leverandørens organisasjonsnummer og nøkkelrolleinnehaver hos leverandør (eks daglig leder). Ofte er det andre ansatte enn daglig leder hos Leverandør som faktisk skal utføre oppgaven for kunden. Det er ingen enkel og oversiktlig måte å kunne delegere dette videre til egne ansatte for Leverandøren. I tillegg er det krevende å følge opp når ansatte hos leverandør skifter jobb.\nDet skal etableres en løsning for tilgangstyring mellom Kunde og Leverandør som inkluderer en mer oversiktlig håndtering av tilganger på vegne av kunde. Løsningen vil gjøre det mulig for Leverandør å be Kunde om de tilganger de har behov for. I tillegg skal leverandør kunne administrere disse tilgangene for egne ansatte.\nErstatte /api/help med dokumentasjon på Altinn docs altinn.no/api/help for REST-APIet skal avvikles. I stedet skal dokumentasjon av REST-APIet legges ut på Altinn docs. Dette vil blir tilrettelagt gjennom at det skal etableres en offentlig tilgjengelig OpenAPI 3.0-spesifikasjon som blir lagt til grunn for å generere dokumentasjon.\nMålsetning med endringen er å oppnå bedre dokumentasjon samt enklere vedlikehold av dokumentasjon av REST-API.\nBytte ut roller med brukerorienterte oppgaver og tilgangsstruktur som begrenser innsyn Dagens roller i Altinn er forholdsvis store og gir tilgang til mange tjenester. Det skal etableres en rollesturktur hvor det vil bli mulig å gi tilgang avhengig av om mottaker skal ha vide eller mer reduserte fullmakter.\nIntegrasjon mot eHelses fullmaktsdatabase Gi innbygger oversikt i Altinn over hvilke fullmakter som er registert hos eHelse\nForenkle og videreutvikle innbyggers oversikt over fullmakter (Q4 - 2021) En bruker-app med biometrisk pålogging, pushvarsel og som gir enkel tilgang til \u0026ldquo;mine fullmakter\u0026rdquo;\nVise informasjon om rettigheter for Altinn-tjenester i skjemakatalogen i altinn Når pålogget bruker finner en tjeneste i skjemakatalogen så skal det vises frem hvilke rettigheter bruker har til tjenesten på vegne av valgt avgiver, samt hvem andre som kan utføre denne tjenesten.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/",
	"title": "API",
	"tags": [],
	"description": "Altinns API kan brukes når du for eksempel skal tilby en nettløsning eller app der sluttbrukere logger på for å utføre operasjoner mot Altinn. Med APIet kan du lage skjema og meldinger i egen portal og styre hvem som skal ha tilgang til en tjeneste. Du kan også bruke APIet i eksterne systemer der du skal integrere deg mot eksisterende tjenester som etater har tilgjengeliggjort.",
	"content": "\rTilgjengelige APIer for tjenesteeiere Tjenesteeiere (offentlig virksomheter som har tjenester på Altinn-plattformen) får tilgang til en egen del av Altinns REST-API og SOAP-API. APIene som kun er tilgjengelige for tjenesteeiere er beskrevet under API for tjenesteeiere. Selv om du er tjenesteeier vil du også kunne ha behov for den åpne delen av Altinns APIer.\n\r\rSeksjonen gjelder Altinn II API-beksrivelsene i denne seksjonen handler om API-ene som er tilgjengelige i Altinn II. I Altinn 3 er det nye API-er. Disse er beskrevet i API-beskrivelser i docs.altinn.studio\n\r\rSkal du bruke REST eller SOAP? De fleste av Altinns tjenester er tilgjengelig via SOAP API, men mye er også tilgjengelig via REST API. Hvilket API du skal velge avhenger av hva du skal lage.\nAltinns REST API gir tilgang til meldingsboks, innsendingstjenester og informasjon om en sluttbruker, som enten kan være privatperson eller eller personer med roller/rettigheter til å representere en virksomhet. Du kan sende inn og motta data fra Altinn med REST-APIet, men noen av disse operasjonene er kun støttet av SOAP.\nSom tjenesteeier må du bruke SOAP når du skal hente skjemadata fra Altinn og for å sende forhåndsutfylte skjema, meldinger, formidle filer til bruker eller organisasjon via Altinn.\nIntegrasjon mot eksisterende tjenester For sluttbrukersystemer vil det i all hovedsak være SOAP API som tilbys som integrasjonsgrensesnitt inn mot tjenester som etater har tilgjengeliggjort. Dokumentasjon som etater har tilgjengeliggjort for sine tjenester finnes på Webområde for sluttbrukersystemleverandører.\nAll kommunikasjon mellom et sluttbrukersystem og et tjenesteeiersystem er ivaretatt ved hjelp av tjeneste og integrasjonsplattformen i Altinn. Dette gjelder uansett om dataflytbehovet er igangsatt fra sluttbruker eller tjenesteeiers side. Altinn plattformen benytter også data fra offentlige register som for eksempel Folkeregisteret eller Enhetsregisteret til å komplettere de data som flyter mellom aktørene som benytter Altinn.\nAPI-key Altinns apikey er definert per api og applikasjonstype.\nApikeys som skal brukes i nettløsninger (typisk javascript) bestilles av type \u0026lsquo;Nettleserapplikasjon\u0026rsquo; og må tilknyttes gyldige domener for å slippe gjennom CORS. Apikeyen blir dermed ingen hemmelighet i så måte, men vil være knyttet opp mot et spesifikt domene. Det er mulig å tillate flere domener, og i test også \u0026ldquo;localhost\u0026rdquo;.\nLøsninger som kaller Altinns REST-api utenfor nettleser, for eksempel fra backend-applikasjoner, desktop-programmer eller mobilapps bruker apikey av typen \u0026ldquo;Annet\u0026rdquo; i bestillingsskjemaet inntil skjemaet blir oppdatert. Dette gjelder uavhengig av om det er apikey som kaller sluttbrukerdelen av api-et eller tjenesteeierdelen.\nFormater Integrasjon i Altinn gjennom filbasert integrasjon eller web services er nesten utelukkende basert på bruk av XML. XML-spesifikasjonene som benyttes er enten definert som standardformater av Altinn for å integrere mot spesifikk funksjonalitet i løsningen, XML-spesifikasjoner er tilgjengeliggjort fra offentlige metadatakilder som oppgaveregisteret og SERES, eller tjenesteeiers egne spesifikasjoner.\nEksterne systemer vil bruke disse formatene til å levere eller hente data til og fra Altinn.\nVersjonering Altinn standardformater som er definert enten for filbasert integrasjon eller web services benytter versjonering av kontrakter. Versjoneringen er bygget opp rundt en standard som er mye benyttet av alle større premissleverandører for spesifikasjoner. Prinsippet går ut på at navnet på en komponent og entitet i denne er førende for navngiving og deretter benyttes årstall og måned kontrakten ble generert:\nhttp://www.altinn.no/services/\u0026lt;MainComp\u0026gt;[/\u0026lt;SubComp\u0026gt;]/\u0026lt;Year\u0026gt;/\u0026lt;Month\u0026gt;\nEt eksempel på dette er:\nhttp://www.altinn.no/services/ServiceEngine/ReporteeElementList/\n2009/01ReporteeElementList/2009/10\nNamespace benyttet i Altinns tjenestekontrakter og XML-spesifikasjoner (XSD) benytter denne notasjonen for versjonering.\nBinære vedlegg I Altinn-integrasjoner er muligheten for overføring av binære vedlegg til/fra løsningen mye benyttet. Siden XML og XML i web services er basis for standard integrasjon må det benyttes mekanismer som kan bruke XML som transport for disse data. Altinn tilbyr to muligheter for dette:\n Base64 koding – Her konverteres det binære vedlegget til en tekstbasert streng som lar seg transportere via XML. Base64 benyttes i all filbasert integrasjon til/fra Altinn, men er også en av valgmulighetene for webtjenester.  Retningslinjer Krav til merking Merkingen gjelder bruk av Altinn API i web-applikasjoner. Det må komme frem for brukeren at data kommer fra Altinn.\nVi har ikke krav til hvordan teksten skal vises, men den skal være godt synlig for brukeren, når vedkommende tar i bruk eller starter applikasjonen.\nAndre krav  Du har ikke lov til å lage tjenester/applikasjoner som framstår som om de er laget av Altinn. Du kan ikke endre på innholdet i data som leveres. Du har ikke lov til å bruke innholdet på nettsider med pornografisk eller rasistisk innhold, eller på nettsider som bryter norsk lov. Se dokumentasjonen for informasjon om autentisering og sikkerhet. Det kreves at applikasjonsleverandøren fyller ut egenerklæringskjema for bruk av Altinn API. Ved integrasjon av innhold fra Altinn API i andre fødererte portaler er det et krav at brukeren opplyses om bruken av Altinn API og hvilke ressurser i Altinn portalen benytter.  Kjente feil og mangler  Det er kun mulig å legge meldinger sendt til organisasjoner i søppelbøtten via REST tjenesten. Pr i dag finnes ikke denne muligheten via Webservice  \rREST\rMed REST-APIet er det mulig å bruke tjenestene i Altinn i en app eller ekstern nettside.\n\r\rSOAP\rDe fleste av Altinns tjenester er tilgjengelig via SOAP API.\n\r\rAPI for datasystem\rAltinn har helt siden oppstarten jobbet for å gjøre Altinn-tjenestene tilgjengelige for ekstern programvare. Ekstern programvare vil si datasystemer/sluttbrukersystemer som brukes av næringslivet, for eksempel regnskaps- eller lønnssystemer. Ønsker du å integrere et datasystem mot tjenester i Altinn har du oppskriften på det her.\n\r\rAPI for Tjenesteeiere\rSom tjenesteeier får du tilgang til en ekstra del av Altinns APIer. Den generelle delen om API er også nyttig for deg som tjenesteeier.\n\r\rNyttig Informasjon\rStørrelsesbegrensninger, tips og triks\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/api/rest/meldinger/arkivere/",
	"title": "Arkivere",
	"tags": [],
	"description": "Operasjoner for å arkivere meldinger",
	"content": "Arkivering utføres med ARCHIVE på message Følgende request arkiverer den aktuelle meldingen eller skjema. Når arkiveringen er utført returneres HTTP 204 - No Content med en Location-header som peker til den nye arkiv-addressen til meldingen.\nArkivering av meldinger av correspondence som krever brekreftelse er ikke mulig.\nPUT https://www.altinn.no/api/{who}/messages/{messageid}/archive HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey Responsen indikerer at arkiveringen er utført og den nye arkiv-addressen til meldingen:\nDate: Mon, 04 Jun 2018 12:28:53 GMT\rLocation: https://www.altinn.no/api/{who}/messages/{archivedMessageid}\r"
},
{
	"uri": "https://altinn.github.io/docs/api/rest/autorisasjon/",
	"title": "Autorisasjon",
	"tags": [],
	"description": "APIer relatert roller, rettigheter og rolledefinisjoner. Disse endepunktene benyttes når du skal hente ut roller og rettigheter en innlogget bruker har. Du kan også slette tildelte roller.",
	"content": "\rRoller og rettigheter\rBenyttes når du skal hente ut roller og rettigheter en innlogget bruker har. Du kan også delegere roller til andre eller slette slike delegeringer.\n\r\rRolle­definisjoner\rAPI\u0026#39;er relatert til rolledefinisjoner.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/autorisasjon/styring-av-tilgang/be-om-tilgang/",
	"title": "Be om tilgang",
	"tags": [],
	"description": "Ofte er det bruker/den ansatte som skal utføre en gitt tjeneste som selv oppdager at vedkommende mangler tilstrekkelig rettigheter til å gjøre dette. For å forenkle prosessen med å skaffe seg nødvendige rettigheter har vi utviklet funksjonaliteten &#34;Be om tilgang&#34;.",
	"content": "Tilsvarende funksjonalitet finnes også for be om samtykke eller fullmakt.\nSlik fungerer \u0026ldquo;Be om tilgang\u0026rdquo; En typisk flyt for å skaffe seg tilgang man mangler  Ansatt/bruker logger inn i Altinn eller eksternt brukersted som bruker Altinn som autorisasjonsløsning Ansatt/bruker velgre å representere en annen person ellre virksomhet og starter ønsket tjeneste Ansatt/bruker får beskjed om at hun mangler rettighet og velger å be om rettighet Altinn eller eksternt brukersted oppretter en forespørsel om rettighet. Eksternt brukersted oppretter tilgangsforespørsel via REST  Ansatt/bruker bekrefter at hun ønsker å oppretter en forespørsel om rettighet Ansatt/bruker angir hvorfor rettighet ønskes, administrator som skal varsles og bekrefter forespørsel Administrator får varsel om at noen har bedt om rettighet Administrator logger på Altinn og godkjenner forespørsel om rettighet Ansatt/bruker får varsel om at hun har fått en rettighet  Bruker kan be om rettighet til en eller flere tjenster i gangen.\nBruker kan også legge til en beskjed for å forklare hvorfor man trenger denne rettigheten og evt velge hvilken tilgangsstyrer som skal ha epost-varsel om at hun har bedt om rettighet.\nHvor kan man be om tilgang? I Altinn: Hvis bruker starter en tjeneste i Altinn som hun ikke har tilgang til så vil bruker få spørsmål om man ønsker å spørre om rettighet. '\nBruker kan også be om nye rettigheter fra profilen sin i Altinn:\nFor å unngå urettmessige forespørsler har Altinn lagt inn en begrensning slik at bruker bare kan be om rettighet fra virksomheter eller personer man allerede har en annen rettighet fra\nVia REST: Her finnes en detaljert beskrivelse av hvordan \u0026ldquo;be om tilgang\u0026rdquo; skal brukes for eksterne brukersteder som benytter Atlinn for å styre tilgang til sine tjenester.\nHvem godkjenner forespørsel? For å godkjenne en forespørsel om tilgang så kreves det at bruker er hovedadministrator, er daglig-/styreleder eller er tilgangstyrer for de aktuelle tjenestene det bes om tilgang til. For å tiltrekke seg administrators oppmerksomhet så markeres profil med et rødt utropstegn når en forespørsel må behandles\n"
},
{
	"uri": "https://altinn.github.io/docs/api/rest/meldinger/confirm/",
	"title": "Bekrefte",
	"tags": [],
	"description": "Operasjoner for å bekrefte mottak av meldinger",
	"content": "Bekreftelse utføres med CONFIRM på message Følgende request bekrefter at den aktuelle meldingen er motatt. Når bekreftelsen er utført returneres HTTP 204 - No Content.\nBekreftelse er kun mulig for correspondence som krever brekreftelse.\nPUT https://www.altinn.no/api/{who}/messages/{messageid}/confirm HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/data/",
	"title": "Data",
	"tags": [],
	"description": "Konfigurering av datamodell, preutfylling og andre ting relatert til data i en app.",
	"content": "\r\rDatamodell i Altinn Studio\rSlik importerer eller viser du datamodellen i Altinn Studio\n\r\rPreutfylling av data (prefill)\rHvordan konfigurere prefill for en app.\n\r\rKodelister (options)\rHvordan konfigurere options/kodelister for en app.\n\r\rVedlegg\rI en applikasjon kan man som utvikler legge til rette for opplasting av filvedlegg både via GUI og API.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/seres/endringer/2019/desember/",
	"title": "Desember",
	"tags": [],
	"description": "Mindre feilretting samt noe ny funksjonalitet for systemadministrator.",
	"content": "Retting av feil i «Glemt passord» Rettet feil der brukere med brukernavn som inneholdt bokstavene «æ», «ø» eller «å» fikk feilmeldingen «Nullstill passord feilet: Ukjent brukernavn» når de brukte «Glemt passord»- funksjonen (UTF-8).\nKorrigert navnesjekk knyttet til opprettelse av nytt domene og Domenemal Endret kode ved henting av Domenemal i forbindelse med at et nytt domene opprettes slik at navnesjekken ikke lenger er case sensitive/versalsensitiv.\nRettet skrivefeil Rettet skrivefeil i knappen «Opprett ny katalog» i dialogvinduet «Opprett ny katalog». Dialogvinduet er kun tilgjengelig for Systemadministrator.\nEksport/import av kataloger Det er lagt til funksjonalitet for å eksportere en eller flere kataloger med underliggende domene(r) og modeller til en zip-fil. Filen kan importeres tilbake til Domeneklienten i samme miljø eller annet et miljø. Den vil da overskrive gjeldende kataloger i Domeneklienten med de som finnes i filen. Vær oppmerksom på at versjonsinformasjon ikke blir eksportert/importert. Funksjonaliteten er kun tilgjengelig for Systemadministrator.\nEndre status fra «Historisk» til «Publisert» Det er lagt til funksjonalitet for å endre status fra «Historisk» til «Publisert». Funksjonaliteten er kun tilgjengelig for Systemadministrator.\nSlette katalog Det er lagt til funksjonalitet for å kunne slette en katalog. Funksjonaliteten er kun tilgjengelig for Systemadministrator.\nSlette domene Det er lagt til funksjonalitet for å kunne slette et domene. Funksjonaliteten er kun tilgjengelig for Systemadministrator.\nSlette modell Det er lagt til funksjonalitet for å kunne slette en modell. Funksjonaliteten er kun tilgjengelig for Systemadministrator.\nSlette modellversjon Det er lagt til funksjonalitet for å kunne slette en modellversjon. Funksjonaliteten er kun tilgjengelig for Systemadministrator.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/logic/generic/",
	"title": "Generelt",
	"tags": [],
	"description": "Oversikt over logikkfiler og hvordan de kan brukes.",
	"content": "Introduksjon De forskjellige filene som brukes til å definere logikk, finner man i logikk-menyen, som er tilgjengelig i UI-editoren via f(x)-ikonet øverst til høyre.\nDe kan også redigeres direkte fra applikasjonsrepoet, under folderen App/logic (for serverside applikasjonslogikk) eller folderen App/ui (for dynamikk). Denne folderen inneholder som standard følgende filer:\n🗀 App/ 🗀 logic/ 🗀 Calculation/ 🗎 CalculationHandler.cs 🗀 Print/ 🗎 PdfHandler.cs 🗀 Validation/ 🗎 ValidationHandler.cs 🗎 App.cs 🗎 InstantiationHandler.cs Flere filer kan legges til her når det er nødvendig.\nEt komplett prosjekt med eksempler på serverside applikasjonslogikk ligger her.\nMERK: Måten man refererer til elementer i datamodellen er ulik mellom OR og SERES typer XSDer. For OR XSDer er .value et nødvendig suffiks i referansen. Eksempelkoden under bruker en blanding av de to typene datamodeller.\n\r\rAuto-complete/intellisense Ved å redigere kildekoden i appene lokalt, i f.eks. Visual Studio Code, får man intellisense og autocomplete med på kjøpet. For C#-filene er det enkleste å jobbe med disse lokalt.\nFor javascript-filene er det også intellisense/autocomplete tilgjengelig om man ønsker å redigere filene direkte i Altinn Studio. Dette kommer automatisk mens man skriver, og man kan også tvinge det frem ved å trykke CTRL + SPACE\n"
},
{
	"uri": "https://altinn.github.io/docs/api/rest/meldinger/hente/",
	"title": "Hente",
	"tags": [],
	"description": "Operasjoner for å lese i meldingsboks og arkiv",
	"content": "Hent ut liste med meldinger og finn lenker Det sentrale elementet som tilgjengeliggjøres i APIet er Message. Den representerer et element i sluttbrukerens meldingsboks i Altinn og kan være av typen FormTask og Correspondence og ha ulik status alt etter hvilken tilstand elementet er i.\nVed å gå til rot-ressursen https://www.altinn.no/api/my/messages/ er det mulig å navigere seg fram til elementene i brukerens meldingsboks.\nSend følgende GET-forespørsel mot APIet, og du vil få returnert brukerens innhold i meldingsboksen (resultatet er begrenset til de 50 første elementene, se punkt 7 under for informasjon om hvordan du får fram de 50 neste).\nGET https://www.altinn.no/api/my/messages HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey Ved korrekt autentisering vil du få følgende svar fra APIet:\n{ \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages\u0026#34; }, \u0026#34;find\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages/{MessageId}\u0026#34;, \u0026#34;isTemplated\u0026#34;: true } }, \u0026#34;_embedded\u0026#34;: { \u0026#34;messages\u0026#34;: [ { \u0026#34;MessageId\u0026#34;: \u0026#34;a385107\u0026#34;, \u0026#34;Subject\u0026#34;: \u0026#34;Vedr. saksnr 201301840, journalnr 2013021622 \u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Ulest\u0026#34;, \u0026#34;LastChangedDateTime\u0026#34;: \u0026#34;2013-11-11T13:41:01.703\u0026#34;, \u0026#34;LastChangedBy\u0026#34;: \u0026#34;Kommunene\u0026#34;, \u0026#34;ServiceOwner\u0026#34;: \u0026#34;Kommunene\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;Correspondence\u0026#34;, \u0026#34;MessageSender\u0026#34;: \u0026#34;Brønnøy Kommune\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;2479\u0026#34;, \u0026#34;ServiceEdition\u0026#34;: 2, \u0026#34;ReplyOptions\u0026#34;: [ { \u0026#34;Type\u0026#34;: \u0026#34;Service\u0026#34;, \u0026#34;URL\u0026#34;: \u0026#34;http://devenv.altinn.no/api/metadata/formtask/3008/102\u0026#34;, \u0026#34;Text\u0026#34;: \u0026#34;Correspondence Sanity PROD\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;3008\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 102 }, { \u0026#34;Type\u0026#34;: \u0026#34;ArchiveReference\u0026#34;, \u0026#34;URL\u0026#34;: \u0026#34;http://devenv.altinn.no/api/my/messages/b3\u0026#34;, \u0026#34;Text\u0026#34;: \u0026#34;Correspondence Sanity PROD\u0026#34; }, { \u0026#34;Type\u0026#34;: \u0026#34;URL\u0026#34;, \u0026#34;URL\u0026#34;: \u0026#34;http://www.altinn.no\u0026#34;, \u0026#34;Text\u0026#34;: \u0026#34;Klikk her\u0026#34; } ], \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages/a385107\u0026#34; }, \u0026#34;metadata\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/metadata/correspondence/2479/2\u0026#34; }, \u0026#34;portalview\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/Pages....\u0026#34; } } }, { \u0026#34;MessageId\u0026#34;: \u0026#34;a385103\u0026#34;, \u0026#34;Subject\u0026#34;: \u0026#34;Søknad om tilskudd til lokale samlivskurs\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Utfylling\u0026#34;, \u0026#34;LastChangedDateTime\u0026#34;: \u0026#34;2013-11-11T13:39:22.817\u0026#34;, \u0026#34;LastChangedBy\u0026#34;: \u0026#34;HÅKON TRANA\u0026#34;, \u0026#34;ServiceOwner\u0026#34;: \u0026#34;Barne-, ungdoms- og familiedirektoratet\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;FormTask\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;3606\u0026#34;, \u0026#34;ServiceEdition\u0026#34;: 130731, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages/a385103\u0026#34; }, \u0026#34;print\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages/a385103/print\u0026#34;, \u0026#34;mime-type\u0026#34;: \u0026#34;application/pdf\u0026#34; }, \u0026#34;metadata\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/metadata/formtask/3606/130731\u0026#34; }, \u0026#34;portalview\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/Pages.....\u0026#34; } } }, { \u0026#34;MessageId\u0026#34;: \u0026#34;a382871\u0026#34;, \u0026#34;Subject\u0026#34;: \u0026#34;RF-1015 Lønns- og trekkopplysninger for 2012\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Utfylling\u0026#34;, \u0026#34;LastChangedDateTime\u0026#34;: \u0026#34;2013-11-11T13:37:48.093\u0026#34;, \u0026#34;LastChangedBy\u0026#34;: \u0026#34;HÅKON TRANA\u0026#34;, \u0026#34;ServiceOwner\u0026#34;: \u0026#34;Skatteetaten\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;FormTask\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;2802\u0026#34;, \u0026#34;ServiceEdition\u0026#34;: 2203, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages/a382871\u0026#34; }, \u0026#34;print\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages/a382871/print\u0026#34;, \u0026#34;mime-type\u0026#34;: \u0026#34;application/pdf\u0026#34; }, \u0026#34;metadata\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/metadata/formtask/2802/2203\u0026#34; }, \u0026#34;portalview\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/Pages......\u0026#34; } } } ] } } Message av typen FormTask En message med type FormTask representerer en innsendingstjeneste (skjema) som ligger i sluttbrukers meldingsboks. Status parameteren angir hvilken tilstand skjemaet har (\u0026ldquo;Utfylling\u0026rdquo;, \u0026ldquo;Signering\u0026rdquo;, \u0026ldquo;Sendt og arkivert\u0026rdquo;).\nMessage av typen Correspondence En message med type Correspondence representerer en meldingstjeneste (melding fra etat til bruker) som ligger i sluttbrukers meldingsboks. Status parameteren angir hvilken tilstand meldingen har (\u0026ldquo;Ulest\u0026rdquo;, \u0026ldquo;Lest\u0026rdquo;, \u0026ldquo;Arkivert\u0026rdquo;).\nSvaralternativer Hvis tjenesteeier har angitt ett eller flere svaralternativ vil disse vises i tabellen \u0026ldquo;ReplyOptions\u0026rdquo;. Svaralternativer kan ha en av tre typer:\n Service - Representerer en tjeneste som må fylles ut i respons til meldingen ArchiveReference - Representerer ett arkivert element som legges ved meldingen URL - Ekstern lenke lagt til meldingen  Alle typer svaralternativer inneholder minst tre elementer:\n Type - Tekst som identifiserer typen svaralternativ. Mulige verdier er \u0026ldquo;Service\u0026rdquo;, \u0026ldquo;ArchiveReference\u0026rdquo; eller \u0026ldquo;URL\u0026rdquo; URL - URI til det aktuelle svaralternativet Text - Tekst som kan brukes til å bygge lenken som vises for sluttbruker  Svaralternativer av typen \u0026ldquo;Service\u0026rdquo; inneholder i tillegg \u0026ldquo;ServiceCode\u0026rdquo; og \u0026ldquo;ServiceEditionCode\u0026rdquo; som kan brukes til å identifisere tjenesten det lenkes til.\nLenker Hvert enkelt message-element inneholder en hash tabell \u0026ldquo;_links\u0026rdquo; som inneholder lenker til beslektede elementer. Det er viktig at din applikasjon aktivt bruker disse lenkene, og ikke hardkoder en rekke URL-er i applikasjonen.\n\u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages/a382871\u0026#34; }, \u0026#34;print\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages/a382871/print\u0026#34;, \u0026#34;mime-type\u0026#34;: \u0026#34;application/pdf\u0026#34; }, \u0026#34;metadata\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/metadata/formtask/2802/2203\u0026#34; }, \u0026#34;portalview\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/Pages......\u0026#34; } } Feltene i _links betyr følgende:\n self - URI til representasjon av den enkelte meldingen. print - URI til utskriftsversjonen av et arkivert skjema eller et skjema under utfylling. Er kun gyldig for message elementer av typen FormTask. For print relasjoner er \u0026ldquo;mime-type\u0026rdquo; i de fleste tilfeller \u0026ldquo;application/pdf\u0026rdquo; men vil i noen tilfeller også være \u0026ldquo;application/text-html\u0026rdquo;. metadata - URI til metadata ressurs for den aktuelle meldingen. portalview - URI til portalpresentasjonen av meldingen. Ved å følge lenken får brukeren opp Altinns presentasjon av elementet i portalen. I portalen vil ressursen vises i den status den befinner seg i (Utfylling, Signering, Arkivert).  _links kan bli utvidet med ytterligere relasjoner i fremtidige oppdateringer av APIet.\nHent ut liste med enheter brukeren kan representere \u0026ldquo;Reportee\u0026rdquo; representerer en avgiver den påloggede brukeren har rettighet til å representere. Ved å gå til rot-ressursen https://www.altinn.no/api/reportees/ er det mulig å få en liste over alle avgivere en pålogget bruker kan representere og derfra navigere seg fram til en liste over elementene i avgiverens meldingsboks. Avgivere kan være andre personer (type=person) eller organisasjoner (type=organization) brukeren har rettighet til å representere. For avgivere av typen organization indikerer status parameteren om organisasjonen er slettet eller fremdeles aktiv.\nParameteren ReporteeID angir en unik id for aktuell avgiver, denne IDn kan benyttes i {my} parameteren i URL strukturen i APIet til å angi hvilken avgiver som operasjonen mot APIet utføres for. Eks. https://www.altinn.no/api/{reporteeID}/messages/.\nSend følgende GET-forespørsel mot APIet, og du vil få returnert en liste over avgivere brukeren har rettighet til å representere. Resultatet er begrenset til de 50 første elementene, se punkt 7 under for informasjon om hvordan du får fram de 50 neste)\nGET https://www.altinn.no/api/reportees HTTP/1.1 Accept: application/hal+json ApiKey: myKey Ved korrekt autentisering vil du få følgende svar fra APIet:\n{ \u0026#34;_links\u0026#34;: { \u0026#34;find\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://altinn.no/api/reportees/{reporteeId}\u0026#34;, \u0026#34;isTemplated\u0026#34;: true }, \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://altinn.no/api/reportees\u0026#34; } }, \u0026#34;_embedded\u0026#34;: { \u0026#34;reportees\u0026#34;: [ { \u0026#34;ReporteeId\u0026#34;: \u0026#34;r50170460\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;DALEKVAM OG BORGEN\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;Foretak\u0026#34;, \u0026#34;OrganizationNumber\u0026#34;: \u0026#34;910672991\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Active\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://altinn.no/api/reportees/r50170460\u0026#34; }, \u0026#34;messages\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://altinn.no/api/r50170460/messages\u0026#34; } } }, { \u0026#34;ReporteeId\u0026#34;: \u0026#34;r50165842\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;FOTLANDSVÅG OG VERMA REGNSKAP\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;Foretak\u0026#34;, \u0026#34;OrganizationNumber\u0026#34;: \u0026#34;910454013\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Active\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://altinn.no/api/reportees/r50165842\u0026#34; }, \u0026#34;messages\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://altinn.no/api/r50165842/messages\u0026#34; } } }, { \u0026#34;ReporteeId\u0026#34;: \u0026#34;r50019105\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;HÅKON TRANA\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;Person\u0026#34;, \u0026#34;SocialSecurityNumber\u0026#34;: \u0026#34;05116602352\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://altinn.no/api/reportees/r50019105\u0026#34; }, \u0026#34;messages\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://altinn.no/api/r50019105/messages\u0026#34; } } } ] } } Lenker fra reportee Hvert enkelt reportee-element har en hash tabell _links som inneholder lenker til beslektede elementer. Det er viktig at din applikasjon aktivt bruker disse lenkene, og ikke hardkoder en rekke URL-er i applikasjonen.\n_links: { \u0026#34;messages\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/910926551/messages\u0026#34; } } Feltene i _links betyr følgende:\n messages - URI til liste over meldinger i meldingsboksen til den aktuelle organisasjonen.  _links kan bli utvidet med ytterligere flere relasjoner i fremtidige oppdateringer av APIet.\nHent enkelt melding med vedlegg For å hente ut en enkelt melding kan applikasjonen følge _self lenken som finnnes for hvert message element. Følgende request henter en enkelt melding fra brukerens meldingsboks.\nGET https://www.altinn.no/api/my/messages/a1507495 HTTP/1.1 Accept: application/hal+json ApiKey: myKey Eksempel respons fra API for message av typen FormTask:\n{ \u0026#34;MessageId\u0026#34;: \u0026#34;a1507495\u0026#34;, \u0026#34;Subject\u0026#34;: \u0026#34;RF-1028 Selvangivelse for aksjeselskap mv. 2012, Anonym ASA\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Utfylling\u0026#34;, \u0026#34;LastChangedDateTime\u0026#34;: \u0026#34;2013-11-20T19:50:54.86\u0026#34;, \u0026#34;LastChangedBy\u0026#34;: \u0026#34;HÅKON TRANA\u0026#34;, \u0026#34;ServiceOwner\u0026#34;: \u0026#34;Skatteetaten\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;FormTask\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;2933\u0026#34;, \u0026#34;ServiceEdition\u0026#34;: 120806, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altin.no/api/my/messages/a1507495\u0026#34; }, \u0026#34;print\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages/a1507495/print\u0026#34;, \u0026#34;mime-type\u0026#34;: \u0026#34;application/pdf\u0026#34; }, \u0026#34;metadata\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/metadata/formtask/2933/120806\u0026#34; }, \u0026#34;portalview\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/Pages......\u0026#34; }, \u0026#34;form\u0026#34;: [ { \u0026#34;href\u0026#34;: \u0026#34;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/forms/760772\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;RF-1028 Selvangivelse for aksjeselskap mv. 2012, Anonym ASA\u0026#34; }, { \u0026#34;href\u0026#34;: \u0026#34;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/forms/760773\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;RF-1016 Formue av skogseiendom 2012\u0026#34; } ], \u0026#34;attachment\u0026#34;: [ { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages/a1507495/attachments/282783\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;oppgaver\u0026#34;, \u0026#34;fileName\u0026#34;: \u0026#34;oppgaver.txt\u0026#34;, \u0026#34;encrypted\u0026#34;: false, \u0026#34;signinglocked\u0026#34;: false, \u0026#34;signedbydefault\u0026#34;: true, \u0026#34;filesize\u0026#34;: 16027 } ] } } Eksempel respons fra API for message av typen Correspondence:\n{ \u0026#34;MessageId\u0026#34;: \u0026#34;a385571\u0026#34;, \u0026#34;Subject\u0026#34;: \u0026#34;Vedr. saksnr 201301840, journalnr 2013021622 \u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Ulest\u0026#34;, \u0026#34;LastChangedDateTime\u0026#34;: \u0026#34;2013-11-26T13:58:44.34\u0026#34;, \u0026#34;LastChangedBy\u0026#34;: \u0026#34;Testdepartementet\u0026#34;, \u0026#34;ServiceOwner\u0026#34;: \u0026#34;Testdepartement\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;Correspondence\u0026#34;, \u0026#34;MessageSender\u0026#34;: \u0026#34;Brønnøy Kommune\u0026#34;, \u0026#34;Summary\u0026#34;: \u0026#34;Vedr. saksnr 201301840, journalnr 2013021622\u0026#34;, \u0026#34;Body\u0026#34;: \u0026#34;\u0026lt;p\u0026gt;Vedr. saksnr 201301840, journalnr 2013021622\u0026lt;/p\u0026gt;\\n\u0026lt;p\u0026gt;Tillatelse til tiltak. Gnr 127 bnr 506, Skarelien 35.\u0026lt;/p\u0026gt;\\n \\n\u0026lt;p\u0026gt;Klikk under for å åpne dokumentet. \u0026lt;/p\u0026gt;\\n\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;2479\u0026#34;, \u0026#34;ServiceEdition\u0026#34;: 2, \u0026#34;ArchiveReference\u0026#34;: \u0026#34;AR3513210\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages/a385571\u0026#34; }, \u0026#34;metadata\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/metadata/correspondence/2479/2\u0026#34; }, \u0026#34;portalview\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/Pages......\u0026#34; }, \u0026#34;attachment\u0026#34;: [ { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages/a385571/attachments/187938\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Tiltak_201301840\u0026#34;, \u0026#34;fileName\u0026#34;: \u0026#34;Tiltak_201301840.pdf\u0026#34;, \u0026#34;encrypted\u0026#34;: false, \u0026#34;signinglocked\u0026#34;: false, \u0026#34;signedbydefault\u0026#34;: true, \u0026#34;filesize\u0026#34;: 967038 } ], \u0026#34;archivereference\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages/b3513210\u0026#34; }, } Message lenker Message-element inneholder en hash tabell _links som inneholder lenker til beslektede elementer.\n\u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://tt02.altinn.basefarm.net/api/my/messages/a1507495\u0026#34; }, \u0026#34;print\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/print\u0026#34;, \u0026#34;mime-type\u0026#34;: \u0026#34;application/pdf\u0026#34; }, \u0026#34;metadata\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://tt02.altinn.basefarm.net/api/metadata/formtask/2933/120806\u0026#34; }, \u0026#34;portalview\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://tt02.altinn.basefarm.net/Pages/.......\u0026#34; }, \u0026#34;attachment\u0026#34;: [ { \u0026#34;href\u0026#34;: \u0026#34;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/attachments/282783\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;oppgaver\u0026#34;, \u0026#34;fileName\u0026#34;: \u0026#34;oppgaver.txt\u0026#34;, \u0026#34;encrypted\u0026#34;: false, \u0026#34;signinglocked\u0026#34;: false, \u0026#34;signedbydefault\u0026#34;: true, \u0026#34;filesize\u0026#34;: 16027 } ], \u0026#34;form\u0026#34;: [ { \u0026#34;href\u0026#34;: \u0026#34;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/forms/760772\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;RF-1028 Selvangivelse for aksjeselskap mv. 2012, Anonym ASA\u0026#34; }, { \u0026#34;href\u0026#34;: \u0026#34;https://tt02.altinn.basefarm.net/api/my/messages/a1507495/forms/760773\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;RF-1016 Formue av skogseiendom 2012\u0026#34; } ], \u0026#34;archivereference\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages/b3513210\u0026#34; }, } Feltene i _links betyr følgende:\n self - URI til representasjon av den enkelte meldingen. print - URI til utskriftsversjonen av et arkivert skjema eller et skjema under utfylling. Er kun gyldig for message elementer av typen \u0026ldquo;FormTask\u0026rdquo;. For \u0026ldquo;print\u0026rdquo; relasjoner er \u0026ldquo;mime-type\u0026rdquo; i de fleste tilfeller \u0026ldquo;application/pdf\u0026rdquo; men vil i noen tilfeller også være \u0026ldquo;application/text-html\u0026rdquo;. metadata - URI til metadata ressurs for den aktuelle meldingen. portalview - URI til portalpresentasjonen av meldingen. Ved å følge lenken får brukeren opp Altinns presentasjon av elementet i Portalen (www.altinn.no). I portalen vil ressursen vises i den status den befinner seg i (Utfylling, Signering, Arkivert). form - URI til skjema knyttet til message av typen FormTask. attachment - URI til brukeropplastet vedlegg knyttet til skjema under utfylling eller vedlegg knyttet til melding fra etat. encrypted-parameter angir om vedlegget er kryptert. archivereference - URI til en arkiv-referanse for meldingen.  _links kan bli utvidet med ytterligere flere relasjoner i fremtidige oppdateringer av APIet.\nFiltrering av liste OData kan brukes til filtrering, paging og sortering i lister av elementer av alle typer.\nLister i APIet er begrenset i kode til å maksimalt inneholde 50 elementer.\nPaging Det er mulig å utføre paging ved å sende med OData parameteren skip (for eksempel $skip=50).\nGET https://www.altinn.no/api/my/messages?$skip=50 HTTP/1.1 Accept: application/hal+json ApiKey: myKey Filtrering Det er også mulig å filtrere listene som returneres basert på hvilke informasjonselementer de inneholder. For eksempel vil følgende request med parameterene $filter=ServiceOwner eq 'Skatteetaten'\u0026amp; $top=3 kun returnere de siste 3 meldinger fra Skatteetaten.\nGET https://www.altinn.no/api/my/messages?$filter=ServiceOwner eq \u0026#39;Skatteetaten\u0026#39;\u0026amp;$top=3 HTTP/1.1 Accept: application/hal+json ApiKey: myKey Det er også mulig å bygge mer spesifikke filtre, for eksempel større/mindre enn på dato og navn på tjenesteeier.\nGET https://www.altinn.no/api/my/messages?$filter=CreatedDate gt DateTime\u0026#39;2018-01-22T00:00:00\u0026#39; and ServiceOwner eq \u0026#39;Asker Kommune\u0026#39; HTTP/1.1 Accept: application/hal+json ApiKey: myKey Laste ned XML payload for skjema (skjemadata) Man kan nå laste ned (lese) XML-representasjon av Skjemadata. Skjemadata er representert i XML og vil være en egen ressurs som er lenket fra Form-ressursen. For å laste ned XML-representasjon av et skjema/underskjema kan man ta utgangspunkt i aktuelt message element og følge lenke form.\nEksempel:\nhttps://www.altinn.no/api/910621211/messages/a1685777\nResponsen på denne vil inneholde lenke(r) til de faktiske skjema, f.eks:\n\u0026#34;form\u0026#34;: [ { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/910621211/messages/a1685777/forms/1049574\u0026#34;,  \u0026#34;name\u0026#34;: \u0026#34;RF-0004 Omsetningsoppgave for primærnæringene, Hovedoppgave, Årlig, 2012\u0026#34; } ] Når du følger denne lenken vil respons inkludere en lenke til selve XML payload i form av lenke formdata:\n{ \u0026#34;Type\u0026#34;: \u0026#34;MainForm\u0026#34;, \u0026#34;DataFormatId\u0026#34;: \u0026#34;213\u0026#34;, \u0026#34;DataFormatVersion\u0026#34;: 10422, \u0026#34;ValidationStatus\u0026#34;: \u0026#34;NotValidated\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;RF-0004 Omsetningsoppgave for primærnæringene, Hovedoppgave, Årlig, 2012\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/910621211/messages/a1685777/forms/1049574\u0026#34; }, \u0026#34;formdata\u0026#34;: {  \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/910621211/messages/a1685777/forms/1049574/formdata\u0026#34;, \u0026#34;mime-type\u0026#34;: \u0026#34;application/xml\u0026#34; } } } Lenken formdata vil returnere XML representasjon av skjemaet:\nMerk: XML som er definert i Oppgaveregisteret har typisk Skjema som rot, mens XML definert i SERES har typisk melding som rot.\n\u0026lt;Skjema\u0026gt; ... \u0026lt;Termin-grp-2591 gruppeid=\u0026#34;2591\u0026#34;\u0026gt; \u0026lt;OppgaveType-datadef-5659 orid=\u0026#34;5659\u0026#34;\u0026gt;1\u0026lt;/OppgaveType-datadef-5659\u0026gt; \u0026lt;TerminType-datadef-20654 orid=\u0026#34;20654\u0026#34;\u0026gt;1\u0026lt;/TerminType-datadef-20654\u0026gt; \u0026lt;Termin-datadef-20655 orid=\u0026#34;20655\u0026#34;\u0026gt;011\u0026lt;/Termin-datadef-20655\u0026gt; \u0026lt;TerminAr-datadef-20656 orid=\u0026#34;20656\u0026#34;\u0026gt;2012\u0026lt;/TerminAr-datadef-20656\u0026gt; \u0026lt;/Termin-grp-2591\u0026gt; ... \u0026lt;/Skjema\u0026gt; "
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/regelmotor/innledning/",
	"title": "Innledning",
	"tags": [],
	"description": "Altinns regelmotor (Altinn Rule Engine/ARE) tilbyr en alternativ måte å utføre utregning, validering og overføring av verdier mellom skjema.",
	"content": "Enkelt sagt er det en «motor» som kan opprette, lese, oppdatere og slette felter på tvers av flere ulike skjema (representert med xml). Samtidig kan den verifisere at skjema (xml-dokumentet) samsvarer med det som er spesifisert som lovlig (xsd-spesifikasjonen).\nRegelmotoren tilbyr et sett med regler som du som tjenesteutvikler kan benytte deg av. Dette gjør du ved å definere hvilke skjema og regler du vil bruke i et xml-dokument. Dokumentet må følge det oppsettet som det er bestemt at enn slik regelfil skal ha.\nTegnveiledning for denne håndboken I eksemplene i denne håndboken bruker vi ellipse-tegnet (…) for å markere at det på denne plasseringen skal være noe mer. Hva som skal stå der blir forklart i andre eksempler. Selve ellipse-tegnet skal ikke være med i regelfilen, og må fjernes dersom eksemplene skal brukes. Dette er gjort for at eksemplene i størst mulig grad skal vise bare det som blir forklart i hver enkelt eksempel.\nTa i bruk regelmotoren Før du kan ta i bruk regelmotoren må du ha opprettet en tjeneste og en utgave for skjemaet du tenker å bruke den på. Du må også ha en tjeneste og en utgave for alle underskjema du har tenkt å bruke. Alle skjema som du gjør bruk av i reglene dine må finnes tilgjengelig i tjenestens skjemasett for at regelen skal kunne slå til. Har du ikke lagt til skjemaet vil ikke regelfilen feile, men regler som bruker skjemaet vil ikke kunne tre i kraft.\nLage regelfil Regelfilen må lages i xml-format. Dersom du ikke kjenner til dette formatet bør du først lese innføring i xml. For at en xml-fil skal kunne godkjennes som en regelfil av Altinn må den følge en rekke regler for hvordan den er satt opp. Disse reglene er definert i Regelmotor.xsd.\nAltinn regelfilen må ha en rotnode med navn AltinnRuleEngine. Denne rotnoden må ha attributtene name og version definert. AltinnRuleEngine-elementet må inneholde nodene «Description», «Configuration» og «Rules» i akkurat den rekkefølgen.\n1. Rammestruktur for regelfilen\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34; ?\u0026gt; \u0026lt;AltinnRuleEngine name=\u0026#34;test\u0026#34; version=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;Description\u0026gt; … \u0026lt;/Description\u0026gt; \u0026lt;Configuration\u0026gt; … \u0026lt;/Configuration\u0026gt; \u0026lt;Rules\u0026gt; … \u0026lt;/Rules\u0026gt; \u0026lt;/AltinnRuleEngine\u0026gt; Description-noden blir brukt til å gi en beskrivelse av hele regelsettet som er definert i regelfilen. Innholdet her skal være en tekst.\n2. \u0026ldquo;Description\u0026rdquo;-noden\n\u0026lt;Description\u0026gt; This is used to give a description of the rule set. \u0026lt;/Description\u0026gt; Sette opp hva som skal påvirkes Configuration Configuration-noden blir brukt til å fortelle hvilke skjema som skal brukes i regelsettet. Her kan du også legge til de kodelistene som du har tenkt å bruke.\nNoden kan inneholde fire elementer, Forms, Codelists, AttachmentTypes og FormDependencies.\nForms må alltid være der og må stå først. Codelists, AttachmentTypes og FormDependencies er valgfri. Ingen av disse nodene kan være brukt mer enn en gang.\n3. \u0026ldquo;Configuration\u0026rdquo;-noden\n\u0026lt;Configuration\u0026gt; \u0026lt;Forms\u0026gt; … \u0026lt;/Forms\u0026gt; \u0026lt;AttachmentTypes\u0026gt; … \u0026lt;/AttachmentTypes\u0026gt; \u0026lt;Codelists\u0026gt; … \u0026lt;/Codelists\u0026gt; \u0026lt;FormDependencies\u0026gt; … \u0026lt;/FormDependencies\u0026gt; \u0026lt;/Configuration\u0026gt; Forms Forms-noden blir brukt til å fortelle hvilke skjemaer som blir brukt i regelsettet. Noden må inneholde minst ett Form-element. Du kan legge inn så mange Form-element du vil. Skjemaene du legger inn her må være inkludert i skjemasettet for hovedutgaven. Merk at regelfilen ikke vil feile om et skjema mangler, men regler som bruker skjemaet vil bli ignorert om skjemaet mangler.\nDersom du har et skjema som blir brukt av mange regler, kan du med fordel legge det til som standard. Dette gjør du ved å legge til attributtet default i Forms-noden med skjema-iden som verdi (se eksempelet over).\nForm-noden må inneholde attributtene «dataFormatId», «calculationEngine» og «validationEngine» for å være gyldig. DataFormatId er id-en for skjemaet, og denne vil du finne i xsd-en til skjemaet eller i TUL på utgavearbeidsflaten (se figur 1).\nCalculationEngine og validationEngine har begge de samme fire alternativene.\n   Alternativ Beskrivelse     AltinnRuleEngine Skjemaet skal bare bruke Altinns regelmotor   InfoPath Skjemaet skal bare bruke InfoPath   Both Skjemaet skal bruke både InfoPath og Altinn regelmotor   None Skjemaet skal ikke bruke noen av delene    calculationEngine blir brukt til å fortelle om skjemaet skal bruke InfoPath eller Altinns regelmotor for utregninger. validationEngine blir likeledes brukt for å fortelle hva som skal brukes til valideringer.\nI tillegg kan du bruke det valgfrie attributtet name. Dette attributtet vil ikke bli brukt av regelmotoren, men du kan legge inn navnet på skjemaet for å gjøre regelfilen enklere å lese.\n4. \u0026ldquo;Forms\u0026rdquo;- og \u0026ldquo;Form\u0026rdquo;-nodene\n\u0026lt;Forms default=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;Form dataFormatId=\u0026#34;1\u0026#34; calculationEngine=\u0026#34;AltinnRuleEngine\u0026#34; validationEngine=\u0026#34;InfoPath\u0026#34; /\u0026gt; \u0026lt;Form dataFormatId=\u0026#34;2\u0026#34; calculationEngine=\u0026#34;Both\u0026#34; validationEngine=\u0026#34;None\u0026#34; /\u0026gt; \u0026lt;/Forms\u0026gt; AttachmentTypes AttachmentTypes –elementet er valgfritt og brukes til å definere vedleggstyper som kan bli benyttet i tjenesten og som er brukt i regelmotoren for validering. Eksempel:\n\u0026lt;AttachmentTypes\u0026gt; \u0026lt;AttachmentType name=\u0026#34;AT01_Cycle01\u0026#34;/\u0026gt; \u0026lt;AttachmentType name=\u0026#34;AT02_Cycle01\u0026#34;/\u0026gt; \u0026lt;AttachmentType name=\u0026#34;AT03_Cycle01\u0026#34;/\u0026gt; \u0026lt;AttachmentType name=\u0026#34;AT04_Cycle01\u0026#34;/\u0026gt; \u0026lt;AttachmentType name=\u0026#34;AT06_Cycle01\u0026#34;/\u0026gt; \u0026lt;/AttachmentTypes\u0026gt; Se utvidede beskrivelser for oppsett av vedleggsvalidering\nFormDependencies FormDependencies-noden blir brukt til å fortelle hvilke eksterne skjema som skal lastes inn som en del av skjemasettet (hvis tilgjengelig), og hvordan disse skal lastes. Noden må inneholde minst ett «FormDependency» element, men det er ingen begrensning på hvor mange elementer som kan legges inn.\nEksempel på oppsett:\n\u0026lt;FormDependencies\u0026gt; \u0026lt;FormDependency type=\u0026#34;FirstArchivedForFirstENK\u0026#34;\u0026gt; \u0026lt;Param name=\u0026#34;serviceCode\u0026#34; value=\u0026#34;123\u0026#34; /\u0026gt; \u0026lt;Param name=\u0026#34;serviceEdition\u0026#34; value=\u0026#34;1234\u0026#34; /\u0026gt; \u0026lt;Condition type=\u0026#34;Equals\u0026#34; type=\u0026#34;orid(9999)\u0026#34; value=\u0026#34;myValue\u0026#34; form=\u0026#34;111\u0026#34; /\u0026gt; \u0026lt;/FormDependency\u0026gt; \u0026lt;/FormDependencies\u0026gt; FormDependency-elementene har et type-attributt som sier hvordan det eksterne skjemaet skal lastes inn. Pr. 30.09.2015 støttes kun FirstArchiveForFirstENK som en gyldig type.\nAvhengighetstypen FirstArchivedForFirstENK laster inn det mest nylig arkiverte elementet av en gitt type for det første enkeltmannsforetaket til den nåværende avgiveren. Hvis de gitte conditions er oppfylt og et gyldig skjema er funnet legges skjemasettet inn den vanlige listen med skjema som om det var en del av skjemasettet det jobbes med – og det kan skrives regler som benytter seg av dette skjema på samme måte som for andre skjema. Det er et krav at skjema som lastes tilhører samme tjenesteeier som tjenesten avhengigheten er definert i.\nFormDependency støtter også conditions på samme måte som øvrige regler i regelfilen.\nCodelists Codelists-elementet er valgfritt, men om du har det med så må det inneholde minst en Codelist-node. Dette elementet må du bruke dersom du vil ta i bruk kodelister i skjemaet. Codelist-noden må ha attributtene name og lang, og kan i tillegg ha det valgfrie attributtet version. Name brukes til å angi navnet på kodelisten, mens lang brukes til å angi hvilken språkversjon av kodelisten som brukes. Version kan brukes dersom du vil bruke en spesiell versjon av kodelisten. Dersom du utelater det attributtet vil siste versjon automatisk bli brukt.\n«Lang» har disse alternativene:\n   lang Språk     1033 Engelsk   1044 Bokmål   2068 Nynorsk    5. \u0026ldquo;Codelists\u0026rdquo;- og \u0026ldquo;Codelist\u0026rdquo;-nodene\n\u0026lt;Codelists\u0026gt; \u0026lt;Codelist name=\u0026#34;ASF_Land\u0026#34; lang=\u0026#34;1044\u0026#34; /\u0026gt; \u0026lt;/Codelists\u0026gt; Sette opp regler Rules-noden blir brukt til å sette opp de reglene du vil bruke. Denne noden er obligatorisk og det kan bare være en av den. Den må inneholde minst en Rule-node, men det er ingen øvre grense. Det kan være lurt å legge inn en kommentar over hver regel der du forteller hva regelen skal gjøre.\nRule «Rule»-noden må ha det obligatoriske attributtet type og kan i tillegg ha det valgfrie attributtet description. Description-noden blir brukt til å gi en beskrivelse av regelen. Type-noden bruker du til å fortelle hvilken type regel dette er.\n6. \u0026ldquo;Rules\u0026rdquo;- og \u0026ldquo;rule\u0026rdquo;-nodene\n\u0026lt;Rules\u0026gt; \u0026lt;!-- Comments can be useful for explaining what the rule is for --\u0026gt; \u0026lt;Rule type=\u0026#34;SetFieldValue\u0026#34; description=\u0026#34;This is a rule to set the value of a field\u0026#34;\u0026gt; … \u0026lt;/Rule\u0026gt; \u0026lt;/Rules\u0026gt; For Rules har type-attributtet disse alternativene:\nOverføringer:\n CalculateResult - Gjør utregninger og overfører resultatet til et felt i skjema. RemoveFieldElement - Fjerner et felt dersom ett eller flere vilkår er til stede. RemoveParentPost - Fjerner foreldreposten til et gitt felt dersom ett eller flere vilkår er til stede. SetFieldValue - Setter verdi til et felt basert på ett eller flere vilkår. TransferResult - Setter resultatet av en utregning som verdi i et felt. TransferValue - Flytter en verdi fra et felt til et annet felt. TransferTransformedResult - Setter sammen verdiene fra flere felter og overføre resultatet til ett enkelt felt som en kommaseparert liste. TransferSingleExternalValue -\tOverfører en gitt ekstern verdi, dette er verdier som ikke ligger som en del av skjemadataen, men som kan settes eksplisitt i implementasjonen for f.eks lasting eksterne skjema.  Valideringer:\n SimpleValidation - Sjekker at et felt følger de vilkår som du har satt opp.  WebSA-spesifikke regeltyper:\n websa:InternalRF1224Calculations websa:TransferSumToChildcare websa:TransferFromNO1ToRF1224 websa:TransferSumToTravelDeduction websa:TransferFromRF1084ToRF1030 websa:TransferSumToWizard websa:TransferFromRF1084ToRF1175 websa:ValidatePost337StandardDeductionTempStay websa:TransferFromRF1125ToRF1030 websa:ValidateRF1219TransferToWizard websa:TransferSumFrom0402 websa:TransferFromRF1224ToRF1030 websa:ValidateRF1224BelongsToPost0402 websa:ValidateOnePrimaryDwelling  En «Rule»-node og dens innhold definerer en regel, og bestemmer hva denne regelen skal gjøre. Elementene som er tillatt inne i Rule-noden er Source, Target, Param, Condition, Texts, ErrorTextValueFields og caption. Ingen av disse elementene er obligatoriske og foruten «Texts» har de ingen øvre grense på antall. «Texts» kan det bare være en av. Disse elementene bruker du til å fortelle hvordan regelen skal virke. Selv om ingen av dem er obligatoriske, vil det være nødvendig med noen av dem avhengig av regelen du vil lage.\n7. Innhold i «Rule»-noden\n\u0026lt;Rule type=\u0026#34;RemoveFieldElement\u0026#34;\u0026gt; \u0026lt;Source/\u0026gt; \u0026lt;Target/\u0026gt; \u0026lt;Param/\u0026gt; \u0026lt;Condition/\u0026gt; \u0026lt;ErrorTextValueFields/\u0026gt; \u0026lt;caption/\u0026gt; \u0026lt;Texts\u0026gt; … \u0026lt;/Texts\u0026gt; \u0026lt;/Rule\u0026gt; Source Source-noden blir brukt til å fortelle om hvilken kilde som skal brukes. «Form»-attributtet forteller hvilket skjema det er snakk om. «Field» forteller hvilket felt det er. Du kan bruke enten OR-id-attributtet, eller XPath for å identifisere feltet. Eventuelt kan du bruke «property(…)» for å hente fra et egendefinert felt («my»-felt). «addFields»-attributtet blir brukt dersom verdien fra felter skal summeres før overføring. «subtractFields»-attributtet blir brukt dersom verdien fra felter skal trekkes fra før overføring. «multiplyFields»-attributtet blir brukt dersom verdien fra felter skal multipliseres før overføring. «divideFields»-attributtet blir brukt dersom verdien fra felter skal divideres før overføring. Funksjonaliteten til addFields, subtractFields, multiplyFields og divideFields er slik at verdien fra alle feltene som ligger i hver liste vil bli «påført» totalverdien før overføring. Det vil si at alle feltene i addFields vil bli summert og så vil alle feltene i subtractFields bli trukket fra summen man fikk fra addFields. Så vil den nye summen bli multiplisert med alle feltene i multiplyFields og så til slutt vil den nye summen bli dividert med alle feltene i divideFields.\nEksempel:\nDet skal overføres en verdi fra felt1 til felt2. Og verdien skal adderes med 2 felter (felt3 og felt4) og multipliseres med 2 felter (felt5 og felt6) og så til slutt divideres med 2 felter (felt7 og felt8). Da vil det matematiske utrykket for denne overføringen bli slik:\nFelt2 = (((felt1 + felt3 + felt4) * felt5 * felt6) / felt7) / felt8\n«SumRecurringFields» forteller om overføringen skal summere repeterende felt eller ikke før overføringen. «Multiple» forteller om modergruppa kan få verdier fra flere kilder. Dersom regelen skal bruke skjemaet du har satt til å være standardskjema i Forms-noden (se Forms side 10), er det ikke nødvendig å oppgi et source-element.\n8. \u0026ldquo;Source\u0026rdquo;-noden\n\u0026lt;Rule type=\u0026#34;TransferResult\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;1\u0026#34; field=\u0026#34;/Skjema/Utregninger/Utregning1/belop1\u0026#34; addFields=\u0026#34;/Skjema/Utregninger/Utregning1/belop2\u0026#34; subtractFields=\u0026#34;/Skjema/Utregninger/Utregning1/belop3\u0026#34; multiplyFields=\u0026#34;/Skjema/Utregninger/Utregning1/belop4\u0026#34; divideFields=\u0026#34;/Skjema/Utregninger/Utregning1/belop5\u0026#34; multiple=\u0026#34;false\u0026#34; sumRecurringFields=\u0026#34;false\u0026#34; /\u0026gt; \u0026lt;/Rule\u0026gt; Target Target-noden blir brukt til å fortelle om målet for regelen. «Form»-attributtet forteller hvilket skjema det er snakk om. «Field» forteller hvilket felt det er. «Index» er indeksen til målfeltet. «Value» brukes om du vil sette en fast verdi.\n9. \u0026ldquo;Target\u0026rdquo;-noden\n\u0026lt;Rule type=\u0026#34;RemoveFieldElement\u0026#34;\u0026gt; \u0026lt;Target form=\u0026#34;2\u0026#34; field=\u0026#34;/Skjema/Adresseopplysninger/Postadresse/Adresse2\u0026#34; index=\u0026#34;1\u0026#34; value=\u0026#34;2\u0026#34; /\u0026gt; \u0026lt;/Rule\u0026gt; Param Param-noden blir brukt til å gi parameter til regelen. Denne har to attributter, som begge er obligatoriske. «Name»-attributtet blir brukt til å fortelle hva slags parameter dette er. Det er bare et begrenset antall navn som er lovlig å ha her. Se tabellen under for en oversikt. «Value»-attributtet brukes for å fortelle hvilken verdi denne parameteren har.\n10. \u0026ldquo;Param\u0026rdquo;-noden\n\u0026lt;Rule type=\u0026#34;RemoveFieldElement\u0026#34;\u0026gt; \u0026lt;Param name=\u0026#34;IgnoreGUID\u0026#34; value=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/Rule\u0026gt; Gyldige verdier i name-attributtet til \u0026ldquo;Param\u0026rdquo;:\n IgnoreGUID - Denne bestemmer om regelmotoren skal ta hensyn til sourceFormGuid når den gjør overføringen. RemoveOnMismatch -\tForteller om målfeltet skal bli tømt dersom betingelsene ikke inntreffer. RemoveFieldIfConditionsFail -\tDette avgjør om felt som ikke innfrir betingelsene for verdioverføring skal slettes. SignStorageHint -\tDenne forteller om den overførte verdien skal bli lagret spesifikt som en positiv eller negativ verdi. TransferRecurringFields -\tAvgjør om repeterende felt skal overføres. TransferType -\tAvgjør typen overføring. AlwaysRun -\tBestemmer om en overføringsregel i tillegg til å kjøres i utregningsprosessen også skal kjøres i valideringsprosessen. IgnorePrefill -\tAvgjør om et felt kan slettes selv om det er merket som pre-utfylt. RemoveDirtyField -\tAvgjør om såkalte «skitne felt» (felter som har blitt skrevet til i løpet av prosessen) skal fjernes eller ikke. DoNotIgnoreZeroValue -\tAvgjør om verdien 0 skal overføres eller ikke. InsertEmptyIfNotCalculated -\tAvgjør om 0 skal brukes som verdi dersom skjemaet ikke inneholder et eller flere felter som er nødvendige for å regne ut verdien i feltet. PercentageTransfer - Denne definerer hvor stor del av verdien som skal overføres. PurgeOldTransfers - Denne brukes når det er ønskelig at gamle overføringer skal slettes før nye gjennomføres. SetValueForMultiplePosts - Denne brukes til å definere om oppdatering av feltverdi skal gjøres til alle målfelter i samme skjema.  WebSA-spesifikke:\n IndustryTypes MaxDeduction ValueType MaxDistance MinimumTollAndFerryDeduction Deductible NormalRate OverMaxDistanceRate BaseRate  For detaljer se Regler.\nCondition «Condition»-noden brukes til å fortelle hvilke betingelser som må være til stede for at regelen skal bli tatt i bruk. «Type»-attributtet er det eneste som er obligatorisk. Her er det et begrenset sett med typer du har lov til å bruke (se tabellen under). «Check»-attributtet bruker du til å fortelle hvilke felt som skal sjekkes. Skal du ha flere felter, må du skille de med komma. «Value»-attributtet brukes i de betingelsene som krever sammenligning med en verdi. «Codelist»-attributtet bruker du til å fortelle hvilke kodelister det er snakk om i de betingelsene som handler om kodelister. «Form»-attributtet skal fortelle hvilket skjema det er snakk om. «FieldIndex» skal du bruke til å legge inn indeks for feltet som betingelsen gjelder.\n11. \u0026ldquo;Condition\u0026rdquo;-noden\n\u0026lt;Rule type=\u0026#34;RemoveFieldElement\u0026#34;\u0026gt; \u0026lt;Condition type=\u0026#34;AnyFieldEquals\u0026#34; check=\u0026#34;/Skjema/Adresseopplysninger/Postadresse/Land\u0026#34; codelist=\u0026#34;ASF_Land\u0026#34; fieldindex=\u0026#34;1\u0026#34; form=\u0026#34;1\u0026#34; value=\u0026#34;NO\u0026#34; /\u0026gt; \u0026lt;/Rule\u0026gt; Gyldige verdier i type-attributtet for \u0026ldquo;Condition\u0026rdquo;:\n   Navn Blir sann dersom     AnyFieldEquals Et av de gitte feltene har samme verdi som den gitte verdi   AnyFieldNotEquals Et av de gitte feltene har ikke samme verdi som den gitte verdi   AnyFieldHasValue Et av de gitte feltene har en verdi.   AnyFieldHasValueIgnoreZero Et av de gitte feltene har en verdi, og 0 er ikke en verdi.   AnyFieldIsEmpty Et av de gitte feltene er tomme.   AnyFieldIsMissing Et av de gitte feltene mangler i skjema-xml-en.   AnyFieldIsPositive Et av de gitte feltene har en positiv verdi.   AnyFieldExists Et av de gitte feltene eksisterer.   CodeExistsInCodelist En verdi finnes i en kodeliste.   CodeNotInCodeList Den gitte koden ikke finnes i den gitte kodelisten.   ContainsAny Feltet inneholder en av de gitte verdiene.   Equals Feltet har samme verdi som den gitte verdi.   NotEquals Feltet ikke har samme verdi som den gitte verdi.   Exists Feltet eksisterer i skjema-xml-en.   GreaterThan Feltets verdi er større enn den gitte verdi.   HasAnyForm Skjemasettet har et av de gitte skjemaene.   HasForm Skjemasettet inneholder det gitte skjemaet.   HasValue Feltet har en verdi. Tallet 0 er regnet som en verdi.   HasValueIgnoreZero Feltet har en verdi Tallet 0 er ikke regnet som en verdi.   IsEmpty Feltet er tomt eller har 0 som verdi.   IsEmptyWithZeroValue Et felt er tomt. Tallet 0 blir regnet som en verdi.   IsNegative Feltet har en negativ verdi.   IsNonValidSSN Feltet har en verdi som ikke passer formatet for personnummer. (Sjekker ikke om noen faktisk har dette personnummeret)   IsPositive Feltet har en positiv verdi, og 0 er ikke regnet som positiv verdi.   IsPositiveIncludingZero Feltet har en positiv verdi, og 0 er regnet som positiv verdi.   LessThan Feltets verdi er mindre enn den gitte verdi.   MissingForm Skjemasettet ikke inneholder det gitte skjemaet.   SumEquals Summen av de gitte felt er lik den gitte verdi.   SumNotEquals Summen av de gitte felt ikke er lik den gitte verdi.   SumNotEqualsWithRange Dersom summen av feltene ikke er innenfor et verdiområde.   ValueFoundMoreThanOnceInFields Den gitte verdien finnes i mer enn ett av feltene.   ValueNotInCodeList Feltet har en verdi som ikke er lik en verdi fra den gitte kodelisten.   IsValidSSN Feltet inneholder en verdi som passer til formatet for personnummer. (Sjekker ikke om noen faktisk har dette personnummeret)   IsNonValidSSN Feltet ikke inneholder en verdi som passer til formatet for personnummer.   IsValidOrgNr Feltet inneholder en verdi som passer formatet for organisasjonsnummer.   IsNonValidOrgNr Feltet inneholder en verdi som ikke passer formatet for organisasjonsnummer.   IsNonValidEmail Sjekker om verdien er en gyldig epostadresse.   IsMissing Feltet ikke finnes i skjema-xml-en   IsPrefilled Feltet er forhåndsutfylt.   NotPrefilled Feltet ikke er forhåndsutfylt(virker bare i selvangivelsen [APE-skjema])   AnyFieldNotEquals Et av de gitte feltene ikke har samme verdi som den gitte verdi   AnyFieldExists Et av de gitte feltene eksisterer.   NotExists Feltet ikke eksisterer.   NoneFieldHasValue Ingen av feltene har en verdi.   HasAttachment Sjekker om et gitt vedlegg finnes for et skjema.   HasAnyAttachment Sjekker om noen av vedleggene eksisterer fra en gitt liste av vedlegg   MissingAttachment Sjekker om et gitt vedlegg mangler for et skjema   MatchPattern Feltet matcher et regulært uttrykk.   DoesNotMatchPattern Feltet ikke matcher et regulært uttrykk.   NotEqualAcrossMultipleForms En verdi ikke er lik over flere skjema.    For detaljer se Betingelser.\nTexts Texts-noden blir brukt til å legge inn valideringstekster som skal bli vist dersom valideringen feiler. Texts-noden skal inneholde «Text»-noder med den teksten du vil ha. «Lang»-attributtet er obligatorisk for text-nodene og lovlige verdier er «1033» (engelsk), «1044» (bokmål) og «2068» (nynorsk).\n12. \u0026ldquo;Texts\u0026rdquo;- og \u0026ldquo;Text\u0026rdquo;-nodene\n\u0026lt;Rule type=\u0026#34;RemoveFieldElement\u0026#34;\u0026gt; \u0026lt;Texts\u0026gt; \u0026lt;Text lang=\u0026#34;1033\u0026#34;\u0026gt;You have not filled out the necessary text.\u0026lt;/Text\u0026gt; \u0026lt;Text lang=\u0026#34;1044\u0026#34;\u0026gt;Du har ikke fylt ut nødvendig tekst.\u0026lt;/Text\u0026gt; \u0026lt;Text lang=\u0026#34;2068\u0026#34;\u0026gt;Du har ikkje fylt ut nødvendig tekst.\u0026lt;/Text\u0026gt; \u0026lt;/Texts\u0026gt; \u0026lt;/Rule\u0026gt; ErrorTextValueFields ErrorTextValueFields-noden kan du bruke dersom du vil bruke verdier fra felt i feilmeldingsteksten. I denne noden definerer du hvilke felt du vil hente verdier fra. Deretter må du legge inn markør i teksten der du vil ha verdien fra feltet vist. Dette gjør du ved å bruke {0}, der tallet refererer til indeksen for feltet i den kommaseparerte lista du lager i «fields». {0} vil da bety det første feltet du har listet opp, {1} vil bety det andre feltet du har listet opp og så videre.\n13. \u0026ldquo;ErrorTextValueField\u0026rdquo;- og \u0026ldquo;Text\u0026rdquo;-nodene\n\u0026lt;Rule type=\u0026#34;RemoveFieldElement\u0026#34;\u0026gt; \u0026lt;ErrorTextValueFields fields=\u0026#34;/Skjema/Adresseopplysninger/Postadresse/Land\u0026#34;\u0026gt; \u0026lt;Texts\u0026gt; \u0026lt;Text lang=\u0026#34;1033\u0026#34;\u0026gt;The value {0} is not valid.\u0026lt;/Text\u0026gt; \u0026lt;Text lang=\u0026#34;1044\u0026#34;\u0026gt;Verdien {0} er ikke gyldig.\u0026lt;/Text\u0026gt; \u0026lt;Text lang=\u0026#34;2068\u0026#34;\u0026gt;Verdien {0} er ikkje gyldig.\u0026lt;/Text\u0026gt; \u0026lt;/Texts\u0026gt; \u0026lt;/Rule\u0026gt; Caption Caption blir brukt til å legge inn hjelpetekst ved valideringer.\n14. \u0026ldquo;Caption\u0026rdquo;-nodene\n\u0026lt;Rule type=\u0026#34;RemoveFieldElement\u0026#34;\u0026gt; \u0026lt;caption\u0026gt; \u0026lt;Texts\u0026gt; \u0026lt;Text lang=\u0026#34;1033\u0026#34;\u0026gt;The value is not valid.\u0026lt;/Text\u0026gt; \u0026lt;Text lang=\u0026#34;1044\u0026#34;\u0026gt;Verdien er ikke gyldig.\u0026lt;/Text\u0026gt; \u0026lt;Text lang=\u0026#34;2068\u0026#34;\u0026gt;Verdien er ikkje gyldig.\u0026lt;/Text\u0026gt; \u0026lt;/Texts\u0026gt; \u0026lt;/caption\u0026gt; \u0026lt;/Rule\u0026gt; Kombinere nodene til en regelfil En regelfil får du ved å kombinere alle elementene nevnt over på rett måte i forhold til det du ønsker.\n15. Eksempel på en enkel regelfil\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;AltinnRuleEngine name=\u0026#34;Testtjeneste\u0026#34; version=\u0026#34;Beta\u0026#34;\u0026gt; \u0026lt;Description\u0026gt; Dette er et eksempel på å sette verdi i et felt ved hjelp av en regel. \u0026lt;/Description\u0026gt; \u0026lt;Configuration\u0026gt; \u0026lt;Forms\u0026gt; \u0026lt;Form name=\u0026#34;Testtjenesteskjema\u0026#34; dataFormatId=\u0026#34;1\u0026#34; validationEngine=\u0026#34;AltinnRuleEngine\u0026#34; calculationEngine=\u0026#34;AltinnRuleEngine\u0026#34; /\u0026gt; \u0026lt;/Forms\u0026gt; \u0026lt;/Configuration\u0026gt; \u0026lt;Rules\u0026gt; \u0026lt;!-- For å sette verdien 0 i felt «Utbetaling1» dersom felt \u0026#34;Krav1\u0026#34; ikke har noen verdi --\u0026gt; \u0026lt;Rule type=\u0026#34;SetFieldValue\u0026#34; description=\u0026#34;For å sette verdi om den mangler\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;1\u0026#34; /\u0026gt; \u0026lt;Target form=\u0026#34;1\u0026#34; field=\u0026#34;/Skjema/Tilbakebetaling/Utbetaling/Utbetaling1\u0026#34; value=\u0026#34;0\u0026#34; /\u0026gt; \u0026lt;Condition type=\u0026#34;IsMissing\u0026#34; check=\u0026#34;/Skjema/Tilbakebetaling/Krav/Krav1\u0026#34; /\u0026gt; \u0026lt;/Rule\u0026gt; \u0026lt;/Rules\u0026gt; \u0026lt;/AltinnRuleEngine\u0026gt; Dette eksempelet viser en enkel regelfil som bruker ett enkelt skjema. Den har en regel som setter en verdi i et felt («Utbetaling1») dersom et annet felt mangler («Krav1»).\nEksempel med flere skjema 16. Eksempel på regelfil med to skjema og to regler\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;AltinnRuleEngine name=\u0026#34;TestTjeneste\u0026#34; version=\u0026#34;Beta\u0026#34;\u0026gt; \u0026lt;Description\u0026gt; Dette er et eksempel på å sette verdi i et felt ved hjelp av en regel. Og flytte en verdi fra et skjema til et annet med en annen regel. \u0026lt;/Description\u0026gt; \u0026lt;Configuration\u0026gt; \u0026lt;Forms\u0026gt; \u0026lt;Form name=\u0026#34;Testtjenesteskjema\u0026#34; dataFormatId=\u0026#34;1\u0026#34; validationEngine=\u0026#34;AltinnRuleEngine\u0026#34; calculationEngine=\u0026#34;AltinnRuleEngine\u0026#34; /\u0026gt; \u0026lt;Form name=\u0026#34;Testtjeneste underskjema1\u0026#34; dataFormatId=\u0026#34;2\u0026#34; validationEngine=\u0026#34;AltinnRuleEngine\u0026#34; calculationEngine=\u0026#34;AltinnRuleEngine\u0026#34; /\u0026gt; \u0026lt;/Forms\u0026gt; \u0026lt;/Configuration\u0026gt; \u0026lt;Rules\u0026gt; \u0026lt;!-- For å sette verdien 0 i felt «Utbetaling1» dersom felt «Krav1» ikke har noen verdi --\u0026gt; \u0026lt;Rule type=\u0026#34;SetFieldValue\u0026#34; description=\u0026#34;For å sette verdi om den mangler\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;1\u0026#34; /\u0026gt; \u0026lt;Target form=\u0026#34;1\u0026#34; field=\u0026#34;/Skjema/Tilbakebetaling/Utbetaling/Utbetaling1\u0026#34; value=\u0026#34;0\u0026#34; /\u0026gt; \u0026lt;Condition type=\u0026#34;IsMissing\u0026#34; check=\u0026#34;/Skjema/Tilbakebetaling/Krav/Krav1\u0026#34; /\u0026gt; \u0026lt;/Rule\u0026gt; \u0026lt;!-- Flytte verdi fra felt «Navn» i skjema 2 til felt «Navn» i skjema 1 --\u0026gt; \u0026lt;Rule type=\u0026#34;TransferValue\u0026#34; description=\u0026#34;\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;2\u0026#34; field=\u0026#34;/Skjema/Personopplysninger/Navn\u0026#34; sumRecurringFields=\u0026#34;false\u0026#34; multiple=\u0026#34;false\u0026#34; /\u0026gt; \u0026lt;Target form=\u0026#34;1\u0026#34; field=\u0026#34;/Skjema/Ansvarlig/Navn\u0026#34; index=\u0026#34;0\u0026#34; /\u0026gt; \u0026lt;Condition type=\u0026#34;HasValue\u0026#34; check=\u0026#34;/Skjema/Personopplysninger/Navn\u0026#34; form=\u0026#34;2\u0026#34; /\u0026gt; \u0026lt;/Rule\u0026gt; \u0026lt;/Rules\u0026gt; \u0026lt;/AltinnRuleEngine\u0026gt; Dette eksempelet viser en regelfil som har fått en regel og et skjema i tillegg til første eksempel. Den nye regelen sjekker først om feltet «Navn» i skjema 2 har en verdi, og dersom den har en verdi blir denne verdien kopiert til felt «Navn» i skjema 1.\nRekkefølge på regler Reglene vil bli utført i den rekkefølgen de står i regelfilen. Derfor er det viktig at du setter de opp i den rekkefølgen som passer for ditt formål. For eksempel er det viktig å tenke på rekkefølgen dersom flere regler bruker verdien fra samme felt. Dersom den ene regelen setter en verdi i feltet og en annen regel bruker verdien fra det samme feltet, kan resultatet bli forskjellig avhengig av rekkefølgen det skjer på. Tenk deg at regel 1 henter verdi fra A og legger den sammen med verdi fra B og legger resultatet i C. Regel 2 trekker 100 fra verdien i B dersom A er større enn 10. Dersom regel 1 kjører først vil ikke regel 2 ha noen innvirkning på summen som blir lagt i C. Dersom regel 2 kjører først vil regel 1 bruke de verdiene som er resultat av regel 2.\nRegel 1 kjører før regel 1:\n   Start Etter at regel 1 er kjørt Etter at regel 2 er kjørt     A = 20\nB = 1800\nC = 0 A = 20\nB = 1800\nC = 1820 A = 20\nB = 1700\nC = 1820    Regel 2 kjører før regel 1:\n   Start Etter at regel 2 er kjørt Etter at regel 1 er kjørt     A = 20\nB = 1800\nC = 0 A = 20\nB = 1700\nC = 0 A = 20\nB = 1700\nC = 1720    Bruke regelfilen i en tjenesteutgave For å ta i bruk regelfilen i en tjenesteutgave må du laste opp filen i utgaven. Dette gjør du ved å gå inn på Metadatafiler-siden.\nInne på «Metadatafiler»-siden så må du først sjekke ut, velge «Regler og kalkyler (for Altinn regelmotor)» og så klikke på «Browse»-knappen. Du finner så fram til der du har lagret filen og laster den opp. Filen vil da dukke opp under «Metadatafiler» nederst på siden. Deretter må du sjekke inn for å lagre endringen. Neste gang du migrerer tjenesteutgaven vil regelfilen følge med.\nDet blir ikke gjort noen validering av filen du laster opp. Det er derfor fullt mulig å laste opp en feilaktig regelfil. Vær derfor nøye med å sjekke at regelfilen din er korrekt.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/rest/innsyn/",
	"title": "Innsyns­tjenester",
	"tags": [],
	"description": "Oppslag i datakilder som ligger utenfor Altinn",
	"content": "Hente data ved hjelp av innsynstjeneste URI-en bygges opp ved hjelp av avgiver og tjenestekode/tjenesteutgavekode som unikt identifiserer en spesifikk tjeneste i Altinn. Siden man i teorien kan få ut mange datatyper på mange formater, er responsen definert som streng.\nI praksis er det mulig å angi om man ønsker xml eller json i queryOptions, men det er opp til eier av tjenesten å definere mulighetsrommet siden responsen genereres av kode som tjenestens eier installerer i Altinn.\nGET https://www.altinn.no/api/{who]/lookup/{servicecode}/{serviceeditioncode}?queryOptions={options} HTTP/1.1 ApiKey: myKey Tom eksempelrespons:\n\u0026lt;xml\u0026gt; ... \u0026lt;/xml\u0026gt; "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/getting-started/",
	"title": "Kom i gang med Altinn Studio",
	"tags": [],
	"description": "Kom i gang slik at du kan utvikle apper i Altinn Studio.",
	"content": "\r\rOpprette bruker i Altinn Studio\rKonfigurer brukeren din i Altinn Studio for første gang.\n\r\rOpprette app i Altinn Studio\rSlik oppretter man en ny applikasjon i Altinn Studio.\n\r\rFinne fram i Altinn Studio\rSlik navigerer du mellom de ulike delene av Altinn Studio.\n\r\rTilganger\rHvordan konfigurere tilganger i Altinn 3\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/seres/kom-i-gang/",
	"title": "Kom i gang",
	"tags": [],
	"description": "For tjenester som skal utvikles i Altinn må det foreligge en avtale om tjenesteutvikling. Ved bruk av SERES-løsningen utenfor Altinn må det inngås en egen avtale med SERES.",
	"content": "En forutsetning for slik tilgang er at brukerne har fått nødvendig opplæring i bruken av SERES. Det tilbys jevnlige grunnkurs i tjenesteutvikling samt egne brukertilpassede kurs etter avtale.\nBestille katalog/domene For å modellere informasjonen i en tjeneste må det først bli opprettet en katalog med minst et underliggende domene (forvaltningsområde) i SERES. Bestillingen må inneholde organisasjonsnummeret til tjenesteeieren og ønsket navn på domenet - noe som beskriver etaten, tjenesteeieren, fagområdet, f.eks.: BUFdir (Barne-, ungdoms- og familiedirektoratet), Legemiddelverket (Statens legemiddelverk), Regnskapsregisteret (et register under Brønnøysundregistrene).\nBrukertilgang Tilgang til SERES krever registrering av en bruker slik at det er mulig å autentisere og autorisere de som skal ha tilgang til bestemte kataloger med underliggende domene/r. En bruker kan gis rettigheten skrivetilgang eller Katalogadministrator til en eller flere kataloger og vil ha lesetilgang til alle de andre katalogene. Brukere som gis rettigheten Katalogadministrator til en katalog vil i tillegg til skrivetilgang også ha rettigheter til å opprette nye domener og å endre opplysninger på eksisterende domener under katalogen i Domeneklienten. I Administrasjonsklienten vil brukerne ha rettigheter til å blant annet kunne se og endre hvem som skal ha rettighetene skrivetilgang og Katalogadministrator til katalogen. Katalogeier må gi tilatelse til at en spesifikk bruker kan få rettigheten skrivetilgang eller Katalogadministrator til katalogen.\nTilgang kan gis til to forskjellige løsningsmiljøer i SERES:\n Et produksjonsmiljø som inneholder kataloger og underliggende domener med modeller for tjenesteutvikling i Altinn. Modellene er grunnlaget for generering av meldingsspesifikasjoner som kan importeres til Altinn Tjenesteutviklingsløsning (TUL) eller lignende skjemaverktøy. Et kursmiljø som inneholder de samme katalogene, domenene og modellene pluss noen spesielle for kursformål. Modellene her vil kunne bli endret i forbindelse med kurs og annen opplæring og vil ellers bli jevnlig oppdatert fra produksjonsmiljøet.\nVed henvendelse må det oppgis hvilke miljøer det ønskes tilgang til.  Alle bestillinger knyttet til SERES sendes til Digitalisering Servicedesk.\nBrukertilgang bestilles av tjenesteeier og da må følgende opplysninger oppgis:\n Navn på bruker E-postadresse Mobiltelefonnummer (for utsendelse av engangskode og passord) Tjenesteeier/Oppdragsgiver (katalogtilknytning) Arbeidsgiver (når dette er en annen enn tjenesteeier) Tilgangsrettighet (lesetilgang, skrivetilgang eller Katalogadministrator) Kjøre Domeneklienten på VMware (Ja/Nei)  Kontakt Alle henvendelser vedrørende SERES rettes til: Digitalisering Servicedesk.\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/kom-i-gang/",
	"title": "Kom i gang",
	"tags": [],
	"description": "Installasjon og klargjøring, Citrix, sentral funksjonalitet, statuser og beskrivelse av de ulike arbeidsflatene i TUL.",
	"content": "Forutsetninger og konfigurasjon Tjenesteutviklingsløsningen er basert på SharePoint Server 2013. Du vil kunne nå TUL fra din lokale PC via Citrix fjernstyringsprogram. Citrix er en klient som installeres og lar deg åpne fjernprogrammer som om de skulle ligget på din egen maskin. Dessuten er dette en sikker løsning for fjernarbeid. Citrix vil ha en Office-installasjon med programmer som blant annet InfoPath og Microsoft Visual Studio Tools for Applications (Visual Studio 2008 med .NET 3.5).\nFor å ta i bruk TUL for første gang må du bestille brukertilgang til miljø. Du må også installere en Citrix-klient på din lokale PC.\nBruker bestilles hos tjenesteeier@altinn.no.\nTekniske utviklere med behov for å utvikle mappere, XSLT for splitt/gjenbruk av data eller tilstandsmaskiner, kan få tilgang til et utviklingsmiljø med Visual Studio og TFS via et ikon på Citrix arbeidsflaten. Kun de som er delegert tilgang vil ha dette ikonet tilgjengelig. Tilgang kan bestilles hos tjenesteeier@altinn.no.\nInstallasjon og klargjøring For å ta i bruk TUL må man som nevnt ha installert en Citrix klient.\nInstallasjon av Citrix Dersom Citrix-klient er installert fra før kan dette kapittelet hoppes over. Hvis du har en gammel versjon av Citrix allerede installert, bør denne fjernes før du installerer ny versjon.\nGå til https://tul.altinn.no\nI nettleseren vises bilde for pålogging til TUL. Tast inn brukernavn og passord og klikk på Log on.\nDersom Citrix-klienten ikke er installert på maskinen vil følgende skjermbilde vises:\nKlikk på Install for å starte nedlasting og innstallering av Citrix-klient. Får du denne siden og allerede har innstallert denne versjonen av Citrix, klikk «Log on».\nVelg Kjør (Run) i dialogboksen som kommer opp. Velg Kjør (Run) dersom ekstra sikkerhetsvarsel kommer opp. Klienten installeres automatisk.\nDersom nedlastingen og installasjonen har tatt tid, kan sesjonen din ha gått ut på tid. Velg i så fall å logge på på nytt. Dersom du blir spurt om å laste ned klienten på nytt, velg Log on. Du blir nå tatt til Citrix verktøylinje (antall ikoner varierer fra bruker til bruker):\nFørste gang du kommer inn i Citrix vil skrivebordet være tomt. Du må legge inn de programmene du ønsker ved å klikke på pluss-tegnet til venstre.\nKlikk Internet Explorer for å åpne TUL SharePoint. Dersom en lisensadvarsel viser seg, trykk OK (Allow).\nEt vindu vil åpne seg med Internet Explorer. Dersom ikke nettleseren åpner http://tul.altinn.basefarm.net automatisk må du angi dette i nettleseren.\nDet skal være tilstrekkelig å logge seg på Citrix, men hvis innlogging er påkrevd, benytter du samme bruker som du benyttet tidligere. Husk å benytte prefikset altinntul\\ slik at brukernavn blir f.eks. altinntul\\ola.nordmann. Dette er ikke pråkrevd, men en god vane er å bruke domeneprefiks, da dette er tiltenkt skrudd på etterhvert.\nKontroller at det står Trusted sites nederst i nettleservinduet:\nHvis ikke dette er angitt vil det stå Internet i stedet og du må legge til TUL SharePoint som en sikker side: For å legge til TUL i nettleserens Trusted Sites, velg Tools Internet Options. Et vindu åpnes med innstillinger. Velg skillearket Security. Trykk på Sites-knappen, et nytt vindu åpnes. Fyll inn http://tul.altinn.basefarm.net under Add this website to the zone dersom det ikke er fylt inn allerede, og trykk Add. Avslutt og kontroller at det nå står Trusted sites nederst i nettleservinduet.\nDersom installasjonen har gått smertefritt, vil TUL SharePoint kunne åpnes ved å klikke på Internet Explorer i Citrix arbeidsflaten.\nDet er verdt å merke seg at første gangen man åpner en fildialog i en av applikasjonene i TUL, vil Citrix gi deg et spørsmål om du vil gi tilgang til din lokale disk på datamaskinen du logger på fra. Her kan du velge enten nei, lese eller full tilgang. Hvis du ved et senere tidspunkt vil endre dette, må du høyreklikke på ICA-client ikonet i høyre hjørnet på din lokale datamaskin og velge å endre access-innstillinger.\nCitrix arbeidsflate Etter innlogging i Citrix presenteres du med et antall ikoner. Antall tilgjengelige applikasjoner avhenger av hvilke rettigheter du har i TUL, samt hvilke oppgaver du er tiltenkt å utføre.\n7-zip filemanger Dette er et alternativ til zip-funksjonaliteten i vanlig windows utforsker.\nCommand prompt Dette er kommandolinjeverktøy, som bl.a. kan brukes for å kjøre applikasjonen RequiredFields.exe.\nExcel Denne lar deg åpne Excel-filer i TUL, f.eks. migreringsrapporter etc\nInternet Explorer Dette er inngangsporten til TUL SharePoint og vil åpne en nettleser hvor TUL er satt som startside.\nInfoPath 2010 Dette er skjemaverktøyet i TUL og vil i dette dokumentet kun bli referert til som InfoPath.\nNotepad Lar deg åpne og editere tekstfiler.\nNotepad++ Lar deg åpne og editere tekstfiler. Flere funksjoner enn Notepad.\nUtforsker delt område Dette er standard Windows utforsker som tar deg til det delte området, også referert til som TUL-Share.\nUtforsker lokal PC Dette er standard Windows utforsker som tar deg til din lokale maskin. Det er her viktig at du gir applikasjonen tilgang i vinduet som kan dukke opp med advarsel om at noen prøver å få tilgang til dine lokale filer.\nWord Denne lar deg forhåndsvise Word-filer i TUL, feks. designdokumenter, kokebøker etc.\nUtviklingsimage med Visual Studio og TFS Åpner et fullverdig utviklingsmiljø med Visual Studio 2015 og lesetilgang til mapper-kildekode via TFS. Avhengig av hvilken tjenesteeier bruker tilhører, og hvilke deler av koden som skal endres, så vil områdene med skrivetilgang variere. ”Vanlige” tjenesteutviklere vil typisk ikke ha behov for tilgang.\nSentral funksjonalitet i TUL For å bruke TUL er det en fordel å kjenne til funksjonaliteten i SharePoint, da TUL SharePoint bruker lignede funksjonalitet på en del sentrale funksjoner. Disse gjengis i de følgende delkapitlene.\nStatuser For alle parameterseksjoner på tjeneste- og utgavearbeidsflaten er det brukt symboler for å indikere status for seksjonen. Disse ikonene skal gi bruker et kjapt overblikk over hva som er uferdig, endret eller migrert, samt komplett. Ikoner og status er vist i tabellen under.\n   Ikon Status      Ny, uendret    Endret, ikke komplett    Komplett    Migrert, uendret etter migrering    Veiledning Alle sider i TUL SharePoint (med få unntak) har veiledningskomponenten tilgjengelig på høyre side. Denne vil vise en lenke til den komplette brukerveiledningen for TUL.\nInn- og utsjekking Inn- og utsjekking brukes for å sikre at andre ikke kan gjøre endringer mens du jobber med en parameterseksjon eller et dokument. Mens parameterseksjonen er sjekket ut, kan du redigere den uten at andre brukere kan gjøre endringer. Først når du sjekker inn igjen, vil andre kunne gå inn og gjøre endringer.\nDu vil ha tilgang til å sjekke ut innhold som ligger under din egen tjenesteeier, inkludert tjenester og utgaver. For andre tjenesteeiere, tjenester og utgaver vil du kun ha lesetilgang. Inn- og utsjekking av parameterseksjoner gjøres via knappene som finnes øverst og nederst på siden, som vist i figur 11, under. Ved innsjekk har man også mulighet for å angi en kommentar som blir lagret. Ved å benytte lenken Vis versjonslogg kan man se historikk over ulike innsjekkinger og kommentarer.\nDet er ikke mulig å hente fram tidligere versjoner av enkeltsider. Derfor er det hensiktsmessig å skrive konkrete kommentarer ved innsjekking, i tilfelle du ønsker å fjerne utførte endringer. Versjonshåndtering skjer for utgaven som helhet i forbindelse med migrering.\nDet er verdt å merke seg at hvis man har sjekket ut, og så trykker på avbryt, vil det være det samme som å angre utsjekking; endringer man har gjort blir ikke lagret og parameterseksjonen vil ikke lengre være utsjekket. Man returneres til arbeidsflaten.\nSortering og filtrering Som ellers i SharePoint, vil man også i TUL SharePoint ha filtrering og sortering på de viktige listene. Et utvalg av disse listene er:\n Liste over tjenesteeiere. Liste over tjenester. Liste over utgaver. Liste over kodelister.  Det fungerer på den måten at man for hver kolonneoverskrift har en meny som vist i figur 12.\nMerk at ikke alle kolonner kan filtreres da disse kun kan inneholde unike verdier.\nPåkrevde felter og røde stjerner For mange av metadatasidene i TUL, vil det være felter som må fylles ut før seksjonen kan lagres og sjekkes inn. Disse er markert med røde stjerner, som vist i figuren nedenfor.\nDet er viktig at det skilles på hva som er påkrevd for at utgaven skal migreres, og hva som er påkrevd for å sjekke inn/lagre. Røde stjerner angir kun sistnevnte.\nFelles kodebibliotek I TUL vil man kunne oppleve at mange skjemaer krever mye av samme funksjonaliteten, som f.eks. å validere fødselsnummer, org.nr, epostadresser etc. Dette er tiltenkt å legges i et felles (C#) kodebibliotek i dokumentbiblioteket på forsiden. Dette er ment som et levende sett av funksjonalitet og vedlikeholdes av tjenesteutviklerne. Det vil være opp til dem å utvikle de gjenbrukbare valideringene/kodesnuttene. Dette kodebiblioteket vil være kildekode pluss et kompilert bibliotek som man kan ta i bruk i C#-koden til ethvert skjema.\nTekstsøk Tekstsøk er laget for å gjøre det enklere å standardisere språk og begreper i tjenestene som tilbys sluttbrukerne. Det er mulig å søke på all tekst som er registrert i TUL på tvers av tjenesteeiere, tjenestetyper osv. Tekstsøk finnes i to varianter: En helsides søkefunksjon som kan startes fra startsiden eller tjenesteeiers arbeidsflate, og et popup-vindu som kan startes fra alle parameterfelt som har språkstøtte, dvs. som kan oversettes.\nEt parameterfelt du kan søke fra, har lenken Søk tekst til høyre for feltet. Hvis du først skriver inn en tekst i feltet og trykker på denne lenken, vil det åpnes et popup-vindu med søkeresultatet. Da benyttes et sett med default søkekriterier. Kriteriene er plassert over resulatlisten. Her kan du begrense eller utvide søket ved å velge tjenesteeier, tjenestetype, språk og teksttype. I tillegg kan du skive inn ønsket søkestreng.\nFor å velge en bestemt tekst klikker du på lenken Bruk på den aktuelle linjen i resultatlisten. Du kan også holde musepekeren over en av linjene for å få fram en tooltip med mer informasjon om hvor denne teksten er benyttet.\nI helsides-versjonen av søk er grunnfunksjonaliteten lik. For å velge en tekst må du imidlertid bruke klipp og lim. Du velger teksten med musepekeren, kopierer teksten og limer den inn der den skal brukes, for eksempel i InfoPath. Ved å klikke OK kommer du tilbake til siden du kom fra.\nStartsiden i TUL Startsiden, som vist i figur 16, er det første skjermbildet du kommer til når du logger inn i TUL.\nHer kan du utføre følgende aktiviteter:\n Navigere til tjenesteeiernes arbeidsflater.  I utgangspunktet vil du bare se de tjenesteeierne som du tilhører Du vil kunne få listet opp alle tjenesteeierne som du har lesetilgang til ved å klikke på «Alle tjenesteeiere»   Navigere direkte til de sju siste tjenesteutgavene du har redigert Navigere direkte til tjenesten til en av disse utgavene Navigere til kodelistene som gjelder på tvers av alle tjenesteeiere. Navigere til aktuelle eksterne nettsider gjennom liste med lenker. Navigere til rolleadministrasjon-sidene.  I tillegg vil en administrator kunne utføre følgende aktiviteter:\n Hente frem og lagre prosessflytmaler som gjelder på tvers av alle tjenesteeierne. Disse ligger i et dokumentbibliotek kalt EmptyWorkflowTemplates.  Tjenesteeiers arbeidsflate Når du har valgt en tjenesteeier på startsiden kommer du til tjenesteeierens arbeidsflate. Dette er en arbeidsflate som er spesifikk for den enkelte tjenesteeier, og kan av tjenesteeier-administrator tilpasses den enkelte tjenesteeiers behov.\nHer kan du:\n Navigere til eksisterende tjenester. Opprette ny tjeneste. Opprette ny tjeneste og utgave basert på mastertjeneste. Lese kunngjøringer som er rettet mot tjenesteeierens tjenesteutviklere i TUL. Finne kontaktinformasjon om deltakere i tjenesteutvikling fra tjenesteeierne dersom denne delen er lagt til arbeidsflaten for tjenesteeier. Navigere til rolleadministrasjon-siden. Navigere til stilark og bildebiblioteker og videre til migrering av stil. Navigere til tekstsøk.  Administrator kan i tillegg:\n Hente frem og lagre prosessflytmaler for den enkelte tjenesteeier. Disse ligger i dokumentbiblioteket PreDefinedWorkflowTemplates. Definere vedleggstyper. Navigere til siden for betalingsleverandøravtaler (gjelder bare betalingsadministrator).  Du kan nå velge en eksisterende tjeneste eller opprette en ny.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/datakonsument/komme-i-gang/",
	"title": "Komme i gang",
	"tags": [],
	"description": "Forutsetninger for å ta i bruk samtykketjenesten",
	"content": "Før man kan ta i bruk tjenesten må følgende være på plass:   Aktuell datakilde må ha laget en samtykketjeneste som datakonsument kan benytte. Datakonsument trenger tjenestekode (serviceCode) og tjenesteutgavekode (serviceEditionCode) for gjeldende tjeneste\n  Hvis tjenesteeierstyrt rettighetsregister benyttes, må aktuell tjenesteeier ha registrert organisasjonsnummeret til datakonsument for ovennevnte tjeneste(r). I dette registeret må datakilden også registrere domene som sluttbruker skal returneres til etter å ha gitt sitt samtykke. Det er kun schema/domene/host (ikke path) som legges inn og wildcard (*) kan benyttes for å støtte flere sub-domener. Om schema ikke spesifiseres tillates både HTTP og HTTPS. Egendefinerte schema kan brukes for å sende resultat tilbake til f.eks. mobile applikasjoner. Wildcards må benyttes på sikker måte:\n   Riktig Feil     *.domene.no domene.*   https://domene.no *domene.no   myapp://consent     Det er mulig å legge inn flere domener per org.nr. ved å skille de med semikolon. Domene må legges til både for test- og produksjonsmiljø (disse kan om ønskelig være like).\nHvis en leverandør skal benytte tilgangen på vegne av en konsument, se kapitlet om leverandører.\n  For å hente token trenger man ApiKey som er knyttet til datakonsument sitt organisasjonsnummer. Dette kan bestilles hos Altinn ved å sende en hevendelse til servicedesk@altinn.no. Det vil være en ApiKey for test og en for å benytte i produksjonsmiljøet. ( NB! For Samtykkebasert lånesøknad er det Bits som administrerer dette på vegne av bankene. Se https://www.bits.no/project/sbl.)\n  Man må ha fiktive testpersoner som kan benyttes i test. Dette må man få hos datakilden da dette må være testbrukere som også er lest inn i deres systemer\n  Hvis en har en policy på å stenge for utgående trafikk i brannmur må en i så fall åpne opp for trafikk mot miljøene listet under.\n   Miljø IP-adresse Navn Port     PROD 89.250.123.0 www.altinn.no 443   TT02 89.250.123.40 tt02.altinn.no 443    DNS må sjekkes. Hvis en hardkoder IP adresser i DNS må en legge inn IP adressene listet over i DNS (en vil typisk få Network error. Connection refused o.l hvis DNS ikke er oppdatert)\n"
},
{
	"uri": "https://altinn.github.io/docs/api/rest/meldinger/",
	"title": "Meldingsboks",
	"tags": [],
	"description": "Operasjoner relatert til meldinger i meldingsboks",
	"content": "\rArkivere\rOperasjoner for å arkivere meldinger\n\r\rBekrefte\rOperasjoner for å bekrefte mottak av meldinger\n\r\rHente\rOperasjoner for å lese i meldingsboks og arkiv\n\r\rOppdatere\rOperasjoner for å oppdatere elementer i meldingsboksen.\n\r\rSende inn\rOperasjoner for å sende inn meldinger\n\r\rSignere\rSignering utføres med PUT operasjoner på Message elementet i Altinn API. Skjema med vedlegg kan signeres samlet og det er mulig å signere enkelte skjema/vedlegg enkeltvis.\n\r\rSlette\rOperasjoner for å slette meldinger, underskjema og vedlegg\n\r\rValidere\rOperasjoner for å validere skjemasett\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/api/rest/metadata/",
	"title": "Metadata",
	"tags": [],
	"description": "Altinn API tilbyr en ressurs som gir tilgang til metadata for tjenester tilgjengelige i Altinn. Metadata ressursen er åpent tilgjengelig og krever ikke autentisering.",
	"content": "Hente metadata for alle tjenester GET https://www.altinn.no/api/metadata HTTP/1.1 Accept: application/hal+json Respons fra API:\n{ \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/metadata\u0026#34; } }, \u0026#34;_embedded\u0026#34;: { \u0026#34;metadata\u0026#34;: [{ \u0026#34;ServiceOwnerCode\u0026#34;: \u0026#34;BUF\u0026#34;, \u0026#34;ServiceOwnerName\u0026#34;: \u0026#34;Barne-, ungdoms- og familiedirektoratet\u0026#34;, \u0026#34;ServiceName\u0026#34;: \u0026#34;BUF-0021 Søknad om tilskudd til frivillige, landsomfattende barne- og ungdomsorganisasjoner - internasjonal grunnstøtte for partipolitiske ungdomsorganisasjoner\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;3734\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 150114, \u0026#34;ValidFrom\u0026#34;: \u0026#34;2014-05-15T08:00:00\u0026#34;, \u0026#34;ValidTo\u0026#34;: \u0026#34;2099-01-15T00:56:00\u0026#34;, \u0026#34;ServiceType\u0026#34;: \u0026#34;FormTask\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/metadata/formtask/3734/150114\u0026#34; } } }, { \u0026#34;ServiceOwnerCode\u0026#34;: \u0026#34;BUF\u0026#34;, \u0026#34;ServiceOwnerName\u0026#34;: \u0026#34;Barne-, ungdoms- og familiedirektoratet\u0026#34;, \u0026#34;ServiceName\u0026#34;: \u0026#34;Søknad om aktivitetstilskot for å betre levekår og livskvalitet blant lesbiske, homofile, bifile og transpersonar (LHBT)\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;3610\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 130802, \u0026#34;ValidFrom\u0026#34;: \u0026#34;2014-01-16T10:23:50\u0026#34;, \u0026#34;ValidTo\u0026#34;: \u0026#34;2099-02-01T00:51:00\u0026#34;, \u0026#34;ServiceType\u0026#34;: \u0026#34;FormTask\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/metadata/formtask/3610/130802\u0026#34; } } }] } } Hente metadata for enkelt tjeneste GET https://www.altinn.no/api/metadata/formtask/3734/150114 HTTP/1.1 Accept: application/hal+json Respons fra API:\n{ \u0026#34;ServiceOwnerCode\u0026#34;: \u0026#34;BUF\u0026#34;, \u0026#34;ServiceOwnerName\u0026#34;: \u0026#34;Barne-, ungdoms- og familiedirektoratet\u0026#34;, \u0026#34;ServiceName\u0026#34;: \u0026#34;BUF-0021 Søknad om tilskudd til frivillige, landsomfattende barne- og ungdomsorganisasjoner - internasjonal grunnstøtte for partipolitiske ungdomsorganisasjoner\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;3734\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 150114, \u0026#34;ValidFrom\u0026#34;: \u0026#34;2014-05-15T08:00:00\u0026#34;, \u0026#34;ValidTo\u0026#34;: \u0026#34;2099-01-15T00:56:00\u0026#34;, \u0026#34;ServiceType\u0026#34;: \u0026#34;FormTask\u0026#34;, \u0026#34;RestEnabled\u0026#34;: false, \u0026#34;EUSEnabled\u0026#34;: true, \u0026#34;EnterpriseUserEnabled\u0026#34;: true, \u0026#34;FormsMetaData\u0026#34;: [{ \u0026#34;FormID\u0026#34;: 3686, \u0026#34;FormName\u0026#34;: \u0026#34;BUF-0021 Søknad om tilskudd til frivillige, landsomfattende barne- og ungdomsorganisasjoner - internasjonal grunnstøtte for partipolitiske ungdomsorganisasjoner\u0026#34;, \u0026#34;DataFormatProviderType\u0026#34;: \u0026#34;Seres\u0026#34;, \u0026#34;DataFormatID\u0026#34;: \u0026#34;4362\u0026#34;, \u0026#34;DataFormatVersion\u0026#34;: 36770, \u0026#34;IsOnlyXsdValidation\u0026#34;: false, \u0026#34;FormType\u0026#34;: \u0026#34;MainForm\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;schema\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/metadata/formtask/3734/150114/forms/4362/36770/xsd\u0026#34; } } }], \u0026#34;ProcessSteps\u0026#34;: [{ \u0026#34;Name\u0026#34;: \u0026#34;Innsending\u0026#34;, \u0026#34;SecurityLevel\u0026#34;: 2 },{ \u0026#34;Name\u0026#34;: \u0026#34;Signering\u0026#34;, \u0026#34;SecurityLevel\u0026#34;: 4 }], \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/metadata/formtask/3734/150114\u0026#34; } } } Metadata om den enkelte tjenesten vil for eksempel inkludere informasjon om det er mulig å sende inn skjema via REST API, samt gi tilgang til XSD for skjema (datamodell).\nHente oversikt over kodelister I Altinn ligger det også noe som heter kodelister. Dette er i prinsippet lister med koder hvor hver kode kan ha tre verdier. En navngitt kodeliste kan komme i flere språk og versjoner. Kodelister blir gjerne brukt som oppslagsverk i tjenester.\nMer teknisk informasjon på hjelpesidene for API: https://www.altinn.no/api/Help/Api/GET-metadata-codelists_language\nGET https://www.altinn.no/api/metadata/codelists HTTP/1.1 Accept: application/hal+json Eksempel på respons fra API (ikke full liste):\n{ \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;http://www.altinn.no/api/metadata/codelists?language=1044\u0026#34; } }, \u0026#34;_embedded\u0026#34;: { \u0026#34;codelists\u0026#34;: [ { \u0026#34;Name\u0026#34;: \u0026#34;ASF_Land\u0026#34;, \u0026#34;Version\u0026#34;: 404, \u0026#34;Language\u0026#34;: 1044, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;http://www.altinn.no/api/metadata/codelists/ASF_Land/404?language=1044\u0026#34; } } }, { \u0026#34;Name\u0026#34;: \u0026#34;SKD_RF1030_BilSats\u0026#34;, \u0026#34;Version\u0026#34;: 432, \u0026#34;Language\u0026#34;: 1044, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/metadata/codelists/SKD_RF1030_BilSats/432?language=1044\u0026#34; } } }, ] } } Hente detaljer om en kodeliste Dette grensesnittet er laget for å gjøre tilgjengelig detaljene til en kodeliste. Det vil si at i tillegg til navn, versjon og språk får man med de faktiske kodene i listen.\nMer teknisk informasjon på hjelpesidene for API: https://www.altinn.no/api/Help/Api/GET-metadata-codelists-name-version_language\nGET https://www.altinn.no/api/metadata/codelists HTTP/1.1 Accept: application/hal+json Eksempel på respons fra API (ikke full liste):\n{ \u0026#34;Name\u0026#34;: \u0026#34;ASF_Land\u0026#34;, \u0026#34;Version\u0026#34;: 404, \u0026#34;Language\u0026#34;: 1044, \u0026#34;Codes\u0026#34;: [ { \u0026#34;Code\u0026#34;: \u0026#34;DANMARK\u0026#34;, \u0026#34;Value1\u0026#34;: \u0026#34;DANMARK\u0026#34;, \u0026#34;Value2\u0026#34;: \u0026#34;DK\u0026#34;, \u0026#34;Value3\u0026#34;: \u0026#34;101\u0026#34; }, { \u0026#34;Code\u0026#34;: \u0026#34;NORGE\u0026#34;, \u0026#34;Value1\u0026#34;: \u0026#34;NORGE\u0026#34;, \u0026#34;Value2\u0026#34;: \u0026#34;NO\u0026#34;, \u0026#34;Value3\u0026#34;: \u0026#34;000\u0026#34; }, { \u0026#34;Code\u0026#34;: \u0026#34;USA\u0026#34;, \u0026#34;Value1\u0026#34;: \u0026#34;USA\u0026#34;, \u0026#34;Value2\u0026#34;: \u0026#34;US\u0026#34;, \u0026#34;Value3\u0026#34;: \u0026#34;684\u0026#34; }, ], \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/metadata/codelists/ASF_Land/404?language=1044\u0026#34; } } } Hente metadata om tillatte vedlegg på en innsendingstjeneste Enkelte innsendingstjenester har definert vedleggstyper man kan legge ved. Disse angir blant annet hvilke filtyper, filstørrelser og antall som er tillatt.\nFeltet som brukes for å angi type vedlegg i en innsending er AttachmentTypeName.\nGET https://www.altinn.no/api/metadata/formtask/3734/150114 HTTP/1.1 Accept: application/hal+json Respons fra API:\n{ \u0026#34;ServiceOwnerCode\u0026#34;: \u0026#34;SKD\u0026#34;, \u0026#34;ServiceOwnerName\u0026#34;: \u0026#34;Skatteetaten\u0026#34;, \u0026#34;ServiceName\u0026#34;: \u0026#34;A02 a-melding innsending fra system\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;3357\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 130815, \u0026#34;ValidFrom\u0026#34;: \u0026#34;2017-08-08T10:21:00\u0026#34;, \u0026#34;ValidTo\u0026#34;: \u0026#34;2999-12-31T13:00:00\u0026#34;, \u0026#34;ServiceType\u0026#34;: \u0026#34;FormTask\u0026#34;, \u0026#34;RestEnabled\u0026#34;: false, \u0026#34;AttachmentRules\u0026#34;: [ { \u0026#34;AttachmentRuleId\u0026#34;: 284, \u0026#34;AllowedFileTypes\u0026#34;: \u0026#34;*.xml, zip, enc\u0026#34;, \u0026#34;AttachmentTypeName\u0026#34;: \u0026#34;Amelding\u0026#34;, \u0026#34;AttachmentTypeNameLanguage\u0026#34;: \u0026#34;Amelding\u0026#34;, \u0026#34;IsCheckSumAllowed\u0026#34;: false, \u0026#34;IsXsdValidationRequired\u0026#34;: false, \u0026#34;MaxAttachmentCount\u0026#34;: 1, \u0026#34;MaxFileSize\u0026#34;: 200, \u0026#34;MinAttachmentCount\u0026#34;: 1 } ], \u0026#34;FormsMetaData\u0026#34;: [ { \u0026#34;FormID\u0026#34;: 213428, \u0026#34;FormName\u0026#34;: \u0026#34;A02 a-melding submission from system\u0026#34;, \u0026#34;DataFormatProviderType\u0026#34;: \u0026#34;Seres\u0026#34;, \u0026#34;DataFormatID\u0026#34;: \u0026#34;4166\u0026#34;, \u0026#34;DataFormatVersion\u0026#34;: 35895, \u0026#34;IsOnlyXsdValidation\u0026#34;: false, \u0026#34;FormType\u0026#34;: \u0026#34;MainForm\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;schema\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://tt02.altinn.no/api/metadata/formtask/3357/130815/forms/4166/35895/xsd\u0026#34; } } } ], \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://tt02.altinn.no/api/metadata/formtask/3357/130815\u0026#34; } } } Metadata om den enkelte tjenesten vil for eksempel inkludere informasjon om det er mulig å sende inn skjema via REST API, samt gi tilgang til XSD for skjema (datamodell).\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/prosjekter/tjenester30/goals/",
	"title": "Målsettinger",
	"tags": [],
	"description": "En oppsummering av de overordnede hovedmålsettingene for tjenester 3.0.",
	"content": "Brukervennlige og responsive tjenester  Brukergrensesnitt som er brukervennlig, effektive og moderne (f.eks. som vist på altinn-dagen) Støtte for mobil og ulike skjermstørrelser er innebygd, såkalt responsivt design. Dette gjelder også for utviklingsverktøy. Innebygd universell utforming med støtte for WCAG 2 God ytelse og lav responstid  Effektiv og selvbetjent tjenesteutvikling  Man kan enkelt gjøre alt selv (inkl. prodsetting) når man ønsker det, uten behov for bestillinger, kursing, etc. Flaskehalser elimineres. Effektiv og reell testing, der enhetstest oppfører seg likt som testmiljøer og prod (alle miljøer baseres på samme plattform-kode) Støtte for å lage automatisert testing av tjenester Regler og logikk defineres kun en gang for alle kanaler (portal/WS/API), og på en mer robust måte enn i dag Datamodellering innebygd i det samme web-baserte verktøyet (og støtte for import fra SERES, OR, etc. ) Ikke nødvendig med Citrix for tilgang til utviklingsmiljø  Enkelt for fagpersoner, fleksibelt for utviklere  Fagpersoner har tilgang til nødvendig funksjonalitet direkte i nettleser Man gjenbruker gode og ferdig-testede komponenter/widgets Enkelt å gjøre kall mot API\u0026rsquo;er i andre systemer (hente data, kjøre logikk som ligger i egne fagsystemer) Mer tekniske utviklere kan i tillegg tilpasse alle aspekter hvis man har behov for det ved bruk av kode-editor, f.eks. lage gjenbrukbare widgets, stilark, etc. Gjenbruk av tekster og andre ressurser på det nivået som man ønsker (plattform, tjenesteeier, tjeneste), samt vilkårlig språkstøtte Git (versjonskontroll) benyttes for lagring av tjenestene som utvikles, både fra nettleser og kode-editor.  Åpen kildekode, cross-platform  Tjenester 3.0 skal baseres på åpen kildekode Tjenester 3.0 skal også deles som åpen kildekode Dette betyr at alle kan bidra til å forbedre plattformen. Altinn-organisasjonen blir mao. ikke flaskehals for utvikling. Kan kjøres lokalt på egen maskin, på egne servere og på både Windows, macOS eller Linux Alt baseres på åpne web-standarder og vanlig utviklerkompetanse (ingen \u0026ldquo;sære\u0026rdquo; eller proprietære verktøy innføres)  "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/tjenester/tilsynsdata/eksempler/npdidtilsynsrapporter/",
	"title": "Npdidtilsynsrapporter",
	"tags": [],
	"description": "Datamodell og schema",
	"content": "Under arbeid!\rEksempel { \u0026#34;tilsynsrapporter\u0026#34;: [ { \u0026#34;npdid\u0026#34;: \u0026#34;452345\u0026#34;, \u0026#34;tildaenhet\u0026#34;: \u0026#34;974720760\u0026#34;, \u0026#34;tilsynutfoertav\u0026#34;: \u0026#34;222222222\u0026#34;, \u0026#34;ansvarligtilsynsmyndighet\u0026#34;: \u0026#34;222222222\u0026#34;, \u0026#34;tilsynsegenskaper\u0026#34;: { \u0026#34;kommunalt\u0026#34;: \u0026#34;ja\u0026#34;, \u0026#34;storulykke\u0026#34;: \u0026#34;nei\u0026#34;, \u0026#34;uanmeldt\u0026#34;: \u0026#34;ja\u0026#34;, \u0026#34;internTilsynsid\u0026#34;: \u0026#34;3cf899fc-cee0-46bc-af4c-df7da404dd8b\u0026#34;, \u0026#34;tilsynsutvelgelse\u0026#34;: \u0026#34;Veldig suspekte folk\u0026#34;, \u0026#34;tilsynsstatus\u0026#34;: \u0026#34;aapen\u0026#34;, \u0026#34;tilsynstema\u0026#34;: \u0026#34;Fem tema om dagen gjør godt for magen\u0026#34;, \u0026#34;tilsynsnoekkelord\u0026#34;: \u0026#34;key, word\u0026#34;, \u0026#34;nettrapport\u0026#34;: \u0026#34;https://www.vg.no\u0026#34; }, \u0026#34;kontrolladresse\u0026#34;: [ { \u0026#34;lokalitetsreferanse\u0026#34;: 427760, \u0026#34;lokalitetsbeskrivelse\u0026#34;: \u0026#34;Enda ei rønne\u0026#34;, \u0026#34;lokalitetsnoekkelord\u0026#34;: \u0026#34;fairly fat dinosaur\u0026#34;, \u0026#34;lengdegrad\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;breddegrad\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;bygningsnummer\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;bruksenhetsnummer\u0026#34;: \u0026#34;Enhetsnummer\u0026#34;, \u0026#34;adressenavn\u0026#34;: \u0026#34;Gåssvingen 59, 0640 Oslo\u0026#34;, \u0026#34;adressenummer\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;postnummer\u0026#34;: \u0026#34;Postnummer\u0026#34;, \u0026#34;poststedsnavn\u0026#34;: \u0026#34;fairly fat dinosaur\u0026#34;, \u0026#34;kommunenummer\u0026#34;: \u0026#34;0301\u0026#34;, \u0026#34;bydel\u0026#34;: \u0026#34;Dal\u0026#34;, \u0026#34;fylkesnummer\u0026#34;: \u0026#34;020\u0026#34; }, { \u0026#34;lokalitetsreferanse\u0026#34;: 427760, \u0026#34;lokalitetsbeskrivelse\u0026#34;: \u0026#34;Enda ei rønne\u0026#34;, \u0026#34;lokalitetsnoekkelord\u0026#34;: \u0026#34;fairly fat dinosaur\u0026#34;, \u0026#34;lengdegrad\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;breddegrad\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;bygningsnummer\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;bruksenhetsnummer\u0026#34;: \u0026#34;Enhetsnummer\u0026#34;, \u0026#34;adressenavn\u0026#34;: \u0026#34;Gåssvingen 59, 0640 Oslo\u0026#34;, \u0026#34;adressenummer\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;postnummer\u0026#34;: \u0026#34;Postnummer\u0026#34;, \u0026#34;poststedsnavn\u0026#34;: \u0026#34;fairly fat dinosaur\u0026#34;, \u0026#34;kommunenummer\u0026#34;: \u0026#34;0301\u0026#34;, \u0026#34;bydel\u0026#34;: \u0026#34;Dal\u0026#34;, \u0026#34;fylkesnummer\u0026#34;: \u0026#34;020\u0026#34; } ], \u0026#34;tilsynsaktiviteter\u0026#34;: [ { \u0026#34;tilsynsaktivitetreferanse\u0026#34;: 1, \u0026#34;lokalitetsreferanse\u0026#34;: 1, \u0026#34;internKontrollid\u0026#34;: \u0026#34;64287058-84fa-4a58-885a-06e7b0a5f5cd\u0026#34;, \u0026#34;kontrollobjekt\u0026#34;: \u0026#34;123456789\u0026#34;, \u0026#34;dato\u0026#34;: \u0026#34;2021-04-08T14:34:17.3417108+02:00\u0026#34;, \u0026#34;varighet\u0026#34;: 1, \u0026#34;aktivitet\u0026#34;: \u0026#34;aktivitet\u0026#34;, \u0026#34;aktivitetsutfoerelse\u0026#34;: \u0026#34;fysisk\u0026#34;, \u0026#34;observasjon\u0026#34;: \u0026#34;Vi kikket på en god stund\u0026#34;, \u0026#34;samtidigKontroll\u0026#34;: [ { \u0026#34;tilsynsmyndighet\u0026#34;: \u0026#34;222222222\u0026#34;, \u0026#34;tilsynstema\u0026#34;: \u0026#34;tema\u0026#34;, \u0026#34;aktivitetsutfoerelse\u0026#34;: \u0026#34;\u0026#34; } ], \u0026#34;bekymringsmelding\u0026#34;: [ { \u0026#34;tilsynsmyndighet\u0026#34;: \u0026#34;12345678\u0026#34;, \u0026#34;melding\u0026#34;: \u0026#34;VIKTIG BESKJED\u0026#34; }, { \u0026#34;tilsynsmyndighet\u0026#34;: \u0026#34;12345678\u0026#34;, \u0026#34;melding\u0026#34;: \u0026#34;VIKTIG BESKJED\u0026#34; } ] } ], \u0026#34;kontaktpunkt\u0026#34;: [ { \u0026#34;rapportansvarlig\u0026#34;: \u0026#34;Ansvarligheten selv\u0026#34;, \u0026#34;avdeling\u0026#34;: \u0026#34;fairly fat dinosaur\u0026#34;, \u0026#34;telefonnummer\u0026#34;: \u0026#34;12345678\u0026#34;, \u0026#34;epost\u0026#34;: \u0026#34;fairlyfatdinosaur@fairlyfatdinosaurcom\u0026#34;, \u0026#34;adresse\u0026#34;: \u0026#34;Gåssvingen 59, 0640 Oslo\u0026#34; } ], \u0026#34;tilsynsnotater\u0026#34;: \u0026#34;Notater, notater, notater i lange baner\u0026#34;, \u0026#34;bruddOgReaksjoner\u0026#34;: [ { \u0026#34;tilsynsaktivitetreferanse\u0026#34;: 427760, \u0026#34;lokalitetsreferanse\u0026#34;: 427760, \u0026#34;utredning\u0026#34;: \u0026#34;Forklaring\u0026#34;, \u0026#34;lovparagraf\u0026#34;: \u0026#34;427760\u0026#34;, \u0026#34;reaksjonsdato\u0026#34;: \u0026#34;2017-07-14T00:00:00\u0026#34;, \u0026#34;alvorsgrad\u0026#34;: [ { \u0026#34;reaksjonsverdi\u0026#34;: 427760, \u0026#34;reaksjonstype\u0026#34;: \u0026#34;Spesifisert type reaksjon\u0026#34;, \u0026#34;reaksjonsklasse\u0026#34;: 427760, \u0026#34;lavreaksjon\u0026#34;: 427760, \u0026#34;hoeyreaksjon\u0026#34;: 427760, \u0026#34;lavalvorsgrad\u0026#34;: 427760, \u0026#34;hoeyalvorsgrad\u0026#34;: 427760 } ], \u0026#34;oppfoelgingspaaminnelser\u0026#34;: 427760 } ] } ] } "
},
{
	"uri": "https://altinn.github.io/docs/tul/tjenestetyper/ny/",
	"title": "Ny tjeneste og utgave",
	"tags": [],
	"description": "Hvordan opprette nye tjenester og utgaver.",
	"content": "En tjeneste i TUL SharePoint fungerer som en beholder for utgavene. Med dette menes at man ikke migrerer selve tjenestene til SBL, men utgaver som tilhører tjenesten. Og hver gang den migreres med endret innhold, vil det opprettes en ny versjon av utgaven i SBL.\nEn tjeneste kan ha en eller flere utgaver, for eksempel en utgave per år. I TUL finner du en arbeidsflate for tjeneste og en for utgave. For å identifisere en tjeneste og en utgave har TUL egne parametersider knyttet til tjenesten – tjenesteparametre – og til utgaven – utgaveparametre. Tjenesteparametrene er felles for alle utgaver av tjenesten.\nPå arbeidsflaten for tjeneste ligger det et dokumentbibliotek. Her kan man legge inn relevante dokumenter fra avklaringer før arbeidet starter i TUL, og spesifikasjoner som utarbeides underveis. Det kan være hensiktsmessig å opprette selve tjenesten tidlig, slik at man kan ta i bruk dette designbiblioteket for å dele dokumentasjon.\nLage tjeneste For å lage en ny tjeneste, klikk på Ny i menylinjen til listen over tjenester. Da kommer du først til siden tjenesteparametre, som vist i figur 18.\nSom vist i figuren over kan man angi fem forskjellige parametere:\n  Tjenestenavn: Dette er tjenestens fulle navn og brukes i SBL for avansert søk og i rettighetsvisninger i SBL. Spesialtegn støttes ikke.\n  Kortnavn: Dette er tjenestens identifikator i TUL og brukes ikke i SBL. Kortnavnet vil kunne finnes igjen i tjenestens URL. Kortnavnet må også være unikt innad i en tjenesteeier. Spesialtegn og nasjonale tegn (f.eks æ,ø,å) støttes ikke.\n  Ekstern tjenestekode: Identifiserer tjenesten i SBL og SBS. Vil være unikt på tvers av alle tjenesteeiere i TUL, og angis automatisk av TUL ved opprettelse av tjenesten.\n  Tjenestetype: Dette angir om alle utgavene som lages for denne tjenesten enten er en innsendingstjeneste, meldingstjeneste, innsynstjeneste, samhandlingstjeneste, lenketjeneste eller formidlingstjeneste. Merk at tjenestetype ikke må velges ved opprettelse av tjenesten, men velges før en utgave kan lages. Når en tjenestetype er valgt og man velger OK eller Sjekk inn, vil man ikke kunne endre tjenestetype i ettertid.\n  Referanse: Fritt valgt referanse, for eksempel til papirutgave av skjema.\n  Når du har skrevet inn og trykker OK, vil arbeidsflate for tjenesten opprettes.\nLage utgave En utgave kan opprettes på to forskjellige måter; ny tom eller kopi basert på en eksisterende utgave. Begge måter vil resultere at en utgave blir opprettet under valgt tjeneste.\nNy tom lages ved å klikke på Ny i menylinjen i tjenestelisten på arbeidsflaten for tjeneste. Se figuren nedenfor.\nVil man lage en ny utgave basert på en eksisterende velger man Ny kopi basert på denne i kontekstmenyen til utgaven man vil basere seg på. Se figuren nedenfor.\nBegge valgene vil ta deg til samme siden for utgaveparametre, men det er noen forskjeller. Hvis du lager en ny uten å ta kopi av en eksisterende, vil alle felter være tilgjengelig for utfylling. Velger du derimot å lage utgaven som en kopi av en eksisterende, vil kun utgavenavn, kortnavn, tjenesteutgavekode og hovedspråk være mulig å fylle ut. Resten må endres etterpå. Dette fordi det kun er disse verdiene som ville måtte være unike mellom utgavene. Disse parametrene er:\n  Utgavenavn: Brukes som beskrivende navn i SBL\n  Kortnavn: Brukes kun i TUL som sitenavn og i url\n  Tjenesteutgavekode: brukes som unik identifikator i SBL og SBS. Denne behøver kun å være unik innenfor tjenesten. En god regel er å enten gi utgavene kodene 1, 2, 3 osv. 2007, 2008, 2009 osv. Det som er viktig er at på skjemasettsiden og for SBL vil utgaven med høyest kode ansees å være nyest.\n  Hovedspråk angir hvilken som blir grunnspråket for utgaven\n  Når du har skrevet inn og trykker OK, vil arbeidsflate for tjenesten opprettes.\nHvis du kopierer utgaven, vil InfoPath-skjema også kopieres. Om ønskelig kan du lage en ny kopi av tilhørende VSTA-kode. Ved endringer i C#-kode for den nye utgaven vil dette være hensiktsmessig. C#-koden vil ligge på TULshare.\nDesignbibliotek i TUL Det er viktig for bruken av tjenesten at du lager en gjennomtenkt design også ut i fra sluttbrukerens ståsted. For innsendingstjenester gir ELMER-retningslinjene føringer for utformingen. For innsynstjenester er det laget tre eksempeldokumenter, InfoPath-designs, som bør danne mønster for utforming av brukerinteraksjon. Se Vedlegg C: Utforming av brukervennlige tjenester.\nDesign kan utføres i TUL, men også i egne dokument i forkant av at tjenesten opprettes. Fra tjenestens arbeidsflate i TUL kan du samle relevant bakgrunnsinformasjon og eksisterende designdokumenter knyttet til tjenesten, i et dokumentbibliotek.\nDokumentbiblioteket har versjonskontroll, så du bør sjekke ut dokumentet for å hindre at andre gjør endringer samtidig.\nDesigndokumentasjonen vil være felles for alle utgavene av tjenesten. Hvis det etter hvert utvikles mange versjoner, kan det være praktisk å lage en katalogstruktur i dokument-biblioteket. Dette gjøres ved å navigere til selve dokumentbiblioteket ved å klikke på overskriften Designdokumenter fra arbeidsflaten for tjenesten*.* Det som skjer nå er at du ser selve dokumentbiblioteket i SharePoint kontekst/GUI. Her ser du flere knapper som kan benyttes. Velg *Ny* og så *Ny mappe*, som vist i figuren nedenfor. Dette er standard og normal SharePoint-oppførsel, og vil være samme for andre dokumentbiblioteker.\nPå denne måten kan du lage en oversiktlig struktur.\nSkjemadesign i InfoPath InfoPath kan også brukes som designverktøy. Måten dette gjøres på, er å lage skallet til skjemaet uten å basere dette på en datakilde (XSD). Det man gjør da, er å lage en ny tom mal i InfoPath, som vist i figuren under. Skjemaet får da sin egen datakilde, som ikke er basert på en eksisterende XSD.\nDeretter er det bare å lage utkastet til hvordan skjemaet skal se ut. Dette gjøres ved å dra inn felter og grupper på vanlig måte.\nDet interessante skjer når man vil bruke designet til utvikle selve skjemaet. Det man må gjøre nå, er å konvertere hoveddatakilden til å bruke en ferdig datakilde (XSD), f.eks. meldingsbeskrivelsen fra oppgaveregisteret. Dette gjøres ved å velge Data fra InfoPath sin menylinje, deretter velge Oppdater felt\u0026hellip;, som vist i figuren under.\nMan velger så den hoveddatakilden man vil at skjemaet skal bruke, samt at man ikke vil bruke flere datakilder. Nå har skjemaet den datakilden det skal ha, og designet har blitt tatt i bruk. Det siste som må gjøres, er å endre binding på de brukergrensesnittelementene som allerede er skjemaet. Dette gjøres ved å høyreklikke på valgt element og velge Endre binding\u0026hellip; . Design utarbeidet i andre applikasjoner enn InfoPath vil ikke kunne tas i bruk direkte som skjema eller en del av skjema.\nMERK: Når man utvikler skjemaer hvor man ønsker en betinget formatering basert på en dynamisk verdi, må denne verdien først beregnes, så settes i et hjelpefelt. Betingelsen settes deretter på hjelpefeltet. Et eksempel på dette er hvis man ønsker å sette en betinget formatering på en verdi som er gjennomsnittet av to eller flere felter. Kan man ikke sette betingelsen rett på feltet som utfører denne beregningen. Denne verdien må da først regnes ut, for så å settes i et hjelpefelt, hvor man deretter setter betingelsen på hjelpefeltet som inneholder den ferdig behandlede verdien.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/anbefalinger/onboarding/",
	"title": "Oppsett og onboarding",
	"tags": [],
	"description": "Her finner du informasjon og anbefalering rundt oppsett og onboarding av nye samtykketjenester, konsumenter og leverandører.",
	"content": "Overordnet Dette beskriver arkitekturmønsteret som foretrekkes for deling av offentlige data til private konsumenter, som f.eks. banker og finansforetak. Altinns API-er for samtykkeoperasjoner krever virksomhetssautentisering, som kan være enten med virksomhetssertifikat eller Maskinporten-token. Sistnevnte er anbefalt, da dette også enklere åpner for å kunne ta i bruk leverandører gjennom API-delegering i tråd med referansearkitekturen for eOppslag.\nVanligvis vil den offentlige aktøren som forvalter dataene som skal deles også benytte Maskinporten for å sikre sine API-er. Uthenting av data vil da involvere at konsumenten må oppgi to ulike tokens; ett Maskinporten-token som autentiserer og autoriserer foretaket, og et samtykke-token som autoriserer det samme foretaket til å uthente data for den personen eller virksomheten for den tjenestekonteksten) som er oppgitt i tokenet.\nSekvensdiagram Her vises de fire typiske prosessene knyttet til livssyklusen til en samtykketjeneste for datadeling som skal sikres med Maskinporten og tjenesteeierstyrt rettighetsregister, og være tilgjengelig for konsumenter å kunne delegere til leverandører.\n(1) Se avsnittet om bruk av tjenesteierstyrt rettighetsregister. (2a) I de tilfeller hvor konsumenten selv skal foreta integrasjonen mot datakilden. Konsument får ikke provisjonert klient før API-eier har gitt tilgang. (2b) Hvis en leverandør skal foreta integrasjonen på vegne av konsument, altså administrere samtykkeforespørsler og hente samtykketokens, må konsument delegere \u0026ldquo;API-tilgang til å administrere samtykker\u0026rdquo; til leverandøren sin i Altinn, samt tilgang til API-ressursen som API-eier har opprettet. (3) \u0026ldquo;Be om tilgang\u0026rdquo;-funksjonaliteten kan benyttes i Altinn for at leverandør kan be konsumenten om de tilgangene som ønskes, i stedet for at konsumenten selv må initiere dette. (4) Denne tilgangen er uavhengig av den aktuelle samtykketjenesten og Maskinporten-tilgangen til konsumenten, og vil gi leverandøren tilgang til å administrere forespørsler/tokens for alle samtykketjenester som konsumenten har tilgang til. Her gis også tilgang til delegeringsoppsettet til API-eier på vegne av konsumenten. En konsument kan potensielt ha mange leverandører.\r1. Opprettelse av API i Maskinporten Dataene som skal delegeres må eksponeres i et eller annet API, som regel et REST / JSON-RPC orientert API over HTTP, men i prinsippet kan dette benytte hvilken som helst protokoll som konsumenter vil kunne implementere og som det vil være mulig å oppgi tokens gjennom. Sluttbruker eller Altinn er ikke del i kommunikasjonen mellom datakonsument og datakilde.\nFor å registrere et API i Maskinporten, må den offentlige datakilden tegne en tjenesteeieravtale for Maskinporten med Digdir. For mer informasjon om dette, se Samarbeidsportalen. Når tilgang til Samarbeidsportalen er gitt, må datakilden registrere et scope som representerer API-et som konsumentene skal hente data fra. For mer informasjon, se Maskinportens integrasjonsguiden for API-tilbydere.\nFor å kunne gjøre API-et delegerbart i Altinn, må scopet som opprettes i Maskinporten knyttes til en delegerbar API-ressurs. For mer informasjon om dette, se denne utviklingsguiden for API-tilbydere.\n2. Opprettelse av samtykketjeneste i Altinn Samtykketjenesten er ressursen i Altinn som sluttbrukeren gir konsumenten tilgang til gjennom en samtykkedelegering. Samtykketjenesten opprettes av tjenesteeier i TUL som en lenketjeneste, og bestemmer bl.a. hvordan samtykkedialogen skal fremstå for brukeren. Les mer om hvordan samtykketjenester opprettes.\n3. Onboarding av konsument Når en ny konsument skal få tilgang til samtykketjenesten beskyttet, må organisasjonsnummeret gis tilgang i Maskinporten. Dette kan gjøres i samarbeidsportalen, eller via API.\nBruk av tjenesteeierstyrt rettighetsregister (SRR) Tjenesteeierstyrt rettighetsregister (SRR) lar tjenesteeieren definere en whitelist på hvem som kan motta en samtykkedelegering for tjenesten(e) som en gitt samtykkeforespørslen inneholder, og følgelig også hvem som kan opprette samtykkeforespørsler. Så lenge konsument også må gis tilgang til API-et i Maskinporten vil ikke SRR-sikring være påkrevd for å hindre at uautoriserte konsumenter får tilgang til data, men vil hindre at de får opprettet samtykkeforespørsler og dermed eksponere sluttbrukere for ugyldige samtykkedialoger. Listen over organisasjoner som har tilgang i Maskinporten og SRR vil typisk være den samme, og må holdes i synk av API-eier.\n Les mer om autorisering av datakonsument.  4. Provisjonering av klient For å ta i bruk API-et til Altinn samt API-et til datatilbyder, må det opprettes OAuth2-klienter i Maskinporten. Det er teknisk mulig å provisjonere scopene for å opprette samtykkeforespørsler og uthente samtykketokens i samme klient som den som må brukes for å hente ut data fra datakilden, men dette anbefales ikke. Hver klient bør gis så begrenset tilgang som mulig for å begrense risiko knyttet til feil eller hemmeligheter / klienter_id-er på avveie, og følgelig ha tilgang til så få API-er (scopes) som mulig. Det samme gjelder tilgangstokens. Vær også oppmerksom på at ulike API-er (scopes) er konfigurert med ulik maksimum levetid på autorisasjoner og tilgangstokens, så for å redusere behovet for å hente nye tokens fra Maskinpoten bør tokens omfatte så få scopes som mulig.\nHvis leverandør skal benyttes, må en token-forespørsel inkludere konsumenten en ønsker å hente token på vegne avgjennom claimet \u0026ldquo;consumer_org\u0026rdquo;, slik at Maskinporten kan spørre Altinn om det foreligger en delegering på det aktuelle scopet. Konsumenten må da på forhånd ha delegert tilgang til leverandøren i Altinn, ellers vil uthenting nektes.\n Les mer om å bruke Altinn samtykke som leverandør.  "
},
{
	"uri": "https://altinn.github.io/docs/api/rest/meldinger/oppdatere/",
	"title": "Oppdatere",
	"tags": [],
	"description": "Operasjoner for å oppdatere elementer i meldingsboksen.",
	"content": "PUT på message element Det er mulig å oppdatere skjema med vedlegg som ligger i arbeidslisten til brukeren.\nOppdatering utføres ved å gjøre PUT operasjoner på den enkelte message som skal oppdateres. Alle skjema og vedlegg må inkluderes i hver oppdatering, da tidligere data på message vil overskrives.\nFølgende URL parametere styrer hva som utføres på skjemaet etter oppdatering:\n complete = [true|false] sign = [true|false]  Defaultverdi for complete og sign er true, så om ingen av parameterne er satt til false vil skjemaet signeres og arkiveres etter oppdatering. complete=false vil sette status \u0026ldquo;Utfylling\u0026rdquo; etter oppdatering, mens sign=false sender skjema til signering etter oppdatering.\nHeader\nPUT https://www.altinn.no/api/{who}/messages/{messageid} HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey Body\n{ \u0026#34;Type\u0026#34;: \u0026#34;FormTask\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;123\u0026#34;, \u0026#34;ServiceEdition\u0026#34;: 64, \u0026#34;_embedded\u0026#34; : { \u0026#34;forms\u0026#34; : [{ \u0026#34;Type\u0026#34;: \u0026#34;MainForm\u0026#34;, \u0026#34;DataFormatId\u0026#34;: \u0026#34;1023\u0026#34;, \u0026#34;DataFormatVersion\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;FormData\u0026#34;: \u0026#34;\u0026lt;Skjema\u0026gt;...\u0026lt;/Skjema\u0026gt;\u0026#34; }], \u0026#34;attachments\u0026#34; : [{ \u0026#34;FileName\u0026#34;: \u0026#34;string example 43\u0026#34;, \u0026#34;AttachmentType\u0026#34;: \u0026#34;string example 43\u0026#34;, \u0026#34;Data\u0026#34;: \u0026#34;base64 encoded\u0026#34; }] } } PUT for å endre et eksisterende underskjema For innsendingstjenester som har er definert med hovedskjema og underskjema kan man legge til underskjema etter at instansen er opprettet. Id-en til skjemaet returneres i location response header.\nHeader\nPUT https://www.altinn.no/api/my/messages/{messageid}/forms/{formid} HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey Body\n{ \u0026#34;Type\u0026#34;: \u0026#34;SubForm\u0026#34;, \u0026#34;DataFormatId\u0026#34;: \u0026#34;string example 36\u0026#34;, \u0026#34;DataFormatVersion\u0026#34;: \u0026#34;string example 38\u0026#34;, \u0026#34;FormData\u0026#34;: \u0026#34;\u0026lt;Skjema xmlns:xsi=\\\u0026#34;http://www.w3.org/2001/XMLSchema-instance\\\u0026#34;...\u0026gt;...\u0026lt;/Skjema\u0026gt;\u0026#34; } Vedleggstyper Hva slags vedlegg man kan legge til en tjeneste kan være begrenset av regler definert på tjenesten i Altinn. Disse finner man ved å bruke metadata-ressursen i api-et.\nLegge til vedlegg For å legge til mindre vedlegg til en aktiv skjemainstans kan man poste base64-encodet data direkte mot attachments. Vedleggs-id returneres i location header på responsen.\nHeader\nPOST https://www.altinn.no/api/{who}/messages/{messageid}/attachments/?language={languageid} HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey Body\n{ \u0026#34;FileName\u0026#34;: \u0026#34;string example 43\u0026#34;, \u0026#34;AttachmentType\u0026#34;: \u0026#34;string example 43\u0026#34;, \u0026#34;Data\u0026#34;: \u0026#34;base64 encoded payload\u0026#34; } Legge til vedlegg med streaming For å legge til større vedlegg til en aktiv skjemainstans kan man bruke en streamingvariant mot attachment der requestbody er en binær strøm. Vedleggs-id returneres i location header på responsen. Det er viktig å merke seg at filnavn er et query parameter (fileName) og man må derfor sørge for at dette er URL-enkodet.\nHeader\nPOST https://www.altinn.no/api/{who}/messages/{messageId}/attachments/streamedattachment?fileName={fileName}\u0026amp;attachmentType={attachmentType}\u0026amp;language={language} HTTP/1.1 Content-Type: application/octet-stream ApiKey: myKey "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/tjenester/tilsynsdata/eksempler/klientrequest/",
	"title": "Request-eksempler",
	"tags": [],
	"description": "Eksempler på hvordan man henter data om en gitt virksomhet",
	"content": "Under arbeid!\rGenerelt Tilda er tilgjengelig i to miljøer - test.data.altinn.no og data.altinn.no - man må be om apinøkkel for produktet \u0026ldquo;Tilsynsdata\u0026rdquo; begge steder.\nFor å kunne bruke data.altinn.no med maskinporten må man få tildelt scope (VER2 for test) - altinn:dataaltinnno/tilda Dette vil bli tildelt alle konsumenter, som selv må inn og provisjonere klienter med tilgang til scopet.\nSe her for mer informasjon om maskinporten\nFor mer informasjon om api-ene i data.altinn.no, se her.\nAlle kall til data.altinn.no må ha følgende headere:\nAuthorization med bearertoken fra maskinporten\nOcp-apim-subscription-key med apinøkkel fra valgt miljø\nTilsynsrapporter Request { \u0026#34;requestor\u0026#34;: \u0026#34;991825827\u0026#34;, //Tilsynsmyndigheten som ønsker data, må være lik autentisert orgnr \u0026#34;subject\u0026#34;: \u0026#34;998997801\u0026#34;, //Virksomheten man ønsker å hente data om, tilsynsobjektet \u0026#34;evidenceRequests\u0026#34;: [ { \u0026#34;evidenceCodeName\u0026#34;: \u0026#34;TildaTilsynsrapport\u0026#34;, //Navn på datasett \u0026#34;parameters\u0026#34;: [ { \u0026#34;evidenceParamName\u0026#34;: \u0026#34;tilsynskilder\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;974761211\u0026#34; //organisasjonsnumre til aktuelle tilsyn, kommaseparert, valgfri }, { \u0026#34;evidenceParamName\u0026#34;: \u0026#34;startdato\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;2021-01-20T00:00:00.0000000Z\u0026#34; //bare be om rapporter fra denne dato og fremover, valgfri }, { \u0026#34;evidenceParamName\u0026#34;: \u0026#34;sluttdato\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;2021-01-20T00:00:00.0000000Z\u0026#34; //bare be om rapporter før denne datoen, valgfri } ] } ], \u0026#34;externalReference\u0026#34;: \u0026#34;tilsynsrapport_test\u0026#34;, //ekstern systemreferanse \u0026#34;validTo\u0026#34;: \u0026#34;2022-01-19T00:00:00.0000000Z\u0026#34; //Levetid på spørringsid, maks 1 år } Respons { \u0026#34;evidenceStatus\u0026#34;: { \u0026#34;evidenceCodeName\u0026#34;: \u0026#34;TildaTilsynsrapport\u0026#34;, \u0026#34;status\u0026#34;: { \u0026#34;code\u0026#34;: 1, \u0026#34;description\u0026#34;: \u0026#34;The information is available for harvest\u0026#34; }, \u0026#34;validFrom\u0026#34;: \u0026#34;2021-01-20T14:04:37.4988224+00:00\u0026#34;, \u0026#34;validTo\u0026#34;: \u0026#34;2021-04-19T00:00:00Z\u0026#34;, \u0026#34;didSupplyLegalBasis\u0026#34;: false }, \u0026#34;evidenceValues\u0026#34;: [ { \u0026#34;evidenceValueName\u0026#34;: \u0026#34;tilsynsrapporter\u0026#34;, \u0026#34;source\u0026#34;: \u0026#34;974761211\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2021-01-20T14:05:00.010979Z\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;{\\r\\n \\\u0026#34;status\\\u0026#34;: \\\u0026#34;ok\\\u0026#34;,\\r\\n \\\u0026#34;statustekst\\\u0026#34;: \\\u0026#34;\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;974761211\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsrapporter\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;tilsynsobjekt\\\u0026#34;: \\\u0026#34;974720760\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;974761211\\\u0026#34;,\\r\\n \\\u0026#34;paaVegneAv\\\u0026#34;: \\\u0026#34;223344556\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsadresser\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;lokalitetsreferanse\\\u0026#34;: null,\\r\\n \\\u0026#34;bygningsnummer\\\u0026#34;: \\\u0026#34;x\\\u0026#34;,\\r\\n \\\u0026#34;bruksenhetsnummer\\\u0026#34;: \\\u0026#34;Enhetsnummer\\\u0026#34;,\\r\\n \\\u0026#34;adressenavn\\\u0026#34;: \\\u0026#34;Objektadresseveien 2\\\u0026#34;,\\r\\n \\\u0026#34;adressenummer\\\u0026#34;: \\\u0026#34;2\\\u0026#34;,\\r\\n \\\u0026#34;postnummer\\\u0026#34;: \\\u0026#34;Postnummer\\\u0026#34;,\\r\\n \\\u0026#34;poststedsnavn\\\u0026#34;: \\\u0026#34;Poststedsnavn\\\u0026#34;,\\r\\n \\\u0026#34;kommunenummer\\\u0026#34;: \\\u0026#34;0301\\\u0026#34;,\\r\\n \\\u0026#34;bydel\\\u0026#34;: \\\u0026#34;Dal\\\u0026#34;,\\r\\n \\\u0026#34;fylkesnummer\\\u0026#34;: \\\u0026#34;020\\\u0026#34;,\\r\\n \\\u0026#34;lengdegrad\\\u0026#34;: \\\u0026#34;59.913868\\\u0026#34;,\\r\\n \\\u0026#34;breddegrad\\\u0026#34;: \\\u0026#34;10.752245\\\u0026#34;,\\r\\n \\\u0026#34;stedstype\\\u0026#34;: \\\u0026#34;Type lokasjon\\\u0026#34;,\\r\\n \\\u0026#34;stedbeskrivelse\\\u0026#34;: \\\u0026#34;Enda ei rønne\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsstatus\\\u0026#34;: \\\u0026#34;lukket\\\u0026#34;,\\r\\n \\\u0026#34;internTilsynsId\\\u0026#34;: \\\u0026#34;TilsynArbeidstilsynet97476121112\\\u0026#34;,\\r\\n \\\u0026#34;samordnedeTilsynsmyndigheter\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;111111111\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Hendelse\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;222222222\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Utslipp til vann\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsegenskaper\\\u0026#34;: {\\r\\n \\\u0026#34;kommunalt\\\u0026#34;: \\\u0026#34;ja\\\u0026#34;,\\r\\n \\\u0026#34;storulykke\\\u0026#34;: \\\u0026#34;nei\\\u0026#34;,\\r\\n \\\u0026#34;uanmeldt\\\u0026#34;: \\\u0026#34;irrelevant\\\u0026#34;\\r\\n },\\r\\n \\\u0026#34;tilsynsaktiviteter\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;dato\\\u0026#34;: \\\u0026#34;2016-09-26T00:00:00\\\u0026#34;,\\r\\n \\\u0026#34;varighet\\\u0026#34;: 12,\\r\\n \\\u0026#34;form\\\u0026#34;: \\\u0026#34;fysisk\\\u0026#34;,\\r\\n \\\u0026#34;type\\\u0026#34;: \\\u0026#34;oppfoelging\\\u0026#34;,\\r\\n \\\u0026#34;funksjon\\\u0026#34;: \\\u0026#34;aapentTilsyn\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;ProeveTaking\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;dato\\\u0026#34;: \\\u0026#34;2011-09-26T00:00:00\\\u0026#34;,\\r\\n \\\u0026#34;varighet\\\u0026#34;: 112,\\r\\n \\\u0026#34;form\\\u0026#34;: \\\u0026#34;virtuelt\\\u0026#34;,\\r\\n \\\u0026#34;type\\\u0026#34;: \\\u0026#34;storulykketilsyn\\\u0026#34;,\\r\\n \\\u0026#34;funksjon\\\u0026#34;: \\\u0026#34;inspeksjon\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Hendelse\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;kontakt\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;navn\\\u0026#34;: \\\u0026#34;Navn Navnesen\\\u0026#34;,\\r\\n \\\u0026#34;rolle\\\u0026#34;: \\\u0026#34;Rolleansvarlig for roller og ansvar\\\u0026#34;,\\r\\n \\\u0026#34;avdeling\\\u0026#34;: \\\u0026#34;Avdelinga te Tor\\\u0026#34;,\\r\\n \\\u0026#34;telefonnummer\\\u0026#34;: \\\u0026#34;47419641\\\u0026#34;,\\r\\n \\\u0026#34;epost\\\u0026#34;: \\\u0026#34;epost@domain.com\\\u0026#34;,\\r\\n \\\u0026#34;adresse\\\u0026#34;: \\\u0026#34;Adresse adresseveien 3\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;navn\\\u0026#34;: \\\u0026#34;Jan Janssen\\\u0026#34;,\\r\\n \\\u0026#34;rolle\\\u0026#34;: \\\u0026#34;Senior ansvarsansvarlig\\\u0026#34;,\\r\\n \\\u0026#34;avdeling\\\u0026#34;: \\\u0026#34;Avdelinga te Knut\\\u0026#34;,\\r\\n \\\u0026#34;telefonnummer\\\u0026#34;: \\\u0026#34;47419641\\\u0026#34;,\\r\\n \\\u0026#34;epost\\\u0026#34;: \\\u0026#34;epost@domain2.com\\\u0026#34;,\\r\\n \\\u0026#34;adresse\\\u0026#34;: \\\u0026#34;Adresseveien 3\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsutvelgelse\\\u0026#34;: \\\u0026#34;aarlig\\\u0026#34;,\\r\\n \\\u0026#34;bekymringsmeldinger\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;2222222\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Bekymringsmelding\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;notater\\\u0026#34;: \\\u0026#34;Notatblokka sier ingenting\\\u0026#34;,\\r\\n \\\u0026#34;bruddOgReaksjoner\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;lovparagraf\\\u0026#34;: \\\u0026#34;Første mosebok\\\u0026#34;,\\r\\n \\\u0026#34;paalegg\\\u0026#34;: \\\u0026#34;Fortapelse\\\u0026#34;,\\r\\n \\\u0026#34;reaksjonsdato\\\u0026#34;: \\\u0026#34;2021-01-15T14:04:59.9090702+00:00\\\u0026#34;,\\r\\n \\\u0026#34;etatreaksjon\\\u0026#34;: \\\u0026#34;Lyst i bann\\\u0026#34;,\\r\\n \\\u0026#34;reaksjonsgrad\\\u0026#34;: \\\u0026#34;roed\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;lovparagraf\\\u0026#34;: \\\u0026#34;Lankeklaskeloven p1\\\u0026#34;,\\r\\n \\\u0026#34;paalegg\\\u0026#34;: \\\u0026#34;Smerte\\\u0026#34;,\\r\\n \\\u0026#34;reaksjonsdato\\\u0026#34;: \\\u0026#34;2021-01-05T14:04:59.9090725+00:00\\\u0026#34;,\\r\\n \\\u0026#34;etatreaksjon\\\u0026#34;: \\\u0026#34;Klask på lanken\\\u0026#34;,\\r\\n \\\u0026#34;reaksjonsgrad\\\u0026#34;: \\\u0026#34;gul\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsvurdering\\\u0026#34;: \\\u0026#34;gul\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;tilsynsobjekt\\\u0026#34;: \\\u0026#34;974720760\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;974761211\\\u0026#34;,\\r\\n \\\u0026#34;paaVegneAv\\\u0026#34;: \\\u0026#34;223344556\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsadresser\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;lokalitetsreferanse\\\u0026#34;: null,\\r\\n \\\u0026#34;bygningsnummer\\\u0026#34;: \\\u0026#34;x\\\u0026#34;,\\r\\n \\\u0026#34;bruksenhetsnummer\\\u0026#34;: \\\u0026#34;Enhetsnummer\\\u0026#34;,\\r\\n \\\u0026#34;adressenavn\\\u0026#34;: \\\u0026#34;Objektadresseveien 2\\\u0026#34;,\\r\\n \\\u0026#34;adressenummer\\\u0026#34;: \\\u0026#34;2\\\u0026#34;,\\r\\n \\\u0026#34;postnummer\\\u0026#34;: \\\u0026#34;Postnummer\\\u0026#34;,\\r\\n \\\u0026#34;poststedsnavn\\\u0026#34;: \\\u0026#34;Poststedsnavn\\\u0026#34;,\\r\\n \\\u0026#34;kommunenummer\\\u0026#34;: \\\u0026#34;0301\\\u0026#34;,\\r\\n \\\u0026#34;bydel\\\u0026#34;: \\\u0026#34;Dal\\\u0026#34;,\\r\\n \\\u0026#34;fylkesnummer\\\u0026#34;: \\\u0026#34;020\\\u0026#34;,\\r\\n \\\u0026#34;lengdegrad\\\u0026#34;: \\\u0026#34;59.913868\\\u0026#34;,\\r\\n \\\u0026#34;breddegrad\\\u0026#34;: \\\u0026#34;10.752245\\\u0026#34;,\\r\\n \\\u0026#34;stedstype\\\u0026#34;: \\\u0026#34;Type lokasjon\\\u0026#34;,\\r\\n \\\u0026#34;stedbeskrivelse\\\u0026#34;: \\\u0026#34;Enda ei rønne\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsstatus\\\u0026#34;: \\\u0026#34;lukket\\\u0026#34;,\\r\\n \\\u0026#34;internTilsynsId\\\u0026#34;: \\\u0026#34;TilsynArbeidstilsynet97476121112\\\u0026#34;,\\r\\n \\\u0026#34;samordnedeTilsynsmyndigheter\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;111111111\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Hendelse\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;222222222\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Utslipp til vann\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsegenskaper\\\u0026#34;: {\\r\\n \\\u0026#34;kommunalt\\\u0026#34;: \\\u0026#34;ja\\\u0026#34;,\\r\\n \\\u0026#34;storulykke\\\u0026#34;: \\\u0026#34;nei\\\u0026#34;,\\r\\n \\\u0026#34;uanmeldt\\\u0026#34;: \\\u0026#34;irrelevant\\\u0026#34;\\r\\n },\\r\\n \\\u0026#34;tilsynsaktiviteter\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;dato\\\u0026#34;: \\\u0026#34;2016-09-26T00:00:00\\\u0026#34;,\\r\\n \\\u0026#34;varighet\\\u0026#34;: 12,\\r\\n \\\u0026#34;form\\\u0026#34;: \\\u0026#34;fysisk\\\u0026#34;,\\r\\n \\\u0026#34;type\\\u0026#34;: \\\u0026#34;oppfoelging\\\u0026#34;,\\r\\n \\\u0026#34;funksjon\\\u0026#34;: \\\u0026#34;aapentTilsyn\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;ProeveTaking\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;dato\\\u0026#34;: \\\u0026#34;2011-09-26T00:00:00\\\u0026#34;,\\r\\n \\\u0026#34;varighet\\\u0026#34;: 112,\\r\\n \\\u0026#34;form\\\u0026#34;: \\\u0026#34;virtuelt\\\u0026#34;,\\r\\n \\\u0026#34;type\\\u0026#34;: \\\u0026#34;storulykketilsyn\\\u0026#34;,\\r\\n \\\u0026#34;funksjon\\\u0026#34;: \\\u0026#34;inspeksjon\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Hendelse\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;kontakt\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;navn\\\u0026#34;: \\\u0026#34;Navn Navnesen\\\u0026#34;,\\r\\n \\\u0026#34;rolle\\\u0026#34;: \\\u0026#34;Rolleansvarlig for roller og ansvar\\\u0026#34;,\\r\\n \\\u0026#34;avdeling\\\u0026#34;: \\\u0026#34;Avdelinga te Tor\\\u0026#34;,\\r\\n \\\u0026#34;telefonnummer\\\u0026#34;: \\\u0026#34;47419641\\\u0026#34;,\\r\\n \\\u0026#34;epost\\\u0026#34;: \\\u0026#34;epost@domain.com\\\u0026#34;,\\r\\n \\\u0026#34;adresse\\\u0026#34;: \\\u0026#34;Adresse adresseveien 3\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;navn\\\u0026#34;: \\\u0026#34;Jan Janssen\\\u0026#34;,\\r\\n \\\u0026#34;rolle\\\u0026#34;: \\\u0026#34;Senior ansvarsansvarlig\\\u0026#34;,\\r\\n \\\u0026#34;avdeling\\\u0026#34;: \\\u0026#34;Avdelinga te Knut\\\u0026#34;,\\r\\n \\\u0026#34;telefonnummer\\\u0026#34;: \\\u0026#34;47419641\\\u0026#34;,\\r\\n \\\u0026#34;epost\\\u0026#34;: \\\u0026#34;epost@domain2.com\\\u0026#34;,\\r\\n \\\u0026#34;adresse\\\u0026#34;: \\\u0026#34;Adresseveien 3\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsutvelgelse\\\u0026#34;: \\\u0026#34;aarlig\\\u0026#34;,\\r\\n \\\u0026#34;bekymringsmeldinger\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;2222222\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Bekymringsmelding\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;notater\\\u0026#34;: \\\u0026#34;Notatblokka sier ingenting\\\u0026#34;,\\r\\n \\\u0026#34;bruddOgReaksjoner\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;lovparagraf\\\u0026#34;: \\\u0026#34;Første mosebok\\\u0026#34;,\\r\\n \\\u0026#34;paalegg\\\u0026#34;: \\\u0026#34;Fortapelse\\\u0026#34;,\\r\\n \\\u0026#34;reaksjonsdato\\\u0026#34;: \\\u0026#34;2021-01-15T14:04:59.9091844+00:00\\\u0026#34;,\\r\\n \\\u0026#34;etatreaksjon\\\u0026#34;: \\\u0026#34;Lyst i bann\\\u0026#34;,\\r\\n \\\u0026#34;reaksjonsgrad\\\u0026#34;: \\\u0026#34;roed\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;lovparagraf\\\u0026#34;: \\\u0026#34;Lankeklaskeloven p1\\\u0026#34;,\\r\\n \\\u0026#34;paalegg\\\u0026#34;: \\\u0026#34;Smerte\\\u0026#34;,\\r\\n \\\u0026#34;reaksjonsdato\\\u0026#34;: \\\u0026#34;2021-01-05T14:04:59.9091852+00:00\\\u0026#34;,\\r\\n \\\u0026#34;etatreaksjon\\\u0026#34;: \\\u0026#34;Klask på lanken\\\u0026#34;,\\r\\n \\\u0026#34;reaksjonsgrad\\\u0026#34;: \\\u0026#34;gul\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsvurdering\\\u0026#34;: \\\u0026#34;gul\\\u0026#34;\\r\\n }\\r\\n ]\\r\\n}\u0026#34;, \u0026#34;valueType\u0026#34;: \u0026#34;jsonSchema\u0026#34; } ] } Trendrapporter { \u0026#34;requestor\u0026#34;: \u0026#34;991825827\u0026#34;, //Tilsynsmyndigheten som ønsker data, må være lik autentisert orgnr \u0026#34;subject\u0026#34;: \u0026#34;998997801\u0026#34;, //Virksomheten man ønsker å hente data om, tilsynsobjektet \u0026#34;evidenceRequests\u0026#34;: [ { \u0026#34;evidenceCodeName\u0026#34;: \u0026#34;TildaTilsynskoordinering\u0026#34;, //Navn på datasett \u0026#34;parameters\u0026#34;: [ { \u0026#34;evidenceParamName\u0026#34;: \u0026#34;tilsynskilder\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;974761211\u0026#34; //organisasjonsnumre til aktuelle tilsyn, kommaseparert, valgfri }, { \u0026#34;evidenceParamName\u0026#34;: \u0026#34;startdato\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;2021-01-20T00:00:00.0000000Z\u0026#34; //bare be om rapporter fra denne dato og fremover, valgfri }, { \u0026#34;evidenceParamName\u0026#34;: \u0026#34;sluttdato\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;2021-01-20T00:00:00.0000000Z\u0026#34; //bare be om rapporter før denne datoen, valgfri } ] } ], \u0026#34;externalReference\u0026#34;: \u0026#34;tilsynsrapport_test\u0026#34;, //referanse for bruk i det eksterne systemet \u0026#34;validTo\u0026#34;: \u0026#34;2022-01-19T00:00:00.0000000Z\u0026#34; //Levetid på spørringsid, maks 1 år } { \u0026#34;evidenceStatus\u0026#34;: { \u0026#34;evidenceCodeName\u0026#34;: \u0026#34;TildaTrendrapport\u0026#34;, \u0026#34;status\u0026#34;: { \u0026#34;code\u0026#34;: 1, \u0026#34;description\u0026#34;: \u0026#34;The information is available for harvest\u0026#34; }, \u0026#34;validFrom\u0026#34;: \u0026#34;2021-01-21T12:17:41.0052879+00:00\u0026#34;, \u0026#34;validTo\u0026#34;: \u0026#34;2021-04-19T00:00:00Z\u0026#34;, \u0026#34;didSupplyLegalBasis\u0026#34;: false }, \u0026#34;evidenceValues\u0026#34;: [ { \u0026#34;evidenceValueName\u0026#34;: \u0026#34;enhetsinformasjon\u0026#34;, \u0026#34;source\u0026#34;: \u0026#34;Enhetsregisteret\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2021-01-21T12:18:00.9006173Z\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;{\\\u0026#34;navn\\\u0026#34;:\\\u0026#34;KOMPLETT BANK ASA\\\u0026#34;,\\\u0026#34;tilsynsobjekt\\\u0026#34;:\\\u0026#34;998997801\\\u0026#34;,\\\u0026#34;besoeksadresse\\\u0026#34;:{\\\u0026#34;lokalitetsreferanse\\\u0026#34;:null,\\\u0026#34;bygningsnummer\\\u0026#34;:null,\\\u0026#34;bruksenhetsnummer\\\u0026#34;:null,\\\u0026#34;adressenavn\\\u0026#34;:\\\u0026#34;Vollsveien 2A\\\u0026#34;,\\\u0026#34;adressenummer\\\u0026#34;:null,\\\u0026#34;postnummer\\\u0026#34;:\\\u0026#34;1366\\\u0026#34;,\\\u0026#34;poststedsnavn\\\u0026#34;:\\\u0026#34;LYSAKER\\\u0026#34;,\\\u0026#34;kommunenummer\\\u0026#34;:\\\u0026#34;3024\\\u0026#34;,\\\u0026#34;bydel\\\u0026#34;:null,\\\u0026#34;fylkesnummer\\\u0026#34;:\\\u0026#34;3024\\\u0026#34;,\\\u0026#34;lengdegrad\\\u0026#34;:null,\\\u0026#34;breddegrad\\\u0026#34;:null,\\\u0026#34;stedstype\\\u0026#34;:null,\\\u0026#34;stedbeskrivelse\\\u0026#34;:null},\\\u0026#34;naeringskode\\\u0026#34;:\\\u0026#34;64.190\\\u0026#34;,\\\u0026#34;organisasjonsform\\\u0026#34;:\\\u0026#34;ASA\\\u0026#34;,\\\u0026#34;aarligOmsetning\\\u0026#34;:\\\u0026#34;\\\u0026#34;,\\\u0026#34;driftsstatus\\\u0026#34;:\\\u0026#34;ok\\\u0026#34;}\u0026#34;, \u0026#34;valueType\u0026#34;: \u0026#34;jsonSchema\u0026#34; }, { \u0026#34;evidenceValueName\u0026#34;: \u0026#34;tilsynstrendrapporter\u0026#34;, \u0026#34;source\u0026#34;: \u0026#34;974761211\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2021-01-21T12:18:00.9186432Z\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;{\\r\\n \\\u0026#34;status\\\u0026#34;: \\\u0026#34;ok\\\u0026#34;,\\r\\n \\\u0026#34;statustekst\\\u0026#34;: \\\u0026#34;\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;974761211\\\u0026#34;,\\r\\n \\\u0026#34;trendrapporter\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;tilsynsobjekt\\\u0026#34;: \\\u0026#34;974720760\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;974761211\\\u0026#34;,\\r\\n \\\u0026#34;paaVegneAv\\\u0026#34;: \\\u0026#34;223344556\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsadresser\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;lokalitetsreferanse\\\u0026#34;: null,\\r\\n \\\u0026#34;bygningsnummer\\\u0026#34;: \\\u0026#34;x\\\u0026#34;,\\r\\n \\\u0026#34;bruksenhetsnummer\\\u0026#34;: \\\u0026#34;Enhetsnummer\\\u0026#34;,\\r\\n \\\u0026#34;adressenavn\\\u0026#34;: \\\u0026#34;Objektadresseveien 2\\\u0026#34;,\\r\\n \\\u0026#34;adressenummer\\\u0026#34;: \\\u0026#34;2\\\u0026#34;,\\r\\n \\\u0026#34;postnummer\\\u0026#34;: \\\u0026#34;Postnummer\\\u0026#34;,\\r\\n \\\u0026#34;poststedsnavn\\\u0026#34;: \\\u0026#34;Poststedsnavn\\\u0026#34;,\\r\\n \\\u0026#34;kommunenummer\\\u0026#34;: \\\u0026#34;0301\\\u0026#34;,\\r\\n \\\u0026#34;bydel\\\u0026#34;: \\\u0026#34;Dal\\\u0026#34;,\\r\\n \\\u0026#34;fylkesnummer\\\u0026#34;: \\\u0026#34;020\\\u0026#34;,\\r\\n \\\u0026#34;lengdegrad\\\u0026#34;: \\\u0026#34;59.913868\\\u0026#34;,\\r\\n \\\u0026#34;breddegrad\\\u0026#34;: \\\u0026#34;10.752245\\\u0026#34;,\\r\\n \\\u0026#34;stedstype\\\u0026#34;: \\\u0026#34;Type lokasjon\\\u0026#34;,\\r\\n \\\u0026#34;stedbeskrivelse\\\u0026#34;: \\\u0026#34;Enda ei rønne\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;aarligeTotaler\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;aar\\\u0026#34;: 2021,\\r\\n \\\u0026#34;maanederMedData\\\u0026#34;: 11,\\r\\n \\\u0026#34;antallTilsyn\\\u0026#34;: 2,\\r\\n \\\u0026#34;tilsynMedBrudd\\\u0026#34;: 2,\\r\\n \\\u0026#34;straffeBrudd\\\u0026#34;: 1,\\r\\n \\\u0026#34;alvorBrudd\\\u0026#34;: 1,\\r\\n \\\u0026#34;antallReaksjoner\\\u0026#34;: 2\\r\\n },\\r\\n {\\r\\n \\\u0026#34;aar\\\u0026#34;: 2020,\\r\\n \\\u0026#34;maanederMedData\\\u0026#34;: 12,\\r\\n \\\u0026#34;antallTilsyn\\\u0026#34;: 3,\\r\\n \\\u0026#34;tilsynMedBrudd\\\u0026#34;: 2,\\r\\n \\\u0026#34;straffeBrudd\\\u0026#34;: 1,\\r\\n \\\u0026#34;alvorBrudd\\\u0026#34;: 0,\\r\\n \\\u0026#34;antallReaksjoner\\\u0026#34;: 1\\r\\n },\\r\\n {\\r\\n \\\u0026#34;aar\\\u0026#34;: 2019,\\r\\n \\\u0026#34;maanederMedData\\\u0026#34;: 12,\\r\\n \\\u0026#34;antallTilsyn\\\u0026#34;: 1,\\r\\n \\\u0026#34;tilsynMedBrudd\\\u0026#34;: 1,\\r\\n \\\u0026#34;straffeBrudd\\\u0026#34;: 1,\\r\\n \\\u0026#34;alvorBrudd\\\u0026#34;: 1,\\r\\n \\\u0026#34;antallReaksjoner\\\u0026#34;: 1\\r\\n },\\r\\n {\\r\\n \\\u0026#34;aar\\\u0026#34;: 2018,\\r\\n \\\u0026#34;maanederMedData\\\u0026#34;: 12,\\r\\n \\\u0026#34;antallTilsyn\\\u0026#34;: 12,\\r\\n \\\u0026#34;tilsynMedBrudd\\\u0026#34;: 12,\\r\\n \\\u0026#34;straffeBrudd\\\u0026#34;: 11,\\r\\n \\\u0026#34;alvorBrudd\\\u0026#34;: 6,\\r\\n \\\u0026#34;antallReaksjoner\\\u0026#34;: 12\\r\\n },\\r\\n {\\r\\n \\\u0026#34;aar\\\u0026#34;: 2017,\\r\\n \\\u0026#34;maanederMedData\\\u0026#34;: 12,\\r\\n \\\u0026#34;antallTilsyn\\\u0026#34;: 21,\\r\\n \\\u0026#34;tilsynMedBrudd\\\u0026#34;: 1,\\r\\n \\\u0026#34;straffeBrudd\\\u0026#34;: 0,\\r\\n \\\u0026#34;alvorBrudd\\\u0026#34;: 0,\\r\\n \\\u0026#34;antallReaksjoner\\\u0026#34;: 1\\r\\n }\\r\\n ]\\r\\n },\\r\\n {\\r\\n \\\u0026#34;tilsynsobjekt\\\u0026#34;: \\\u0026#34;974720760\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;974761211\\\u0026#34;,\\r\\n \\\u0026#34;paaVegneAv\\\u0026#34;: \\\u0026#34;223344556\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsadresser\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;lokalitetsreferanse\\\u0026#34;: null,\\r\\n \\\u0026#34;bygningsnummer\\\u0026#34;: \\\u0026#34;x\\\u0026#34;,\\r\\n \\\u0026#34;bruksenhetsnummer\\\u0026#34;: \\\u0026#34;Enhetsnummer\\\u0026#34;,\\r\\n \\\u0026#34;adressenavn\\\u0026#34;: \\\u0026#34;Objektadresseveien 2\\\u0026#34;,\\r\\n \\\u0026#34;adressenummer\\\u0026#34;: \\\u0026#34;2\\\u0026#34;,\\r\\n \\\u0026#34;postnummer\\\u0026#34;: \\\u0026#34;Postnummer\\\u0026#34;,\\r\\n \\\u0026#34;poststedsnavn\\\u0026#34;: \\\u0026#34;Poststedsnavn\\\u0026#34;,\\r\\n \\\u0026#34;kommunenummer\\\u0026#34;: \\\u0026#34;0301\\\u0026#34;,\\r\\n \\\u0026#34;bydel\\\u0026#34;: \\\u0026#34;Dal\\\u0026#34;,\\r\\n \\\u0026#34;fylkesnummer\\\u0026#34;: \\\u0026#34;020\\\u0026#34;,\\r\\n \\\u0026#34;lengdegrad\\\u0026#34;: \\\u0026#34;59.913868\\\u0026#34;,\\r\\n \\\u0026#34;breddegrad\\\u0026#34;: \\\u0026#34;10.752245\\\u0026#34;,\\r\\n \\\u0026#34;stedstype\\\u0026#34;: \\\u0026#34;Type lokasjon\\\u0026#34;,\\r\\n \\\u0026#34;stedbeskrivelse\\\u0026#34;: \\\u0026#34;Enda ei rønne\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;aarligeTotaler\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;aar\\\u0026#34;: 2021,\\r\\n \\\u0026#34;maanederMedData\\\u0026#34;: 11,\\r\\n \\\u0026#34;antallTilsyn\\\u0026#34;: 2,\\r\\n \\\u0026#34;tilsynMedBrudd\\\u0026#34;: 2,\\r\\n \\\u0026#34;straffeBrudd\\\u0026#34;: 1,\\r\\n \\\u0026#34;alvorBrudd\\\u0026#34;: 1,\\r\\n \\\u0026#34;antallReaksjoner\\\u0026#34;: 2\\r\\n },\\r\\n {\\r\\n \\\u0026#34;aar\\\u0026#34;: 2020,\\r\\n \\\u0026#34;maanederMedData\\\u0026#34;: 12,\\r\\n \\\u0026#34;antallTilsyn\\\u0026#34;: 3,\\r\\n \\\u0026#34;tilsynMedBrudd\\\u0026#34;: 2,\\r\\n \\\u0026#34;straffeBrudd\\\u0026#34;: 1,\\r\\n \\\u0026#34;alvorBrudd\\\u0026#34;: 0,\\r\\n \\\u0026#34;antallReaksjoner\\\u0026#34;: 1\\r\\n },\\r\\n {\\r\\n \\\u0026#34;aar\\\u0026#34;: 2019,\\r\\n \\\u0026#34;maanederMedData\\\u0026#34;: 12,\\r\\n \\\u0026#34;antallTilsyn\\\u0026#34;: 1,\\r\\n \\\u0026#34;tilsynMedBrudd\\\u0026#34;: 1,\\r\\n \\\u0026#34;straffeBrudd\\\u0026#34;: 1,\\r\\n \\\u0026#34;alvorBrudd\\\u0026#34;: 1,\\r\\n \\\u0026#34;antallReaksjoner\\\u0026#34;: 1\\r\\n },\\r\\n {\\r\\n \\\u0026#34;aar\\\u0026#34;: 2018,\\r\\n \\\u0026#34;maanederMedData\\\u0026#34;: 12,\\r\\n \\\u0026#34;antallTilsyn\\\u0026#34;: 12,\\r\\n \\\u0026#34;tilsynMedBrudd\\\u0026#34;: 12,\\r\\n \\\u0026#34;straffeBrudd\\\u0026#34;: 11,\\r\\n \\\u0026#34;alvorBrudd\\\u0026#34;: 6,\\r\\n \\\u0026#34;antallReaksjoner\\\u0026#34;: 12\\r\\n },\\r\\n {\\r\\n \\\u0026#34;aar\\\u0026#34;: 2017,\\r\\n \\\u0026#34;maanederMedData\\\u0026#34;: 12,\\r\\n \\\u0026#34;antallTilsyn\\\u0026#34;: 21,\\r\\n \\\u0026#34;tilsynMedBrudd\\\u0026#34;: 1,\\r\\n \\\u0026#34;straffeBrudd\\\u0026#34;: 0,\\r\\n \\\u0026#34;alvorBrudd\\\u0026#34;: 0,\\r\\n \\\u0026#34;antallReaksjoner\\\u0026#34;: 1\\r\\n }\\r\\n ]\\r\\n }\\r\\n ]\\r\\n}\u0026#34;, \u0026#34;valueType\u0026#34;: \u0026#34;jsonSchema\u0026#34; } ] } Koordineringsrapporter { \u0026#34;requestor\u0026#34;: \u0026#34;991825827\u0026#34;, //Tilsynsmyndigheten som ønsker data, må være lik autentisert orgnr \u0026#34;subject\u0026#34;: \u0026#34;998997801\u0026#34;, //Virksomheten man ønsker å hente data om, tilsynsobjektet \u0026#34;evidenceRequests\u0026#34;: [ { \u0026#34;evidenceCodeName\u0026#34;: \u0026#34;TildaTilsynsrapport\u0026#34;, //Navn på datasett \u0026#34;parameters\u0026#34;: [ { \u0026#34;evidenceParamName\u0026#34;: \u0026#34;tilsynskilder\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;974761211\u0026#34; //organisasjonsnumre til aktuelle tilsyn, kommaseparert, valgfri }, { \u0026#34;evidenceParamName\u0026#34;: \u0026#34;startdato\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;2021-01-20T00:00:00.0000000Z\u0026#34; //bare be om rapporter fra denne dato og fremover, valgfri }, { \u0026#34;evidenceParamName\u0026#34;: \u0026#34;sluttdato\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;2021-01-20T00:00:00.0000000Z\u0026#34; //bare be om rapporter før denne datoen, valgfri } ] } ], \u0026#34;externalReference\u0026#34;: \u0026#34;tilsynsrapport_test\u0026#34;, //referanse for bruk i det eksterne systemet \u0026#34;validTo\u0026#34;: \u0026#34;2022-01-19T00:00:00.0000000Z\u0026#34; //Levetid på spørringsid, maks 1 år } { \u0026#34;evidenceStatus\u0026#34;: { \u0026#34;evidenceCodeName\u0026#34;: \u0026#34;TildaTilsynskoordinering\u0026#34;, \u0026#34;status\u0026#34;: { \u0026#34;code\u0026#34;: 1, \u0026#34;description\u0026#34;: \u0026#34;The information is available for harvest\u0026#34; }, \u0026#34;validFrom\u0026#34;: \u0026#34;2021-01-21T12:19:17.4314978+00:00\u0026#34;, \u0026#34;validTo\u0026#34;: \u0026#34;2021-04-19T00:00:00Z\u0026#34;, \u0026#34;didSupplyLegalBasis\u0026#34;: false }, \u0026#34;evidenceValues\u0026#34;: [ { \u0026#34;evidenceValueName\u0026#34;: \u0026#34;enhetsinformasjon\u0026#34;, \u0026#34;source\u0026#34;: \u0026#34;Enhetsregisteret\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2021-01-21T12:19:29.3656667Z\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;{\\r\\n \\\u0026#34;navn\\\u0026#34;: \\\u0026#34;KOMPLETT BANK ASA\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsobjekt\\\u0026#34;: \\\u0026#34;998997801\\\u0026#34;,\\r\\n \\\u0026#34;besoeksadresse\\\u0026#34;: {\\r\\n \\\u0026#34;lokalitetsreferanse\\\u0026#34;: null,\\r\\n \\\u0026#34;bygningsnummer\\\u0026#34;: null,\\r\\n \\\u0026#34;bruksenhetsnummer\\\u0026#34;: null,\\r\\n \\\u0026#34;adressenavn\\\u0026#34;: \\\u0026#34;Vollsveien 2A\\\u0026#34;,\\r\\n \\\u0026#34;adressenummer\\\u0026#34;: null,\\r\\n \\\u0026#34;postnummer\\\u0026#34;: \\\u0026#34;1366\\\u0026#34;,\\r\\n \\\u0026#34;poststedsnavn\\\u0026#34;: \\\u0026#34;LYSAKER\\\u0026#34;,\\r\\n \\\u0026#34;kommunenummer\\\u0026#34;: \\\u0026#34;3024\\\u0026#34;,\\r\\n \\\u0026#34;bydel\\\u0026#34;: null,\\r\\n \\\u0026#34;fylkesnummer\\\u0026#34;: \\\u0026#34;3024\\\u0026#34;,\\r\\n \\\u0026#34;lengdegrad\\\u0026#34;: null,\\r\\n \\\u0026#34;breddegrad\\\u0026#34;: null,\\r\\n \\\u0026#34;stedstype\\\u0026#34;: null,\\r\\n \\\u0026#34;stedbeskrivelse\\\u0026#34;: null\\r\\n },\\r\\n \\\u0026#34;naeringskode\\\u0026#34;: \\\u0026#34;64.190\\\u0026#34;,\\r\\n \\\u0026#34;organisasjonsform\\\u0026#34;: \\\u0026#34;ASA\\\u0026#34;,\\r\\n \\\u0026#34;aarligOmsetning\\\u0026#34;: \\\u0026#34;\\\u0026#34;,\\r\\n \\\u0026#34;driftsstatus\\\u0026#34;: \\\u0026#34;ok\\\u0026#34;\\r\\n}\u0026#34;, \u0026#34;valueType\u0026#34;: \u0026#34;jsonSchema\u0026#34; }, { \u0026#34;evidenceValueName\u0026#34;: \u0026#34;tilsynskoordineringer\u0026#34;, \u0026#34;source\u0026#34;: \u0026#34;974761211\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2021-01-21T12:19:29.3841284Z\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;{\\r\\n \\\u0026#34;status\\\u0026#34;: \\\u0026#34;ok\\\u0026#34;,\\r\\n \\\u0026#34;statustekst\\\u0026#34;: \\\u0026#34;\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;974761211\\\u0026#34;,\\r\\n \\\u0026#34;tilsynskoordineringer\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;tilsynsobjekt\\\u0026#34;: \\\u0026#34;974720760\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;974761211\\\u0026#34;,\\r\\n \\\u0026#34;paaVegneAv\\\u0026#34;: \\\u0026#34;223344556\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsadresser\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;lokalitetsreferanse\\\u0026#34;: null,\\r\\n \\\u0026#34;bygningsnummer\\\u0026#34;: \\\u0026#34;x\\\u0026#34;,\\r\\n \\\u0026#34;bruksenhetsnummer\\\u0026#34;: \\\u0026#34;Enhetsnummer\\\u0026#34;,\\r\\n \\\u0026#34;adressenavn\\\u0026#34;: \\\u0026#34;Objektadresseveien 2\\\u0026#34;,\\r\\n \\\u0026#34;adressenummer\\\u0026#34;: \\\u0026#34;2\\\u0026#34;,\\r\\n \\\u0026#34;postnummer\\\u0026#34;: \\\u0026#34;Postnummer\\\u0026#34;,\\r\\n \\\u0026#34;poststedsnavn\\\u0026#34;: \\\u0026#34;Poststedsnavn\\\u0026#34;,\\r\\n \\\u0026#34;kommunenummer\\\u0026#34;: \\\u0026#34;0301\\\u0026#34;,\\r\\n \\\u0026#34;bydel\\\u0026#34;: \\\u0026#34;Dal\\\u0026#34;,\\r\\n \\\u0026#34;fylkesnummer\\\u0026#34;: \\\u0026#34;020\\\u0026#34;,\\r\\n \\\u0026#34;lengdegrad\\\u0026#34;: \\\u0026#34;59.913868\\\u0026#34;,\\r\\n \\\u0026#34;breddegrad\\\u0026#34;: \\\u0026#34;10.752245\\\u0026#34;,\\r\\n \\\u0026#34;stedstype\\\u0026#34;: \\\u0026#34;Type lokasjon\\\u0026#34;,\\r\\n \\\u0026#34;stedbeskrivelse\\\u0026#34;: \\\u0026#34;Enda ei rønne\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;kontakt\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;navn\\\u0026#34;: \\\u0026#34;Bob Gadget\\\u0026#34;,\\r\\n \\\u0026#34;rolle\\\u0026#34;: \\\u0026#34;Inspektør\\\u0026#34;,\\r\\n \\\u0026#34;avdeling\\\u0026#34;: \\\u0026#34;Teknologiavd.\\\u0026#34;,\\r\\n \\\u0026#34;telefonnummer\\\u0026#34;: \\\u0026#34;44556677\\\u0026#34;,\\r\\n \\\u0026#34;epost\\\u0026#34;: \\\u0026#34;bob@gadgettilsynet.no\\\u0026#34;,\\r\\n \\\u0026#34;adresse\\\u0026#34;: \\\u0026#34;Innretningsveien 420\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;samordnedeTilsynsmyndigheter\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;223344556\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;tema\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;223344556\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;tema\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsegenskaper\\\u0026#34;: {\\r\\n \\\u0026#34;kommunalt\\\u0026#34;: \\\u0026#34;ja\\\u0026#34;,\\r\\n \\\u0026#34;storulykke\\\u0026#34;: \\\u0026#34;nei\\\u0026#34;,\\r\\n \\\u0026#34;uanmeldt\\\u0026#34;: \\\u0026#34;irrelevant\\\u0026#34;\\r\\n },\\r\\n \\\u0026#34;tilsynsutvelgelse\\\u0026#34;: \\\u0026#34;aarlig\\\u0026#34;,\\r\\n \\\u0026#34;sisteTilsynsdato\\\u0026#34;: \\\u0026#34;2021-01-01T12:19:29.2930003+00:00\\\u0026#34;,\\r\\n \\\u0026#34;planlagteTilsyn\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;dato\\\u0026#34;: \\\u0026#34;2021-02-12T12:19:29.2930022+00:00\\\u0026#34;,\\r\\n \\\u0026#34;varighet\\\u0026#34;: 1,\\r\\n \\\u0026#34;form\\\u0026#34;: \\\u0026#34;brev\\\u0026#34;,\\r\\n \\\u0026#34;type\\\u0026#34;: \\\u0026#34;periodisk\\\u0026#34;,\\r\\n \\\u0026#34;funksjon\\\u0026#34;: 0,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Hendelse\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynskampanjer\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;navn\\\u0026#34;: \\\u0026#34;Laktosesjekk\\\u0026#34;,\\r\\n \\\u0026#34;beskrivelse\\\u0026#34;: \\\u0026#34;Tilsyn av iskremselgere\\\u0026#34;,\\r\\n \\\u0026#34;startdato\\\u0026#34;: \\\u0026#34;2021-02-10T12:19:29.2930091+00:00\\\u0026#34;,\\r\\n \\\u0026#34;sluttdato\\\u0026#34;: \\\u0026#34;2021-02-11T12:19:29.2930093+00:00\\\u0026#34;\\r\\n }\\r\\n ]\\r\\n },\\r\\n {\\r\\n \\\u0026#34;tilsynsobjekt\\\u0026#34;: \\\u0026#34;974720760\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;974761211\\\u0026#34;,\\r\\n \\\u0026#34;paaVegneAv\\\u0026#34;: \\\u0026#34;223344556\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsadresser\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;lokalitetsreferanse\\\u0026#34;: null,\\r\\n \\\u0026#34;bygningsnummer\\\u0026#34;: \\\u0026#34;x\\\u0026#34;,\\r\\n \\\u0026#34;bruksenhetsnummer\\\u0026#34;: \\\u0026#34;Enhetsnummer\\\u0026#34;,\\r\\n \\\u0026#34;adressenavn\\\u0026#34;: \\\u0026#34;Objektadresseveien 2\\\u0026#34;,\\r\\n \\\u0026#34;adressenummer\\\u0026#34;: \\\u0026#34;2\\\u0026#34;,\\r\\n \\\u0026#34;postnummer\\\u0026#34;: \\\u0026#34;Postnummer\\\u0026#34;,\\r\\n \\\u0026#34;poststedsnavn\\\u0026#34;: \\\u0026#34;Poststedsnavn\\\u0026#34;,\\r\\n \\\u0026#34;kommunenummer\\\u0026#34;: \\\u0026#34;0301\\\u0026#34;,\\r\\n \\\u0026#34;bydel\\\u0026#34;: \\\u0026#34;Dal\\\u0026#34;,\\r\\n \\\u0026#34;fylkesnummer\\\u0026#34;: \\\u0026#34;020\\\u0026#34;,\\r\\n \\\u0026#34;lengdegrad\\\u0026#34;: \\\u0026#34;59.913868\\\u0026#34;,\\r\\n \\\u0026#34;breddegrad\\\u0026#34;: \\\u0026#34;10.752245\\\u0026#34;,\\r\\n \\\u0026#34;stedstype\\\u0026#34;: \\\u0026#34;Type lokasjon\\\u0026#34;,\\r\\n \\\u0026#34;stedbeskrivelse\\\u0026#34;: \\\u0026#34;Enda ei rønne\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;kontakt\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;navn\\\u0026#34;: \\\u0026#34;Bob Gadget\\\u0026#34;,\\r\\n \\\u0026#34;rolle\\\u0026#34;: \\\u0026#34;Inspektør\\\u0026#34;,\\r\\n \\\u0026#34;avdeling\\\u0026#34;: \\\u0026#34;Teknologiavd.\\\u0026#34;,\\r\\n \\\u0026#34;telefonnummer\\\u0026#34;: \\\u0026#34;44556677\\\u0026#34;,\\r\\n \\\u0026#34;epost\\\u0026#34;: \\\u0026#34;bob@gadgettilsynet.no\\\u0026#34;,\\r\\n \\\u0026#34;adresse\\\u0026#34;: \\\u0026#34;Innretningsveien 420\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;samordnedeTilsynsmyndigheter\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;223344556\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;tema\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;223344556\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;tema\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsegenskaper\\\u0026#34;: {\\r\\n \\\u0026#34;kommunalt\\\u0026#34;: \\\u0026#34;ja\\\u0026#34;,\\r\\n \\\u0026#34;storulykke\\\u0026#34;: \\\u0026#34;nei\\\u0026#34;,\\r\\n \\\u0026#34;uanmeldt\\\u0026#34;: \\\u0026#34;irrelevant\\\u0026#34;\\r\\n },\\r\\n \\\u0026#34;tilsynsutvelgelse\\\u0026#34;: \\\u0026#34;aarlig\\\u0026#34;,\\r\\n \\\u0026#34;sisteTilsynsdato\\\u0026#34;: \\\u0026#34;2021-01-01T12:19:29.2930412+00:00\\\u0026#34;,\\r\\n \\\u0026#34;planlagteTilsyn\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;dato\\\u0026#34;: \\\u0026#34;2021-02-12T12:19:29.2930414+00:00\\\u0026#34;,\\r\\n \\\u0026#34;varighet\\\u0026#34;: 1,\\r\\n \\\u0026#34;form\\\u0026#34;: \\\u0026#34;brev\\\u0026#34;,\\r\\n \\\u0026#34;type\\\u0026#34;: \\\u0026#34;periodisk\\\u0026#34;,\\r\\n \\\u0026#34;funksjon\\\u0026#34;: 0,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Hendelse\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynskampanjer\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;navn\\\u0026#34;: \\\u0026#34;Laktosesjekk\\\u0026#34;,\\r\\n \\\u0026#34;beskrivelse\\\u0026#34;: \\\u0026#34;Tilsyn av iskremselgere\\\u0026#34;,\\r\\n \\\u0026#34;startdato\\\u0026#34;: \\\u0026#34;2021-02-10T12:19:29.2930418+00:00\\\u0026#34;,\\r\\n \\\u0026#34;sluttdato\\\u0026#34;: \\\u0026#34;2021-02-11T12:19:29.2930419+00:00\\\u0026#34;\\r\\n }\\r\\n ]\\r\\n }\\r\\n ]\\r\\n}\u0026#34;, \u0026#34;valueType\u0026#34;: \u0026#34;jsonSchema\u0026#34; } ] } NPDID { \u0026#34;requestor\u0026#34;: \u0026#34;991825827\u0026#34;, //Tilsynsmyndigheten som ønsker data, må være lik autentisert orgnr \u0026#34;subject\u0026#34;: \u0026#34;998997801\u0026#34;, //Virksomheten man ønsker å hente data om, tilsynsobjektet \u0026#34;evidenceRequests\u0026#34;: [ { \u0026#34;evidenceCodeName\u0026#34;: \u0026#34;TildaNPDID\u0026#34;, //Navn på datasett \u0026#34;parameters\u0026#34;: [ { \u0026#34;evidenceParamName\u0026#34;: \u0026#34;tilsynskilder\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;974761211\u0026#34; //organisasjonsnumre til aktuelle tilsyn, kommaseparert, valgfri }, { \u0026#34;evidenceParamName\u0026#34;: \u0026#34;startdato\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;2021-01-20T00:00:00.0000000Z\u0026#34; //bare be om rapporter fra denne dato og fremover, valgfri }, { \u0026#34;evidenceParamName\u0026#34;: \u0026#34;sluttdato\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;2021-01-20T00:00:00.0000000Z\u0026#34; //bare be om rapporter før denne datoen, valgfri }, { \u0026#34;evidenceParamName\u0026#34;: \u0026#34;npdid\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;23432\u0026#34; //Npdid-filter, valgfri } ] } ], \u0026#34;externalReference\u0026#34;: \u0026#34;tilsynsrapport_test\u0026#34;, //referanse for bruk i det eksterne systemet \u0026#34;validTo\u0026#34;: \u0026#34;2022-01-19T00:00:00.0000000Z\u0026#34; //Levetid på spørringsid, maks 1 år } Respons { \u0026#34;evidenceStatus\u0026#34;: { \u0026#34;evidenceCodeName\u0026#34;: \u0026#34;TildaNPDID\u0026#34;, \u0026#34;status\u0026#34;: { \u0026#34;code\u0026#34;: 1, \u0026#34;description\u0026#34;: \u0026#34;The information is available for harvest\u0026#34; }, \u0026#34;validFrom\u0026#34;: \u0026#34;2021-01-20T14:12:44.4971691+00:00\u0026#34;, \u0026#34;validTo\u0026#34;: \u0026#34;2021-04-19T00:00:00Z\u0026#34;, \u0026#34;didSupplyLegalBasis\u0026#34;: false }, \u0026#34;evidenceValues\u0026#34;: [ { \u0026#34;evidenceValueName\u0026#34;: \u0026#34;tilsynsrapporter\u0026#34;, \u0026#34;source\u0026#34;: \u0026#34;974761211\u0026#34;, \u0026#34;timestamp\u0026#34;: \u0026#34;2021-01-20T14:13:03.5325983Z\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;{\\r\\n \\\u0026#34;status\\\u0026#34;: \\\u0026#34;ok\\\u0026#34;,\\r\\n \\\u0026#34;statustekst\\\u0026#34;: \\\u0026#34;\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;974761211\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsrapporter\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;npdid\\\u0026#34;: \\\u0026#34;2323\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsobjekt\\\u0026#34;: \\\u0026#34;974720760\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;974761211\\\u0026#34;,\\r\\n \\\u0026#34;paaVegneAv\\\u0026#34;: \\\u0026#34;223344556\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsadresser\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;lokalitetsreferanse\\\u0026#34;: null,\\r\\n \\\u0026#34;bygningsnummer\\\u0026#34;: \\\u0026#34;x\\\u0026#34;,\\r\\n \\\u0026#34;bruksenhetsnummer\\\u0026#34;: \\\u0026#34;Enhetsnummer\\\u0026#34;,\\r\\n \\\u0026#34;adressenavn\\\u0026#34;: \\\u0026#34;Objektadresseveien 2\\\u0026#34;,\\r\\n \\\u0026#34;adressenummer\\\u0026#34;: \\\u0026#34;2\\\u0026#34;,\\r\\n \\\u0026#34;postnummer\\\u0026#34;: \\\u0026#34;Postnummer\\\u0026#34;,\\r\\n \\\u0026#34;poststedsnavn\\\u0026#34;: \\\u0026#34;Poststedsnavn\\\u0026#34;,\\r\\n \\\u0026#34;kommunenummer\\\u0026#34;: \\\u0026#34;0301\\\u0026#34;,\\r\\n \\\u0026#34;bydel\\\u0026#34;: \\\u0026#34;Dal\\\u0026#34;,\\r\\n \\\u0026#34;fylkesnummer\\\u0026#34;: \\\u0026#34;020\\\u0026#34;,\\r\\n \\\u0026#34;lengdegrad\\\u0026#34;: \\\u0026#34;59.913868\\\u0026#34;,\\r\\n \\\u0026#34;breddegrad\\\u0026#34;: \\\u0026#34;10.752245\\\u0026#34;,\\r\\n \\\u0026#34;stedstype\\\u0026#34;: \\\u0026#34;Type lokasjon\\\u0026#34;,\\r\\n \\\u0026#34;stedbeskrivelse\\\u0026#34;: \\\u0026#34;Enda ei rønne\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsstatus\\\u0026#34;: \\\u0026#34;lukket\\\u0026#34;,\\r\\n \\\u0026#34;internTilsynsId\\\u0026#34;: \\\u0026#34;TilsynArbeidstilsynet97476121112\\\u0026#34;,\\r\\n \\\u0026#34;samordnedeTilsynsmyndigheter\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;111111111\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Hendelse\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;222222222\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Utslipp til vann\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsegenskaper\\\u0026#34;: {\\r\\n \\\u0026#34;kommunalt\\\u0026#34;: \\\u0026#34;ja\\\u0026#34;,\\r\\n \\\u0026#34;storulykke\\\u0026#34;: \\\u0026#34;nei\\\u0026#34;,\\r\\n \\\u0026#34;uanmeldt\\\u0026#34;: \\\u0026#34;irrelevant\\\u0026#34;\\r\\n },\\r\\n \\\u0026#34;tilsynsaktiviteter\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;dato\\\u0026#34;: \\\u0026#34;2016-09-26T00:00:00\\\u0026#34;,\\r\\n \\\u0026#34;varighet\\\u0026#34;: 12,\\r\\n \\\u0026#34;form\\\u0026#34;: \\\u0026#34;fysisk\\\u0026#34;,\\r\\n \\\u0026#34;type\\\u0026#34;: \\\u0026#34;oppfoelging\\\u0026#34;,\\r\\n \\\u0026#34;funksjon\\\u0026#34;: \\\u0026#34;aapentTilsyn\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;ProeveTaking\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;dato\\\u0026#34;: \\\u0026#34;2011-09-26T00:00:00\\\u0026#34;,\\r\\n \\\u0026#34;varighet\\\u0026#34;: 112,\\r\\n \\\u0026#34;form\\\u0026#34;: \\\u0026#34;virtuelt\\\u0026#34;,\\r\\n \\\u0026#34;type\\\u0026#34;: \\\u0026#34;storulykketilsyn\\\u0026#34;,\\r\\n \\\u0026#34;funksjon\\\u0026#34;: \\\u0026#34;inspeksjon\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Hendelse\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;kontakt\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;navn\\\u0026#34;: \\\u0026#34;Navn Navnesen\\\u0026#34;,\\r\\n \\\u0026#34;rolle\\\u0026#34;: \\\u0026#34;Rolleansvarlig for roller og ansvar\\\u0026#34;,\\r\\n \\\u0026#34;avdeling\\\u0026#34;: \\\u0026#34;Avdelinga te Tor\\\u0026#34;,\\r\\n \\\u0026#34;telefonnummer\\\u0026#34;: \\\u0026#34;47419641\\\u0026#34;,\\r\\n \\\u0026#34;epost\\\u0026#34;: \\\u0026#34;epost@domain.com\\\u0026#34;,\\r\\n \\\u0026#34;adresse\\\u0026#34;: \\\u0026#34;Adresse adresseveien 3\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;navn\\\u0026#34;: \\\u0026#34;Jan Janssen\\\u0026#34;,\\r\\n \\\u0026#34;rolle\\\u0026#34;: \\\u0026#34;Senior ansvarsansvarlig\\\u0026#34;,\\r\\n \\\u0026#34;avdeling\\\u0026#34;: \\\u0026#34;Avdelinga te Knut\\\u0026#34;,\\r\\n \\\u0026#34;telefonnummer\\\u0026#34;: \\\u0026#34;47419641\\\u0026#34;,\\r\\n \\\u0026#34;epost\\\u0026#34;: \\\u0026#34;epost@domain2.com\\\u0026#34;,\\r\\n \\\u0026#34;adresse\\\u0026#34;: \\\u0026#34;Adresseveien 3\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsutvelgelse\\\u0026#34;: \\\u0026#34;aarlig\\\u0026#34;,\\r\\n \\\u0026#34;bekymringsmeldinger\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;2222222\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Bekymringsmelding\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;notater\\\u0026#34;: \\\u0026#34;Notatblokka sier ingenting\\\u0026#34;,\\r\\n \\\u0026#34;bruddOgReaksjoner\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;lovparagraf\\\u0026#34;: \\\u0026#34;Første mosebok\\\u0026#34;,\\r\\n \\\u0026#34;paalegg\\\u0026#34;: \\\u0026#34;Fortapelse\\\u0026#34;,\\r\\n \\\u0026#34;reaksjonsdato\\\u0026#34;: \\\u0026#34;2021-01-15T14:13:03.4622431+00:00\\\u0026#34;,\\r\\n \\\u0026#34;etatreaksjon\\\u0026#34;: \\\u0026#34;Lyst i bann\\\u0026#34;,\\r\\n \\\u0026#34;reaksjonsgrad\\\u0026#34;: \\\u0026#34;roed\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;lovparagraf\\\u0026#34;: \\\u0026#34;Lankeklaskeloven p1\\\u0026#34;,\\r\\n \\\u0026#34;paalegg\\\u0026#34;: \\\u0026#34;Smerte\\\u0026#34;,\\r\\n \\\u0026#34;reaksjonsdato\\\u0026#34;: \\\u0026#34;2021-01-05T14:13:03.4622676+00:00\\\u0026#34;,\\r\\n \\\u0026#34;etatreaksjon\\\u0026#34;: \\\u0026#34;Klask på lanken\\\u0026#34;,\\r\\n \\\u0026#34;reaksjonsgrad\\\u0026#34;: \\\u0026#34;gul\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsvurdering\\\u0026#34;: \\\u0026#34;gul\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;npdid\\\u0026#34;: \\\u0026#34;2323\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsobjekt\\\u0026#34;: \\\u0026#34;974720760\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;974761211\\\u0026#34;,\\r\\n \\\u0026#34;paaVegneAv\\\u0026#34;: \\\u0026#34;223344556\\\u0026#34;,\\r\\n \\\u0026#34;tilsynsadresser\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;lokalitetsreferanse\\\u0026#34;: null,\\r\\n \\\u0026#34;bygningsnummer\\\u0026#34;: \\\u0026#34;x\\\u0026#34;,\\r\\n \\\u0026#34;bruksenhetsnummer\\\u0026#34;: \\\u0026#34;Enhetsnummer\\\u0026#34;,\\r\\n \\\u0026#34;adressenavn\\\u0026#34;: \\\u0026#34;Objektadresseveien 2\\\u0026#34;,\\r\\n \\\u0026#34;adressenummer\\\u0026#34;: \\\u0026#34;2\\\u0026#34;,\\r\\n \\\u0026#34;postnummer\\\u0026#34;: \\\u0026#34;Postnummer\\\u0026#34;,\\r\\n \\\u0026#34;poststedsnavn\\\u0026#34;: \\\u0026#34;Poststedsnavn\\\u0026#34;,\\r\\n \\\u0026#34;kommunenummer\\\u0026#34;: \\\u0026#34;0301\\\u0026#34;,\\r\\n \\\u0026#34;bydel\\\u0026#34;: \\\u0026#34;Dal\\\u0026#34;,\\r\\n \\\u0026#34;fylkesnummer\\\u0026#34;: \\\u0026#34;020\\\u0026#34;,\\r\\n \\\u0026#34;lengdegrad\\\u0026#34;: \\\u0026#34;59.913868\\\u0026#34;,\\r\\n \\\u0026#34;breddegrad\\\u0026#34;: \\\u0026#34;10.752245\\\u0026#34;,\\r\\n \\\u0026#34;stedstype\\\u0026#34;: \\\u0026#34;Type lokasjon\\\u0026#34;,\\r\\n \\\u0026#34;stedbeskrivelse\\\u0026#34;: \\\u0026#34;Enda ei rønne\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsstatus\\\u0026#34;: \\\u0026#34;lukket\\\u0026#34;,\\r\\n \\\u0026#34;internTilsynsId\\\u0026#34;: \\\u0026#34;TilsynArbeidstilsynet97476121112\\\u0026#34;,\\r\\n \\\u0026#34;samordnedeTilsynsmyndigheter\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;111111111\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Hendelse\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;222222222\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Utslipp til vann\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsegenskaper\\\u0026#34;: {\\r\\n \\\u0026#34;kommunalt\\\u0026#34;: \\\u0026#34;ja\\\u0026#34;,\\r\\n \\\u0026#34;storulykke\\\u0026#34;: \\\u0026#34;nei\\\u0026#34;,\\r\\n \\\u0026#34;uanmeldt\\\u0026#34;: \\\u0026#34;irrelevant\\\u0026#34;\\r\\n },\\r\\n \\\u0026#34;tilsynsaktiviteter\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;dato\\\u0026#34;: \\\u0026#34;2016-09-26T00:00:00\\\u0026#34;,\\r\\n \\\u0026#34;varighet\\\u0026#34;: 12,\\r\\n \\\u0026#34;form\\\u0026#34;: \\\u0026#34;fysisk\\\u0026#34;,\\r\\n \\\u0026#34;type\\\u0026#34;: \\\u0026#34;oppfoelging\\\u0026#34;,\\r\\n \\\u0026#34;funksjon\\\u0026#34;: \\\u0026#34;aapentTilsyn\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;ProeveTaking\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;dato\\\u0026#34;: \\\u0026#34;2011-09-26T00:00:00\\\u0026#34;,\\r\\n \\\u0026#34;varighet\\\u0026#34;: 112,\\r\\n \\\u0026#34;form\\\u0026#34;: \\\u0026#34;virtuelt\\\u0026#34;,\\r\\n \\\u0026#34;type\\\u0026#34;: \\\u0026#34;storulykketilsyn\\\u0026#34;,\\r\\n \\\u0026#34;funksjon\\\u0026#34;: \\\u0026#34;inspeksjon\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Hendelse\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;kontakt\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;navn\\\u0026#34;: \\\u0026#34;Navn Navnesen\\\u0026#34;,\\r\\n \\\u0026#34;rolle\\\u0026#34;: \\\u0026#34;Rolleansvarlig for roller og ansvar\\\u0026#34;,\\r\\n \\\u0026#34;avdeling\\\u0026#34;: \\\u0026#34;Avdelinga te Tor\\\u0026#34;,\\r\\n \\\u0026#34;telefonnummer\\\u0026#34;: \\\u0026#34;47419641\\\u0026#34;,\\r\\n \\\u0026#34;epost\\\u0026#34;: \\\u0026#34;epost@domain.com\\\u0026#34;,\\r\\n \\\u0026#34;adresse\\\u0026#34;: \\\u0026#34;Adresse adresseveien 3\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;navn\\\u0026#34;: \\\u0026#34;Jan Janssen\\\u0026#34;,\\r\\n \\\u0026#34;rolle\\\u0026#34;: \\\u0026#34;Senior ansvarsansvarlig\\\u0026#34;,\\r\\n \\\u0026#34;avdeling\\\u0026#34;: \\\u0026#34;Avdelinga te Knut\\\u0026#34;,\\r\\n \\\u0026#34;telefonnummer\\\u0026#34;: \\\u0026#34;47419641\\\u0026#34;,\\r\\n \\\u0026#34;epost\\\u0026#34;: \\\u0026#34;epost@domain2.com\\\u0026#34;,\\r\\n \\\u0026#34;adresse\\\u0026#34;: \\\u0026#34;Adresseveien 3\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsutvelgelse\\\u0026#34;: \\\u0026#34;aarlig\\\u0026#34;,\\r\\n \\\u0026#34;bekymringsmeldinger\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;tilsynsmyndighet\\\u0026#34;: \\\u0026#34;2222222\\\u0026#34;,\\r\\n \\\u0026#34;tema\\\u0026#34;: \\\u0026#34;Bekymringsmelding\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;notater\\\u0026#34;: \\\u0026#34;Notatblokka sier ingenting\\\u0026#34;,\\r\\n \\\u0026#34;bruddOgReaksjoner\\\u0026#34;: [\\r\\n {\\r\\n \\\u0026#34;lovparagraf\\\u0026#34;: \\\u0026#34;Første mosebok\\\u0026#34;,\\r\\n \\\u0026#34;paalegg\\\u0026#34;: \\\u0026#34;Fortapelse\\\u0026#34;,\\r\\n \\\u0026#34;reaksjonsdato\\\u0026#34;: \\\u0026#34;2021-01-15T14:13:03.4625822+00:00\\\u0026#34;,\\r\\n \\\u0026#34;etatreaksjon\\\u0026#34;: \\\u0026#34;Lyst i bann\\\u0026#34;,\\r\\n \\\u0026#34;reaksjonsgrad\\\u0026#34;: \\\u0026#34;roed\\\u0026#34;\\r\\n },\\r\\n {\\r\\n \\\u0026#34;lovparagraf\\\u0026#34;: \\\u0026#34;Lankeklaskeloven p1\\\u0026#34;,\\r\\n \\\u0026#34;paalegg\\\u0026#34;: \\\u0026#34;Smerte\\\u0026#34;,\\r\\n \\\u0026#34;reaksjonsdato\\\u0026#34;: \\\u0026#34;2021-01-05T14:13:03.4625828+00:00\\\u0026#34;,\\r\\n \\\u0026#34;etatreaksjon\\\u0026#34;: \\\u0026#34;Klask på lanken\\\u0026#34;,\\r\\n \\\u0026#34;reaksjonsgrad\\\u0026#34;: \\\u0026#34;gul\\\u0026#34;\\r\\n }\\r\\n ],\\r\\n \\\u0026#34;tilsynsvurdering\\\u0026#34;: \\\u0026#34;gul\\\u0026#34;\\r\\n }\\r\\n ]\\r\\n}\u0026#34;, \u0026#34;valueType\u0026#34;: \u0026#34;jsonSchema\u0026#34; } ] } "
},
{
	"uri": "https://altinn.github.io/docs/api/rest/",
	"title": "REST",
	"tags": [],
	"description": "Med REST-APIet er det mulig å bruke tjenestene i Altinn i en app eller ekstern nettside.",
	"content": "For å komme i gang med å bruke REST API-et må du først registrere løsningen din hos Altinn og autentisere deg via ID-porten, brukernavn/passord eller virksomhetssertifikat.\nKom i gang med REST API\nSelvdokumenterende hjelpeside og testklient Altinns REST API har egne selvdokumenterene hjelpesider som inneholder detaljert teknisk informasjon om de ulike modellene som eksponeres og aksjonene som er mulig å utføre. Hjelpesidene inneholder også en testklient som kan benyttes til å utføre spørringer direkte mot Altinn API fra din nettleser (krever at du er pålogget Altinn).\nTeknisk dokumentasjon og testklient\nREST API - generell oppbygging Altinn API benytter REST arkitekturstil, og baserer seg på en semantisk definisjon av innholdet. Strukturen i responsen fra API-et kan endre seg, men betydningen av elementene er den samme. Dette blir som når man navigerer seg inn på en vanlig nettside. Da kan en klient navigere seg inn i API-et ved å følge lenker med en definert betydning. Det er ikke sikkert at URL-en man var på sist fortsatt eksisterer, men det vil være mulig å bla eller søke seg tilbake til det samme innholdet fra forsiden. Fordelen med dette er at Altinn har mulighet til å bygge ut og omstrukturere innholdet i API-et uten at dette hindrer en klient fra å finne fremtil innholdet den brukte fra før.\nAPI-et baserer seg på de mekanismene som allerede finnes i HTTP-standarden og meldingshoder som brukes av vanlige nettlesere og webservere i dag. Altinn API støtter følgende formater\n application/HAL+json application/HAL+xml application/xml application/json  Respons formater Alle kall som brukes for å hente ut informasjon fra Altinn API bruker GET-metoden i HTTP. Formatet som returneres bestemmes av HTTP-headeren Accept.\nFølgende kall returnerer innhold fra brukerens meldingsboks i JSON-format.\nGET https://www.altinn.no/api/my/messages HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey Mens følgende kall returnerer innhold på XML-format:\nGET https://www.altinn.no/api/my/messages HTTP/1.1 Host: www.altinn.no Accept: application/hal+xml ApiKey: myKey Feilsøking Cross-Origin Resource Sharing (CORS) For å kunne gjøre kall mot API\u0026rsquo;et fra en webapp i et annet domene enn altinn.no, så må CORS være satt opp i Altinn.\nØnsket domene som skal benyttes spesifiseres i bestillingsskjema ved registrering av din applikasjon.\nFor å verifisere at CORS er satt opp korrekt i et Altinn-miljø, så kan du benytte f.eks. følgende PowerShell-script:\n$headers = @{} # Sett origin-header med domene som vil gjøre kall mot Altinn API $headers.Add(\u0026#34;Origin\u0026#34;, \u0026#34;https://www.eksempel.no\u0026#34;) # Gjør test-kall i ønsket Altinn-miljø mot metadata-ressursen (som ikke krever pålogging) Invoke-Webrequest -Method Get -Uri https://www.altinn.no/api/metadata/ -Headers $headers Eventuelt så kan f.eks. curl benyttes:\ncurl -X GET -H \u0026#34;Origin: https://www.eksempel.no\u0026#34; --verbose https://www.altinn.no/api/metadata/ Hvis HTTP-header Access-Control-Allow-Origin returneres med ønsket domene, så betyr det at CORS er satt opp korrekt for det aktuelle Altinn-miljøet.\n\rKom i gang med REST API\rSelv om tilgang til Altinns REST API er åpent, må du registrere din applikasjon og autentisere deg. Dette for at vi skal kunne stoppe misbruk og feilbruk.\n\r\rAutorisasjon\rAPIer relatert roller, rettigheter og rolledefinisjoner. Disse endepunktene benyttes når du skal hente ut roller og rettigheter en innlogget bruker har. Du kan også slette tildelte roller.\n\r\rInnsyns­tjenester\rOppslag i datakilder som ligger utenfor Altinn\n\r\rMeldingsboks\rOperasjoner relatert til meldinger i meldingsboks\n\r\rMetadata\rAltinn API tilbyr en ressurs som gir tilgang til metadata for tjenester tilgjengelige i Altinn. Metadata ressursen er åpent tilgjengelig og krever ikke autentisering.\n\r\rFormidling\rAltinns REST-funksjonalitet for formidlingstjenester\n\r\rBetaling\rVed bruk av Altinns REST-api kan man videresende brukeren til betalingssteget i portal på altinn.no.\n\r\rProfil\rAltinn API tilbyr tilgang til profil-data.\n\r\rReferanse-app\rAltinn har tilgjengeliggjort referansekode for å gjøre det enklere å lage applikasjoner med Altinn-funksjonalitet.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/api/rest/meldinger/sende-inn/",
	"title": "Sende inn",
	"tags": [],
	"description": "Operasjoner for å sende inn meldinger",
	"content": "Generelt om innsendingstjenester I Altinn er bygget inn mye funksjonalitet får å tilby brukere skjema med ulike behov og krav. Ved bruk av REST-apiet kan man opprette en skjemainstans for å få en messageid, og deretter legge til, endre eller slette underskjema og vedlegg som man ønsker.\nI Altinn kan tjenesteeier selv angi hvilke innsendingskanaler som er gyldige. REST API må derfor angis av tjenesteeier som en gyldig kanal.Metadata ressursen som lister alle produksjonsatte tjenester i Altinn vil indikere om aktuell tjeneste er tilgjengelig for innsending fra REST API.\nSkjema i Altinn er bygget på en XSD datamodell (http://en.wikipedia.org/wiki/XSD), som igjen er knyttet til en overordnet semantisk modell. Denne XSD angir de tekniske valideringene for et skjema. Andre typer valideringsregler (kalkyler, forretningsregler) kan angis som en del av utviklingen av skjema. XSD for aktuell tjeneste kan lastes ned fra metadata ressursen.\nSkjema må sees på som en payload \u0026ldquo;Blob\u0026rdquo; representert i XML, og må representeres som XML også i JSON, se eksempel under.\nPOST på message elementet Man kan sende inn skjema med vedlegg. Skjema er i API-et Message av type FormTask.\nPOST for innsending av skjema til arkiv Følgende request sender inn skjema med vedlegg til Arkivet i brukerens meldingsboks. Merk at AttachmentType på vedlegget indikerer hvilken funksjonell vedleggstype som er lagt ved - ikke mimetype. Hvilke vedleggstyper som er tillatt på forskjellige innsendingstjenester finnes i AttachmentRules.AttachmentTypeName i metadata-tjenesten. Adressen til det arkiverte skjemaet vil returneres i Location response header.\nHeader\nPOST https://www.altinn.no/api/{who}/messages HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey Body\n{ \u0026#34;Type\u0026#34;: \u0026#34;FormTask\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;1029\u0026#34;, \u0026#34;ServiceEdition\u0026#34;: 64, \u0026#34;_embedded\u0026#34; : { \u0026#34;forms\u0026#34; : [ { \u0026#34;Type\u0026#34;: \u0026#34;MainForm\u0026#34;, \u0026#34;DataFormatId\u0026#34;: \u0026#34;1232\u0026#34;, \u0026#34;DataFormatVersion\u0026#34;: \u0026#34;10123\u0026#34;, \u0026#34;FormData\u0026#34;: \u0026#34;\u0026lt;Skjema\u0026gt;...\u0026lt;/Skjema\u0026gt;\u0026#34; } ], \u0026#34;attachments\u0026#34; : [ { \u0026#34;FileName\u0026#34;: \u0026#34;string example 43\u0026#34;, \u0026#34;AttachmentType\u0026#34;: \u0026#34;FunksjonellVedleggsType\u0026#34;, \u0026#34;Data\u0026#34;: \u0026#34;base64 encoded\u0026#34; } ] } } POST for innsending av skjema til arbeidslisten (mellomlagring) Det er også mulig å sende inn skjema til arbeidslisten i Altinn. Da vil skjema få status \u0026ldquo;Utfylling\u0026rdquo;. Skjema kan så fylles ut ferdig i Altinn portal eller fullføres med ny PUT operasjon på meldingen. At skjemaet skal få status \u0026lsquo;Utfylling\u0026rsquo; angis ved å inkludere URL-parameter complete=false. Adressen til skjemaet i arbeidslisten returneres i Location respons header.\nHeader\nPOST https://www.altinn.no/api/{who}/messages?complete=false HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey Body\n{ \u0026#34;Type\u0026#34;: \u0026#34;FormTask\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;123\u0026#34;, \u0026#34;ServiceEdition\u0026#34;: 64, \u0026#34;_embedded\u0026#34; : { \u0026#34;forms\u0026#34; : [{ \u0026#34;Type\u0026#34;: \u0026#34;MainForm\u0026#34;, \u0026#34;DataFormatId\u0026#34;: \u0026#34;1023\u0026#34;, \u0026#34;DataFormatVersion\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;FormData\u0026#34;: \u0026#34;\u0026lt;Skjema\u0026gt;...\u0026lt;/Skjema\u0026gt;\u0026#34; }], \u0026#34;attachments\u0026#34; : [{ \u0026#34;FileName\u0026#34;: \u0026#34;string example 43\u0026#34;, \u0026#34;AttachmentType\u0026#34;: \u0026#34;Funksjonellvedleggstype\u0026#34;, \u0026#34;Data\u0026#34;: \u0026#34;base64 encoded\u0026#34; }] } } POST for å opprette preutfylt skjema Det er også mulig å sende tom payload for å opprette et tomt skjema med preutfylling. Da vil skjema bli opprette med data satt av tjenesteeier. Skjemaet vil få status \u0026ldquo;Utfylling\u0026rdquo;, og kan så fylles ut ferdig i Altinn portal eller fullføres med ny PUT operasjon. Den samme operasjonen kan gjenbrukes på underskjema.\nHeader\nPOST https://www.altinn.no/api/{who}/messages?complete=false HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey Body\n{ \u0026#34;Type\u0026#34;: \u0026#34;FormTask\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;123\u0026#34;, \u0026#34;ServiceEdition\u0026#34;: 64, \u0026#34;_embedded\u0026#34; : { } } POST for å legge til underskjema til en aktiv skjema-instans For innsendingstjenester som har er definert med hovedskjema og underskjema kan man legge til underskjema etter at instansen er opprettet. Id-en til skjemaet returneres i location response header.\nHeader\nPOST https://www.altinn.no/api/{who}/messages/{messageid}/forms HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey Body\n{ \u0026#34;Type\u0026#34;: \u0026#34;SubForm\u0026#34;, \u0026#34;DataFormatId\u0026#34;: \u0026#34;string example 36\u0026#34;, \u0026#34;DataFormatVersion\u0026#34;: \u0026#34;string example 38\u0026#34;, \u0026#34;FormData\u0026#34;: \u0026#34;\u0026lt;Skjema xmlns:xsi=\\\u0026#34;http://www.w3.org/2001/XMLSchema-instance\\\u0026#34;...\u0026gt;...\u0026lt;/Skjema\u0026gt;\u0026#34; } POST for innsending av skjema til signering Det er også mulig å sende inn skjema til signering i Altinn. Da vil skjema få status \u0026ldquo;Signering\u0026rdquo;. Skjema kan så signeres i Altinn portal eller fullføres med ny PUT operasjon på meldingen. At skjemaet skal få status \u0026lsquo;Signering\u0026rsquo; angis ved å inkludere URL-parameter Sign=false. Adressen til skjemaet i arbeidslisten returneres i Location respons header.\nHeader\nPOST https://www.altinn.no/api/{who}/messages?sign=false HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey Body\n{ \u0026#34;Type\u0026#34;: \u0026#34;FormTask\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;123\u0026#34;, \u0026#34;ServiceEdition\u0026#34;: 64, \u0026#34;_embedded\u0026#34; : { \u0026#34;forms\u0026#34; : [{ \u0026#34;Type\u0026#34;: \u0026#34;MainForm\u0026#34;, \u0026#34;DataFormatId\u0026#34;: \u0026#34;1023\u0026#34;, \u0026#34;DataFormatVersion\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;FormData\u0026#34;: \u0026#34;\u0026lt;Skjema\u0026gt;...\u0026lt;/Skjema\u0026gt;\u0026#34; }], \u0026#34;attachments\u0026#34; : [{ \u0026#34;FileName\u0026#34;: \u0026#34;string example 43\u0026#34;, \u0026#34;AttachmentType\u0026#34;: \u0026#34;FunksjonellVedleggsType\u0026#34;, \u0026#34;Data\u0026#34;: \u0026#34;base64 encoded\u0026#34; }] } } "
},
{
	"uri": "https://altinn.github.io/docs/api/rest/meldinger/signere/",
	"title": "Signere",
	"tags": [],
	"description": "Signering utføres med PUT operasjoner på Message elementet i Altinn API. Skjema med vedlegg kan signeres samlet og det er mulig å signere enkelte skjema/vedlegg enkeltvis.",
	"content": "PUT for signering av skjema med status signering Følgende request signerer det aktuelle skjemaet og skjemaet blir lagret i Arkivet i brukerens meldingsboks. Adressen til det signerte og arkiverte skjemaet vil returneres i Location respons header.\nHeader\nPUT https://www.altinn.no/api/{who}/messages/{messageid}?complete=true\u0026amp;sign=true HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey Body\n{ \u0026#34;Type\u0026#34;: \u0026#34;FormTask\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;1029\u0026#34;, \u0026#34;ServiceEdition\u0026#34;: 64 } PUT for signering av skjema i skjemasett og enkelte vedlegg Det er også mulig å kun signere enkelte skjema i et skjemasett og kun enkelte av vedleggene. Parameteren signinglocked angir om skjemaet/vedlegget må signeres.\nDersom signinglocked=true må det aktuelle skjemaet/vedlegget signeres, signinglocked=false angir at signering er valgfritt. Hvilke skjema og vedlegg som skal signeres angis i SignatureSpec. Id for aktuelt skjema og Attachments må hentes fra message-ressursen før signering og angis i PUT operasjonen.\nHeader\nPUT https://www.altinn.no/api/{who}/messages/{messageid}?complete=true\u0026amp;sign=true HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey Body\n{ \u0026#34;Type\u0026#34;: \u0026#34;FormTask\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;123\u0026#34;, \u0026#34;ServiceEdition\u0026#34;: 64, \u0026#34;_embedded\u0026#34; : { \u0026#34;SignatureSpec\u0026#34;: { \u0026#34;FormIds\u0026#34;: [12121,1232], \u0026#34;AttachmentIds\u0026#34;: [1123,1123] } } } GET for å hente signeringstekst Signeringsteksten spesifisert for signerinssteget skal presenters for brukeren før signering. Teksten kan lastes ned ved å følge lenken signingtest\nHeader\nGET https://www.altinn.no/api/{who}/messages/{messageid}/signingtext HTTP/1.1 Accept: application/hal+json ApiKey: myKey "
},
{
	"uri": "https://altinn.github.io/docs/api/rest/meldinger/slette/",
	"title": "Slette",
	"tags": [],
	"description": "Operasjoner for å slette meldinger, underskjema og vedlegg",
	"content": "Sletting utføres med DELETE på message Følgende request sletter den aktuelle meldingen eller skjema. Når slettingen er utført returneres HTTP 204 - No Content.\nSletting av meldinger av typen correspondence sendt til organisasjoner er ikke mulig, verken i api-ene eller portal.\nDELETE https://www.altinn.no/api/{who}/messages/{messageid} HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey Slette vedlegg på en aktiv skjemainstans Følgende request sletter det angitte vedlegget på en aktiv skjemainstans.\nDELETE https://www.altinn.no/api/{who}/messages/{messageid}/attachments/{attachmentid} HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey Når slettingen er utført returneres HTTP 204 - No Content.\nSlette et eksisterende underskjema Følgende request sletter det angitte underskjemaet på en aktiv skjemainstans.\nDELETE https://www.altinn.no/api/{who}/messages/{messageid}/forms/{formid} HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey Når slettingen er utført returneres HTTP 204 - No Content.\nOversikt over slettede elementer Meldingsboksen i Altinn har en søppelbøttefunksjon. De fleste elementer som slettes vil først legges i søppelbøtten. REST API har implementert en operasjon som gir oversikt over alle elementer i søppelbøtten. Det er derimot foreløpig ingen operasjon for å gjennopprette elementer.\nGET https://www.altinn.no/api/{who}/messages/trashbin?language={language} HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey Ved korrekt autentisering vil du få følgende svar fra APIet:\n{ \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages\u0026#34; }, \u0026#34;find\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages/{messageId}\u0026#34;, \u0026#34;isTemplated\u0026#34;: true } }, \u0026#34;_embedded\u0026#34;: { \u0026#34;messages\u0026#34;: [ { \u0026#34;MessageId\u0026#34;: \u0026#34;a546789\u0026#34;, \u0026#34;Subject\u0026#34;: \u0026#34;Vedr. saksnr 201301840, journalnr 2013021622 \u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Slettet\u0026#34;, \u0026#34;LastChangedDateTime\u0026#34;: \u0026#34;2017-11-11T13:41:01.703\u0026#34;, \u0026#34;LastChangedBy\u0026#34;: \u0026#34;Kommunene\u0026#34;, \u0026#34;ServiceOwner\u0026#34;: \u0026#34;Kommunene\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;Correspondence\u0026#34;, \u0026#34;MessageSender\u0026#34;: \u0026#34;Brønnøy Kommune\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;2479\u0026#34;, \u0026#34;ServiceEdition\u0026#34;: 2, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/messages/a385107\u0026#34; }, \u0026#34;metadata\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/metadata/correspondence/2479/2\u0026#34; } } } ] } } "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/autorisasjon/styring-av-tilgang/",
	"title": "Styring av tilgang",
	"tags": [],
	"description": "Har du tjenester som du trenger å styre tilgangen til sparer du både tid og kostnader på å ta i bruk nasjonale felleskomponenter som allerede finnes. ID-porten verifiserer sluttbrukers identitet og Altinn kontrollerer at sluttbruker har tilgang til å bruke tjenesten.",
	"content": "Slik går dere frem:\n Definere brukerbehov og designe tjenesten Tenk nøye gjennom hele prosessen fra et brukerperspektiv. Hva er utfordringen og hvem skal den løses for? Hvilket behov skal tjenesten dekke? Er brukeren en person eller en organisasjon – eller kanskje begge deler? Hvilke data skal hentes inn, tilgjengeliggjøres, eller formidles til bruker? Lag gjerne en skisse til kommunikasjon med brukeren og test skissen på folk i målgruppen. God planlegging er nøkkelen til et godt resultat. Sjekk Guide: Hvordan jobbe brukerorientert? for inspirasjon. Få tilgang til systemerHar du ikke utviklet tjenester i Altinn før trenger du tilgang til våre løsninger. For å utvikle tjenesten får du tilgang til Altinn sin tjenesteutviklingsløsning. I tillegg trenger du tilgang til å benytte Altinn sine Web Servicer. Les Kom i gang med utvikling. Tilrettelegge for integrasjon mot ID-portenHar du ikke allerede en integrasjon mot ID-porten må dette etableres. Difi. har utarbeidet en guide som beskriver hvordan dette gjøres. Les om dette i Difi sin Samarbeidsportal. Opprette tjenesten i Altinn sin tjenesteutviklingsløsning\nTjenesten opprettes i vår tjenesteutviklingsløsning. På tjenesten legges det inn informasjon om hvem som skal få lov til å bruke tjenesten og hvilken nettside sluttbruker skal rutes til når tilgangskontrollen er utført. Les mer om dette i brukerveiledning for TUL. Tilrettelegge for integrasjon mot Altinn\nAltinn sitt SOAP API for autorisasjon benyttes til å foreta tilgangskontrollen, basert på informasjon som ligger i Altinn. Teste tjenestene Altinn har et eget testmiljø hvor du kan teste om tjenester og grensesnitt virker som det skal. I testmiljøet bruker du fiktive testpersoner og organisasjoner. Når du har kommet så langt i utviklingen er det også viktig å brukerteste den endelige løsningen på reelle folk i målgruppen. Det vil sikre at det ikke er noen showstoppere for de som skal bruke tjenestene. Produksjonssette tjenesten\nNår tjenesten er testet ende til ende kan den produksjonssettes. Dette bestiller du hos oss. Det bør tas høyde for å verifisere at tjenesten fungerer tilfredsstillende i produksjonsmiljø før brukeren får tilgang til tjenesten.  "
},
{
	"uri": "https://altinn.github.io/docs/api/rest/meldinger/validere/",
	"title": "Validere",
	"tags": [],
	"description": "Operasjoner for å validere skjemasett",
	"content": "Validering utføres med VALIDATE på message Følgende request validerer en melding sitt skjemasett.\nValidering av meldinger er kun mulig for skjemasett som er under utfylling.\nNår valideringen er utført returneres HTTP 200 med en body som inneholder resultatet av valideringen.\nHeader\nGET https://www.altinn.no/api/{who}/messages/{messageid}/validate HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey For vellykket validering uten feil vil Success være satt til true og ValidationWarnings vil inneholde en liste over alle advarsler skjemaene gir.\nBody\n{ \u0026#34;Success\u0026#34;: true, \u0026#34;ValidationErrors\u0026#34;: [], \u0026#34;ValidationWarnings\u0026#34;: [ { \u0026#34;FieldName\u0026#34;: \u0026#34;KontaktpersonEPost\u0026#34;, \u0026#34;ErrorMessage\u0026#34;: \u0026#34;Har du e-postadresse som du kan kontaktes på?\u0026#34;, \u0026#34;FieldXPath\u0026#34;: \u0026#34;/Skjema/Skattyterinfo/Kontakt/KontaktpersonEPost\u0026#34; }, { \u0026#34;FieldName\u0026#34;: \u0026#34;KontaktpersonTelefon\u0026#34;, \u0026#34;ErrorMessage\u0026#34;: \u0026#34;Har du et telefonnummer som du kan kontaktes på?\u0026#34;, \u0026#34;FieldXPath\u0026#34;: \u0026#34;/Skjema/Skattyterinfo/Kontakt/KontaktpersonEPost\u0026#34; } ] } For feilende validering vil Success være satt til false og ValidationWarnings/ValidationErrors vil inneholde en liste over alle advarsler/feilmeldinger skjemaene gir.\nBody\n{ \u0026#34;Success\u0026#34;: false, \u0026#34;ValidationErrors\u0026#34;: [ { \u0026#34;FieldName\u0026#34;: \u0026#34;KlageSpesifisering\u0026#34;, \u0026#34;ErrorMessage\u0026#34;: \u0026#34;Klagen skal alltid begrunnes..\u0026#34;, \u0026#34;FieldXPath\u0026#34;: \u0026#34;/Skjema/klage/spesifisering/KlageSpesifisering\u0026#34; }, { \u0026#34;FieldName\u0026#34;: \u0026#34;Samtykke_Skatt\u0026#34;, \u0026#34;ErrorMessage\u0026#34;: \u0026#34;Du må krysse av for et av alternativene\u0026#34;, \u0026#34;FieldXPath\u0026#34;: \u0026#34;/Skjema/Skattyterinfo/Kontakt/Samtykke_Skatt\u0026#34; }, { \u0026#34;FieldName\u0026#34;: \u0026#34;KlageUtloptKlagefristBegrunnelse\u0026#34;, \u0026#34;ErrorMessage\u0026#34;: \u0026#34;Du må forklare hvorfor klagen blir levert etter fristen.\u0026#34;, \u0026#34;FieldXPath\u0026#34;: \u0026#34;/Skjema/Skattyterinfo/klagefrist/KlageUtloptKlagefristBegrunnelse\u0026#34; } ], \u0026#34;ValidationWarnings\u0026#34;: [ { \u0026#34;FieldName\u0026#34;: \u0026#34;KontaktpersonEPost\u0026#34;, \u0026#34;ErrorMessage\u0026#34;: \u0026#34;Har du e-postadresse som du kan kontaktes på?\u0026#34;, \u0026#34;FieldXPath\u0026#34;: \u0026#34;/Skjema/Skattyterinfo/Kontakt/KontaktpersonEPost\u0026#34; }, { \u0026#34;FieldName\u0026#34;: \u0026#34;KontaktpersonTelefon\u0026#34;, \u0026#34;ErrorMessage\u0026#34;: \u0026#34;Har du et telefonnummer som du kan kontaktes på?\u0026#34;, \u0026#34;FieldXPath\u0026#34;: \u0026#34;/Skjema/Skattyterinfo/Kontakt/KontaktpersonEPost\u0026#34; } ] } "
},
{
	"uri": "https://altinn.github.io/docs/seres/endringer/2020/desember/",
	"title": "Desember",
	"tags": [],
	"description": "Retting av feil i Domeneklienten.",
	"content": "Retting av feil i løsningen for å sende generert XSD på e-post Rettet feil som gjorde at det ikke lenger var mulig å sende generert XSD på e-post ved bruk av XSD-generatoren til Domeneklienten. Feilen ble kun funnet når man kjørte Domeneklienten via SERES Desktop (VMware).\nRetting av feil i løsningen som sammenligner lagringstidspunkt for lokal lagring og lagring til repository Rettet feil som gjorde at man fikk et varsel om at lagret versjon i repository var nyere en lokalt lagret versjon, selv om versjonene var lagret samtidig og av samme person. Feilen ble kun funnet når man kjørte Domeneklienten via SERES Desktop (VMware).\nDomeneklient er blitt signert med et kodesigneringssertifikat Domeneklienten er nå digitalt signert med et kodesigneringssertifikat slik at man kan være sikker på at programvaren kommer fra Digitaliseringsdirektoratet og at den ikke er blitt endret av noen andre.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2018/18-11/",
	"title": "18.11",
	"tags": [],
	"description": "Forbedringer, fjerning av ALLEA, ytelse, feilrettinger m.m.",
	"content": "Endringer i portal Ytelse i meldingsboks - kostbar logikk per element Profilering fra produksjon samt code-review har avdekket at det gjøres mange tjenestekall for hvert element i meldingsboksen. Dette er svært uheldig i forhold til ytelse. Alle relevante data om et element bør hentes ut av tjenesten som returnerer meldingslista. Det er kun visuell logikk som ikke trenger tjenestedata som bør gjøres i meldingsboksen. Konkret er følgende utbedret:\n CanArchiveCorrespondence: Forbedret nøkkelhåndtering MessageSender: Logikk for å hente SBS navn caches CanDelete: Eksisterende tjenestekall erstattes av informasjon som allerede finnes  Flaskehals i navigasjonsmeny Profilering i produksjonsmiljøet viser en flaskehals i FillInForm-siden når man lager navigasjonsmenyen. Det blir gjort en \u0026ldquo;data bind\u0026rdquo; for hvert sporvalg i menyen. Man trenger bare å gjøre data bind for det første sporvalget.\nFeil i profil for administrering av varslingsadressene til en virksomhet Sletting av en varslingsadresse kunne vise feil rad som slettet rett etter lagring Feilen kunne gjennskapes ved å ha minst 2 varsladresser av samme type. For eksempel to epostadresser. Når bruker valgte å slette den øverste varseladressen for så å lagre endringen ville panelet igjen vise den slettete adressen. Adressen man ønsket å beholde var derimot borte. Hvis siden ble relastet så var det den riktige varslingsadressen som ble vist.\nEn slettet varslingsadresse ville dukke opp igjen hvis bruker trykket legg til ny varslingsadresse rett etter lagring Feilen kunne gjennskapes ved å ha minst 2 varsladresser av samme type. For eksempel to epostadresser. Bruker måtte så slette den nederste adressen å trykke lagre. Hvis bruker så valgte å legge til ny epostadresse ville den tidligere slettete varslingsadressen dukke opp igjen i det nye feltet. Denne feilen hadde nøyaktig de samme problemstillingene som den forrige og den ble også løst på nøyaktig samme måte.\nForretningslogikk i views benyttet av meldingsboks og aktørvalg Hjelpemetoder som benytter tjenestekall mot forretningslaget i views benyttet i meldingsboks og aktørvalg er ryddet opp i slik at arkitekturretningslinjene til Altinn overholdes.\nEndringer i integrasjon Utbedringer i integrasjon mot KoFuVi sitt synkroniseringsgrensesnitt KoFuVi har gjort endringer som har påvirket hvilke elementer som må være med i en fragment forespørsel. Hvor de tidligere skulle ha en KoFuViID skal det nå være noe de kaller Elastic search scroll id. Dessverre hadde Altinn hardkodet inn generering av forespørselen til å inkludere KoFuViID for siste element på forrige side istedenfor å benytte next page url. Denne endringen har korrigert dette slik at Altinn nå benytter angitt next page url istedenfor å generere dette selv.\nDet er også innført konfigurasjon av antall elementer per side når Altinn spørr KoFuVi om en Fragment. Verdien er i utganspunktet satt til 10000 som er maks for det KoFuVi vil levere, men det kan justeres helt ned til 2. Dette kan være spesielt nyttig ved testing av paging.\nMulighet for tjenesteeier å stå som avsender av SMS standalone varslinger Som tjenesteeier ønsker jeg å kunne endre avsender på sms standalone notification fra Altinn slik at det ser ut som SMS er sendt fra tjenesteeier og ikke Altinn.\nDriftsleverandør har fått støtte for å kunne motta hvem som skal stå som avsender for SMS varslinger.\nSOAP-grensesnitt for SendStandaloneNotification har nå fått nytt valgfritt input parameter: UseServiceOwnerShortNameAsSenderOfSms. For at tjenesteeier skal kunne stå som avsender må det registreres ShortName i tjenesteeier-tabellen i databasen. Ved deploy av 18.11 vil det bli satt ShortName for tjenesteeierene: NAV og ACN. Om/når andre tjenesteeiere ønsker å ta i bruk funksjonen må det innhentes ønsket ShortName for disse og oppdatere tjenesteeier tabellen.\nDet er også innført konfigurasjonverdi i Altinn: Notify_DefaultSmsOriginator, som spesifierer default avsender (Altinn).\nDenne benyttes når:\n tjenesteeier ikke ønsker å stå som avsender UseServiceOwnerShortNameAsSenderOfSms flagget ikke er spesifisert eller når det ikke er registrert ShortName for tjenesteeier  Endringer i autorisasjon Fjerning av basisrolle Som en rettighetsdelegerer ønsker jeg at det ikke følger med basisrolle når jeg gjør en delegering, slik at det er forutsigbart for bruker hvilke tilganger som deles ved en delegering, og at løsningen er i tråd med personopplysningsloven.\nDenne brukerhistorien handler om å fjerne automatikken som fører til at alle får ALLEA/Basisrolle i tillegg til den rollen som egentig er ment delegert. Alle steder hvor ALLEA er brukt er endret slik at Basis rolle ikke hentes opp eller automatisk tildelses.\nRydde opp i databasen rundt ALLEA Script utvikles for å lokalisere tjenester der ALLEA er eneste rollen som gir tilgang til opperasjoner og bytte ut rollen på disse opperasjonene med A0236 for meldingstjenester og UTINN for andre tjenester.\nI TUL så oppdateres loggen (ServiceEditionStatus) på alle berørte tjenester som står som uendret til Completed. For overstyrte rettigheter så benyttes \u0026ldquo;OverrideRights\u0026rdquo; som DataArea men for Tjenester og Tjenesteeier så benyttes \u0026ldquo;All\u0026rdquo;.\nI SBL oppdateres det på siste migrerte versjon siden det er denne som benyttes som basis for alle versjoner av utgaven. I tillegg så slettes alle knyttinger av ALLEA i TUL etter utbyttingen slik at ingen utgaver lenger vil være knyttet til ALLEA rollen.\nScript utvikles for å slette delegeringer av ALLEA i miljøene i Produksjon er det ca 9000 slike delegeringer. I tilleg så fjernes den som underrolle på alle ER roller ca 40 rolletyper slik at personer med DAGL, LEDE osv. heller ikke får ALLEA lenger. Dette gjøres både i TUL og i SBL.\nSanering av autorisasjonsregler Siden det er endret i tilgangskontrollen til å sjekke tilgang på utgave nivå og ikke på versjons nivå så er det en del regler som vil fremstå som duplikater siden de gjelder forskjellig versjon men samme utgave. Dette brutt ned i 4 scripts.\n Authorisasjonsregler for ER og ALtinn roller disse er alltid knyttet til nyeste versjon på en utgave så alle andre regler er overflødige Lokale roller har et innslag for hver versjon på samme utgave og det er bare en av disse som er nødvendig valgt å beholde den med lavest id Direkte delegete rettigheter fikk lagt inn nye versjoner hver gang en ny versjon ble migrert den nye versjonen fikk ikke delegeringsinformasjon og derfor er det reglene uten denne infoen som må slettes først Ved delegering ble det tidligere delegert på alle tidligere versjoner som allerede eksisterte slik at her er det bare en som må beholdes men alle er knyttet til hvem som delegerte og når så det må slettes fra begge tabellene.  Endringer i REST API Filtype på attachments via REST Som bruker av REST-API ønsker jeg å se filtype på attachments slik at jeg kan finne det vedlegget jeg ønsker uten å måtte laste ned alle.\nDenne brukerhistorien handler om å vise filtype på attachment som er sendt inn sammen med filnavnet. Det er lagt til et nytt parameter som returneres sammen med attachmentet i JSON-responsen. Den nye verdien har navngivning \u0026ldquo;fileName\u0026rdquo;. Den nye responsen er nå basert på at \u0026ldquo;Name\u0026rdquo; og \u0026ldquo;FileName\u0026rdquo; er satt riktig ved innsendelse av attachment. \u0026ldquo;Name\u0026rdquo; skal bare inneholde navnet på filen, f.eks \u0026ldquo;Vedlegg1\u0026rdquo;, mens \u0026ldquo;FileName\u0026rdquo; skal inneholde filnavn med extension, f.eks \u0026ldquo;Vedlegg1.pdf\u0026rdquo;.\nAuthorize reportee flaskehals Profilering i produksjon viser at den store flaskehalsen i Altinn API er autorisasjon av reportee. Dette er forbedret ved caching.\nEndringer i ERImport Informasjon registrert i enheters hjemland Som forvalter av Altinn løsningen, ønsker vi at informasjon registrert i enheters hjemland leses inn via ER batch. UREGN og ULOVN data blir nå lest inn til altinns register. Altinns Organisasjons-addresse er blitt utvidet med sin egen tabell, denne vil inneholde Organisasjonsaddresse, post-addresse og utenlandsk addresse (UREGN).\nAndre endringer Sanering av temp nøkler for lenketjenester Disse lagres for å kunne knytte en videresendt lenke til en brukers valg i Altinn slik at tjenesteeieren kan be om mer informasjon fra Altinn men denne har ikke verdi etter at den er brukt og heller ikke etter at det ikke lenger er noen naturlig knytting til en videresending det vil si at dette er ferskvare og her er det valgt å bare slette alt som er eldre en 30 dager dette er utført med en prosedyre som kan kalles.\nDen bør settes opp som en jobb som går kontinuerlig. Men først bør det kjøres kontrollert og slette det som er av etterslep siden 2012.\nFlytting av prosjektfiler i ulike komponenter for å fysisk skille logikk og PnC-prosjektene Fysisk separere logikk og PnC prosjektene i Authentication komponenten.\nDisse sakene gjøres for å få bedre support for NuGet pakker og vil gjøre det enklere for Altinn å lage NuGet pakker av egne komponenter. Dette vil være nødvendig for de prosjektene som fortsatt krever eldre versjoner av Visual Studio. For eksempel TUL og BizTalk. Dette er en del av et større arbeid før det er mulig å ta i bruk C# v7 og nyere.\nParameter som sendes inn som returnUrl faller bort ved bruk av ExternalAuthentication når autentiseringen går via ID-porten Query parameters til returnUrl faller bort ved bruk av ExternalAuthentication/Redirect.aspx.\nDette er en bug som har eksistert i applikasjonen over en lang periode. Ved en request mot ExternalAuthentication/Redirect.aspx ble bare den første parameteren i returnUrl-verdien sendt med videre til den endelige destinasjonen,\nForbedret caching i arkiv contekst handler Arkiv kontekst handler har fått en bedre og mer effektiv bruk av caching.\nFlaskehals i prosedyre for henting av roller Monitorering av databasen i produksjon viser en flaskehals i en prosedyre. Dette unngås nå ved å fjerne unødvendige joins.\nFeilretting Mottar mange e-poster ved klientdelegering på fil Som ansatt i regnskapsfirma ønsker jeg ikke å motta tusenvis av eposter når jeg er mottaker av klientdelegering på fil. Feil ble rettet som hasteendring i produksjon torsdag 22. november\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2019/19-11/",
	"title": "19.11",
	"tags": [],
	"description": "Feilrettinger.",
	"content": "Feilrettinger Problemer oppstod når en virksomhetsbruker endret brukernavn Når en virksomhetsbruker endret brukernavnet på profilsidene oppsto det en feil som nå er utbedret.\nYtelsesforbedringer utført for Download Queue Downloadqueue inneholder operasjoner der tjenesteeier kan hente ned elementer. Analyser viste at det tidvis var treghet og dårligere responstid enn ønsket. Det er derfor utført ytelsesforbedringer. Ytterligere optimalisering vil bli utført med neste release.\nTjenesteeier APIet gav ut feilknytninger i organisasjonsstruktur for BEDR Det ble avgitt feil i strukturen (enhetene ble stokket om) når en bruker hadde tilgang til en bedrift (BEDR) som ikke hadde aktiv juridisk enhet. Dette er nå rettet.\nBrukeren ble utestengt etter at nytt sertifikat for virksomhetsbrukere var lagt inn En feil gjorde at brukeren ikke fikk logget seg inn i løsningen etter å ha lastet inn nytt virksomhetssertifikat. Dette er nå rettet.\nFeil i tekst - din kontaktinformasjon for virksomheten En feilmelding kom opp når man forsøkte å slette en varsling for en enkelttjeneste og samtidig hadde lagt inn et mobilnummer eller e-post på ugyldig format. Feilmelding med feil tekst kom opp når man trykket på \u0026ldquo;Lagre\u0026rdquo;. Dette er rettet til at det ikke lenger er mulig å trykke på lenken for enkelttjenester med feil format i mobilnummer/e-post feltet.\nStavefeil ved delegering når engelsk språk var valgt Ved delegering av enkeltrettigheter for en meldingstjeneste til en annen bruker så var det en skrivefeil. I meldingen som ble vist til brukeren etter delegeringen sto det: “Messages can be read in the organization’s innbox”. Innbox er nå rettet til Inbox.\nTekstforbedring ved delegering av meldingstjeneste fra person til person Ved delegering av rettigheter fra en person til en annen så kom følgende tekst opp: “Meldingene vil kunne leses i virksomhetens innboks”. Dette er nå rettet til “Meldingene vil kunne leses i brukerens innboks”.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2020/20-12/",
	"title": "20.12",
	"tags": [],
	"description": "Justeringer i brukergrensesnitt, mindre endringer og feilrettinger",
	"content": "Vi minner også om endringer i Altinn 3.0.\nEndringer i portal Justeringer i brukergrensesnitt  Justering av kolonnevisningen i \u0026ldquo;Be om tilgang\u0026rdquo; og \u0026ldquo;Behandle forespørsel\u0026rdquo;. Alle modale vinduer som åpnes fra profilsiden og meldingsboksen er nå oppdatert. De vil fylle ut hele visningsbredden (mellom Altinn logoen og lite aktørvalg) når portalen vises i full skrivebordsbredde. Det er gjort noen mindre endringer i visningen for tjenestesøk i \u0026ldquo;Be om tilgang\u0026rdquo; prosessen. Her er tjenestenavn ikke lenger i fet skrift. Tjenestene vil alltid ha en seksjon som kan utvides til å vise tjenesteeier og eventuelt delegeringsbeskrivelse for tjenesten. Aktivitetslogg knappen på elementer i meldingsboksen er i dag ikke spesielt synlig. Designet på denne er nå oppdatert og lik andre lenke-knapper. Det ble lagt til et nytt panel som heter “Mine Forespørsler” som inneholder alle sendte og mottatte tilgangsforespørsler. Mottatte forespørsler ble tidligere vist i “Andre med rettigheter” panelet, men er nå flyttet hit. En skal kunne opprette nye forespørsler, godkjenne, avslå innkommende forespørsler og slette egne forespørsler. Under de sendte forespørslene er det en egen liste over sendte forespørsler som ble behandlet i de siste 10 dagene. Panelet er kun synlig for personer som representerer seg selv og er logget inn med sikkerhetsnivå 2. Det er laget et nytt panel som heter “Virksomhetens forespørsler”. Panelet er kun synlig for brukere med RoleAdministrator rollen som er logget inn med sikkerhetsnivå 2.  Brukere får nå et meldingsboksvalg etter pålogging i stedet for å bli sendt til dyplenken (blant annet samtykkesiden) de egentlig skulle til Dette er nå rettet.\nBedre tilbakemelding ved parallell signering Det er gjort en endring i Altinn slik at brukere som har signert et skjema med parallell signering ikke lenger får vist en lenke til skjemaet i meldingen. Lenken vises heller ikke hvis skjemaet er ferdig signert og sendt inn.\nEndringer i sluttbrukerløsningen (SBL) Håndtering av syntetiske testpersoner Det er identifisert to steder med feil der man kalkulerer alder basert på fødselsnummer. Dette er endret slik at riktig alder kalkuleres også for disse personene.\nOppgradering av EO.Pdf Komponenten som benyttes for å generere en PDF-representasjon av et skjema eller et skjemasett EO.Pdf er oppgradert til siste versjon. Det er forventet at de fleste skjemaer vil se ut som før, men i en ny versjon vil det alltid kunne forekomme enkelte grafiske forskjeller.\nEndringer i REST-API Vi tilbyr nå rolletyper på REST metadata Det er blitt lagt til et nytt endepunkt som eksponerer https://www.altinn.no/api/serviceowner/Help/Api/GET-serviceowner-roledefinitions_language som et eget metadata endepunkt: “/api/metadata/roledefinitions”.\nAdministrering av tilgangsforespørsler på REST Det er nå implementert støtte for å administrere DelegationRequests via REST “virksomhetssluttbruker”-API. Det har frem til nå vært mulig for tjenesteeiere å opprette tilgangsforespørsler via REST API-et. Dette er en videreutvikling av denne funksjonaliteten hvor det nå vil være mulighet for virksomheter å administrere tilgangsforespørsler via REST API-et. Det er opprettet nye endepunkter for å opprette, hente og slette tilgangsforespørsler. Et generelt GET-endepunkt er også opprettet for at virksomheten skal kunne få oversikt over både utgående og innkommende forespørsler. For utfyllende informasjon om bruk av dette endepunktet se https://altinn.no/api/help under DelegationRequest.\nDiverse feilrettinger HandledBy ble ikke vist på “Benyttet samtykke” i Avtaleloggen Etter en refaktorering av “Avtaleloggen” som ble gjort i Altinn versjon 20.5 ble HandledBy borte fra denne visningen ved “Benyttet samtykke”. Dette medførte at det alltid ble opplyst om at det var CoveredBy som hadde hentet opplysninger om OfferedBy. Dette er nå utbedret, og avtaleloggen vil fra nå av også vise HandledBy dersom /loguse-operasjonen på REST API ble utført av HandledBy. Denne endringen vil også korrigere visningen for “Benyttet samtykke” bakover i tid da Altinn allerede har denne informasjonen, men dessverre ikke har vist denne korrekt siden re-faktoreringen i versjon 20.5.\nLagt til maskering av fødselsnummer (SSN) for RequiredDelegator Ved innsending av ConsentRequest med en RequiredDelegator var fødselsnummeret fullt synlig i responsen. Endringen medfører at dette nå blir maskert på lik linje med “OfferedBy”.\nSøk etter tilgangsstyrere på “Be om tilgangssiden” I Altinn versjon 20.11 ble det gjennomført en endring i flyten på “Be om tilgang”. Dette medførte at søket etter tilgangsstyrere ved opprettelse av en tilgangsforespørsel ikke fungerte lengre. Dette er nå rettet opp i, og søket vil nå fungere som før.\n\u0026ldquo;Last ned alle vedlegg \u0026quot; der tittel inneholder ugyldige tegn Etter implementasjon av \u0026ldquo;Last ned alle vedlegg\u0026rdquo; som ble levert i Altinn versjon 20.11, ble det oppdaget en feil når filnavnet på en melding inneholdt tegn i tittelen som ikke er gyldige filnavn. Dette medførte at enkelte brukere ikke fikk mulighet til å laste ned alle vedleggene samlet til en og samme fil. Dette er nå endret med en bedre håndtering av filnavn og tittel på en melding.\nIkke mulig å søke på brukernavn med 6 tegn i \u0026ldquo;tjenesteeiers arkiv\u0026rdquo; Det var en begrensning på søk i \u0026ldquo;tjenesteeiers arkiv\u0026rdquo; som gjorde at man ikke kunne søke på brukernavn med mindre enn 7 tegn, selv om det er lov å registrere brukernavn med kun 6 tegn. Dette er nå rettet slik at man kan søke på brukernavn med 6 tegn.\nFeilhåndtering i policy agent ved manglende Soap parametere Det viste seg at bruk av exceptions i service policy agent var feil når det gjelder manglende Soap- parametre. Dette medførte at relevant informasjon ikke kom tilbake til SBS/tjenesteeiersystem. Dette er nå utbedret.\nGul varsel-boks under behandling av tilgangsforespørsel forsvinner ikke Denne feilen har eksistert siden Altinn versjon 20.9 hvor det ble innført visning for hvilke operasjoner på en gitt tjeneste en tilgangsstyrer har når vedkommende skal behandle en tilgangsforespørsel. Dette medførte at dersom noen av operasjonene ble endret på fikk man opp en gul varsel-boks. Denne boksen ble aldri fjernet selv om den originale tilstanden på en tilgangsforespørsel ble gjenopprettet. Dette er nå rettet.\nInformasjonskapsel oppdatering (Cookie renewal) på REST API Etter en betydelig omskrivning av Altinn sitt REST-API som ble gjort i 20.11 ble prosessen med å fornye informasjonskapsler endret. Dette førte til at dersom det ble fornyet en informasjonskapsel, fikk man en 200-OK respons fra API-et med et tomt resultat. Dette førte til at man da måtte kjøre samme request to ganger for å få informasjonskapsel oppdaterings-prosessen til å fungere. Dette er nå utbedret slik at man vil få tilbake en ny informasjonskapsel sammen med et eventuelt data-resultat som endepunktet returnerer.\nSøk etter tilgangsstyrer i \u0026ldquo;Be om tilgang\u0026rdquo; Etter en re-fakturering som ble gjort i versjon 20.11 av Altinn fungerte ikke søket etter tilgangsstyrere ved opprettelse av en tilgangsforespørsel. Dette er nå utbedret og søket etter tilgangsstyrere fungerer som før.\nTimeout ved innsending av store skjema (SubmitFormTask) Det er justert på noen timeouts for å unngå timeout ved ekstremt store, tunge og tidkrevende innsendinger med SubmitFormTask. Det skal nå være mulig å ha en innsending som tar 15 minutter.\nHengsituasjon ved håndtering av timeout Det ble observert situasjoner i produksjonsmiljøet der alt hang på grunn av en låsing som skedde ved oppdatering av en tabell (dictionary) som holder orden på timeout informasjon. Dette er nå rettet.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/roadmap/2020/",
	"title": "Altinn Roadmap 2020",
	"tags": [],
	"description": "Overordnet roadmap for videreutvikling av Altinn i 2020",
	"content": "Q1 - 2020 ✔️ Utfasing av støtte for TLS 1.1 og 1.0 Transport Layer Security (TLS) er kryptografiske protokoller som tilbyr sikker kommunikasjon på Internett. Støtte for TLS 1.0 og 1.1 skal fjernes for all inngående trafikk til Altinn. Altinn vil kun støtte inngående trafikk basert på TLS 1.2. Driftsvarsling er sendt ut til tjenesteeiere og sluttbrukersystemleverandører.\nEndringen ble utført i TT02 08.10.2019 og PROD den 14.01.2020\n✔️ Sanering i tjenesteeieres arkiv Tjenesteeier i Altinn kan se elementer som tilhører egen virksomhet i tjenesteeiers arkiv. Det har blitt gjennomført en revisjon av lagringstid for alle tjenester i dette arkivet i samråd med tjenesteeiere.\nSletting av elementer der lagringstiden er utløpt ble igangsatt for alle tjenester i PROD den 15.01.2020.\n✔️ Støtte for meldinger og skjema med tausehetsbelagt og sensitivt innhold I dag må alle tjenester knyttes til roller som daglig leder i virksomheten har. Dette resulterer i at daglig leder får automatisk innsyn i alle meldinger som sendes virksomheten. Det blir nå mulig å sende meldinger/opprette skjema til virksomheten som ingen i utgangspunktet får innsyn i. Daglig leder eller hovedadministrator kan fortsatt gi tilgang til disse meldingene til utvalgt medarbeider eller seg selv.\nDette ble levert i release 20.1\n✔️ Kopi av arkiverte meldinger skal slettes i serviceengine Vi skal slette kopier av meldinger som ligger i serviceengine. Dette er meldinger som ligger lagret dobbelt, da i serviceengine og i arkiv. Sluttbrukersystemer som henter ut meldinger må derfor ta i bruk nytt grensesnitt; ReporteeArchive.GetArchivedCorrespondence for å hente ut arkiverte meldinger fra Arkiv. Kopier av arkiverte meldinger kan ikke lenger hentes fra serviceengine. I tillegg må eksisterende grensesnitt GetCorrespondenceForEndUserSystemV2 fortsatt anvendes for å hente meldinger fra serviceengine som ikke er arkivert. Mer informasjon finner en under https://altinn.github.io/docs/api/soap/grensesnitt/nye-ec-endepunkter/#ny-operasjon-for-å-hente-arkiverte-meldinger-correspondence\nNår meldinger arkiveres vil kopien i serviceengine databasen slettes fortløpende. Sletting ble igangsatt i TT02 den 02.12.2019 og i PROD den 11.02.2020.\n✔️ Bedre støtte for å hente ut liste over samtykker for tjenesteeier Tjenesteeiere trenger å kunne hente ned en liste med hvem som har samtykket til en gitt tjeneste i Altinn. De ønsker en funksjonalitet som lar dem enkelt hente ned ny samtykker og endringer på eksisterende samtykker som har oppstått siden sist listeuthenting.\nDette løses ved å tilby et nytt endepunkt i tjenesteeier APIet. Listen som returneres vil inneholde alle aktive og trukne samtykker som er gitt på en tjeneste. Samtykker som har utløpt vil ikke bli vist. Ved gjentatte kall til endepunktet kan man bruke et parameter slik at bare endringer og nye samtykker siden sist kall blir inkludert i listen.\u0026quot;\nDette ble levert i release 20.2\n✔️ Større fleksibilitet i utforming av fullmakt og samtykke I dagens løsning for å gi samtykke og fullmakt finnes kun èn mal for hvordan samtykke og formålstekst kan fremstilles for brukeren. Dette gir en del begrensninger i utforming av samtykke- eller fullmaktssiden. Det er ønskelig å kunne tilby mer fleksibilitet i hvordan en forespørsel om samtykke eller fullmakt kan utformes.\nDette ble levert i release 20.3\n✔️ Gamle webservicegrensesnitt med virksomhetssertifikat slettes Den høyfrekvente bruken av gamle webservicegrensesnitt med virksomhetssertifikat (EC) resulterer i høyt forbruk av ressurser og hindrer oss i å effektivisere løsningen. Det er viktig at nye grensesnitt (EC2) tas i bruk slik at gamle og ressurskrevende grensesnitt kan fases ut. Mer informasjon om dette finner en på https://altinn.github.io/docs/api/soap/grensesnitt/nye-ec-endepunkter/ og https://altinn.github.io/docs/api/soap/endepunkter-oversikt/\nDenne oppgaven er fullført. EC2 grensesntt er tatt i bruk og trafikken på EC har opphørt. De gamle webservicegrensesnittene (EC) ble slettet i TT02 26.11.2019 og i PROD 24.03.2020.\nQ2 - 2020 ✔️ Ytelse og kapasitetsforbedring av Samtykkeløsningen Økt bruk av samtykkeløsningen krever ytelse- og kapasitetsforbedring.\nDette ble levert i release 20.5\n✔️ Ytelse og kapasitetsforbedring av Formidlingstjenesten Prosedyren som benyttes av formidlingstjenesten veksler mellom å være nr1 og nr2 på lista over de prosedyrene som bruker mest ressurser i hele løsningen. Ytelse og kapasitet må forbedres med utgangspunt i forventninger om økt bruk.\nDette ble levert i release 20.5\n✔️ Altinn 3 Tjeneste 3.0 prosjektet leverer tre nye løsninger som utgjør den nye plattformen Altinn 3:\n Altinn Studio anvendes til å utvikle nye container-baserte applikasjoner (\u0026ldquo;apps\u0026rdquo;). Denne løsningen vil overta for dagens tjenesteutviklingsløsning (TUL). Altinn Apps er container-infrastrukturen som vil kjøre og tilgjengeliggjøre applikasjonene for brukerne. Hver organisasjon vil ha sin helt egen infrastruktur. Altinn Platform vil tilby APIer for felles funksjonalitet som f.eks. registre, grensesnitt, autorisasjon og datalagring.  Vi utvikler smidig og endringer gjøres fortløpende tilgjengelig på https://altinn.studio.\nAlle de nye løsningene etableres i public cloud.\n Utvikler lager applikasjoner i Altinn Studio og migrerer selv til infrastrukturen Altinn Apps i produksjon. I Altinn Apps vil brukere få tilgang til og kunne benytte applikasjonene. Altinn Platform inneholder bl.a. APIer for fellesfunksjoner og data/registre som deles på tvers av alle applikasjoner. Utviklere vil fortsatt kunne utvikle tjenester i Altinn 2 i en periode fremover. Tjenestene utvikles i TUL. Det er kun leverandør som kan migrere disse tjenestene til produksjonsmiljøet (SBL) Brukere går inn på vanlige måte på www.altinn.no, og finner elementer i sin innboks.  Når bruker benytter en tjeneste som er utviklet i TUL så vil dette skje på samme måte som tidligere, og denne vil kjøre i sluttbrukerløsningen (SBL). Når bruker benytter en app som er utviklet i Altinn Studio vil den kjøre i sky-infrastrukturen Altinn Apps.\nBrukerene vil oppleve en annen interaksjon og layout på nye apps vs tjenester som kjører direkte i sluttbrukerløsningen.\nSkjermbilder og brukergrensesnitt vil oppleves mer moderne og fremtidsrettet i Altinn Apps.    All kode og backlog for utvikling ligger åpent på GitHub. Alle kan dermed enkelt opprette en issue, f.eks. bug, spørsmål eller et forbedringsforslag.\nDe nye løsningene vil eksistere i parallell med dagens TUL og Altinn sluttbrukerløsning (SBL). Når alle tjenester fra TUL er flyttet over til Altinn Studio vil både TUL og tilhørende funksjonalitet i SBL fases ut.\nMer detaljerte arkitekturtegninger finnes på docs.altinn.studio, f.eks. løsningsarkitektur og infrastruktur.\nSe også https://www.altinndigital.no/studio.\nDet er nå mulig å sette Altinn 3 applikasjoner i produksjon. Dette ble levert i release 20.6\nQ3 - 2020 ✔️ Bedre oversikt over rettigheter Det blir nå mulig å tilby bruker bedre og mer tilgjengelig oversikt over rettigheter. Det kan oppleves som vanskelig for sluttbruker å skaffe oversikt hva man selv kan gjøre og hva andre kan gjøre på vegene av valgt aktør. I tillegg så skal det bli enklere for bruker å skaffe seg tilganger og rettigheter.\nFølgende funksjonalitet leveres for å gi bruker bedre oversikt:\n Mulighet for å be om rettighter. Forespørselen om å få rettigheter ligger i profil hos avgiver helt til tilgangsstyrer godtar eller avslår forespørsel. Det er også mulig å legge ved en melding til tilgangsstyrer som forklarer hvorfor man trenger rettighet og det er mulig å sende varsel til tilgangsstyrer slik at denne blir oppmerksom på forespørsel. En forespørsl om rettighet kan opprettes via portalen eller via REST for tjenesteeier Liste over hvem som kan utføre en gitt tjeneste på vegene av valgt aktør. Dette gjør det enklere for tilgangsstyrer å få oversikt og evt fjerne rettighter for de som ikke trenger det.  Dette ble levert i release 20.7 og 20.8\n✔️Tilby Maskinportautentisering som alternativ metode for virksomhetssertifikat-autentisering i REST Altinn har i dag en del API-endepunkter som i dag som krever virksomhetsautentisering. Disse grensesnittene må i dag benyttes med virksomhetssertifikat og ForceEIAuthentication. Vi vil fremdeles støttes denne metoden fremover, men vi ønsker i tillegg å tilby Maskinporten som et alternativ for denne type autentisering. I første omgang tilbys dette på følgende REST-tenester\n Alt under /api/serviceowner /api/consentrequest /api/delegationrequest Det vil også bli lagt til et autoriserings filter som åpner opp for å begrense tilganger for klienten via Maskinporten. Maskinportautentisering er allerede tatt i bruk for Maskinporten-API og Tjenester 3.0 Endringen ble levert i release 20.7 og 20.8  ✔️ Altinn 3 - Språkhåndtering Altinn 3 skal være tilgjengelig på brukers valgte språk i Altinn II. Dette gjelder både standardtekster i rammeverket, og støtte for at tjenesteeier kan legge til språkfiler i sin applikasjon. Dette ble levert i release 20.8\n✔️ Oppdatering av Buypass bibliotek Bibliotek som anvendes i forbindelse med signering på nivå 4 ved bruk av Buypass er oppgradert til nyere versjon. Dette ble levert i release 20.8\n✔️ Integrasjon mot Modernisert folkeregister I forbindelse med opprettelse av nytt Folkeregister vil Altinn ta i bruk nye API hos Skatteetaten for å hente ut oppdateringer fra Folkeregisteret. Endringene ble levert i release 20.8 og satt i drift den 25.09.2020.\n✔️ Tilby nytt endepunkt hvor vi publiserer de offentlige nøklene som brukes for å signere tokens For å verifisere signatur i samtykketoken fra Altinn, må man i dag laste ned et offentlig sertifikat og verifisere signatur mot dette. Dette skaper utfordringer ed forvaltning av API’ene som krever samtykke. Sertifikat varer ikke evig og må byttes ut, dette skaper tradisjonelt trøbbel i integrasjoner. Ved å tilby et jwks endepunkt kan tjenesteeier selv hente aktuelle offentlige nøkler for å verifisere signatur.\nEndringen ble levert i release 20.9\nQ4 - 2020 ✔️ Data.altinn.no: Flytte ebevis-tjenesten til data.altinn.no Frikoble tjenestenavnet \u0026ldquo;eBevis\u0026rdquo; fra data.altinn.no for å bedre understøtte kommende tjenester. Nye utviklerportaler kommer på data.altinn.no og test.data.altinn.no. Se nærmere beskrivelse av data.altinn.no her Produksjonssatt mandag 9.nov\n✔️ Data.altinn.no: Støtte for maskinporten mot bakenforliggende api-er Kunne tilby data fra api-er som benytter maskinporten Produksjonssatt mandag 9.nov\n✔️ Data.altinn.no: Rikere autorisasjonsmuligheter Støtte alle Altinns autorisasjonsvarianter, samt noen egendefinerte (type virksomhet og andre felter i Enhetsregisteret) Produksjonssatt mandag 9.nov\n✔️ Data.altinn.no: Oppdatering av alle rammeverk og Azure-tjenester Hele den underliggende infrastrukturen oppdateres til siste versjoner Produksjonssatt mandag 9.nov\n✔️ Data.altinn.no: Ta i bruk ny samtykkefunksjonalitet i Altinn Implementere bruk av consentRequests i Altinns REST-api i stedet for bruk av samtykkelenke og samtidig bytte til fullmaktsmaler der det er hensiktsmessig Produksjonssatt mandag 9.nov\n✔️ Overgang til Fileshare Det skal legges til rette for at filvedlegg skal kunne flyttes ut av databasen og legges på eget fileshare. Dette må gjøres for å redusere størrelsen på databasen samt øke driftbarhet av løsningen. Dette ble levert i release 20.10\n✔️ Markere meldinger i Innboks som \u0026ldquo;ulest\u0026rdquo; I dag vil en melding som er åpnes ikke kunne merkes som ulest senere. Dette gjør det utfordrende for virksomheter som har mange brukere i sin innboks å følge med på om en melding er håndtert eller ikke. En melding som åpnes ved et uhell eller om ikke behandles ferdig vil da kunne merkes som ulest for å håndteres senere. Dette ble levert i release 20.11\n✔️ Støtte for ID-porten-token autentisering på sluttbruker-APIet Altinn tilbyr OIDC/OAuth2-basert autentisering og autorisasjon for eksterne integrasjoner (f.eks. sluttbrukersystemer) via ID-porten for endepunkter som krever person-autentisering. Se https://altinn.github.io/docs/api/rest/kom-i-gang/#autentisering for mer informasjon Endringen ble levert i release 20.11\nData.altinn.no: Støtte for maskinporten-autentisering Autentisere seg mot data.altinn.no ved hjelp av maskinporten-token\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/datakonsument/be-om-samtykke/",
	"title": "Be om samtykke",
	"tags": [],
	"description": "Hvordan sende sluttbruker til samtykkesiden i Altinn.",
	"content": "Overordnet om løsningen Samtykkeløsningen tilbyr to mekanismer for å innehente et samtykke fra en sluttbruker. I begge tilfellene skal brukeren videresendes til en adresse i Altinn, hvor samtykke blir innfridd.\nDen foretrukne mekanismen er forhåndsregistrerte samtykkeforespørsler, som er beskrevet under. Den andre mekanismen er lenkebaserte samtykker, som er å regne som legacy og ikke vil bli videreutviklet. Alle nye integrasjoner mot samtykkeløsningen anbefales å bruke forhåndregistrerte samtykkeforespørsler.\nForhåndsregistrerte samtykkeforespørsler har en rekke fordeler over lenkebaserte samtykkeforespørsler:\n Mulighet for offline flyter som ikke er avhengige av at brukeren alltid er tilstede (f.eks. visning av innkommende samtykkeforespørsler i portal) Bruk av maler – høy fleksibilitet i hvordan dialogen presenteres Datakonsument kan sjekke status på en gitt samtykkeforespørsel (er den åpnet/innfridd/nektet/feilet?), uavhengig av redirect-URL-flyt Mulighet for server-til-server notifikasjon ved innfrielse/trekking av samtykke (kommer i Q1 2021!)  Forhåndsregistrerte samtykkeforespørsler For å be om et samtykke kreves det at datakonsument først oppretter en samtykkeforespørsel via REST, for så å sende sluttbrukeren til samtykkesiden.\nMerk at dette API-et krever virksomhetsautentisering med virksomhetssertifikat eller Maskinporten-token. Hvis du skal administrere samtykker på vegne av en kunde, se leverandør-integrasjoner.\rFor mer informasjon om ConsentRequest-modellen, se våre anbefalinger rundt bruken av samtykkeforespørsler\rEksempel på forespørsel:\nPOST /api/consentRequests HTTP/1.1 Host: www.altinn.no ApiKey: {ApiKey} Accept: application/hal+json Content-Type: application/hal+json {\r\u0026quot;coveredBy\u0026quot;: \u0026quot;910514458\u0026quot;, --Orgnr til datakonsument\r\u0026quot;offeredBy\u0026quot;: \u0026quot;27042000537\u0026quot;, --Fnr/orgnr til den som gir samtykke\r\u0026quot;offeredByName\u0026quot;: \u0026quot;NORDMANN\u0026quot;, --Etternavn/orgnavn til samme\r\u0026quot;validTo\u0026quot;: \u0026quot;2019-09-30T10:30:00.000\u0026quot;, --Gyldighetsdato for samtykke \u0026quot;redirectUrl\u0026quot;: \u0026quot;https://www.altinn.no\u0026quot;, --URL som bruker sendes til\r\u0026quot;requestResources\u0026quot;: [ --Tjenestene med eventuelle metadata\r{\r\u0026quot;ServiceCode\u0026quot;: \u0026quot;4629\u0026quot;,\r\u0026quot;ServiceEditionCode\u0026quot;: 2,\r\u0026quot;Metadata\u0026quot;: {\r\u0026quot;inntektsaar\u0026quot;: \u0026quot;2016\u0026quot;\r}\r},\r{\r\u0026quot;ServiceCode\u0026quot;: \u0026quot;4630\u0026quot;,\r\u0026quot;ServiceEditionCode\u0026quot;: 2,\r\u0026quot;Metadata\u0026quot;: {\r\u0026quot;fraOgMed\u0026quot;: \u0026quot;2017-06\u0026quot;,\r\u0026quot;tilOgMed\u0026quot;: \u0026quot;2017-08\u0026quot;\r}\r}\r],\r\u0026quot;requestMessage\u0026quot;: { --Tidligere omtalt som DelegationContext\r\u0026quot;no-nb\u0026quot;: \u0026quot;Ved å samtykke, gir du Skatteetaten rett til å utlevere...\u0026quot;,\r\u0026quot;no-nn\u0026quot;: \u0026quot;Ved å samtykka, gir du Skatteetaten rett til å utlevera...\u0026quot;,\r\u0026quot;en\u0026quot;: \u0026quot;By accepting the consent, you grant the Tax Authority the...\u0026quot;\r},\r\u0026quot;portalViewMode\u0026quot;: \u0026quot;Hide\u0026quot;, --Om den skal synes i portalen¹\r}\r¹ portalViewMode bestemmer om en samtykkeforespørsel skal være synlig i portalen for sluttbruker eller ikke. Dette er funksjonalitet som vil komme i 21.3. Forespørsler som besvares via portal vil ikke medføre at sluttbrukeren blir sendt til endepunkt oppgitt i redirectUrl.\rEksempel på svar:\n{\r\u0026quot;AuthorizationCode\u0026quot;: \u0026quot;c44f284f-b43b-4355-925a-2add17439659\u0026quot;,\r\u0026quot;CoveredBy\u0026quot;: \u0026quot;910514458\u0026quot;,\r\u0026quot;OfferedBy\u0026quot;: \u0026quot;27042000537\u0026quot;,\r\u0026quot;validTo\u0026quot;: \u0026quot;2019-09-30T10:30:00.000\u0026quot;,\r\u0026quot;redirectUrl\u0026quot;: \u0026quot;https://www.altinn.no\u0026quot;,\r\u0026quot;requestResources\u0026quot;: [\r{\r\u0026quot;ServiceCode\u0026quot;: \u0026quot;4629\u0026quot;,\r\u0026quot;ServiceEditionCode\u0026quot;: 2,\r\u0026quot;Metadata\u0026quot;: {\r\u0026quot;inntektsaar\u0026quot;: \u0026quot;2016\u0026quot;\r}\r},\r{\r\u0026quot;ServiceCode\u0026quot;: \u0026quot;4630\u0026quot;,\r\u0026quot;ServiceEditionCode\u0026quot;: 2,\r\u0026quot;Metadata\u0026quot;: {\r\u0026quot;fraOgMed\u0026quot;: \u0026quot;2017-06\u0026quot;,\r\u0026quot;tilOgMed\u0026quot;: \u0026quot;2017-08\u0026quot;\r}\r}\r],\r\u0026quot;requestMessage\u0026quot;: {\r\u0026quot;no-nb\u0026quot;: \u0026quot;Ved å samtykke, gir du Skatteetaten rett til å utlevere...\u0026quot;,\r\u0026quot;no-nn\u0026quot;: \u0026quot;Ved å samtykka, gir du Skatteetaten rett til å utlevera...\u0026quot;,\r\u0026quot;en\u0026quot;: \u0026quot;By accepting the consent, you grant the Tax Authority the...\u0026quot;\r},\r\u0026quot;portalViewMode\u0026quot;: \u0026quot;Hide\u0026quot;, \u0026quot;_links\u0026quot;: {\r\u0026quot;self\u0026quot;: {\r\u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/api/consentRequest/c44f284f-b43b-4355-925a-2add17439659\u0026quot;\r},\r\u0026quot;gui\u0026quot;: {\r\u0026quot;href\u0026quot;: \u0026quot;https://altinn.no/ui/AccessConsent/request?id=c44f284f-b43b-4355-925a-2add17439659\u0026quot;\r}\r}\r}\rSende brukeren til samtykkesiden med AuthorizationCode som input Etter at en samtykkeforespørsel er registrert og man har fått tilbake en list med _links som inneholder gui-link.\nMerk at det må oppgis Accept: application/hal+json som en header i requesten for at HAL-lenker som _links skal komme med i svaret.\rVidere benytter man denne for å sende brukeren til samtykkesiden:\nhttps://altinn.no/ui/AccessConsent/request?id=c44f284f-b43b-4355-925a-2add17439659\rDet eksisterer også en valgfri parameter (languageCode) som kan benyttes for å laste samtykkesiden på et forhåndsbestemt språk (en, nb-NO, nn-NO):\nhttps://altinn.no/ui/AccessConsent/request?id=c44f284f-b43b-4355-925a-2add17439659?languageCode=en\rDersom man ikke spesifiserer languageCode vil samtykkesiden bli lastet på det språket som brukeren har valgt i altinn. I eksempelet over vil samtykkesiden lastes på engelsk.\nI seksjonen lengre nede ser man eksempel på hvordan samtykkesiden vil se ut for en sluttbruker.\nLenkebaserte samtykker (legacy) Lenkebaserte samtykker anbefales ikke for nye integrasjoner. Les mer om lenkebaserte samtykker.\nEksempel på en samtykkeside I figuren nedenfor kan man se sammenhengen mellom det som ligger i url/json og det som presenteres for sluttbrukeren på samtykkesiden. Denne siden vil kunne lastes både gjennom en GUID dersom det foreligger en forhåndsregistrert samtykkeforespørsel, og via URL-parameter som definert i seksjonen over.\nAutorisasjonskode Når sluttbruker har fått opp samtykkesiden og gitt samtykke vil han sendes tilbake til siden som er angitt i RedirectUrl.\nI denne url vil det sendes med autorisasjonskode og status. Ved bruk av forhåndsregistrerte samtykkeforespørsler er dette samme autorisasjonskode som ble returnert ved opprettelse av forespørselen.\nEksempel på url hvor status er OK:\nhttps://www.eksempel.no/?AuthorizationCode=0435d832-193b-4a13-a6d1-d172c18e18c7\u0026amp;Status=OK\rEksempel på url hvor sluttbruker har valgt å trykke på knappen for \u0026ldquo;Nei, jeg vil ikke gi samtykke\u0026rdquo;:\nhttps://www.eksempel.no/?Status=Failed\u0026amp;ErrorMessage=User%2520did%2520not%2520give%2520consent\u0026amp;FailedAuthorizationCode=435d832-193b-4a13-a6d1-d172c18e18c7\rDersom samtykkesiden ble lastet ved hjelp av AuthorizationCode, vil autorisasjonskode være den samme som sluttbrukeren lastet samtykkesiden med.\nMerk at FailedAuthorizationCode ikke blir sendt med ved bruk av lenke-baserte samtykkeforespørsler, kun forhåndsregistrerte forespørsler. Fra 20.12 vil det i tillegg bli sendt med en feilkode her, som indikerer hva som gikk galt hos brukeren.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/ux/",
	"title": "App brukergrensesnitt",
	"tags": [],
	"description": "Konfigurering av komponenter, layouts, sider, grid, etc.",
	"content": "\r\rGruppering av felter\rHvordan gruppere felter i skjema.\n\r\rPDF\rHvordan konfigurere generering av PDF.\n\r\rSporvalg\rHvordan legge til dynamisk sporvalg i app\n\r\rTekster\rHvordan legge til eller endre tekster i en app.\n\r\rUI editor\rHvordan bygge et skjema med UI editor i Altinn Studio.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/digital-post-til-virksomheter/",
	"title": "Digital Post til Virksomheter",
	"tags": [],
	"description": "Altinn er valgt som løsning for å sende digital post fra det offentlige til virksomheter. Vi har utviklet et ferdig sett med tjenester til dette formålet slik at du skal slippe å utvikle dem selv.",
	"content": "Altinns meldingstjenester kan benyttes i ulike sammenhenger, ofte i forbindelse med andre dialogtjenester i Altinn. Digital post til virksompheter (DPV) er således en påbygg for de avsendere som i utgangspunktet kun skal sende post til virksomheter uten behov for å knytte dette tett til en spesifikk innsendingstjeneste i Altinn, eller særskilte behov som ikke dekkes av DPV.\nMed tradisjonell bruk av Meldingstjenester i Altinn har Tjenesteeierne selv utviklet egne Meldingstjenester, der de selv kan stille krav til at kun brukere med spesielle roller skal få tilgang. I DPV introduseres derimot meldingstjenester som er generelle i krav om sluttbrukers rolle. Det vil være opp til virksomhetene som mottar post å styre tilgang til egen post, og formidle denne videre inn i sin organisasjon, enten via automatiske og maskinell integrasjon med Altinn eller tilgang i Altinn meldingsboks.\nSlik går du frem:\n Start med å definere brukerbehov\nTenk nøye gjennom hele prosessen fra et brukerperspektiv. Hva er utfordringen og hvem skal den løses for? Hvem skal du sende post til? Skal du sende varsel på e-post og/eller sms? Lag gjerne en skisse til kommunikasjon med brukeren og test skissen på folk i målgruppen. God planlegging er nøkkelen til et godt resultat. Sjekk Guide: Hvordan jobbe brukerorientert? for inspirasjon. Signere bruksvilkår fra Altinn\nFørst må du samtykke til bruksvilkårene i Altinn. Last ned, les igjennom, signér og send til postmottak@digdir.no Signere bruksvilkår fra DIFI og få tilgang til systemer\nAltinn har et samarbeid med Difi på Digital post til virksomheter. For å komme i gang starter du med å kontakte Difi: servicedesk@digdir.no. De bistår deg så du får signert Difis bruksvilkår og gir deg også tilgangen du trenger for å ta i bruk våre tjenester. Tilrettelegge egne systemer for sending av meldinger\nFor å kunne sende meldinger fra ditt fagsystem til Altinn må dine systemer tilrettelegges for dette. Det tilbys grensesnitt både på batch og web service. Vi anbefaler web service siden du uansett vil benytte dette for å hente status på sendte meldinger. Les i Guide for DPV for informasjon om grensesnittet mellom ditt system og Altinn Utvikle tjenesten\nDu er nå klar til å ta i bruk en av våre ferdigutviklede tjenester til digital post. Det er utviklet ti tjenester innenfor ulike tjenesteområder slik at du skal slippe å utvikle dem selv. Dette er fellestjenester alle som skal sende DPV kan benytte. Les Guide: Digital post til virksomheter om hvordan du kobler deg på tjenestene.  Det er en fordel om du på forhånd har jobbet med tekster i melding og varsling ut fra et brukerperspektiv, slik at du har klart for deg hva som skal utvikles.\n\rOverordnet funksjonalitet\rAltinn har utviklet et ferdig sett med Meldingstjenester til bruk i DPV. Dette er fellestjenester som alle avsendere av DPV kan benytte uten noen form for tjenesteutvikling på forhånd.\n\r\rGrensesnitt\rTekniske grensesnitt for digital post til virksomheter.\n\r\rEksempler\rEksempler på request og respond.\n\r\rSpørsmål og svar om DPV\rOfte stilte spørsmål om DPV\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/seres/endringer/2021/januar/",
	"title": "Januar",
	"tags": [],
	"description": "SERES Produktforvaltning har fått ny database og applikasjonsserver.",
	"content": "Ny database Databasen til SERES Produktforvaltning er endret fra Oracle til PostgreSQL.\nNy applikasjonsserver Applikasjonsserveren til SERES Produktforvaltning er endret fra GlassFish til TomCat.\nNy logo Logoen til eier av SERES Produktforvaltning er endret fra logoen til Brønnøysundregistrene til logoen til Digitaliseringsdirektoratet.\nOppdatering av e-postadresse og lenke i informasjonsvinduet «Om SERES Produktforvaltning» E-postadressen for bestilling av skrivetilgang i SERES Produktforvaltning er endret til adressen til Altinn Servicedesk. Og lenken for å lese mer om bestilling av tilgang er blitt oppdatert.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/datakonsument/be-om-samtykke/lenkebasert-legacy/",
	"title": "Lenkebaserte samtykker (legacy)",
	"tags": [],
	"description": "Her finner du beskrivelse over hvordan lenkebaserte samtykker implementeres.",
	"content": "Denne måten å sende sluttbrukeren til samtykkesiden er en eldre versjon av samtykkeløsningen i Altinn, og anbefales ikke for nye integrasjoner. Bruk i stedet forhåndsregistrerte samtykkeforespørsler.\rDatakonsument må sende sluttbruker til samtykkesiden med en parameter som sier at den ønsker en autorisasjonskode tilbake etter at samtykke er gitt. Autorisasjonskoden benyttes til å hente token, som er nøkkelen som datakonsumenten benytter for å få tilgang til data hos datakilden.\nNår låntaker for eksempel underveis i en søknadsprosess har angitt at han ønsker å gi samtykke til at opplysninger om han kan innhentes så må datakonsumenten sende brukeren til samtykkesiden i Altinn.\nNedenfor er et eksempel på URL til samtykkeside i produksjonsmiljøet i Altinn.\nDette er bare et eksempel som viser oppbyggingen. URL må tilpasses tjenesten som skal benyttes.\nSkal samtykkesiden vises på f.eks. engelsk må parametre som DelegationContext og eventuelle metadata være på engelsk og verdi for engelsk må legges i LanguageCode.\nURL https://www.altinn.no/ui/AccessConsent/?Resources=4629_2.4630_2\u0026amp;CoveredBy=910514458\u0026amp;RedirectUrl=https://www.altinn.no\u0026amp;ValidToDate=2019-09-30%2010:30:00\u0026amp;LanguageCode=nb-NO\u0026amp;DelegationContext=Ved%20%C3%A5%20samtykke,%20gir%20du%20Skatteetaten%20rett%20til%20%C3%A5%20utlevere%20opplysninger%20om%20deg%20direkte%20til%20Banken%20AS.%20Banken%20f%C3%A5r%20opplysningene%20for%20%C3%A5%20behandle%20s%C3%B8knaden%20din%20om%20finansiering.\u0026amp;ResponseType=code\u0026amp;4629_2_inntektsaar=2016\u0026amp;4630_2_fraOgMed=2017-06\u0026amp;4630_2_tilOgMed=2017-08 Forklaring til parameterne i url:\n   Parameter Format Obligatorisk/valgfri Beskrivelse     Resources xxxx_x Obligatorisk Tjenestekode og tjenesteutgavekode på tjenesten som datakilde har definert som samtykketjeneste. Kan også være flere tjenester dersom det skal samtykkes til å dele data fra flere datasett hos en eller flere datakilder. Tjenestekode og tjenesteutgavekode separeres med underscore og ved bruk av flere tjenester separeres disse med punktum (eks. Resources=4629_2.4630_1) Kodene må man få hos datakilde   CoveredBy organisasjonsnummer Obligatorisk Organisasjonsnummeret til datakonsument.\nPå samtykkesiden er det navnet som er knyttet til organisasjonsnummeret som presenteres.   OfferedBy organisasjonsnummer eller fødselsnummer Valgfri Inneholder fødselsnummer eller organisasjonsnummer til aktøren som det ønskes samtykke fra.   RedirectUrl gyldig url Obligatorisk Url som sluttbruker blir sendt tilbake til etter å ha samtykket/ikke samtykket til innsyn i data   ValidToDate YYYY-MM-DD hh:mm:ss Obligatorisk Dato og tidspunkt for når samtykket opphører   LanguageCode en\nnb-NO\nnn-NO Valgfri Angir hvilket språk sluttbruker skal få opp samtykkesiden på. Kan velge mellom engelsk (en), bokmål (nb-NO) og nynorsk (nn-NO). Sendes ikke språkkode med kommer samtykkesiden opp på språket som er satt av bruker i profilen i Altinn   DelegationContext tekst Obligatorisk Beskrivelse fra datakonsument på hva som er formålet med samtykket. Det kan hende at det finnes føringer fra datakilde på utformingen av denne teksten. Sjekk med datakilde.   ResponseType code Obligatorisk Vil alltid være «code». Angir at man skal ha en autorisasjonskode i retur som skal benyttes for å hente token   Metadata tjenestekode_tjenesteutgavekode\n_parameternavn=verdi Valgfri For å gi ekstra metadata kan det defineres en eller flere samtykkeparameter som generelt er valgfri men kan påtvinges av utformingen av samtykketeksten som er definert av datakilde (eks. 4629_2_inntektsaar=2016)   UserToken Hex-enkodet SHA-256, eks: CF1F71474AF6B8F6241C1AE\u0026hellip; Valgfri Kan oppgis som en SHA-256 hash av en brukers fødselsnummer (11 siffer uten mellomrom). Hvis oppgitt, blir denne sammenlignet med evt. allerede innlogget bruker i Altinn. Hvis bruker er innlogget med et annet fødselsnummer, blir brukeren bedt om å logge inn på nytt.    "
},
{
	"uri": "https://altinn.github.io/docs/seres/endringer/2019/mai/",
	"title": "Mai",
	"tags": [],
	"description": "Nytt repository, ny brukeradministrasjonsløsning, splitting av domene og endring av Domenepanelet i Domeneklienten.",
	"content": "Nytt repository Adaptive Metadata Management er byttet ut og Domeneklienten går nå mot et egenutviklet metadatarepository.\nNy brukeradministrasjonsløsning Adaptive Metadata Management er byttet ut og administrasjon av brukere, kataloger og miljøer i SERES Repository gjøres nå via den egenutviklede web-klienten SERES Administrasjonsklient. Opplysningene brukes av Domeneklienten for autentisering og autorisasjon av brukere, og for visning av oversikten over tilgjengelige kataloger. Se egen brukerveiledning for SERES Administrasjonsklient: Brukerveiledning for SERES Administrasjonsklient.\nGUID-generering er reimplementert Adaptive Metadata Management er byttet ut og GUID-genereringen ble reimplementert inn i REST-APIet til SERES Administrasjonsklient.\nInnføring av noden «Katalog» i Domenepanelet Det er innført et nivå over domene som vi kaller «Katalog». Navnet til katalogen vil være det samme som det offisielle navnet til eier av domene(ne). Katalogen registreres i Administrasjonsklienten ved bruk av organisasjonsnummer og navnet hentes fra Enhetsregisteret. En katalog kan ha flere domener.\nNy rolle «Katalogadministrator» Den som er Katalogadministrator for en katalog kan i Domeneklienten opprette og deaktivere/reaktivere domene og endre navn på domene, i tillegg til å kunne gjøre det samme som de som har skrivetilgang til katalogen. Brukeren vil også få rettigheter i Administrasjonsklienten. Se brukerveiledningen til Administrasjonsklienten for mer informasjon. Eieren av katalogen kan bestille denne rettigheten til en eller flere av sine brukere.\nMulig å opprette og deaktivere/reaktivere domene Det er mulig å opprette og deaktivere/reaktivere en eller flere domener under en katalog i Domeneklienten. Dette kan gjøres av personer med rollene Systemadministrator og Katalogadministrator.\nMulig å endre navn på domene Det er mulig å endre navn på et domene i Domeneklienten. Vær oppmerksom på at GUID-er som ble opprettet før navnet på domenet ble endret ikke vil bli endret. Navneendringen kan gjøres av personer med rollene Systemadministrator og Katalogadministrator.\nMulig å deaktivere/reaktivere Fellesmodell og Tjenestemodeller Det er mulig å deaktivere/reaktivere modeller. Dette kan gjøres av personer som har skrivetilgang til modellen.\nSplitting av domene Domene er splittet i en «Fellesmodell» som inneholder Begrepsnivå og Strukturnivå samt Felles datamodell(er) og Plattform fra Implementasjonsnivå, og en modell for hver Tjenestemodell.\nNye og større ikoner i Domenepanelet Det er laget ikoner for Fellesmodell og de nye statusutgavene, samt nytt ikon for Tjenestemodell. Alle ikonene i Domenepanelet er blitt større.\nBedre synliggjøring av kataloger man har skrivetilgang til Kataloger man har skrivetilgang til vil alltid vises øverst i Domenepanelet. Navnet til katalogen(e) vil i tillegg være med uthevet skrift.\nNy fremgangsmåte ved versjonering av modellendringer For å lage en ny versjon av en modell kan man kopiere en tidligere utgave av modellen. Eventuelt kan man å lage en helt ny modell basert på kopi av en modellversjon fra en annen modell. En og samme modell kan ha flere godkjente versjoner samtidig\nModellversjon kan gis et versjonsnavn En versjon av en modell kan gis et versjonsnavn. F.eks. tjenestemodellnavn «xx – Innrapportering», versjonsnavn «2019». Versjonsnavn kan endres uavhengig av modellversjonens status.\nModellversjon kan gis en beskrivelse/kommentar En versjon av en modell kan gis en tekstlig beskrivelse/kommentar i feltet «Versjonsinfo». Teksten vises i arbeidspanelet og under «Versjonsinformasjon», og kan endres uavhengig av modellversjonens status.\nVersjonsinformasjon Det logges hver gang noen lagrer en endring på en modellversjon og de 20 siste hendelsene vises i eget versjonsinformasjonsvindu som kan åpnes fra Domenepanelet. I tillegg er det mulig fra dette vinduet å endre versjonsnavn og versjonsinfo, samt se opplysninger som versjonsid, katalogsti, versjonsnr, status og datoer for opprettet, siste endret og avsluttet.\nModellversjoner under en katalog er tilgjengelig for alle som har skrivetilgang til katalogen Alle som har skrivetilgang til en katalog har tilgang til alle modellversjoner som finnes under katalogen. Her kan de gjøre endringer på alle modellversjoner som er under arbeid uavhengig av hvem som har startet arbeidet.\nNye statuser på en modellversjon En modellversjon kan ha en av disse fire statusene:\n Arbeidsversjon – modellversjonen er under arbeid. Den kan leses og endres av alle som har skrivetilgang til katalogen/domenet, og ingen andre. Publisert versjon – modellversjoner er kvalitetssikret, godkjent og låst for redigering. Den vil være tilgjengelig for lesing og kopiering for alle brukere av Domeneklienten. Historisk versjon – modellversjon har tidligere vært publisert, men er nå foreldet/tatt ut av produksjon. Den vil være tilgjengelig for lesing og kopiering for alle brukere av Domeneklienten. Forkastet versjon – modellversjon som man har valgt å ikke godkjenne og/eller jobbe videre med. Den vil være tilgjengelig for lesing og kopiering av alle som har skrivetilgang til katalogen/domenet, og ingen andre.  Åpning og lagring av modellversjoner All åpning og lagring av modellversjoner går direkte mot repository, inkl. autolagringen. Foreløpig lagres også modellversjonene lokalt, men disse hentes kun hvis man går via filmenyen i Domeneklienten.\nYtelsesforbedring Som en konsekvens av at Domeneklienten går mot nytt repository og at domene er blitt splittet opp tar det mindre tid å åpne eller lagre en modellversjon. For de største domenene vil det være en markant endring fra ca. 15 minutter til ca. 1 sekund.\nNy løsning for «Glemt passord» Når bruker ber om nytt passord via funksjonen «Glemt passord» så sendes det automatisk ut en e-post til brukerens registrere e-postadresse med lenke for å endre passordet. Lenken er gyldig i en time.\nEndret innlogging Miljø er fjernet fra innloggingsvinduet «SERES-autentisering». Hvis brukeren har tilgang til flere miljø, vil det komme opp et eget vindu for å velge blant de miljøene brukeren har tilgang til etter autentiseringen.\nMulighet for å endre ORid i egenskapspanel Det er åpnet opp for redigering av ORid-er i egenskapspanelet.\n32-bit og 64-bit versjon av Domeneklienten Domeneklienten leveres som 32-bit og 64-bit versjon. De som kjører Domeneklienten lokalt på egen PC må installere den versjonen som passer til sin PC.\n"
},
{
	"uri": "https://altinn.github.io/docs/seres/endringer/2020/oktober/",
	"title": "Oktober",
	"tags": [],
	"description": "Sikkerhetsoppdatering, flytting til nytt Openshiftmiljø og endring av e-postadressen til support i Domeneklienten.",
	"content": "Oppdatert Spring Boot på grunn av sikkerhetsfeil Spring Boot, som brukes av Administrasjonsklienten, er oppdatert til en nyere versjon på grunn av en sikkerhetsfeil i TomCat-versjon som ble brukt. Denne feilen er nærmere beskrevet her: https://nvd.nist.gov/vuln/detail/CVE-2020-1938\nFlytte Administrasjonsklienten og Repository til nytt OpenShiftmiljø Administrasjonsklienten og Repository er flyttet fra Openshift 3.x til Openshift 4.x.\nEndret e-postadresse i menyfeltet \u0026ldquo;Send melding til Support\u0026rdquo; E-postadressen under menyen «Hjelp -\u0026gt; Send melding til Support» i Domeneklienten er endret fra support@seres.no til tjenesteeier@altinn.no. I tillegg er det rettet en skrivefeil i den forhåndsdefinerte teksten som vises i emnefeltet.\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/regelmotor/regler/",
	"title": "Regler",
	"tags": [],
	"description": "Regelfilen bygges opp av en eller flere regler (valideringer eller overføringer). Alle reglene som støttes listes her.",
	"content": "Valideringsregler SimpleValidation SimpleValidation er regeltypen du bruker for å validere ved hjelp av standard betingelser.\nNødvendige parameter: Source\nOverføringsregler RemoveParentPost Denne regelen fjerner foreldreposten til et gitt felt dersom betingelsene er innfridd.\nNødvendige parameter: Source\nTransferValue Denne regelen blir brukt til å kopiere en verdi fra et felt til et annet. Feltene kan enten være i samme skjema eller i ulike skjema.\nNødvendige parameter: Source og Target\nTransferResult TransferResult er en regeltype som kan brukes dersom du vil gjøre utregninger før du overfører resultatet som verdi. Utregningene gjøres basert på verdier fra felter man angir i attributtene addFields, subtractFields, multiplyFields og divideFields. Disse skal ligge som attributter på Source elementet til regelen.\nNødvendige parameter: Source og Target\nSetFieldValue Regel som kan brukes til å sette en verdi i et felt basert på et sett av betingelser.\nNødvendige parameter: Target\nRemoveFieldElement Denne regelen kan brukes når du trenger å fjerne et spesielt felt basert på et sett av betingelser.\nNødvendige parameter: Source\nCalculateResult CalculateResult er en regeltype som kan brukes dersom du vil gjøre utregninger og overføre resultatet til et felt i skjema. Utregningene gjøres basert på det matematiske utrykket man angir i elementet CalcExpression.\nNødvendige parameter:\n Source Target Param med navn CalcExpression.  For CalcExpression så angir man det matematiske uttrykket i value attributtet til Param elemenetet.\nI det matematiske utrykket så kan man enten bruke konstante verdier eller man kan hente verdier fra felter i skjema. Hvis en verdi skal hentes fra felt i skjema så angis det ved å legge xpath til feltet inn i klammeparenteser i utrykker.\nNoen eksempler på bruk av CalculateResult regelen:\n\u0026lt;Rule type=\u0026#34;CalculateResult\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;4120\u0026#34;/\u0026gt; \u0026lt;Target form=\u0026#34;4120\u0026#34; field=\u0026#34;/melding/Skjemainnhold_KRT-1005/omRegnskapsfoerer/etterutdanning/skatterett\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;CalcExpression\u0026#34; value=\u0026#34;{/melding/Skjemainnhold_KRT-1005/omRegnskapsfoerer/etterutdanning/finansregnskap} * 3 / 2\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;RoundResultToGivenNumberOfDecimals\u0026#34; value=\u0026#34;1\u0026#34;/\u0026gt; \u0026lt;/Rule\u0026gt; \u0026lt;Rule type=\u0026#34;CalculateResult\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;4120\u0026#34;/\u0026gt; \u0026lt;Target form=\u0026#34;4120\u0026#34; field=\u0026#34;/melding/Skjemainnhold_KRT-1005/omRegnskapsfoerer/etterutdanning/regnskapsfoererregelverket\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;CalcExpression\u0026#34; value=\u0026#34;{/melding/Skjemainnhold_KRT-1005/omRegnskapsfoerer/etterutdanning/finansregnskap} + {/melding/Skjemainnhold_KRT-1005/omRegnskapsfoerer/etterutdanning/skatterett}\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;CeilingOfResult\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;/Rule\u0026gt; \u0026lt;Rule type=\u0026#34;CalculateResult\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;4120\u0026#34;/\u0026gt; \u0026lt;Target form=\u0026#34;4120\u0026#34; field=\u0026#34;/melding/Skjemainnhold_KRT-1005/omRegnskapsfoerer/etterutdanning/rettslaere\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;CalcExpression\u0026#34; value=\u0026#34;{/melding/Skjemainnhold_KRT-1005/omRegnskapsfoerer/etterutdanning/regnskapsfoererregelverket} + ({/melding/Skjemainnhold_KRT-1005/omRegnskapsfoerer/etterutdanning/skatterett} * {/melding/Skjemainnhold_KRT-1005/omRegnskapsfoerer/etterutdanning/finansregnskap})\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;FloorOfResult\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;/Rule\u0026gt; Valgfrie parameter:\n CeilingOfResult - Denne brukes til å angi om det skal gjøres en Ceiling av resultatet. Dette angis med verdien True i value attributtet til Param elementet.Param med navn FloorOfResult. Denne brukes til å angi om det skal gjøres en Floor av resultatet. Dette angis med verdien True i value attributtet til Param elementet. RoundResultToGivenNumberOfDecimals - Denne brukes til å angi om det skal gjøres en Round av resultatet. Her angir man ikke True for å indikere at det skal gjøres Round, men man angir antall desimaler det skal gjøres Round med.  TransferTransformedResult Denne regelen kan brukes når du trenger å sette sammen verdiene fra flere felter og overføre resultet til et enkelt felt som en kommaseparert liste.\nNødvendige parameter: Source og Target\nTransferSingleExternalValue Overfører en gitt ekstern verdi, dette er verdier som ikke ligger som en del av skjemadataen, men som kan settes eksplisitt i implementasjonen for f.eks lasting eksterne skjema.\nNødvendige parameter:\n Source Target Parameter med navn TransferType.  TransferType som er støttet pr. 01.10.2015 er ArchiveReference, som henter arkivreferansen fra et eksternt skjema og sette den i det gitte målfeltet.\nWebSA-spesifikke regler Det fins en rekke regeldefinisjoner som er utviklet spesielt for bruk i selvangivelsetjenestene. Disse er merket med websa: i starten av navnet.\nwebsa:InternalRF1224Calculations For bruk til kalkuleringer i skjema RF-1224.\nwebsa:TransferFromNO1ToRF1224 Regel for å overføre verdi fra fordeling av næringsinntekt (“Business Allocation”) (fra instansiering i RF-1175) til RF1224. Denne regelen blir ikke kjørt ved komplett innsending fra sluttbrukersystem.\nwebsa:TransferFromRF1084ToRF1030 Spesialregel for å overføre fra skjema RF-1084 til skjema RF-1030.\nDenne regelen blir ikke kjørt ved komplett innsending fra sluttbrukersystem.\nwebsa:TransferFromRF1084ToRF1175 Spesialregel for å overføre fra skjema RF-1084 til skjema RF-1175.\nDenne regelen blir ikke kjørt ved komplett innsending fra sluttbrukersystem.\nwebsa:TransferFromRF1125ToRF1030 Spesialregel for å overføre til postene 2.1.4 og 3.2.2 i skjema RF-1030 basert på skjema RF-1125.\nDenne regelen blir ikke kjørt ved komplett innsending fra sluttbrukersystem.\nwebsa:TransferSumFrom0402 Flytter fra post 4.0.2 (fra RF-1175) til RF-1030 basert på den valgte industrisektoren (industry type) og tilegnet inntekt.\nDenne regelen blir ikke kjørt ved komplett innsending fra sluttbrukersystem.\nwebsa:TransferSumToChildcare Brukes for å regne ut foreldrefradrag.\nwebsa:TransferSumToTravelDeduction Brukes for å regne ut fradrag for reise mellom hjem og arbeid/besøksreiser.\nwebsa:TransferSumToWizard Brukes for å flytte verdier fra RF-1084/RF-1219/RF-1224 (lenket via veiviseren og første instans av et bestemt skjema) til OrID-er eller veiviseren.\nwebsa:ValidatePost337StandardDeductionTempStay Dette er en spesialregel for å validere post 3.3.7\nwebsa:ValidateRF1219TransferToWizard For å lage en valideringsfeil dersom det er mer enn et RF-1219-skjema som er knyttet til veiviseren for selvstendig næringsdrivende (Business Wizard).\nwebsa:ValidateRF1224BelongsToPost0402 For å lage en valideringsfeil dersom det finnes RF-1224 instanser som ikke er knyttet til noen 4.0.2 post (fordeling av næringsinntekt) når PSAN er instansiert med RF-1175.\nwebsa: TransferFromRF1224ToRF1030 For å overføre null (0) fra RF 1224 til RF 1030. Hvis verdier i orid 26235 eller orid 26236 er negativ overføres 0 til henholdsvis 35613 eller 35616.\nWebsa:ValidateOnePrimaryDwelling For å validere at kun en bolig er valgt som primærbolig i postene tilknyttet 2.8/4.3 Bolig og annen fast eiendom\nSource Definerer skjema og felt som verdi (for overføring eller validering) skal hentes fra.\n\u0026lt;Source form=\u0026#34;245\u0026#34; field=\u0026#34;Skjema/Tilbakebetaling/Utbetaling\u0026#34; sumRecurringFields=\u0026#34;true\u0026#34; multiple=\u0026#34;true\u0026#34; addFields=\u0026#34;orid(7378),orid(7380)\u0026#34; subtractFields=\u0026#34;orid(15801),orid(32836)\u0026#34; /\u0026gt; Forklaring:\n Form er dataformat-id til skjemaet. Field er referanse til et eller flere felt. Kan bli gitt som OR-id eller som komplett XPath. Antallet felt må samsvare med antallet felt definert som mål. SumRecurringFields forteller om overføringen skal summere repeterende felt eller ikke før overføringen. Multiple forteller om modergruppa kan få verdier fra flere kilder. Må være true eller false. AddFields er en liste over felt som skal bli lagt til verdien som skal overføres. Feltene skilles med komma. SubtractFields er en liste over felt som skal trekkes fra verdien som skal overføres. Feltene skilles med komma.  Target Definerer skjema og felt som skal ta imot verdiene eller feilmeldinger i forbindelse med valideringer.\n\u0026lt;Target form=\u0026#34;2\u0026#34; field=\u0026#34;Skjema/Tilbakebetaling/Utbetaling\u0026#34; index=\u0026#34;0\u0026#34; /\u0026gt; Forklaring:\n Form er dataformat-id til skjemaet. Field er referanse til et eller flere felt. Kan bli gitt som OR-id eller som komplett XPath. Antallet felt må samsvare med antallet felt definert som kilde. Index er indeksen til målfeltet. Value brukes om du vil sette en fast verdi.  Param Param er et felleselement som kan brukes til mange ulike parametertyper. Attributtet name brukes til å fortelle hvilken type du vil at Param-elementet skal være.\nPercentageTransfer Denne definerer hvor stor del av verdien som skal overføres. value bestemmer den prosentvise delen av verdien som skal overføres. Standardverdi er 100.\n\u0026lt;Param name=\u0026#34;PercentageTransfer\u0026#34; value=\u0026#34;30\u0026#34;/\u0026gt; IgnoreGuid Denne bestemmer om regelmotoren skal ta hensyn til sourceFormGuid når den gjør overføringen. Dersom verdien er true vil overføringen ikke merke xml-en med kildeskjema. For InfoPath-skjema må denne være true fordi InfoPath ikke vil forstå dette attributtet.\nValue må være enten true eller false.\n\u0026lt;Param name=\u0026#34;IgnoreGUID\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; SignStorageHint Denne forteller om den overførte verdien skal bli lagret spesifikt som en positiv eller negativ verdi.\n\u0026lt;Param name=\u0026#34;SignStorageHint\u0026#34; value=\u0026#34;positive\u0026#34;/\u0026gt; value forteller om verdien skal bli lagret som negativ eller positiv. Mulige valg her er positive, negative og any. Standardverdi er any.\nAlwaysRun Bestemmer om en overføringsregel i tillegg til å kjøres i utregningsprosessen også skal kjøres i valideringsprosessen.\n\u0026lt;Param name=\u0026#34;AlwaysRun\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; value må være true eller false, og avgjør om regelen blir kjørt i valideringsprosessen i tillegg til utregningsprosessen eller ikke.\nIgnorePrefill Avgjør om et felt kan slettes selv om det er merket som pre-utfylt. Dette er bare relevant i skjema som ikke er InfoPath-skjema.\n\u0026lt;Param name=\u0026#34;IgnorePrefill\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; value avgjør om feltet skal slettes selv om det er merket som pre-utfylt. Må være true eller false.\nRemoveFieldIfConditionsFail Dette avgjør om felt som ikke innfrir betingelsene for verdioverføring skal slettes. Standardverdi er true.\n\u0026lt;Param name=\u0026#34;RemoveFieldIfConditionsFail\u0026#34; value=\u0026#34;false\u0026#34;/\u0026gt; value avgjør om dette feltet skal slettes dersom betingelsene ikke er innfridd. Mulige valg er true eller false. Standard er true.\nRemoveOnMismatch Forteller om målfeltet skal bli tømt dersom betingelsene ikke inntreffer.\n\u0026lt;Param name=\u0026#34;RemoveOnMismatch\u0026#34; value=\u0026#34;false\u0026#34;/\u0026gt; value forteller om målfeltet skal slettes eller ikke. Må være true eller false. Standardverdien er true.\nTransfertype Avgjør typen overføring. Standard er “ManyToOne” (mange til en) der flere verdier blir regnet om til en verdi. «ManyToMany» (mange til mange) vil overføre hver enkelt verdi til et separat målfelt. Dette er et spesialparameter opprinnelig lagd for webSA post 402.\n\u0026lt;Param name=\u0026#34;TransferType\u0026#34; value=\u0026#34;ManyToMany\u0026#34;/\u0026gt; value er enten ManyToOne eller ManyToMany.\nRemoveDirtyField Avgjør om såkalte «skitne felt» (felter som har blitt skrevet til i løpet av prosessen) skal fjernes eller ikke.\n\u0026lt;Param name=\u0026#34;RemoveDirtyField\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; value må være true eller false. Standard er false.\nDoNotIgnoreZeroValue Avgjør om verdien 0 skal overføres eller ikke.\n\u0026lt;Param name=\u0026#34;DoNotIgnoreZeroValue\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; value forteller om verdien 0 skal ignoreres eller ikke. Må være true (0 vil bli oppfattet som en verdi) eller false (0 vil bli ignorert). Standard er false.\nInsertEmptyIfNotCalculated Avgjør om 0 skal brukes som verdi dersom skjemaet ikke inneholder et eller flere felter som er nødvendige for å regne ut verdien i feltet.\n\u0026lt;Param name=\u0026#34;InsertEmptyIfNotCalculated\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; value forteller om 0 skal brukes som verdi eller ikke når nødvendige felter mangler. Må være true eller false. Standard er false.\nTransferRecurringFields Avgjør om repeterende felt skal overføres.\n\u0026lt;Param name=\u0026#34;TransferRecurringFields\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; value avgjør om repeterende felt skal overføres. Må være true eller false. Standard er false.\nSetNillable Brukes til å fortelle at verdien kan være blank (null).\n\u0026lt;Param name=\u0026#34;SetNillable\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; value settes til true for å tillate null-verdier. Standard er false.\nPurgeOldTransfers Brukes når det er ønskelig at gamle overføringer skal slettes før nye gjennomføres. Bør kun brukes når det oppstår problemer med mange overføringer fra / til samme felt.\n\u0026lt;Param name=\u0026#34;PurgeOldTransfers\u0026#34; value=\u0026#34;true\u0026#34; /\u0026gt; value forteller om målfelter skal slettes eller ikke. Må være true eller false. Standard er false.\nSetValueForMultiplePosts Brukes til å definere om oppdatering av feltverdi skal gjøres til alle målfelter i samme skjema.\n\u0026lt;Param name=\u0026#34;SetValueForMultiplePosts\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; value avgjør om oppdatering av verdi skal gjøres for alle målfelter i samme eller kun det første. Må være true eller false. Standard er false.\nWebSA-spesifikke Param Her følger en liste over Param-navn som benyttes i selvangivelsen.\nValueType Forteller om verdien er negativ, positiv eller begge deler. Til bruk med regel TransferSumFrom0402.\n\u0026lt;Param name=\u0026#34;ValueType\u0026#34; value=\u0026#34;negative\u0026#34;/\u0026gt; value kan være both, positive eller negative. Brukes i kombinasjon med IndustryTypes. Se tabell under IndustryType.\nIndustryTypes Forteller hvilke industri-/næringsområde som verdien gjelder. Til bruk med regel TransferSumFrom0402.\n\u0026lt;Param name=\u0026#34;IndustryTypes\u0026#34; value=\u0026#34;Skiferbrudd,Skiferproduksjon\u0026#34;/\u0026gt; Se tabellen under for aktuelle verdier i value.\nOversikt over kombinasjon av verdier i IndustryType og ValueType\n   IndustryType ValueType OrId for målfeltet i RF1030 Felt i RF1030     Inntekt fra familiebarnehager Positive 28262 2.1.3   Jordbruk_gartneri_pelsdyr, Pelsdyr, Jordbruk_gartneri Positive 27758 2.7.1   Skogbruk Positive 27759 2.7.2   Fiske_og_fangst Positive 33958 2.7.3   Reindrift Positive 27760 2.7.4   Skiferbrudd, Skiferproduksjon Positive 20662 2.7.5   Annen_naering Positive 27757 2.7.6   Familiebarnehage_i_eget_hjem, Inntekt_fra_familiebarnehager Negative 28299 3.2.19   Annen_naering Negative 21006 3.2.19   Jordbruk_gartneri_pelsdyr, Jordbruk_gartneri, Pelsdyr Negative 27784 3.2.19   Reindrift Negative 27786 3.2.19   Skiferproduksjon Negative 24729 3.2.19   Skogbruk Negative 27785 3.2.19   Fiske_og_fangst Negative 34097 3.2.19    BaseRate Avgjør den grunnleggende satsen. For bruk med InternalRF1224Calculations.\n\u0026lt;Param name=\u0026#34;BaseRate\u0026#34; value=\u0026#34;81153\u0026#34;/\u0026gt; value skal være et heltall. Standard er 81153.\nOverMaxDistanceRate Avgjør prosentsats for den delen av reisen som er over maksavstanden. For bruk med TransferSumToTravelDeduction.\n\u0026lt;Param name=\u0026#34;OverMaxDistanceRate\u0026#34; value=\u0026#34;0.7\u0026#34;/\u0026gt; value skal være et desimaltall. Standard er 0.7.\nNormalRate Avgjør normal prosentsats. For bruk med TransferSumToTravelDeduction.\n\u0026lt;Param name=\u0026#34;NormalRate\u0026#34; value=\u0026#34;1.5\u0026#34;/\u0026gt; value skal være et desimaltall. Standard er 1.5.\nDeductible Avgjør bunnfradraget for reiseutgifter. For bruk med TransferSumToTravelDeduction.\n\u0026lt;Param name=\u0026#34;Deductible\u0026#34; value=\u0026#34;13950\u0026#34;/\u0026gt; value skal være et heltall. Standard er 13950.\nMinimumTollAndFerryDeduction Avgjør minstebeløpet for å få bom- og fergeutgifter dekket. For bruk med TransferSumToTravelDeduction.\n\u0026lt;Param name=\u0026#34;MinimumTollAndFerryDeduction\u0026#34; value=\u0026#34;3300\u0026#34;/\u0026gt; value skal være et heltall. Standard er 3300.\nMaxDistance Avgjør hva som er maksavstand for reisegodtgjørelse. For bruk med TransferSumToTravelDeduction.\n\u0026lt;Param name=\u0026#34;MaxDistance\u0026#34; value=\u0026#34;50000\u0026#34;/\u0026gt; value skal være et heltall. Standard er 50000.\nMaxDeduction Avgjør maksimalfradrag. For bruk med ValidatePost337StandardDeductionTempStay.\n\u0026lt;Param name=\u0026#34;MaxDeduction\u0026#34; value=\u0026#34;40000\u0026#34;/\u0026gt; value skal være et heltall. Standard er 40000.\n"
},
{
	"uri": "https://altinn.github.io/docs/seres/seres-klienter/",
	"title": "SERES-klienter",
	"tags": [],
	"description": "Metadata lagres i SERES Repository som er et internutviklet repository basert på det åpne kildekodeproduktet Elasticsearch. Metadataene blir lagret som en XMI og et modell-API serialiserer og deserialiserer filen slik at den har en SERES-spesifikk struktur (SERES Metamodell).",
	"content": "Brukere produserer og forvalter metadata ved hjelp av tre klienter med forskjellige bruksområder:\n Administrasjonsklient er en webklient for administrasjon av brukere, kataloger og miljøer i SERES Repository. Opplysningene brukes av Domeneklienten for autentisering og autorisasjon av brukere, og for visning av oversikten over tilgjengelige kataloger. Domeneklient er en innsyns- og modelleringsklient for SERES Repository som kan jobbe med alle metadataelementene i et domene. Den lokalt utviklede klienten er basert på Standard Widget Toolkit (SWT) for GUI-utforming og bruker et Modell-API for kommunikasjon med repository. Det er så langt bare generert versjoner for kjøring i Windows. Brukere av klienten har lesetilgang til alle domener og mulighet for redigering i domener der vedkommende er gitt skrivetilgang. Denne klienten kan kjøre lokalt på brukerens PC eller via SERES Desktop som er en virtuell datamaskin på løsningen VMware Horizon Client. Produktforvaltning er en webklient for nedlasting av XSD-er som er generert og opplastet fra Domeneklienten.  Lenker til SERES-klienter Produksjonsmiljøet  SERES Administrasjonsklient (Administrasjon av brukere, kataloger m.m) SERES Produktforvaltning (Forvaltning av XSD-er)  Kursmiljøet  SERES Produktforvaltning (XSD-er)  Dokumentasjon  SERES Brukerveiledninger  \r"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/prosjekter/tjenester30/status/",
	"title": "Status",
	"tags": [],
	"description": "Dette er siste overordnede status for utviklingen av tjenester 3.0.",
	"content": "Status vil oppdateres etter hvert som ny informasjon er tilgjengelig.\n Arbeid med konsepter, arkitektur og veivalg (2015/2016) Teknisk PoC utviklet for å verifisere konsepter og veivalg (april/juni 2016) Presentere PoC og konsepter for tjenesteutviklere og arkitekter for å få feedback (juni/september 2016) Presentasjon og demo på servicelederseminar med tjenesteeierne (14. september 2016) Levert satsingsforslag for 2018, tjenester 3.0 sentral del av satsing (november 2016) Presentasjon om brukerorientering på Altinndagen 2016 viste hvordan en fremtidig tjeneste kan fungere (28. november 2016) Tjenester 3.0 som produkt i Altinn produktstrategi. (v1.0 ferdig 10. januar, v1.1 ferdigstilt 2. mars 2017) Altinn Design System utvikles for å kunne gjenbruke UI-patterns på tvers av tekniske løsninger (ferdigstilt oktober 2017) Avklaringer finansiering satsingsforslag for 2018 (oktober 2017) Målbilde og arkitekturarbeid og arbeid med løsningsdesign, involvering av tjenesteeiere (høst/vinter 2017) Utvikle et tidlig \u0026ldquo;minmium testable product\u0026rdquo; (MTP) som man kan teste ut og gi feedback på. Altinn Studio MTP ble annonsert og tilgjengeliggjort på Altinn-dagen 20. september 2018. Legge ut kildekode, backlog og milepæler helt åpent på GitHub. Legge ut teknisk dokumentasjon på docs.altinn.studio og overordnet info på altinndigital.no. Utvikle et \u0026ldquo;minimum viable product\u0026rdquo; (MVP) som man kan benytte for å utvikle og produksjonssette applikasjoner  MVP.01 - Jan-feb 2019 - Verktøy for utvikling av apps MVP.02 - Juni 2019 - Kan deploye til testmiljø MVP.03 - Juni 2020 - Kan deploye til prod    "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/anbefalinger/synkron/",
	"title": "Synkron flyt",
	"tags": [],
	"description": "Her finner du detaljert informasjon om hvordan synkrone (&#34;online&#34;) flyter er anbefalt implementert gjennom bruk av  Altinn Samtykke.",
	"content": "Overordnet Rent teknisk er enhver bruk av samtykkeløsningen asynkron, siden den baserer seg på interaksjon med en sluttbruker gjennom en nettleser, men for enkelhets skyld definerer vi en synkron flyt som en hvor brukeren hele tiden er tilstede og starter og fullfører prosessen hele samtykkeprosessen uten nevneverdig opphold. En asynkron prosess er derimot en som ikke nødvendigvis er startet av sluttbruker, eller som fullføres en stund etter - gjerne dager - etter prosessen ble startet. Synkron/asynkron omfatter prosessen fra en samtykkeforespørsel blir initiert, til et samtykke er gitt (eller nektet). Hvorvidt et samttykke er gyldig over tid, eller prosessen rundt tilbaketrekking av et samtykke har den sammenheng ikke noe betydning.\nDen vanligste flyten er en synkron flyt, hvor også samtykket er kortlevd.\nSekvensdiagram (overordnet) Her vises sekvensen til en samtykkeproses hvor brukeren selv (fra konsumentens system) initierer en tjeneste som krever samtykke, hvorpå han/hun umiddelbart blir sendt til Altinn for å behandle en forespørsel, og konsumenten umiddelbart henter ut data fra den aktuelle datakilden.\nDet er overordnet fire prosesser knyttet til en synkron samtykkeflyt. Disse er beskrevet under det første diagrammet, som tar for seg de logiske sekvensene, og går ikke i detalj mht. autentisering mot Maskinporten. Se lengre ned på siden for en mer detaljert visning av samme prosess. Du kan også klikke på diagrammet for å få opp en større versjon.\n(1) Se mer informasjon om forespørsler . Krever også en API-nøkkel utstedt av Altinn. (2) Samtykke-id brukes både for å kunne sjekke status på samtykkeforespørselen og som authCode for å hente ut samtykketoken, hvis gitt. (3) Hvis en samtykkeforespørsel allerede er opprettet på brukeren, men fremdeles er ubesvart kan potensielt brukeren bli redirectet på nytt (fra pkt 2) for å unngå opprette flere tilgangsforespørsler. (4) Logging av uthenting av data tjener to formål: innslag i samtykkeloggen synlig for bruker, og for revokering av éngangssamtykker.\r1. Registrering av samtykkeforespørsler Samtykkeforespørsler registreres gjennom det autentiserte consentRequest-API-et i Altinn. Her oppgis partene i samtykket. Konsumenten (CoveredBy) er den juridiske personen som har fått tilgang av API-tilbyder gjennom Maskinporten og tjenesteeierstyrt rettighetsregister, og er den som skal motta samtykket. Avgiver (OfferedBy) er den som gir samtykket. Dette kan være en person eller en juridisk person, hvor den som faktisk gir samtykket er en person som har tilstrekkelige rettigheter. Eventuell leverandør (HandledBy) som skal foreta dette på vegne av konsumenten må oppgis, og forutsetter at konsumenten har gitt leverandøren tilgang.\n Les mer om opprettelse av forespørsler Les mer om bruk av leverandører  2. Uthenting av samtykketokens Umiddelbart ved registrering av samtykkeforespørselen mottar konsument/leverandør en samtykke-id, også kalt autorisasjonskode. Denne benyttes både for å sjekke status på samtykkeforespørselen, og for å hente ut samtykketokens på innfridde forespørsler. Dette kan gjøres umiddelbart etter forespørselen er opprettet, men fortrinnvis gjøres dette etter at samtykkeforespørselen er innfridd og samtykket er gitt. Den vanligste måten å detektere om og når et samttykke gis er gjennom at sluttbrukeren blir videresendt til redirectUrl som oppgis i forespørselen. Det anbefales ikke å utelukkende belage seg på redirectUrl-mekanismen for å detektere om et samtykke er blitt gitt, da dette er en klientstyrt mekanisme som er gjenstand for f.eks. ustabile mobildekningsforhold mv. Der det er hensiktsmessig, anbefales det å foreta et oppslag mot token-endepunktet med å for å se om et samtykke er blitt gitt selv om det ikke er registrert svar på forespørselen via redirectUrl. Dette vil kunne sikre at brukeren ikke mottar dupliserte forespørsler, eller opplever å se flere aktive samtykker for samme konsument/tjeneste i Altinn.\nI første halvdel av 2021 vil Altinn begynne å tilby en server-til-server/push-basert mekanisme for å underrette konsument/leverandør om at et samtykke er gitt (eller ikke gitt, eller trukket), som supplement til redirectUrl-mekanismen. Dette vil gjøre det mulig for konsumenten/leverandøren å agere på tilstandsendringer for samtykkeforespørsler/samtykker i sanntid, uten å måtte foreta oppslag/polling mot Altinn.\r3. Uthenting av data fra kilde Gitt et samtykketoken, vil konsumenten/leverandøren foreta et oppslag mot datakilden hvor samtykketokenet oppgis sammen med et tilgangstoken fra Maskinporten. Samtykketokenet blir typisk oppgitt i en tilpasset HTTP-header; dette dokumenteres av API-tilbyder for det aktuelle API-et.\n4. Logging av hentede data Etter at data er hentet fra API-tilbyder skal konsumenten logge til Altinn at dette er foretatt. Dette sikrer at sluttbrukeren har en logg over hendelesforløpet, og kan benytte denne i forbindelse med f.eks. innsynsbegjæringer både hos konsument og datakilden. For tjenester som er konfigurerert som éngangssamtykker, vil dette kallet føre til at samtykket blir slettet (oppbrukt).\nSekvensdiagram (detaljert) Her vises samme flyt som over, men med et detaljeringsnivå som omfatter Maskinporten og eventuell bruk av leverandør som foretar uthentingen på vegne av konsumenten. Sekvensene knyttet til opprettelse av forespørsel, uthenting av samtykketoken og (enkel) håndtering av eventuelle kjøretidsfeil er merket med ulike farger.\nKlikk på diagrammet for å få opp en større versjon.\n(1) Se mer informasjon om forespørsler . Krever også en API-nøkkel utstedt av Altinn. (2) Token-uthenting krever et åpent scope i Maskinporten som alle med mulighet for å opprette integrasjoner i Maskinporten kan provisjonere til en klient. Denne tilgangen kan også delegeres til leverandører. (3) Samtykke-id brukes både for å kunne sjekke status på samtykkeforespørselen og som authCode for å hente ut samtykketoken, hvis gitt. (4) Hvis en samtykkeforespørsel allerede er opprettet på brukeren, men fremdeles er ubesvart kan potensielt brukeren bli redirectet på nytt (fra pkt 3) for å unngå opprette flere tilgangsforespørsler. (5) Her antas at datakilden har beskyttet sitt API med Maskinporten og whitelisting av de organisasjonene som kreves (6) Validering av Maskinporten-token, og sjekk av API-nøkkel. API-nøkkel må være tilknyttet samme organisasjon som skal motta samtykket (CoveredBy). (7) Forespørselen sjekkes for logiske feil (f.eks. gyldig kominasjon av tjenester og parter), samt SRR hvis det er benyttet for å sikre samtykketjenesten. (8) På samme måte som (2) er dette et åpent scope, som også kan delegeres. (9) Logging av uthenting av data tjener to formål: innslag i samtykkeloggen synlig for bruker, og for revokering av éngangssamtykker."
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/datakonsument/leverandor/",
	"title": "Leverandører",
	"tags": [],
	"description": "Hvordan leverandører kan benytte samtykkeløsningen på vegne av datakonsumenter.",
	"content": "Dette beskriver funksjonalitet som kommer i 20.11-releasen av Altinn.\rOverordnet om leverandørstøtte Leverandører kan opprette samtykkeforespørsler, hente ut samtykketoken og logge oppslag på vegne av sine konsumenter. Det er to ulike måter dette kan løses på, hvorav den første er anbefalt for nye integrasjoner.\nI begge tilfeller benyttes begrepet HandledBy om leverandører, til forskjell fra CoveredBy som er datakonsumenten og den juridiske mottakeren av samtykket. OfferedBy er parten som har gitt et samtykke. Leverandøren må ha sin egen API-nøkkel knyttet til eget organisasjonsnummer.\nBruk av leverandørtoken i Maskinporten (anbefalt) Kall til endepunktene for å opprette samtykkeforespørsler og uthenting av samtykketoken kan autentiseres gjennom API-delegering i Maskinporten, og beskyttes med scopene altinn:consentrequests.read/write og altinn:consenttokens-read/write. Disse tre scopene er gjort delegerbare i Altinn under navnet \u0026ldquo;Tilgang til å administrere samtykkeforespørsler og samtykketokens\u0026rdquo;.\n1. Datakonsument gir leverandør tilgang For at leverandøren skal få tilgang til å opprette samtykkeforespørsler og hente ut samtykketokens på vegne av datakonsumenten, må en hovedadministrator delegere tilgang til Tilgang til å administrere samtykkeforespørsler og samtykketokens til leverandørens organisasjonsnummer.\n2. Leverandøren henter ut leverandørtoken fra Maskinporten Leverandøren forespør Maskinporten om access_token på vegne av datakonsumenten for altinn:consentrequests.write. Dette er tilstrekkelig for å opprette samtykkeforespørsler. Denne prosessen er beskrevet nærmere i guiden for brukere av API-delegering.\n3. Leverandøren oppretter en samtykkeforespørsel på vegne av datakonsument Ved hjelp av access-tokenet mottatt i forrige trinn, samt en API-nøkkel mottatt fra Altinn (tilknyttet leverandørens organisasjonsnummer) kan forespørselen opprettes. Merk at dette er identisk til en vanlig forespørsel, men feltet handledBy må i tillegg oppgis, som da er leverandørens eget organisasjonsnummer.\n{\r\u0026quot;coveredBy\u0026quot;: \u0026quot;910514458\u0026quot;, --Orgnr til datakonsument\r\u0026quot;handledBy\u0026quot;: \u0026quot;912345678\u0026quot;, --Orgnr til leverandør\r\u0026quot;offeredBy\u0026quot;: \u0026quot;27042000537\u0026quot;, --Fnr/orgnr til den som gir samtykke\r\u0026quot;offeredByName\u0026quot;: \u0026quot;NORDMANN\u0026quot;, --Etternavn/orgnavn til samme\r\u0026quot;validTo\u0026quot;: \u0026quot;2019-09-30T10:30:00.000\u0026quot;, --Gyldighetsdato for samtykke \u0026quot;redirectUrl\u0026quot;: \u0026quot;https://www.altinn.no\u0026quot;, --URL som bruker sendes til\r\u0026quot;portalViewMode\u0026quot;: \u0026quot;Hide\u0026quot;, --Om den skal synes i portalen¹\r\u0026quot;requestResources\u0026quot;: [ --Tjenestene med eventuelle metadata\r{\r\u0026quot;ServiceCode\u0026quot;: \u0026quot;4629\u0026quot;,\r\u0026quot;ServiceEditionCode\u0026quot;: 2,\r\u0026quot;Metadata\u0026quot;: {\r\u0026quot;inntektsaar\u0026quot;: \u0026quot;2016\u0026quot;\r}\r},\r{\r\u0026quot;ServiceCode\u0026quot;: \u0026quot;4630\u0026quot;,\r\u0026quot;ServiceEditionCode\u0026quot;: 2,\r\u0026quot;Metadata\u0026quot;: {\r\u0026quot;fraOgMed\u0026quot;: \u0026quot;2017-06\u0026quot;,\r\u0026quot;tilOgMed\u0026quot;: \u0026quot;2017-08\u0026quot;\r}\r}\r],\r\u0026quot;requestMessage\u0026quot;: { --Tidligere omtalt som DelegationContext\r\u0026quot;no-nb\u0026quot;: \u0026quot;Ved å samtykke, gir du Skatteetaten rett til å utlevere...\u0026quot;,\r\u0026quot;no-nn\u0026quot;: \u0026quot;Ved å samtykka, gir du Skatteetaten rett til å utlevera...\u0026quot;,\r\u0026quot;en\u0026quot;: \u0026quot;By accepting the consent, you grant the Tax Authority the...\u0026quot;\r}\r}\r¹ portalViewMode bestemmer om en samtykkeforespørsel skal være synlig i portalen for sluttbruker eller ikke. Dette er funksjonalitet som vil komme i 20.12. Forespørsler som besvares via portal vil ikke medføre at sluttbrukeren blir sendt til endepunkt oppgitt i redirectUrl.\r4. Uthenting av token Etter at samtykke er innhentent (enten via redirect av bruker) eller at bruker har besvart samtykket via Altinn-portalen, kan token uthentes. På samme måte som ved opprettelse av samtykkeforespørselen må det uthentes leverandørtoken, denne gangen med scopet altinn:consenttokens.read, for å kunne hente ut samtykketoken for en gitt authCode.\nFor øvrig er løpet det samme uansett om leverandør benyttes eller ikke. Ved bruk av tjenesteeierstyrt rettighetsregister vil ikke leverandøren trenge å hvitelistes av tjenesteeier, og datakonsumenten står fritt til å bytte mellom leverandører.\nMerk at leverandører kun har mulighet til å se samtykkeforespørsler de selv har opprettet på vegne av en datakonsument, og ikke eventuelt andre leverandøres forespørsler for samme datakonsument.\nBruk av virksomhetssertifikat Som et alternativ til Maskinporten kan leverandørens eget virksomhetssertifikat benyttes for å opprette samtykkeforespørsler på vegne av andre. Datamodellen som sendes inn er identisk som ved bruk av Maskinporten-token.\nRelasjonen mellom CoveredBy og HandledBy blir her autorisert i tjenesteeierstyrt rettighetsregister. Ved bruk av leverandører med kun virksomhetssertifikat er derfor bruk av tjenesteeierstyrt rettighetsregister påkrevd for alle ressursene som omfattes av samtykkeforespørselen. Tjenesteeier må i tillegg til å oppgi hvem som kan være datakonsumenter oppgi hvem som kan være leverandør for en gitt datakonsument (kun 1).\nSiden dette mønsteret flytter byrden knyttet til håndtering av leverandører over på tjenesteeieren i stedet for datakonsumenten, anbefaler vi ikke dette mønsteret ved bruk av leverandører hvis Maskinporten kan benyttes.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2018/18-10/",
	"title": "18.10",
	"tags": [],
	"description": "Slette meldinger permanent, andre forbedringer, feilrettinger m.m.",
	"content": "Endringer i portal Brukere som representerer en organisasjon kan nå permanent slette elementer fra “Slettede” i innboksen Brukere som representerer en organisasjon og som har rollen tilgangsstyring og rettigheter til å slette elementer kan nå permanent slette elementer fra “Slettede” i innboksen. Når bruker ønsker å permanent slette et element kommer det opp et varsel der brukeren er nødt til å bekrefte sitt ønske. Varselet kommer også opp når enkeltpersoner prøver å permanent slette elementer fra “Slettede”.\nAltinn husker nå valget brukeren sist hadde ved bruk av “se alle underenheter” og/eller “se slettede enheter” Når bruker huker av for “se alle underenheter” og/eller “se slettede enheter” vil Altinn nå huske brukerens valg slik at neste gang brukeren er innom aktørvalg-siden vil avhukningsboksene for “se alle underenheter” og “se slettede enheter” reflektere forrige valg.\nMaksimum størrelse på e-post utvidet til 1.4 MB Max størrelse på vedlegg som kan sendes på epost utvidet til 1.4 MB. Varsel kommer opp når meldingen er for stor til å videresende på epost. Man kan velge å videresende i altinn (ingen begrensing på størrelse for videresending i altinn) eller takke nei.\nCAPTCHA oppdatert i portalen Programvare for CAPTCHA er nå blitt oppgradert på alle sider det benyttes.\nOperasjonene arkivering og permanent sletting av en aktiv melding skjuler nå utgåtte delegeringer fra oversikt over andres rettigheter Med denne endringen fjernes all informasjon om tidigere elementdelegeringer som ikke lenger har noen interesse fra oversikten. Dette gjør det lettere for tilgangsadministrator å se hvilke delegeringer som er aktive.\nDiverse bugfix Person med rettighet på enkelttjeneste fikk ikke delegert rettigheten videre Det ble innført en feil i 18.9 releasen av Altinn som gjorde at personer med tjenesterettigheter ikke fikk delegert videre. Dette skjedde hvis rettigheten de hadde var eldre enn versjonen av den gjeldende tjenesten. Dette er nå rettet opp.\nKvitteringen som skal sendes ut etter prosessering av en klientdelegeringsfil ble ikke alltid sendt Samlekvittering etter klientdelegering ble ikke sendt dersom fila inneholdt e-postadresse. Feilen oppsto etter 18.8 releasen av Altinn. Dette er nå rettet.\nTabbing i innboks hoppet over slett knappen Slett knappen blir nå også aktivert ved tabbing på siden.\nFjerning av ugyldige linker i resultatet fra slettede elementer i REST API Ved henting av slettede elementer via REST API ble det returnert noen ugyldige linker. Nå er self-linken korrigert på hele resultatet til å peke på /messages/trashbin istedenfor bare /messages. Find-elementet på hele listen ble fjernet, samt at det nå bare returneres metadata-link på selve message-element som ligger i slettede enheter (trashbin). Alle andre linker på message-objektene er fjernet.\nSnarveier for tastaturnavigering lagt til Meny som blir synlig når tastatur benyttes er lagt til på innboks, arkiv og slettede visningen for å lette navigering fra tastatur. Dette er samme meny som allerede finnes på Altinns portal og www.brreg.no.\nFeil lenke til Kontakt- og reservasjonsregisteret fra profilsiden Personer reservert mot kommunikasjon fra det offentlige får opp en tekst med en lenke på profilsiden som gir mulighet til å endre reservasjonsstatusen. Lenken gikk til feil side hos Kontakt- og reservasjonsregisteret. Dette er nå rettet opp. Lenken er dynamisk slik at den leder til riktig sted også i testmiljøene.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2019/19-10/",
	"title": "19.10",
	"tags": [],
	"description": "Endringer i autorisasjon, portal og feilrettinger.",
	"content": "Endringer i autorisasjon Delegerings-vindu prioriterer nå delegering av enkelttjeneste Når en forsøker å gi tilgang til en tjeneste blir enkeltjeneste-delegering nå foreslått først (fremfor rolledelegering) uansett tjenestetype. Dette blir gjort for å unngå at det uforvarende blir gitt rettighet til mer enn tenkt siden en rolle inneholder flere rettigheter.\nEndringer i portal Tilgangsforespørsel er nå mulig i portalen Hvis man starter en tjeneste uten at man har nødvendig rettighet vil man nå bli spurt om man ønsker å be om rettighet for tjenesten. Den som har rettigheten kan se og behandle disse tilgangsforespørslene.\nNår en person som har rollen \u0026ldquo;tilgangsstyring\u0026rdquo; logger på vises dette:\nFeilrettinger Feilmelding på InformationPointSI når LocalProxy var avslått Dersom LocalProxy/WCF-bypass løsningen ble slått av fikk man tidligere feilmelding. Dette er nå rettet.\nIkke mulig å gjenopprette slettet element fra papirkurv Tidligere så var det krav om at man måtte ha rettigheten ArchiveDelete for å få lov til å gjenopprette et skjema som var slettet, men ikke permanent slettet. Dette er nå endret til at rettighetskravet er ArchiveRead.\nVisningsfeil ved bruk av \u0026ldquo;IPad\u0026rdquo; visning Her var det feil visning to steder. Den første var under valg av tjenester for varsling under “Din kontaktinformasjon for virksomheten” hvor to grønne pop-up bokser var over hverandre. Den andre feilen var under “valg av tjenester for delegering under delegering av tjenesterettigheter og ved opprettelse av lokal rolle” hvor søkeresultatet går ut av skjermen på høyreside. Dette er nå rettet.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2020/20-11/",
	"title": "20.11",
	"tags": [],
	"description": "Be om tilgang på vegne av avgiver, mindre endringer og feilrettinger",
	"content": "Vi minner også om endringer i Altinn 3.0.\nEndringer i portal Sette meldinger som ulest Det har lenge vært et ønske fra brukere som opptrer på vegne av virksomheter at det skal være mulig å kunne markere en melding som ulest. Dette er særlig et behov for virksomheter som har mange brukere og som mottar mange meldinger. Det er lett at meldinger som åpnes \u0026ldquo;forsvinner\u0026rdquo; i mengden av andre leste meldinger før virsomheten har fått fulgt opp meldingen de har mottatt. Endringen griper inn i både sluttbrukerløsningen og REST APIet. Hovedvekten av endringen er i meldingsboksen der man nå får en ny \u0026ldquo;Sett til ulest\u0026rdquo; knapp på meldinger. Når denne velges og meldingsboksen lastes på nytt så vil meldingen se ulest ut.\nValget for å legge til virksomhetsbruker under \u0026ldquo;Andre med rettigheter\u0026rdquo; for en privatperson er fjernet Det skal kun være mulig å legge til organisasjoner som virksomhetsbrukere. Det er bare virksomhetsbrukere som er knyttet til samme organisasjonsnummer som aktøren som kan legges til. Muligheten for å legge til en virksomhetsbruker for en privatperson er fjernet. Valget vil være \u0026ldquo;grået ut\u0026rdquo; og ikke klikkbar. Panelet for klientdelegering er også påvirket av denne endringen. Valget \u0026ldquo;Ekstern virksomhet\u0026rdquo; vil være synlig, men ikke klikkbar. Dette feltet var tidligere skjult.\nMulighet for å laste ned alle vedlegg som ligger i en melding Dersom en melding inneholder flere vedlegg har man måtte laste ned alle vedlegg i meldingen individuelt ved å trykke på hvert enkelt vedlegg. Det vil nå være mulig å laste ned alle vedlegg samlet i en .zip-fil. Dersom meldingen inneholder mer enn ett vedlegg vil man i \u0026ldquo;flere valg\u0026rdquo; menyen ha en \u0026ldquo;Last ned alle\u0026rdquo; knapp for å \u0026ldquo;zippe” sammen alle filene og laste disse ned samlet. Det er i arbeidet med denne endringen også gjort endringer i meldingsboksen slik at man får opp \u0026ldquo;Flere valg\u0026rdquo; menyen hvis det finnes flere enn 4 valgmuligheter på en melding\nStøtte for å kunne be om tilgang på vegne av en avgiver (organisasjonsnummer og fødselsnummer) Be om tilgang løsningen er nå utvidet med mulighet til å kunne be om tilgang på vegne av en avgiver. Dette er implementert ved at \u0026ldquo;be om tilgang\u0026rdquo; siden nå godtar at man kan spesifisere hvem man ber om tilgang på vegne av.\nEndring av rekkefølge på knapper/handlinger på meldinger i meldingsboksen Det begynner å bli mange valg på meldinger i meldingsboksen og \u0026ldquo;Flere valg\u0026rdquo; menyen vil vises oftere. Det er derfor utført en omprioritering av rekkefølgen av handlingsknappene.\nEndringer i Autorisasjon Lagt til støtte for å kunne bruke den nye Access operasjonen i autorisasjon i kombinasjon med SRR (Service Rights Register) Endringen gjør det mulig å ta i bruk forenklet tjenestedelegering også for tjenester som skal SRR-styres.\nFjerne utgåtte autorisasjonsregler fra eldre tjenesteversjoner Det vil uføres en jobbb for å fjerne EnhetsRegister(ER) - og Altinn roller fra utgåtte tjenesteversjoner siden det kun er rollene på aktive tjenesteversjoner som anvendes.\nEndringer i REST-API Implementert støtte for OData på /api/serviceowner/delegationrequests I dagens løsning er det tungvint å skulle hente ut alle forespørsler for en gitt coveredBy, dvs. den person/virksomhet som ønsker å motta rettigheter fra en annen person/virksomhet. Det er derfor laget støtte for OData-filtrering på delegationRequest. Funksjonaliteten er relevant for tjenesteeiere som benytter Altinn som autorisasjonsløsning for sine tjenester.\nStøtte for ID-porten-token autentisering på sluttbruker-APIet I REST API for sluttbrukere benyttes brukernavn og passord og/eller cookie-capturing i klienten for autentisering. Dette innebærer at sluttbruker må ha en aktiv sesjon i Altinn.\nDet det lagt til funksjonaltet slik at det skal være mulig å benytte seg av et bearer token fra ID-porten. Det aktuelle tokenet fra ID-porten vil inneholde scopes som definerer hvilke operasjoner på REST APIet som det aktuelle tokenet gir tilgang til. Dette er en videreføring av endringer som ble levert i versjon 20.7 for innføring av Maskinporten autentisering på REST API.\nGjennom en samtykkedialog hos ID-porten kan sluttbruker samtykke til at ulike operasjoner på REST APIet kan benyttes av sluttbrukersystemet. Dette vil legge til rette for at sluttbrukersystemer som er bygget på toppen av REST APIet på en enklere måte kan integrere seg mot Altinn. Dette gjør prosessen for sluttbruker enklere da disse ikke trenger å logge inn i Altinn hver gang, men i stedet kan benytte seg av avtalen om utlevering av informasjon gjennom APIet i ID-porten.\nEndringen er bakoverkompatibel slik at eksisterende integrasjoner fortsatt kan anvendes.\nStøtte for delegert tilgang til consentRequest/token-endepunkt Tilgang til å hente ut et token og autentisere seg mot Altinn på vegne av en annen organisasjon er innført.\nEndringer i sluttbrukerløsningen Endring av submitformtask (og dermed også kvitteringer) SubmitFormTask er endret slik at alt gjøres synkront og respons fra tjenesten får med ferdig kvittering. Man trenger derfor ikke gjøre egne kall for å hente kvittering. Endringen bryter ikke eksisterende grensesnitt, men sluttbrukersystemene oppfordres til å fjerne kode for å lese kvittering når kvittering allerede foreligger fra SubmitFormtask. Sluttbrukersystemene må fremdeles lese kvittering i de tilfellene de venter på korrelert meldingstjeneste - f.eks. kvittering fra Skatteetaten på A-melding.\nDiverse feilrettinger Åpning av profil-siden i Altinn med et av panelene åpne kunne føre til feil Det ble i 20.3 innført en mekanisme for å laste profil-siden i Altinn med et av panelene åpne på denne siden. Det ble under arbeidet med denne versjonen av Altinn oppdaget to feil på denne mekanismen. Dette er nå rettet.\nOdata kunne hoppe over samtykker I dagens løsning er det tungvint å skulle hente ut alle forespørsler for en gitt coveredBy, dvs. den person/virksomhet som ønsker å motta rettigheter fra en annen person/virksomhet. Det er derfor laget støtte for OData-filtrering på delegationRequest. Funksjonaliteten er relevant for tjenesteeiere som benytter Altinn som autorisasjonsløsning for sine tjenester.\nSending av SMS gav feilmelding for tjenesteeiere/tjenestekoder med ÆØÅ Dette er nå rettet\nInkonsistens i bruk av navn på organisasjoner i REST API Bruker nå alltid offisielt navn på virksomheter i alle sammenhenger i REST API og ikke redigert navn.\nManglende innslag i aktivitetslogg når tjenesteeier modifiserte Altinn App instans Dette er nå rettet.\nBruker registrert uten fødselsnummer/D-nummer fikk ikke startet App instans Dette er nå rettet.\nManglende validering på innhold av Metadata verdier ved registrering av Samtykkeforespørsel gjennom REST Dette er nå utbedret ved å kreve at det oppgis en verdi for metadata parameterne ved opprettelse i REST.\n\u0026ldquo;Kontroller oppgave/alle\u0026rdquo; validerer ikke riktig når skjema kun har myke feil som kommer fra Altinn regelmotor Myke feil blir nå satt som \u0026ldquo;Med advarsler\u0026rdquo; istedenfor \u0026ldquo;Med feil\u0026rdquo; slik at man får sendt inn skjema fra \u0026ldquo;Oversikt - skjema og vedlegg\u0026rdquo; siden.\nFeil tekst kunne komme opp i enkelte samtykkemaler I enkelte samtykkemaler ville visningen der man skulle behandle samtykkeforespørsler på vegne av en virksomhet inneholde feil formuleringer. Teksten \u0026ldquo;ønsker å utlevere opplysninger om\u0026rdquo; kunne noen ganger komme opp i stede for \u0026ldquo;ønsker å hente opplysninger om\u0026rdquo;. Dette er nå rettet.\n\u0026ldquo;Tilbake\u0026rdquo;-knapp er blitt fjernet i de tilfeller der samtykket allerede er blitt behandlet Etter behandlet samtykke der brukeren klikker tilbake i nettleseren vises det en beskjed om at samtykket allerede er behandlet. Tidligere var det der en \u0026ldquo;Tilbake\u0026rdquo;-knapp som når den ble brukt gav en feil. Den er fjernet. Nå vises det i stede en lenke til oversikt over aktive samtykker.\nDobbeltklikk i samtykkedialogen kunne føre til feil i noen nettlesere Dette er nå rettet.\nFeilmelding i samtykke dialogen er forbedret Ved feil som fører til at en blir sendt til konsumenten med status=Failed får man nå også feilkodene som blir vist i Altinn samt Altinns timestamp. Dette vil kunne lette feilsøkingen for utviklere.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/roadmap/2019/",
	"title": "Altinn Roadmap 2019",
	"tags": [],
	"description": "Overordnet roadmap for videreutvikling av Altinn i 2019.",
	"content": "Q1 - 2019 ✔️ Tilby bruker mulighet til å definere \u0026ldquo;mine favoritt-aktører\u0026rdquo; for å lette aktørvalg i pålogging Tidligere har bruker med mange aktører blitt presentert alle aktører hvor de mest brukte aktørene står øverst. Konseptet \u0026ldquo;mest brukte aktører\u0026rdquo; er fjernet og i stedet er det etablert funksjonalitet for å legge til - og fjerne favorittaktører. Dette ble levert i release 19.3.\nQ2 - 2019 ✔️ Nasjonal tjeneste for dokumentasjonsbevis - eBevis Det er etablert en løsning for innhenting av dokumentasjonsbevis fra leverandør. Denne ble produksjonssatt 4. april, se artikkel på digi.no.\n✔️ Forenkle administrasjon av lokal rolle med mange rettigheter Prosessen med å legge til nye tjenester i en lokal rolle er forenklet. I stedet for å måtte legge til en og en tjeneste kan administrator legge til flere tjenester i en operasjon. Det er også mulig å administrere flere tjenester i samme skjermbilde. Eier av tjenesten vises i søkevinduet slik at det er lettere å velge riktig tjeneste. Dette ble levert i release 19.5.\n✔️ Altinn skytjenester Altinn testmiljø er etablert i sky. Miljøene skal benyttes til å teste tjenester utviklet i Altinn Studio, samt endringer i sluttbrukerløsningen. Dette ble levert i mai 2019.\n✔️ Opprette rolle for hovedadministrator Det er nå mulig for daglig leder/styrets leder eller tilsvarende rolleinnehaver i Enhetsregisteret å peke ut en eller flere tiltrodde medarbeidere i organisasjonen som hovedadministrator for å håndtere all tilgangsstyring i Altinn på vegne av virksomheten. Disse personene vil kunne delegere roller og rettigheter de selv ikke innehar til andre og til seg selv. Dette gjelder også fremtidige roller og rettigheter som opprettes. Det er også mulig for privatpersoner å utnevne en hovedadministrator på vegne av seg selv. Dette ble levert i release 19.6.\nQ3 - 2019 ✔️ Versjonering av webserviceendepunkter (EC2) med sertifikatautentisering For å forbedre ytelse og forenkle integrasjoner med bruk av virksomhetssertifikat har det blitt lagt ut nye versjoner av alle EC-endepunkter. Endringen består av er utelukkende på konfigurasjonsnivå og skal ikke medføre funksjonelle endringer. Les mer her.\nAlle som bruker webserviceer med virksomhetssertfikat mot Altinn bør bytte til de nye endepunktene i løpet av høsten 2019.\nDenne endringen ble levert juli 2019\n✔️ Tilby REST grensesnitt for å opprette (persistent) samtykkeforespørsel og oppdatere tjenesteeierstyrt rettighetsregister (SRR) Det blir nå mulig å ta i bruk en mer robust løsning for å be om - og gi samtykke.\nDagens løsning for å opprette et samtykke benytter url for å sende parametre til en samtykkeside som skal vises for den som skal gi samtykke. Tjenesteeier må bruke webService for å registre regler knyttet til bruk av samtykke. Denne tjenesten er konstruert slik at det er lett for Tjenesteeier å gjøre feil.\nMed denne endringen tilbys to nye REST-tjenester:\n REST for å opprette samtykkeforespørsel. Aktør som ønsker samtykke kaller en REST-tjeneste med nødvendige parametre for å registrere en samtykkeforespørsel. Altinn returnerer en GUID som senere brukes for å sende bruker videre til samtykkedialogen. REST for å oppdatere tjenesteeierstyrt rettighetsregister (SRR) hvor regler endres ved å sende verdier i en godt definert liste  Dette ble levert i release 19.8\n✔️ Ny innlesing av Enhetsregisteret Følgende skal utføres:\n Tilpasning/utvidelse av Enhetsregisteret i Altinn Full re-innlesing av Enhetsregisteret i Altinn  Dette ble utført 29. september\nQ4 - 2019 ✔️ Ny brukerdialog for å be om - og gi rettighet Det blir nå mulig for sluttbruker å \u0026ldquo;be om tilgang\u0026rdquo; til en bestemt rolle eller utføre en bestemt tjeneste. En forespørsel vil da gå til de i virksomheten som har administratormyndighet og som kan ta stilling til om rettighet skal innvilges eller ikke. Endringen omfatter ny dialog og brukergrensesnitt som skal brukes for de som ber om rettighet samt for de som skal gi rettighet.\nDette ble levert i release 19.10\n✔️ Oppgradering av Biztalk Biztalk skal oppgraderes til nyere versjon. Dette er et produkt som anvendes til forsendelse og mottak av data mellom Altinn og tjenesteeiere. Oppgraderingen planlegges gjennomført slik at eksisterende tjenester ikke skal påvirkes.\nNytt Biztalk Cluster ble tatt i bruk 23. oktober\n✔️ Sikkerhet i eOppslag - felles tjeneste fra Maskinporten og Altinn autorisasjon Maskinporten og Altinn skal sammen gjøre det enklare å dele og bruke data på tvers i offentleg forvalting. Maskinporten sørger for å verifisere identiteten til virksomheter og gi disse riktig tilgang til data som offentlege virksomheter tilbyr via API.\nLøsningen fra Maskinporten skal i samarbeid med Altinn utvides slik at det blir mulig å bruke Altinns autorisasjonsløsning for å delegere tilgang til API (en definert delegerbar ressurs) fra den som har \u0026ldquo;lov\u0026rdquo; til å hente data til den som faktisk skal være utførende. Et tenkt brukerscenario som skal løses er \u0026ldquo;Leikanger Kommune har hjemmel til å hente informasjon fra NAV sitt API. Leikanger kommune ønsker at Evry skal bruke APIet for dem.\u0026rdquo;\nLøsningen skal også kunne integreres med API-katalogen slik at API (definert delegerbar ressurs) er synkronisert på tvers av de tre løsningene. Foreslått arkitektur for sikkerhet i eOppslag finnes skissert i Nasjonal Referansearkitektur her: eOppslag.\nDette ble levert i release 19.12\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/anbefalinger/asynkron/",
	"title": "Asynkron flyt",
	"tags": [],
	"description": "Her finner du detaljert informasjon om hvordan asynkrone (&#34;offline&#34;) flyter er anbefalt implementert gjennom bruk av  Altinn Samtykke.",
	"content": "Overordnet Rent teknisk er enhver bruk av samtykkeløsningen asynkron, siden den baserer seg på interaksjon med en sluttbruker gjennom en nettleser, men for enkelhets skyld definerer vi en synkron flyt som en hvor brukeren hele tiden er tilstede og starter og fullfører prosessen hele samtykkeprosessen uten nevneverdig opphold. En asynkron prosess er derimot en som ikke nødvendigvis er startet av sluttbruker, eller som fullføres en stund etter - gjerne dager - etter prosessen ble startet. Synkron/asynkron omfatter prosessen fra en samtykkeforespørsel blir initiert, til et samtykke er gitt (eller nektet). Hvorvidt et samttykke er gyldig over tid, eller prosessen rundt tilbaketrekking av et samtykke har den sammenheng ikke noe betydning.\nDen vanligste flyten er en synkron flyt, hvor også samtykket er kortlevd. I noen sammenhenger er det imidlertid hensiktsmessig å initiere en samtykkeprosess som en indirekte konsekvens av noe sluttbruker/avgiver har foretatt seg. For eksempel kan en entreprenør levere et tilbud på et offentlig anbud, og den offentlige innkjøperen trenger senere i prosessen å innhente et samtykke for å hente taushetsbelagte data om leverandøren som vurderingsgrunnlag. Et annet eksempel kan være en kundebehandler som sender en samtykkeforespørsel etter at en kunde har foretatt en supporthenvendelse.\nPush-varsler som omtalt i dette kapitlet vil ikke leveres før første halvdel av 2021. Dette er en server-til-server/push-basert mekanisme for å underrette konsument/leverandør om at et samtykke er gitt (eller ikke gitt, eller trukket), som supplement til redirectUrl-mekanismen. Dette vil gjøre det mulig for konsumenten/leverandøren å agere på tilstandsendringer for samtykkeforespørsler/samtykker i sanntid, uten å måtte foreta oppslag/polling mot Altinn.\rSekvensdiagram (1) Vil indirekte skje som følge av at brukeren initierer en prosess som krever at konsumenten innhenter et samtykke. Dette kan f.eks. være igangsatt ifm en support-henvendelse fra bruker til konsument. (2) Aktive forespørsler vil kunne vises i portalen til bruker, og varsling vil kunne sendes til registrerte endepunkter hos kunden i KRR/KoFuVi (SMS, e-post) eller via push-notifkasjon på mobil eller desktop. (3) Konsument har selv kontroll på hvordan forespørselen skal distribueres til bruker. Kunden kan selv logge inn i Altinn og finne forespørselen etter mottatt varsel. (4) Hvis forespørselen er konfigurert til å ikke vises i Altinn-portalen, vil brukeren bli forsøkt sendt til oppgitt redirectUrl hos konsumenten. Konsumenten har da selv ansvaret for å distribuere samtykke-lenken til brukeren. Hvis forespørselen vises og besvares fra portalen, vil brukeren ikke bli sendt til redirectUrl, men vil holdes i Altinn. (5) Uavhengig av om brukeren blir sendt til redirectUrl eller holdes i Altinn-portalen, vil det sendes en server-til-server-notifikasjon til konsumenten, på et endepunkt som oppgis i registreringen av forespørselen. (6) Hva konsument benytter opplysningene til er case-spesifikt (7) Logging av uthenting av data tjener to formål: innslag i samtykkeloggen synlig for bruker, og for revokering av éngangssamtykker. (8) Ulik logikk kan benyttes her avhengig av case - f.eks. at det opprettes en ny forespørsel, eller kunde kontaktes. (9) Som ved inngåelse av samtykke, vil det også ved trekking av samtykke genereres en push-notifikasjon hvis oppgitt i den opprinnelige forespørselen som konsument kan velge å agere på hvis hensiktsmessig."
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/regelmotor/betingelser/",
	"title": "Betingelser",
	"tags": [],
	"description": "Betingelser (conditions) brukes til å styre om en regel skal kjøres eller ikke.",
	"content": "Liste over betingelser Som del av regelmotoren er det definert et sett betingelser som kan brukes til å bestemme om en regel skal kjøres eller ikke. Følgende betingelser er tilgjengelige i Altinns regelmotor.\nAnyFieldIsEmpty Denne blir sann der et av de gitte feltene er tomme.\n\u0026lt;Condition type=\u0026#34;AnyFieldIsEmpty\u0026#34; check=\u0026#34;Skjema/Tilbakebetaling/Krav/Krav1, Skjema/Tilbakebetaling/Krav/Krav2\u0026#34;/\u0026gt; Parameter\nListe av felter i skjemaet gitt i Source-noden. Feltene blir separert av et komma.\nAnyFieldIsMissing Betingelsen er sann dersom et av de gitte felt mangler fra xml-en.\n\u0026lt;Condition type=\u0026#34;AnyFieldIsMissing\u0026#34; check=\u0026#34;orid(33005),orid(33004)\u0026#34;/\u0026gt; Parameter\nListe av felter i skjemaet gitt i Source-noden. Feltene blir separert av et komma.\nAnyFieldIsPositive Blir sann dersom et av de gitte feltene har en positiv verdi.\n\u0026lt;Condition type=\u0026#34;AnyFieldIsPositive\u0026#34; check=\u0026#34;orid(19890),orid(19792),orid(19794)\u0026#34;/\u0026gt; Parameter\nListe av felter i skjemaet gitt i Source-noden. Feltene blir separert av et komma.\nAnyFieldHasValue Betingelsen blir sann hvis et av de gitte feltene har en verdi.\n\u0026lt;Condition type=\u0026#34;AnyFieldHasValue\u0026#34; check=\u0026#34;orid(19890),orid(19792),orid(19794)\u0026#34;/\u0026gt; Parameter\nParameteren definerer en liste av felter i skjemaet gitt i Source-noden. Feltene blir separert av et komma.\nAnyFieldHasValueIgnoreZero Betingelsen blir sann hvis et av de gitte feltene har en verdi. Tallet 0 blir ikke regnet som en verdi.\n\u0026lt;Condition type=\u0026#34;AnyFieldHasValueIgnoreZero\u0026#34; check=\u0026#34;orid(19890),orid(19792),orid(19794)\u0026#34;/\u0026gt; Parameter\nParameteren definerer en liste av felter i skjemaet gitt i Source-noden. Feltene blir separert av et komma.\nAnyFieldEquals Er sann dersom et av de gitte felt har en verdi som er lik den gitte verdien.\n\u0026lt;Condition type=\u0026#34;AnyFieldEquals\u0026#34; check=\u0026#34;Skjema/Utbetaling/Post1, Skjema/Tilbakebetaling/Krav1\u0026#34; value=\u0026#34;Ja\u0026#34;/\u0026gt; Parameter\nListe av felter i skjemaet gitt i Source-noden. Feltene blir separert av et komma. value-attributtet definerer verdien feltene sjekkes mot.\nAnyFieldNotEquals Er sann dersom et av de gitte felt har ikke har en verdi som er lik den gitte verdien.\n\u0026lt;Condition type=\u0026#34;AnyFieldNotEquals\u0026#34; check=\u0026#34; Skjema/Utbetaling/Post1, Skjema/Tilbakebetaling/Krav1\u0026#34; value=\u0026#34;Ja\u0026#34;/\u0026gt; Parameter\nListe av felter i skjemaet gitt i Source-noden. Feltene blir separert av et komma. value-attributtet definerer verdien feltene sjekkes mot.\nAnyFieldExists Er sann dersom et av de gitte feltene i check eksisterer.\n\u0026lt;Condition type=\u0026#34;AnyFieldExists\u0026#34; check=\u0026#34;Skjema/Utbetaling/Post1, Skjema/Tilbakebetaling/Krav1, Skjema/Utbetaling/Post2, Skjema/Tilbakebetaling/Krav2\u0026#34; /\u0026gt; Parameter\nBruk check for å fortelle hvilke felt som skal sjekkes.\nCodeExistsInCodelist Brukes til å sjekke om en verdi finnes i en kodeliste\n\u0026lt;Condition type=\u0026#34;CodeExistsInCodelist\u0026#34; check=\u0026#34;orid(33)\u0026#34;/\u0026gt; Parameter\ncheck brukes til å fortelle hvilket felt eller hvilken verdi som skal sjekkes. Du kan ikke bruke XPath for denne betingelsen.\nCodeNotInCodelist Blir sann dersom en verdi ikke finnes i en kodeliste.\n\u0026lt;Condition type=\u0026#34;CodeNotInCodelist\u0026#34; check=\u0026#34;orid(33)\u0026#34;/\u0026gt; Parameter\ncheck brukes til å fortelle hvilket felt eller hvilken verdi som skal sjekkes. Du kan ikke bruke XPath for denne betingelsen.\nContainsAny Er sann dersom verdien av et gitt felt inneholder en av de gitte verdiene.\n\u0026lt;Condition type=\u0026#34;ContainsAny\u0026#34; check=\u0026#34;orid(34409)\u0026#34; value=\u0026#34;Nei,0\u0026#34;/\u0026gt; Parameter\nParameteren for denne betingelsen definerer feltet (i check) og en liste av verdier separert med komma (i value).\nEquals Denne betingelsen blir sann om det gitte feltet har en verdi som er lik den gitte verdien.\n\u0026lt;Condition type=\u0026#34;Equals\u0026#34; check=\u0026#34;Skjema/Tilbakebetaling/Krav/Krav1\u0026#34; value=\u0026#34;1000\u0026#34;/\u0026gt; Parameter\nListe av felter i skjemaet gitt i Source-noden. Feltene blir separert av et komma. Verdien det sjekkes mot blir angitt i attributtet value. Du kan ikke bruke XPath for denne betingelsen.\nNotEquals Denne er sann dersom det gitte feltet har en verdi som ikke er lik den gitte verdien.\n\u0026lt;Condition type=\u0026#34;NotEquals\u0026#34; check=\u0026#34;orid(34071)\u0026#34; value=\u0026#34;100\u0026#34;/\u0026gt; Parameter\nListe av felter i skjemaet gitt i Source-noden. Feltene blir separert av et komma. Verdien det sjekkes mot blir angitt i attributtet value. Du kan ikke bruke XPath for denne betingelsen.\nSumEquals Denne betingelsen er sann dersom summen av feltene i check er lik summen av feltene i value.\n\u0026lt;Condition type=\u0026#34;SumEquals\u0026#34; check=\u0026#34;orid(34408),orid(34409)\u0026#34; value=\u0026#34;orid(34588),orid(34510)\u0026#34;/\u0026gt; Parameters\nListe av felter i skjemaet gitt i Source-noden som skal summeres. En gruppe i check og en annen gruppe i value. Feltene blir separert av et komma. Du kan ikke bruke XPath for denne betingelsen.\nSumNotEquals Denne betingelsen er sann dersom summen av feltene i check ikke er lik summen av feltene i value.\n\u0026lt;Condition type=\u0026#34;SumNotEquals\u0026#34; check=\u0026#34;orid(34408),orid(34409)\u0026#34; value=\u0026#34;orid(34588),orid(34510)\u0026#34;/\u0026gt; Parameters\nListe av felter i skjemaet gitt i Source-noden som skal summeres. En gruppe i check og en annen gruppe i value. Feltene blir separert av et komma. Du kan ikke bruke XPath for denne betingelsen.\nSumNotEqualsWithRange Blir sann dersom summen av feltene i check ikke er innenfor et område. Du kan bare ha et felt i denne betingelsen, avviket skal være parameter nummer to.\n\u0026lt;Condition type=\u0026#34;SumNotEqualsWithRange\u0026#34; check=\u0026#34;orid(34408),orid(34409)\u0026#34; value=\u0026#34;orid(34588),20\u0026#34;/\u0026gt; Parameters\nListe av felter i skjemaet gitt i Source-noden som skal summeres i check. value skal være først en direkte verdi eller et felt som verdien skal hentes fra, og deretter hvor stor avvik som skal tillates. Feltene blir separert av et komma. Du kan ikke bruke XPath for denne betingelsen.\nIsPositive Denne betingelsen er sann om det gitte feltet har en positiv verdi. Tallet 0 blir ikke regnet som positivt.\n\u0026lt;Condition type=\u0026#34;IsPositive\u0026#34; check=\u0026#34;/Skjema/Tilbakebetaling/Krav/Krav1\u0026#34; form=\u0026#34;62\u0026#34;/\u0026gt; Parameter\nParameter for denne metoden er en enkelt referanse (i check-attributet) til et felt i skjemaet definert i attributtet form.\nIsPositiveIncludingZero Denne betingelsen er sann om det gitte feltet har en positiv verdi. Tallet 0 blir regnet som positivt.\n\u0026lt;Condition type=\u0026#34;IsPositiveIncludingZero\u0026#34; check=\u0026#34; Skjema/Utbetaling/Post1, Skjema/Tilbakebetaling/Krav1\u0026#34;/\u0026gt; Parameter\nParameter for denne metoden er en enkelt referanse (i check-attributet).\nIsPrefilled Finner ut om et felt eller gruppen den er del av er preutfylt.\n\u0026lt;Condition type=\u0026#34;IsPrefilled\u0026#34; check=\u0026#34; Skjema/Utbetaling/Post1, Skjema/Tilbakebetaling/Krav1\u0026#34;/\u0026gt; Parameter\nHvilket felt som skal sjekkes legges inn i check.\nNotPrefilled Blir sann dersom et felt eller gruppen den er del av er preutfylt.\n\u0026lt;Condition type=\u0026#34;NotPrefilled\u0026#34; check=\u0026#34;orid(20804)\u0026#34;/\u0026gt; Parameter\nHvilket felt som skal sjekkes legges inn i check.\nIsNegative Denne er sann om det gitte feltet har en negativ verdi.\n\u0026lt;Condition type=\u0026#34;IsNegative\u0026#34; check=\u0026#34;orid(32969)\u0026#34;/\u0026gt; Parameter\nParameteren er en enkelt referanse i check til et felt i skjemaet som er gitt i Source-noden.\nIsEmpty Denne betingelsen er sann om et felt er tomt..\n\u0026lt;Condition type=\u0026#34;IsEmpty\u0026#34; check=\u0026#34;orid(34116)\u0026#34;/\u0026gt; Parameter\nParameteren definerer et enkelt felt i skjemaet definert i Source-noden.\nIsEmptyWithZeroValue Er sann om et felt er tomt. Tallet 0 blir regnet som en verdi.\n\u0026lt;Condition type=\u0026#34;IsEmptyWithZeroValue\u0026#34; check=\u0026#34; Skjema/Utbetaling/Post1, Skjema/Tilbakebetaling/Krav1\u0026#34; value=\u0026#34;Ja\u0026#34;/\u0026gt; Parameter\nParameteren definerer et enkelt felt i check.\nIsMissing Denne er sann dersom et felt mangler i skjema-xml-en (ikke er til stede i xml-en).\n\u0026lt;Condition type=\u0026#34;IsMissing\u0026#34; check=\u0026#34;orid(19794)\u0026#34;/\u0026gt; Parameter\nDefinerer et enkelt felt i skjemaet funnet i Source-noden.\nIsNonValidEmail Sjekker om verdien er en gyldig epost-adresse. Returnerer sann dersom verdien ikke følger formatet til epost-adresse.\n\u0026lt;Condition type=\u0026#34;IsNonValidEmail\u0026#34; check=\u0026#34;orid(3344)\u0026#34;/\u0026gt; Parameter\nFeltet som skal sjekkes fyller du ut i check. Du kan ikke bruke XPath for denne betingelsen.\nIsValidSSN Blir sann om det gitte feltet inneholder et nummer som følger formatet for personnummer (modulus-sjekk). Den vil ikke sjekke om det faktisk finnes en person som har dette personnummeret.\n\u0026lt;Condition type=\u0026#34;IsValidSSN\u0026#34; check=\u0026#34;orid(20804)\u0026#34;/\u0026gt; Parameter\nDefinerer feltet som skal bli sjekket for personnummer.\nIsNonValidSSN Blir sann om det gitte feltet ikke inneholder et nummer som følger formatet for personnummer (modulus-sjekk). Den vil ikke sjekke om det faktisk finnes en person som har dette personnummeret.\n\u0026lt;Condition type=\u0026#34;IsNonValidSSN\u0026#34; check=\u0026#34;orid(20804)\u0026#34;/\u0026gt; Parameter\nDefinerer feltet som skal bli sjekket for personnummer.\nIsValidOrgNr Denne betingelsen blir sann dersom det gitte feltet inneholder en verdi som passer med formatet for organisasjonsnummer.\n\u0026lt;Condition type=\u0026#34;IsValidOrgNr\u0026#34; check=\u0026#34;orid(34091)\u0026#34;/\u0026gt; Parameter\nDefinerer feltet som skal sjekkes for organisasjonsnummer.\nIsNonValidOrgNr Denne betingelsen blir sann dersom det gitte feltet inneholder en verdi som ikke passer med formatet for organisasjonsnummer.\n\u0026lt;Condition type=\u0026#34;IsNonValidOrgNr\u0026#34; check=\u0026#34;orid(34091)\u0026#34;/\u0026gt; Parameter\nDefinerer feltet som skal sjekkes for organisasjonsnummer.\nGreaterThan Denne er sann dersom verdien i et gitt felt er større enn den gitte verdien.\n\u0026lt;Condition type=\u0026#34;GreaterThan\u0026#34; check=\u0026#34;orid(6824)\u0026#34; value=\u0026#34;2014\u0026#34;/\u0026gt; Parameter\nDefinerer feltet i checkog verdien det skal sammenlignes med i value. Du kan ikke bruke XPath for denne betingelsen.\nLessThan Denne er sann dersom verdien i et gitt felt er mindre enn den gitte verdien.\n\u0026lt;Condition type=\u0026#34;LessThan\u0026#34; check=\u0026#34;orid(6827)\u0026#34; value=\u0026#34;1900\u0026#34;/\u0026gt; Parameter\nDefinerer feltet i checkog verdien det skal sammenlignes med i value. Du kan ikke bruke XPath for denne betingelsen.\nHasValue Er sann dersom det gitte feltet har en verdi. Tallet 0 er regnet som en verdi.\n\u0026lt;Condition type=\u0026#34;HasValue\u0026#34; check=\u0026#34;orid(6824)\u0026#34;/\u0026gt; Parameter\ncheck definerer feltet som skal sjekkes.\nHasValueIgnoreZero Er sann dersom det gitte feltet har en verdi. Tallet 0 er ikke regnet som en verdi.\n\u0026lt;Condition type=\u0026#34;HasValueIgnoreZero\u0026#34; check=\u0026#34;orid(6824)\u0026#34;/\u0026gt; Parameter\ncheck definerer feltet som skal sjekkes.\nNotPrefilled Denne betingelsen er sann dersom det gitte feltet ikke er pre-utfylt. Dette vil bare virke med selvangivelsetjenestene (APE) som er merket med pre-utfylte verdier.\n\u0026lt;Condition type=\u0026#34;NotPrefilled\u0026#34; check=\u0026#34;orid(22689)\u0026#34;/\u0026gt; Parameters\nDefinerer feltet som skal bli sjekket for pre-utfylling.\nExists Blir sann dersom det gitte feltet eksisterer i xml-en.\n\u0026lt;Condition type=\u0026#34;Exists\u0026#34; check=\u0026#34;orid(34295)\u0026#34;/\u0026gt; Parameter\nDefinerer feltet som det skal bli sjekket om eksisterer.\nHasForm Blir sann dersom skjemasettet inneholder et gitt skjema.\n\u0026lt;Condition type=\u0026#34;HasForm\u0026#34; form=\u0026#34;618\u0026#34;/\u0026gt; Parameter\nDefinerer dataformat-id for skjemaet det skal sjekkes at er i skjemasettet.\nMissingForm Blir sann dersom skjemasettet mangler et gitt skjema.\n\u0026lt;Condition type=\u0026#34;MissingForm\u0026#34; form=\u0026#34;618\u0026#34;/\u0026gt; Parameters\nDefinerer dataformat-id for skjemaet det skal sjekkes for.\nMatchPattern Sjekker om verdien oppfyller et regulært uttrykk (regular expression/regex). Returnerer sann dersom det er en match. (Regulære uttrykk er en måte å finne ut om en tekst oppfyller definerte kriterier. Hvordan du lager slike uttrykk faller utenfor denne håndboka. Du vil finne mange guider om dette på nettet.)\n\u0026lt;Condition type=\u0026#34;MatchPattern\u0026#34; check=\u0026#34;orid(33)\u0026#34; value=\u0026#34;([A-Z])\\w+\u0026#34;/\u0026gt; Parameter\nLegg feltet som skal sjekkes i check og det regulære uttrykket i value. Du kan ikke bruke XPath for denne betingelsen.\nDoesNotMatchPattern Sjekker om verdien oppfyller et regulært uttrykk (se MatchPattern). Returnerer sann dersom det ikke er en match.\n\u0026lt;Condition type=\u0026#34;DoesNotMatchPattern\u0026#34; check=\u0026#34;orid(222)\u0026#34; value=\u0026#34;([A-Z])\\w+\u0026#34;/\u0026gt; Parameter\nLegg feltet som skal sjekkes i check og det regulære uttrykket i value. Du kan ikke bruke XPath for denne betingelsen.\nHasAnyForm Blir sann dersom skjemasettet inneholder et av de gitte skjemaene.\n\u0026lt;Condition type=\u0026#34;HasAnyForm\u0026#34; form=\u0026#34;1,2,61\u0026#34;/\u0026gt; Parameter\nDefinerer dataformat-ider for skjemaene det skal sjekkes for. De skal skilles med komma.\nValueNotInCodeList Denne betingelsen blir sann dersom et gitt felt ikke er lik en verdi fra en gitt kodeliste.\n\u0026lt;Condition type=\u0026#34;ValueNotInCodeList\u0026#34; codelist=\u0026#34;ASF_Land\u0026#34; check=\u0026#34;orid(34112)\u0026#34; value=\u0026#34;3\u0026#34;/\u0026gt; Parameters\nDefiner kodelisten i «codelist», feltet i check og verdien i value. Du kan ikke bruke XPath for denne betingelsen.\nValueFoundMoreThanOnceInFields Sjekker om verdien finnes i mer enn et av de feltene du oppgir.\n\u0026lt;Condition type=\u0026#34;ValueFoundMoreThanOnceInFields\u0026#34; check=\u0026#34;orid(20804), orid(20805), orid(20806)\u0026#34; value=\u0026#34;orid(2045)\u0026#34;/\u0026gt; Parameter\nBruk check for å angi feltene, og value for å gi verdien det skal sjekkes mot. Du kan ikke bruke XPath for denne betingelsen.\nNoneFieldHasValue Returnerer sann dersom ingen av feltene har en ­verdi.\n\u0026lt;Condition type=\u0026#34;NoneFieldHasValue\u0026#34; check=\u0026#34;orid(20804), orid(20805)\u0026#34;/\u0026gt; Parameter\nFeltene definerer du i check.\nNotEqualAcrossMultipleForms Sjekker om en verdi ikke er lik over flere skjema. Returnerer sann dersom verdien er funnet mer enn en gang.\n\u0026lt;Condition type=\u0026#34;NotEqualAcrossMultipleForms\u0026#34; check=\u0026#34;orid(20804)\u0026#34; value=\u0026#34;orid(20810)\u0026#34;/\u0026gt; Parameter\nLegg feltene som skal sjekkes i check, og verdien som skal sjekkes i value. Du kan ikke bruke XPath som value i denne betingelsen. For check vil XPath kunne brukes.\nAnyFieldIsPositiveIncludingZero Sjekker om noen av de gitte feltene har positiv verdi inkludert 0.\n\u0026lt;Condition type=\u0026#34;AnyFieldIsPositiveIncludingZero\u0026#34; check=\u0026#34;orid(18116),orid(26537)\u0026#34;/\u0026gt; Parameter\nFeltene definerer du i check.\nDuplicatedValue Sjekker om gitt felt inneholder dupliserte verdier.\n\u0026lt;Condition type=\u0026#34;DuplicatedValue\u0026#34; check=\u0026#34;orid(19890)\u0026#34;/\u0026gt; Parameter\nFeltet definerer du i check.\nDateNotWithinRange Sjekker om datoen i et gitt felt er innenfor en gitt periode (spesifisert med to datoer, kommaseparert).\n\u0026lt;Condition type=\u0026#34;DateNotWithinRange\u0026#34; check=\u0026#34;orid(35505)\u0026#34; value=\u0026#34;01-01-2012,31-12-2014\u0026#34;/\u0026gt; Parameter\nFeltet definerer du i check. value forteller hvilken periode det skal sjekkes mot.\nHasAttachment Sjekker om et gitt vedlegg finnes for en form\n\u0026lt;Condition type=\u0026#34;HasAttachment\u0026#34; form=\u0026#34;AT03_Cycle01\u0026#34;/\u0026gt; Parameter\nVedlegg definerer du i form.\nHasAnyAttachment Sjekker om noe av gitt vedlegg finnes for en form\n\u0026lt;Condition type=\u0026#34;HasAnyAttachment\u0026#34; form=\u0026#34;AT02_Cycle01, AT03_Cycle01, AT04_Cycle01, AT06_Cycle01\u0026#34;/\u0026gt; Parameter\nVedlegg (kommaseparert) definerer du i form.\nMissingAttachment Sjekker om et gitt vedlegg finnes ikke for en form\n\u0026lt;Condition type=\u0026#34;MissingAttachment\u0026#34; form=\u0026#34;AT01_Cycle01\u0026#34;/\u0026gt; Parameter\nVedlegg definerer du i form.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/rest/formidling/",
	"title": "Formidling",
	"tags": ["TODO"],
	"description": "Altinns REST-funksjonalitet for formidlingstjenester",
	"content": "Per nå er det bare uthenting av filer lastet opp på formidlingstjenesten som er tilgjengelig via API.\nEn mer utfyllende beskrivelse av formidlingstjenesten i Altinn kommer etter hvert under Guider.\nLaste ned filer fra formidlingstjeneste GET https://www.altinn.no/api/{who]/brokerservice/files/{filereference} ApiKey: myKey Accept: application/hal+json "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/datakonsument/hente-token/",
	"title": "Hente token",
	"tags": [],
	"description": "Hvordan veksle inn autorisasjonskode i token",
	"content": "Se også våre anbefalinger knyttet til verifisering av gitt samtykke.\rVeksle inn autorisasjonskode i token Autorisasjonskoden som datakonsument mottar fra Altinn når sluttbruker har samtykket benyttes til å hente token.\nAv hensyn til bakoverkompabilitet støttes det token-uthenting med kun API-nøkkel uten øvrige autentiseringsmekanismer. Dette krever at man oppgir en API-nøkkel som er registrert på organisasjonsnummer som enten tilsvarer mottaker (CoveredBy) av samtykke eller leverandør som kan behandle samtykker på vegne av mottaker (HandledBy).\nTokenet som returneres vil være en JSON-streng bestående av et Json Web Token (JWT).\nFor å hente ut token ved hjelp av autorisasjonskode over REST gjør man følgende HTTPS-request til Altinn:\nGET /api/authorization/token/{AuthorizationCode} HTTP/1.1 Host: www.altinn.no ApiKey: {ApiKey} Accept: application/json Altinn vil i 2021 tilby et alternativt endepunkt for utstedelse av tokens, les mer på anbefalinger knyttet til verifisering av gitte samtykker.\r{AuthorizationCode} og {ApiKey} erstattes med reelle verdier. Dette gir en respons tilsvarende dette\n\u0026#34;eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkthUGxpMFJUdVVUcl9yUXJWSmhzQkNXQS0yayJ9.eyJTZXJ2aWNlQ29kZXMiOi I0NjI5LDEiLCJBdXRob3JpemF0aW9uQ29kZSI6ImY0NTQ5NDNlLTNiNTctNGI0YS1iYjRjLTNkZjY0YTgwMmQ4NyIsIk9mZmVyZWRCeSI6I jA2MTE3NzAxNTQ3IiwiQ292ZXJlZEJ5IjoiOTEwNTE0MzE4IiwiRGVsZWdhdGVkRGF0ZSI6IjI3LjEwLjIwMTYgMjE6MTE6MTciLCJWYWxp ZFRvRGF0ZSI6IjA1LjAxLjIwMTcgMTA6MzA6MDAiLCJpc3MiOiJhbHRpbm4ubm8iLCJleHAiOjE0Nzc1OTU1MTcsIm5iZiI6MTQ3NzU5NTQ 4N30.S9RBNazx2Ml0R93cSEf_LC5YP2UcYtFf7w6JH_OPy_MK1HhVIxA2e-5DQjPV53HmKBhlHmL3Wxz36KzIXddfz1olKLEK7Xqn61FJFL TCiReKcySRcvDtRhLtFVH8zT-VcaEEXyA9_tTUumUVKTqy9vPMDOYAhmih55uT__Ghs5UQbxDZXLJ08f-SDUq-wlcbU8TFLfBnrQBxF53Sf L3BvmjYTg_xm69mBRkGuW431fZnMiY_U3Omrd0gHniu8ri33lpEaL3ip1Lq65QC_jVzy2WHN1RdQCA5WiYGJ89GoSZL2eAtCS8d7qngsMUu zBPpcn4hDiI7MkK4RWrAc2drTw\u0026#34; Merk at responsen som standard kommer i form av en JSON-streng, som altså er omsluttet av \u0026quot;. Hvis Accept: application/xml benyttes, vil tokenet bli omsluttet i en \u0026lt;string\u0026gt;-tag.\rHvis datakilde ønsker å verifisere verdier i tokenet, må det dekodes. Se her for eksempel på dekodet token samt informasjon om sertifikat som må benyttes ved dekoding.\nREST-tjenesten returnerer 403 dersom oppgit AuthorizationCode er ugyldig eller API-nøkkelen ikke har tilgang til angitt autorisasjonskode:\n403 The API key is not authorized for this operation, or the supplied authorization code is either expired or invalid. Hente data fra datakilden ved hjelp av Altinn-signert token Når datakonsument har mottatt Altinn-signert token benyttes dette i request mot datakilden for å få tilgang til data. Formatet på hvordan denne informasjonen overføres må avtales mellom datakilde og datakonsument, og styres ikke av Altinn.\nToken har 30 sekunders varighet og datakonsument må be om nytt token når det har gått ut (benytt samme autorisasjonskode om igjen).\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/logic/",
	"title": "Logikk",
	"tags": [],
	"description": "Hvordan legge til, endre og konfigurere applikasjonslogikk som validering, kalkulering og dynamikk.",
	"content": "\rGenerelt\rOversikt over logikkfiler og hvordan de kan brukes.\n\r\rDynamikk\rHvordan legge til dynamikk?\n\r\rInstansiering\rHvordan legge til logikk som skal kjøres ved instansiering?\n\r\rKalkuleringer\rHvordan legge til kalkuleringer?\n\r\rValidering\rHvordan legge til logikk for å validere skjemadata?\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/seres/modellere-informasjon/",
	"title": "Modellere informasjon i SERES Domeneklient",
	"tags": [],
	"description": "Denne klienten speiler innholdet av SERES Repository og tillater inspeksjon, innlegging og endringer av modellene på alle nivåer - dvs. begrepsnivået (begreper og begrepsrelasjoner), strukturnivået (strukturmodeller med strukturelementer) og implementasjonsnivået (bruksnære elementer i data- og meldings- og presentasjonsmodeller).",
	"content": "Utvikling av meldings- og presentasjonsmodeller er tilpasset Altinn II-tjenesteutvikling og –realisering. Denne utviklingen baseres på gjenbruk av strukturelementer og knytning til begreper.\nRelasjoner mellom de forskjellige elementer i modellene kan følges og ev. endres. Brukeren kan kopiere hele modeller eller deler av modeller innenfor de regler som er definert, redigeringer kan angres og det er mulig å holde flere modeller innenfor et domene aktive samtidig for sammenligning eller kopiering. Bruker oppretter nye versjoner for videre bearbeiding av modellinnholdet i en modell. Endringer i en versjon lagres direkte til repository og alle som har skrivetilgang til modellen kan gjøre endringer på arbeidsversjonen. Med kommandoen \u0026ldquo;Godkjenn\u0026rdquo; endres statusen på en versjon fra \u0026ldquo;i arbeid\u0026rdquo; til \u0026ldquo;publisert\u0026rdquo;. Alle som har tilgang til Domeneklienten kan lese modeller som har status \u0026ldquo;publisert\u0026rdquo; eller \u0026ldquo;historisk\u0026rdquo;.\nKlienten inneholder funksjonalitet for validering av data på valgfritt nivå i modellen. Feil som blir identifisert blir listet opp med lenke til stedet hvor feilen er i modellen. Det er også funksjonalitet for en parameterstyrt generering av XSD.\nKlienten inneholder online brukerdokumentasjon og situasjonstilpassede hjelpetekster. I tillegg finnes det brukerveiledninger for innføring i verktøyet og hjelp til modellering fra «a til å». Det er også mulig å sende spørsmål pr. e-post til Digitalisering Servicedesk.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/",
	"title": "Samtykke",
	"tags": [],
	"description": "Med samtykke/fullmakt kan du be om lov til å hente/dele data det offentlige har om en innbygger eller virksomhet, eller utføre noe på vegne av dem. Du får da midlertidig innsyns- eller handlingsrett på et spesifikt sett med opplysninger eller tjenester fra brukeren. Dette kan for eksempel være ligningsdata fra Skatteetaten.",
	"content": "Dataene kan hentes/deles i ulike formater og enten via Altinn eller utenom. Se et eksempel på dataflyt i Samtykkebasert lånesøknad.\nUtvikling av en løsning for å ta i bruk samtykke involverer gjerne flere parter. Ønsker du å få tilgang til data du trenger i din saksbehandling må du gå i dialog med den etaten som har de dataene eller tilbyr de tjenestene du trenger, slik at dere kan samarbeide om å lage en god løsning.\nDenne guiden benytter for enkelhets skyld begrepet \u0026ldquo;samtykke\u0026rdquo;, men det støttes også bruk av begrepet \u0026ldquo;fullmakt\u0026rdquo; hvis det er påkrevd.\rVed bruk av samtykke i Altinn er det som regel tre parter, men kan inneholde en fjerde:\n Datakilde: I de fleste sammenhenger har tjenesteeier (eier av samtykketjenesten) dataene lagret hos seg. Datakonsument: Den som trenger tilgang til data for å bruke dem i sine egne prosesser. Sluttbruker: Den som eier dataene og som kan gi samtykke til at datakilden kan dele data om dem med datakonsumenten. Leverandør: Part som foretar teknisk integrasjon og er databehandler på vegne av datakonsumenten.\n  Slik går du frem:\n Start med å definere brukerbehov\nDet er viktig å tenke gjennom brukerbehovene løsningen skal dekke. Hvem skal bruke løsningen, hvilke data skal hentes og hvem skal bruke dem? Lag gjerne en skisse til kommunikasjon med brukeren og test skissen på folk i målgruppen. God planlegging er nøkkelen til et godt resultat. Sjekk Guide: Hvordan jobbe brukerorientert? for inspirasjon. Tilgang til systemer\nHvis du ikke har utviklet tjenester i Altinn før trenger du tilgang til våre løsninger. Datakilde/tjenesteeier trenger tilgang til Altinn sin tjenesteutviklingsløsning for å lage samtykketjenesten. Les Kom i gang med utvikling. Den som skal koble seg på og bruke dataene trenger en API-nøkkel. Les Hvordan komme i gang som datakonsument. Lag samtykketjenesten i Altinn sin tjenesteutviklingsløsning\nTjenesteeier, som har datakilden, lager tjenesten som benyttes for å gi samtykke. Les utviklerguide til samtykke. Få tilgang til data\nSamtykkeløsningen er etablert slik at tjenesteeier har stor fleksibilitet i hvordan data de har skal tilbys til datakonsument. Data kan gå via Altinn eller utenom, og kan tilbys via forskjellige formater og grensesnitt. Dette må partene bli enige om. Datakonsument kan lese utviklerguide til å koble seg på samtykketjeneste for mer informasjon. Teste tjeneste\nTjeneste og grensesnitt må testes i Altinn sitt testmiljø. Det benyttes fiktive testpersoner og -organisasjoner i våre testmiljø. Les i vår utviklingsguide hvordan du tester tjenesten som en tjenesteeier og som en datakonsument. Det er også viktig med brukertesting for å sikre en god opplevelse for de som skal bruke de ferdige tjenestene. Ved samtykke er det særdeles viktig at den som skal gi samtykke har fått tilstrekkelig informasjon til å vite hva det samtykkes til. Produksjonssette tjeneste\nNår tjenesten er testet ende til ende kan den produksjonssettes. Dette bestilles hos Altinn. Det bør tas høyde for å verifisere at tjenesten fungerer tilfredsstillende i produksjonsmiljøet før den publiseres for reelle brukere.  Samtykkebasert lånesøknad\nHvis du jobber for en bank, forsikringsselskap eller lignende og ønsker å hente inn skattegrunnlag og inntektsdata hos Skatteetaten, kan du følge BITS guide til samtykkebasert lånesøknad.\n\rFor sluttbruker\rSamtykkeløsningen gir sluttbrukere mulighet til å gi samtykke til innsyn i sine data eller data for organisasjoner sluttbruker har rettighet for.\n\r\rFor datakilde\rUtføres av datakilde/tjenesteeier\n\r\rFor datakonsument\rUtføres av datakonsument\n\r\rAnbefalinger og eksempler\rMer om prosess og typiske og anbefalte mønstre for bruk av Altinn Samtykke\n\r\rBegrepsliste for samtykke\rBegreper som benyttes ifbm. samtykkeløsningen.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/prosjekter/tjenester30/satsingsforslag/",
	"title": "Satsingsforslag 2018",
	"tags": [],
	"description": "Kort oppsummering av satsingsforslag for 2018.",
	"content": "Det ser nå ut til at Altinn får 55 millioner for 2018. Merk at dette er et totalbeløp som også skal dekke andre områder enn tjenester 3.0.\nOppsummering For å nå målsettingene i Regjeringens satsingsområde konkurransekraft for norske arbeidsplasser, Digital agenda og å nå målene i Altinn-strategien, foreslås det å modernisere Felleskomponenten Altinn.\nVidereutvikling av Altinn legger til rette for økt realiseringstakt av helhetlige digitale offentlige sluttbrukertjenester, og muliggjør prinsippet om at informasjon til det offentlige skal leveres kun én gang. Selvbetjente verktøy for tjenesteproduksjon skal forenkle, og det skal legges bedre til rette for samhandling, innovasjon og informasjonsdeling ved bruk av Altinn.\nFormålet med tiltaket er:\n Helhetlig offentlige sluttbrukertjenester med brukeren i sentrum Informasjon til det offentlige skal leveres kun én gang  "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/prosjekter/tjenester30/dev-in-code/",
	"title": "Utvikling i kode-editor",
	"tags": [],
	"description": "Hvordan 3.0 kan tilpasses med bruk av kode-editorer.",
	"content": "TODO\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/prosjekter/tjenester30/dev-in-browser/",
	"title": "Utvikling i nettleser",
	"tags": [],
	"description": "Hvordan 3.0 kan benyttes av fagpersoner via nettleser.",
	"content": "TODO\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/varsling/",
	"title": "Varsling",
	"tags": [],
	"description": "Varsling er til for å minne brukerne på at det er kommet viktige ting de må se eller handle på. Når du som avsender skal varsle, tilrettelegger du dine systemer for å sende ut varsler og benytter en varslingsmal.",
	"content": "Slik går du frem:\n Definere brukerbehov\nHvilket behov skal tjenesten dekke? Er brukeren en person eller en organisasjon – eller kanskje begge deler? Hva skal formidles til bruker? Hvordan skal du varsle? Les Guide - Hvordan jobbe brukerorientert Få tilgang til systemer\nHvis du ikke har utviklet tjenester i Altinn før trenger du tilgang til våre løsninger. For å sende varsler trenger du tilgang for å benytte Altinn sine Web Servicer. I Kom i gang med utvikling kan du lese om hvordan du får tilganger. Tilrettelegge egne systemer for sending og mottak av data\nFor å kunne sende og motta data trenger du å legge til rette for dette i de interne systemene. Den mest brukte formen for integrasjon mot Altinn er ved bruk av SOAP, men batch er også mulig hvis det er snakk om store datamengder. Ta i bruk en varslingsmal\nVarsler som sendes ut er basert på en varslingsmal. Altinn har predefinerte maler samt maler som er opprettet slik at du kan sende egendefinerte tekststrenger. Du velger selv hvilken mal du ønsker å bruke. Det er også mulig å få laget sin egen mal. Les mer om Varslingsmaler. Sende ut varsler\nNår dine systemer er satt opp og du har funnet ut hvilken varslingsmal du skal ta i bruk, er du klar for å sende ut varsler. Varslene kan sendes ut sammen med et skjema som legges klart for utfylling, sammen med en melding/brev som sendes ut, eller du kan sende et varsel som ikke er knyttet til en tjeneste. Teste tjenestene\nTjenester og grensesnitt testes i Altinn sitt testmiljø. Det benyttes fiktive testpersoner og -organisasjoner i våre testmiljø. Når du har kommet så langt i utviklingen er det også viktig å ha brukerteste den endelige løsningen på reelle folk i målgruppen. Dette for å sikre at det ikke er noen showstoppere for de som skal bruke tjenestene. Produksjonssette tjenestene\nNår tjenesten og tilhørende grensesnitt er testet ende til ende kan de produksjonssettes. Grensesnitt som er testet i testmiljø må reetableres i Altinn sitt produksjonsmiljø mot produksjonsmiljøet til ditt system. Dette bestilles hos Altinn. Det bør tas høyde for å verifisere at tjeneste og tilhørende grensesnitt fungerer tilfredsstillende i produksjonsmiljø før tilgang til tjenesten publiseres for bruker.  Hvordan ser et varsel ut? Sluttbrukerne kan få varsel på SMS, e-post eller begge deler. Dette bestemmes av hva slags adresseinformasjon sluttbrukerne har registrert i sin profil i Altinn, men tjenesteeier har også mulighet til overstyre dette. I forbindelse med testning viser varselet tydelig hvilket testmiljø det kommer fra.\nVarslingsvindu for SMS Vi sender ut SMS-varsler mellom 09:00 og 17:15 alle dager. De fleste tjenesteeierne har systemer som automatisk sender meldinger/skjema til Altinn. Dette skjer gjerne på kveldstid eller midt på natten, men vi holder altså igjen tilhørende SMS til neste morgen. E-post sendes ut hele døgnet.\nHvilke adresser sendes varsel til? Den som ønsker å sende ut varsel kan selv legge ved kontaktinformsjon for mottaker (epostadresse eller sms). I tillegg så benytter Altinn følgende register for å hente kontaktinformasjon hvis Tjenesteeier selv ikke sender med dette:\nKontakt og reservasjonsregisteret Altinn benytter registert epost eller mobilnummer som innbyger selv har registert. Kontaktinformasjon må være bekreftet i løpet av de siste 18 måneder for å benyttes. Hvis innbygger mangler kontaktinformasjon registert i KRR så vil tjenesteeier få informasjon om dette i respons fra Altinn på sitt kall for å opprette varsel. Hvis innbygger har registert en epost-adresse eller et mobilnummer som ikke er i bruk (ugyldig) så er det ikke mulig for tjenesteeier å få tilbakemelding på at utsending feilet pga dette fra Altinn.\nHer finner du mer informajson om Kontakt og reservasjonsregisteret.\nVarslingsadresser for Enheter Altinn benytter varslingsadresser som enheten selv har selv har registert i henhold til krav i eForvaltningsforskriften . Her finner du mer informajson om Varslingsadresser for Enheter.\nDe aller fleste enheter har registert en varslingsadress og enheten er selv ansvarlig for å oppdatere sin varslingsadresse. I Altinn får eneheten påminnelser om å kontrollere varslingsadresse med jevne mellomrom. Hvis enheten mangler varslingsadresse så vil tjenesteeier få informasjon om dette i respons fra Altinn på sitt kall for å opprette varsel. Hvis enheten har registert en epost-adresse eller et mobilnummer som ikke er i bruk (ugyldig) så er det ikke mulig for tjenesteeier å få tilbakemelding på at utsending feilet pga dette fra Altinn.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2018/18-9/",
	"title": "18.9",
	"tags": [],
	"description": "Støtte for eIDAS autentisering, mindre forbedringer, feilrettinger m.m.",
	"content": "Endringer i portal Som bruker av stort aktørvalg ønsker jeg at filtreringsmulighetene er lettere tilgjengelig Checkbokser, for å vise underenheter og slettede enheter, er nå flyttet opp over listen over tilgjengelige aktører i stort aktørvalg.\nEndringer i TUL (tjenesteutvikling) Stoppe migrering av tjenester med ALLEA-basisrolle ALLEA rollen fases ut. Dette vil skje gradvis gjennom flere releaser. I denne omgang implementeres det en ny metode som kalles: \u0026ldquo;under validering av tjenesten ved migrering\u0026rdquo;. Dersom tjenesten har definert rollen ALLEA som rettighet, stoppes migreringen og en feilmelding vises. Feilmeldingen ber tjenesteutvikler om å fjerne denne rollen.\nOppdatert hjelpetekst for samtykketekst-felt i TUL Informasjonstekst i TUL er oppdatert slik at man bedre forstår at man ikke kan endre “betingelser” i samtykketekst uten å opprette en ny utgave.\nEndringer i eksterne grensesnitt Endring i dateFrom / dateTo-parametre i REST-API Som bruker av REST-API ønsker jeg å kunne begrense resultatsett av Messages, etter dato for siste endret. Kall til Messages i REST-API med query-parametrene dateFrom og dateTo filtrerer nå på dato for siste endring på elementet. Dette i stedet for filtrering for dato for opprettelse.\nDiverse bugfix Blindeprogrammet Jaws 18 greier ikke å lese aktørvalg i Internet Explorer etter oppdateringen i mai I Internet Explorer ble oppdatering av søk utløst ved tab-navigering i listen, noe som gjorde at det elementet man navigerte til i listen mistet fokus. Det er nå lagt til en sjekk som gjør at tab-navigering ikke trigger oppdatering av listen.\nHjelpetekst mangler på “tillat bare engangssamtykker” i tjenesteutviklings løsningen (TUL) Koden oppdatert slik at hjelpeteksten nå er synlig.\nFår meldingen \u0026ldquo;non-functional error\u0026rdquo; (attachmenttypename) (webservice) Ved innsending av skjema (SubmitFormTask) med 2 eller flere vedleggstyper feilet innsendinger hvor man ikke oppgav regelnavn på vedlegg (AttachmentTypeName). Dette er nå løst ved å legge til null-sjekk.\nSøk på tvers - funksjonalitet som forsvant etter 18.8 release Rettet en feil som gjorde det vanskelig å bruke søk på tittel som måte å avgrense resultatene av et søk på tvers.\nForbedret ytelse for samtykke Optimalisering av lagrede prosedyrer og nye/endrede indekser for å forbedre skalering og svartider rundt samtykke.\nInfoportal eGuide-funksjonalitet Løsningen består av spørsmål og svar i en stegvis prosess for brukeren, som resulterer i en huskeliste (\u0026ldquo;har du husket\u0026rdquo;) basert på svar/valg i denne prosessen. Er nå lagt ut på \u0026ldquo;Starte og drive bedrift\u0026rdquo;-delen av Informasjonsportalen.\nLagt til favorittikon i infoportal Favorittikon er nå lagt til i infoportal, slik at det kommer opp i nettleserfanen.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2019/19-9/",
	"title": "19.9",
	"tags": [],
	"description": "Utbedret feilmelding hvis TokenValue mangler, endring i visning av rettighetsholders fødselsnummer, feilrettinger.",
	"content": "Endringer i SOAP API Utbedret feilmelding hvis TokenValue mangler Mangelfull validering av input til SendStandaloneNotification førte til feil hvis TokenValue feltet til en eller flere TextTokens var utelatt. I denne endringen er det innført sjekk av dette med tilhørende feilmelding. Feilmelding One or more TextTokens have an undefined TokenValue. Aktuelle operasjoner og endepunkter:\n   Operasjon Endepunkt URL     SendStandaloneNotificationBasic https://www.altinn.no/ServiceEngineExternal/NotificationAgencyExternalBasic.svc   SendStandaloneNotificationBasicV2 https://www.altinn.no/ServiceEngineExternal/NotificationAgencyExternalBasic.svc   SendStandaloneNotificationBasicV3 https://www.altinn.no/ServiceEngineExternal/NotificationAgencyExternalBasic.svc   SendStandaloneNotification https://www.altinn.no/ServiceEngineExternal/NotificationAgencyExternal.svc   SendStandaloneNotificationV2 https://www.altinn.no/ServiceEngineExternal/NotificationAgencyExternal.svc   SendStandaloneNotificationV3 https://www.altinn.no/ServiceEngineExternal/NotificationAgencyExternal.svc   SendStandaloneNotificationECV3 https://www.altinn.no/ServiceEngineExternal/NotificationAgencyExternalEC.svc   SendStandaloneNotificationECV3 https://www.altinn.no/ServiceEngineExternal/NotificationAgencyExternalEC2.svc    Endringer i REST API Endring i visning av rettighetsholders fødselsnummer i /{who}/authorization/delegations Tidligere har fødselsnummer på rettighetshavere kun vært synlige for delegeringer fra autentisert bruker. Fødselsnummer vises nå i maskert form (010170*****) både for autentisert bruker (“my”) og for andre avgivere. Feltet for e-postadresse er også fjernet. Dette påvirker bare RightHolder-modellen som brukes under /{who}/authorization/delegations, og ikke Reportee-modelen, som brukes i /reportees.\nForbedrede feilmeldinger ved autentisering av virksomhetssertifikat i REST-API for tjenesteeiere Det gis nå mer detaljer ved autentiseringsfeil i REST-API ved bruk av virksomhetssertifikat for å lette feilsøking ved onboarding og utvikling.\nDiverse feilrettinger Delegering av enkeltrettigheter til org feilet Dette er nå rettet.\nSide feilet når man ga samtykke med authorizationCode Dette er nå rettet.\nMellomrom i passord I forrige release utvidet vi tillatte passord med en del tegn, inkludert mellomrom (whitespace). Dette skapte problemer. Mellomrom er derfor ikke lenger tillatt brukt i passord.\nDupliserte feilmeldinger på ConsentRequest ved bruk av HandledBy Denne endringen hindrer at dupliserte feilmeldinger kommer med dersom det er noe feil på en ConsentRequest. Det er nå sjekk slik at man bare får en feilmelding og ikke flere like feilmeldinger som tidligere.\nMulig å omgå maks 70 MB vedleggskontroll i altinn for skjema som har denne begrensningen Det var tidligere en feil som gjorde at man kunne omgå vedleggskotrollen i Altinn. Dette er nå rettet slik at “Kontroller Skjema” på vedleggsiden nå validerer for vedlegg slik at begrensningen på 70 MB opprettholdes.\nTilgangsstyrer for virksomhet for ikke slettet enkeltrettigheter delegert til virksomheten fra andre I 19.8ble det utbedret en feil som førte til at det bare var autorisert tilgangstyrer for en avgiver som fikk sett enkeltrettigheter på en rettighetsinnehaver under “Andre med rettigheter” i profilsiden. I etterkant er det nå utbedret feil hvor bare tilgangstyrer for avgiver fikk slettet enkeltrettigheter gitt til en rettighetsinnehaver. Når rettighetsinnehaver er en virksomhet skal alle med Tilgangsstyring for virksomheten kunne trekke enkeltrettigheter gitt til virksomheten fra andre.\nAltinn sendte ut feil mime type Riktig mimetype sendes nå ut i http headeren når man laster ned en fil fra Altinn.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2020/20-10/",
	"title": "20.10",
	"tags": [],
	"description": "Flytting av filvedlegg fra databasen og ut på fileshare",
	"content": "Vi minner også om endringer i Altinn 3.0.\nEndringer i arkitektur for håndtering av filvedlegg Det er i denne releasen lagt til rette for at filvedlegg til tjenester skal kunne flyttes ut av databasen og lagres på eget fileshare. Filene skal flyttes ut av databasen på et senere tidspunkt, tentativt januar 2021. Når filene flyttes ut på fileshare vil de bli organisert i egne mapper pr. tjenesteeier.\nMed denne endringen vil en oppnå følgende:\n  Mer effektive drifts- og vedlikeholdsjobber\n  Reduserte kostnader\n  Forenkling av migrering av tjenester fra Altinn 2 til Altinn 3\n  Det vil bli enklere å beregne og fordele kostnader for lagring\n  Endringen i denne releasen skal ikke ha funksjonelle konsekvenser.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/roadmap/2018/",
	"title": "Altinn Roadmap 2018",
	"tags": [],
	"description": "Overordnet roadmap for videreutvikling av Altinn i 2018.",
	"content": "Q3 - 2018 ✔️ Tjenester 3.0 - \u0026ldquo;minimum testable product\u0026rdquo; (MTP) Det skal over sommeren etableres en test-løsning for utvikling av tjenester, slik at tjenesteutviklere og andre interesserte kan gi fortløpende feedback og komme med ønsker.\nLøsningen vil videreutvikles smidig og endringer tilgjengeliggjøres fortløpende utover høsten.\nTjenester 3.0 vil på sikt erstatte hele dagens tjenesteutviklingsløsning (TUL).\nMTP ble levert 20. september 2018: https://altinn.studio\n✔️ Lokal rolle som opprettes på juridisk enhet må arves til underenhetene Etablere løsning slik at når en oppretter lokal rolle på juridisk enhet, så vil rollen også gjelde for tilknyttede underenheter. Dette ble levert i release 18.8.\n✔️ Økt sikkerhetsnivå på samtykkesiden Det skal etableres løsning for å kunne anvende sikkerhetsnivå 4 på samtykkesiden. Dette ble levert i release 18.8.\n✔️ Maskering av fødselsnummer for aktører Deler av fødselsnummer skal maskeres når det vises i portalen. Dette ble levert i release 18.8.\n❌ Foreslå mest delegerte rettigheter ved delegering av rettigheter Det skal etableres standard jobb/prosedyre som oppdaterer konfigurasjonen månedlig. Dette for at brukerene skal få opp mer relevante forslag om å delegere rettigheter på de tjenestene som er mest vanlig å delegere siste måned.*\nDenne funksjonaliteten vil ikke bli levert.\nQ4 - 2018 ✔️ Tilgang for utenlandske brukere - eIDAS Det skal etableres støtte for eIDAS slik at brukere fra EU-området med D-nummer i DSF kan foreta pålogging i Altinn via ID-Porten.\nDenne funksjonen er etablert, men ikke gjort tilgjengelig. En avventer ferdigstilling hos våre samarbeidspartnere før denne endringen gjøres tilgjengelig i produksjonsmiljøet.\n✔️ Permanent sletting av elementer i organisasjoners papirkurv Det skal etableres en løsning slik at organisasjoner kan tømme egen papirkurv.\nDette ble levert i release 18.10.\n✔️ Endre avsender for SMS-varsel Det skal etableres løsning for å kunne endre avsender på frittstående SMS-varsel fra Altinn. Dette ble levert i release 18.11.\n✔️ Fjerne basisrollen ALLEA i sin helhet Det skal etableres løsning slik at det fremgår tydeligere for bruker hvilke tilganger som deles ved en delegering. Dette ble levert i release 18.11.\n✔️ Oppdatering av SharePoint og .NET SharePoint skal oppdateres til nyere CU, og .NET til siste versjon i både sluttbrukerløsningen og i tjenesteutviklingsløsningen. Oppdateringene er utført i produksjon: i tjenesteutviklingsløsningen hhv 31. oktober og 6. november og i sluttbrukerløsningen hhv 21. og 22. november 2018\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/prosjekter/tjenester30/architecture/",
	"title": "Arkitektur",
	"tags": [],
	"description": "Beskrivelse av arkitekturen til 3.0.",
	"content": "For flere detaljer, se https://docs.altinn.studio/architecture.\nGit Det distribuerte versjonskontrollsystemet Git er nå det klart mest brukte versjonskontrollsystemet for utvikling av programvare.\nDet er derfor naturlig å benytte Git også for lagring og versjonering av tjenestene som utvikles.\nHver tjeneste vil lagres i et eget Git-repository, og vil inneholde en eller flere utgaver.\nBåde tjenesteutvikling i nettleser og tjenesteutvikling i kode-editor vil jobbe mot de samme versjonskontrollerte filene, og ha fullt innsyn i de filene som en tjeneste består av.\nDokumentasjon Dokumentasjon av tjenester 3.0 vil ligge åpent tilgjengelig på GitHub slik at alle kan bidra og foreslå forbedringer.\nMarkdown vil benyttes som format både for dokumentasjon, men også for tekst-ressurser og dokumentasjon for den enkelte tjeneste som utvikles.\nÅpen kildekode, cross platform Tjenester 3.0 skal være basert på fri og åpen programvare som kan kjøre på alle plattformer, og ikke benytte proprietær programvare. Selve 3.0-løsningen vil i seg selv også deles som åpen kildekode. Se også fjerde målsetting.\nProgramvare Se https://docs.altinn.studio/technology.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/rest/betaling/",
	"title": "Betaling",
	"tags": [],
	"description": "Ved bruk av Altinns REST-api kan man videresende brukeren til betalingssteget i portal på altinn.no.",
	"content": "Fremgangsmåte  GET på elementet som skal betales (f.eks. https://www.altinn.no/api/my/messages/aXXXXX) Hente ut verdi fra link med navn payment Redirecte brukeren til linken, alternativt med parameteret returnurl for å hente brukeren tilbake til samme side etter at betaling er utført.  Domenet på returnurl må være registrert sammen med apikey for å ikke bli stoppet av CORS. Når brukeren kommer tilbake vil URL-en ha en ny parameter, kalt resource som inneholder link til elementet (etter arkivering vil elementet få nytt navn - bXXXXX) Hvis man ikke bruker returnurlvil siste respons i prosessen ha status 204 og location header inneholder URI til arkivert element.    "
},
{
	"uri": "https://altinn.github.io/docs/seres/generere-xsd/",
	"title": "Generere SERESxsd-er",
	"tags": [],
	"description": "Ved generering av en meldingsspesifikasjon (XSD) fra en meldingsmodell i domeneklienten, er det angitt en del parametre med verdier som er tilpasset tjenesteutvikling i Altinn.",
	"content": "Hvis det er ønske om å bruke meldingsspesifikasjonen i andre sammenhenger enn Altinn, er det enkelt å justere XSD-parametre ut ifra de behov hver enkelt måtte ha. I spesielle tilfeller der modellen baserer seg på OR-spesifikke typer som ønskes unike, bør typegjenbruk være avslått for å avsløre avvik.\nEndring av tjenesteversjon og filnavn på meldingsspesifikasjonen kan endres av brukeren.\nDet er mulig å sette status ved genereringen. Du har mulighet for å velge om denne XSD-en skal karakteriseres med statusverdien «utkast» eller «kandidat» der «utkast» er standardverdi.\nTotalt finnes følgende statusverdier:\n utkast: De første XSD-variantene som genereres fra en modell før en har sjekket at de inneholder de elementene og har den strukturen de skal. kandidat: XSD-en er sjekket, validert og klar for å tas inn i en tjenesteutviklingsløsning, f. eks. Altinn TUL. produksjon: XSD-en er tatt i bruk i en løsning, f. eks. Altinn SBL. terminert: XSD-en har vært i bruk, men er tatt ut av produksjon eller den er ikke lenger aktuell for å tas inn i en løsning. forkastet: XSD-en er ikke noen gang tatt i bruk.  Det er også mulig å sende en meldingsspesifikasjon til andre (eller seg selv) via e-post fra XSD-genereringen.\nEtter generering av XSD-en blir den automatisk lastet opp til SERES Produktforvaltning.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/digital-post-til-virksomheter/grensesnitt/",
	"title": "Grensesnitt",
	"tags": [],
	"description": "Tekniske grensesnitt for digital post til virksomheter.",
	"content": "Det tilbys både grensesnitt på Batch og Web Services. Vi anbefaler å benytte Web Services fremfor Batch-grensesnitt. Man må uansett benytte Web Services grensenitt for å hente status på sendte meldinger.\nAktuelle grensesnitt Web Service for avsendere Endepunktene for virksomhetssertifikat under er nye endepunkt ifm DPV, der avsender kun autentiseres med gyldig virksomhetssertifikat, som valideres mot gyldige tjenesteeiere i Altinn. Om man velger å benytte Soap 1.1 eller 1.2 har ingen praktiske forskjeller uten det rent tekniske. Det er utviklet en ny Status Web Service for de som ønsker å hente inn inntil 10.000 status basert på ExternalShipmentReference fra operasjonen InsertCorrespondence (send post).\rSend post For innsending av melding til mottakers meldingsboks i Altinn. Denne kan benyttes både til privatpersoner og organisasjoner.\n Basic SOAP 1.1\nhttps://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalBasic.svc\nOperasjon: InsertCorrespondenceBasicV2 SOAP 1.2\nhttps://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternal.svc\nOperasjon: InsertCorrespondenceV2 Virksomhetssertifikat\nhttps://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalAEC.svc\nOperasjon: InsertCorrespondenceAEC  Hent Status på Post (Alternativ 1 - anbefalt) Ny operasjon, benyttes av en tjenesteeier/avsender for å sjekke status på et sett (inntil 10.000) av meldinger basert på ExternalShipmentReference fra operasjonen InsertCorrespondence (send post).\n Basic SOAP 1.1\nhttps://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalBasic.svc\nOperasjon:GetCorrespondenceStatusHistoryBasic SOAP 1.2\nhttps://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternal.svc)\nOperasjon:GetCorrespondenceStatusHistory Virksomhetssertifikat\nhttps://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalAEC.svc\nOperasjon:GetCorrespondenceStatusHistoryAEC  Hente Status på Post (Alternativ 2):  SOAP 1.1\nhttps://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalBasic.svc\nOperasjon:GetCorrespondenceStatusDetailsBasicV3 SOAP 1.2\nhttps://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternal.svc\nOperasjon:GetCorrespondenceStatusDetailsV3 Virksomhetssertifikat\nhttps://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalAEC.svc\nOperasjon:GetCorrespondenceStatusDetailsAECV3  Bruk av Web Services samt virksomhetssertifikat For de Avsendere som ikke velger å benytte Virksomhetsertifikat må det utstedes brukernavn+passord som i dag på Tjenesteeier grensesnitt (WS). Dette gis ut ifb. avtaleinngåelse om bruk av DPV.\nNår det gjelder bruk av Virksomhetssertifikat: På de nye Web Servicene til DPV, er disse satt opp slik at det holder å være registrert som brukere av DPV (\u0026ldquo;inngått avtale\u0026rdquo;) med org.nr, som må matche virksomhetssertifikatet. Altinn trenger altså ikke noe annet fra Avsender enn en DPV avtale, og at Avsender er registrert i Altinn. Altinn trenger f.eks. ikke noe nøkkelinformasjon fra selve Virksomhetssertifikatet.\nBehov for test og testmiljø Altinns testmiljø https://tt02.altinn.no/ kan benyttes for Avsendere som har behov for dette. Testbrukere (sluttbrukere og sluttbruker-organisasjon i meldingsboksen) gis ut til de som trenger dette, slik at man kan sjekke mottak av post i dennes meldingsboks.\nI møtet på mandag kom vi fram til at istedenfor at alle som vil teste i TT02 må bestille sine egne test sertifikater så kjøpes det inn fem som vi eier og kan låne ut til de som trenger det. Avsender sertifikat kan deles så lenge de har egne mottakerbedrifter som de kan sende til og sjekke resultater.\nDet er slik at hvis nye Avsendere skal teste DPV i TT02, og velger å benytte Virksomhetssertifikat, må de i dag benytte det settet Altinn har av test-virksomhetsertifikat. Avsender trenger altså ikke bestille egne testsertifikat. TT02 inneholder ikke reelle organisasjoner, og det er en forutsetning at en org (med Virk.sert) er registrert i ER og hos utsteder. Inntil dette er løst tverrsektorielt (det er pågående tiltak for samkjøring av testbrukere/testdata på tvers av offentlige fellesløsninger), kan Altinn låne ut Avsender-virksomhetsertifikat for TT02.\nVarsel og Revarsel Eksempelfilene viser teknisk hvordan man benytter Altinns varselsmaler. De forhåndsdefinerte varselsmalene Altinn tilbyr Avsendere er:\n VarselDPVUtenRevarsel:\nFor varsler der det ikke er behov for å sende revarsel. Varsel sendes kun 1 gang. Denne skal kun benyttes hvis Avsender har gjort en juridisk vurdering av revarsel ikke er påkrevd. VarselDPVMedRevarsel (7 dager):\nFor varsler der det er behov for både å sende varsel og revarsel hvis ikke lest innen 7 dager. Varsel sendes minst 1 gang, revarsel hvis post ikke er åpnet. Denne skal benyttes i de fleste tilfeller.  Varselsmalene har 3 språkinnstillinger man kan velge blant:\n  1044 = NorwegianNO\nEpost emne satt til \u0026ldquo;Ny melding tilgjengelig i Altinn.no for $reporteeName$\u0026rdquo; (Se info om makro under) Epost tekst/SMS settes av Avsender i run-time.\nRevarsel er samme som over, men Altinn legger inn en statisk tekst \u0026ldquo;Påminnelse: \u0026quot; i forkant av selve varselsteksten satt av Avsender.\n  2068 = NorwegianNN\nEpost emne satt til \u0026ldquo;Ny melding tilgjengeleg i Altinn.no for $reporteeName$\u0026rdquo; Epost tekst/SMS settes av Avsender i run-time.\nRevarsel er samme som over, men Altinn legger inn en statisk tekst \u0026ldquo;Påminning: \u0026quot; i forkant av selve varselsteksten satt av Avsender.\n  1033 = English\nEpost emne satt til \u0026ldquo;New message available at Altinn.no for $reporteeName$\u0026rdquo;\nEpost tekst/SMS settes av Avsender i run-time.\nRevarsel er samme som over, men Altinn legger inn en statisk tekst \u0026ldquo;Reminder: \u0026quot; i forkant av selve varselsteksten satt av Avsender.\n  Bruk av makroer i varsler:\nI varselsteksten kan Avsender benytte såkalte \u0026ldquo;makroer\u0026rdquo;, som er variabler for å hente ulike data fra Altinn Register inn i varselsteksten som vises for sluttbruker. Registerdata hentes basert på angitt mottager.\nFølgende makroer er tilgjengelig for bruk mot virksomheter:\n$reporteeName$ = Altinn legger inn navn på virksomhet som mottar post (basert på orgnr som er angitt som mottager).\nNy og spesifikk funksjonalitet for DPV utover vanlig meldingsfunksjonalitet DPV er bygget på den ordinære meldingsfunksjonalitet i Altinn, men med noen få tillegg. Informasjon om bruk av varsler, detaljer om parametere, etc er beskrevet i Tjenesteeier dokumentasjon.\nFor operasjonen InsertCorrespondenceBasicV2[\u0026hellip;], så er denne ikke versjonert til tross for ny DPV-funksjonalitet, siden det kun er en ny opsjonell parameter i request, og operasjonen er ellers kompatibel med eksisterende implementasjoner.\nSende på vegne av andre organisasjoner, ny parameter \u0026ldquo;OnBehalfOfOrgNr\u0026rdquo; Denne benyttes hvis man skal sende på vegne av en annen organisasjon. Organisasjonsnummeret må være et valid orgnr, som er en ordinær tjenesteeier eller har DPV-avtale med Altinn (En automatisk validering på om orgnr i \u0026ldquo;OnBehalfOfOrgNr\u0026rdquo; faktisk er en Tjenesteeier gjøres ikke p.t.). \u0026ldquo;OnBehalfOfOrgNr\u0026rdquo; er også knyttet til parameter \u0026ldquo;MessageSender \u0026ldquo;, se mer om dette under. \u0026ldquo;MessageSender\u0026rdquo; er et fritekstfelt/parameter som kan benyttes for å angi en mer brukerorientert tekst for Sluttbruker hvem som er avsender av Post. F.eks. om det er behov for å angi at Post kommer fra et spesielt kontor/avd/bydel innenfor en organisasjon.\n Man kan fortsatt benytte MessageSender som idag uten InsertOnBehalfOfOrgNr. Da vil oppførsel være som tidligere. MessageSender kan angi et mer fritekst- og brukerorientert navn på avsender innnenfor en organisasjon. Når man benytter InsertOnBehalfOfOrgNr, så kan man utelate parameter MessageSender hvis ønskelig, da vil Altinn oppi navnet til OrgNr som MessageSender i portalen for brukeren. Man kan benytte MessageSender OG InsertOnBehalfOfOrgNr, men da vil brukeren se det som er oppgitt i Messagesender. Altinn vil registrere hvem som er den faktiske avsender av Post i tillegg til den tekniske avsender. OnBehalfOfOrgNr skal uansett benyttes hvis man sender på vegne av andre organisasjoner, slik at vi får registrert faktiske avsendere og bruken av DPV.  Hent Status på sendt Post Jf. Aktuelle grensesnitt Web Service for avsendere, så kan man hente status på sendt post enten via den opprinnelige eller den nye operasjonen for dette. Den opprinnelige operasjonen \u0026ldquo;GetCorrespondenceStatusDetailsV3[\u0026hellip;]\u0026rdquo; er egnet for enten å be om status for én kjent melding basert på meldingens unike referanse (\u0026ldquo;ExternalShipmentReference\u0026rdquo; fra operasjonen InsertCorrespondence), eller angi mer søkbaserte parametere som vil returnere et varierende antall status-er utifra søketreff. Den nye operasjonen \u0026ldquo;GetCorrespondenceStatusHistory[\u0026hellip;]\u0026rdquo; kan kun benytte verdier fra \u0026ldquo;ExternalShipmentReference\u0026rdquo; fra operasjonen InsertCorrespondence. Men her kan man be om inntil 10.000 status ad gangen, angitt i en array-lists i request på operasjonen. F.eks.\n... \u0026lt;ns:CorrespondenceSendersReferences\u0026gt; \u0026lt;arr:string\u0026gt;EXT_REF7653\u0026lt;/arr:string\u0026gt; \u0026lt;arr:string\u0026gt;EXT_REF71875\u0026lt;/arr:string\u0026gt; \u0026lt;arr:string\u0026gt;EXT_REF78392\u0026lt;/arr:string\u0026gt; \u0026lt;arr:string\u0026gt;EXT_REF26628\u0026lt;/arr:string\u0026gt; \u0026lt;/ns:CorrespondenceSendersReferences\u0026gt; ... Det vil da være mulig å korrelere meldinger deterministisk og effektivt. Avsender må ta vare på identifikatorer pr sendt melding (verdien \u0026ldquo;ExternalShipmentReference\u0026rdquo; fra operasjonen InsertCorrespondence).\nDenne operasjonen inkluderer som standard også status på post som blir videresendt fra Altinn til Difis løsning for Innbyggerpost, for de som skal benytte den funksjonaliteten.\r"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/configuration/",
	"title": "Konfigurasjon",
	"tags": [],
	"description": "Konfigurering av ulike aspekter av en app.",
	"content": "\r\rAutorisasjon\rHvordan definere autorisasjonsregler (tilgangsstyring) for en app.\n\r\rDefinere applikasjonsprosess\rHvordan definere prosessen til en app.\n\r\rHemmeligheter\rHvordan håndtere hemmeligheter og sensitiv data i en app.\n\r\rEvents\rHvordan lage egendefinerte events for en app.\n\r\rSettings og miljøvariabler\rHvordan legge inn konfigurasjon- og miljøspesifikke verdier slik at de er tilgjengelig fra app-koden.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/anbefalinger/foresporsler/",
	"title": "Bruk av samtykkeforespørsler",
	"tags": [],
	"description": "Informasjon om samtykkeforespørsler og anbefalinger om hvordan de kan benyttes i ulike sammenhenger og tjenester.",
	"content": "Overordnet Samtykkeforespørsler gir datakonsumenten mer kontroll over hvordan samtykker kan innhentes og følges opp, og er den anbefalte mekanismen for å implementere samtykketjenester.\nHovedforskjellen mellom samtykkeforespørsler og lenkebaserte samtykker, er at konsumenten umiddelbart etter opprettelse får AuthorizationCode (samtykke-id), og kan bruke ConsentRequest-API-et for å hente ut samtykkeforespørsler både i listeform og enkeltvis.\nConsentRequest-modellen Datamodellen inneholder en rekke ulike felter som brukes for ulike formål. Her er en detaljert gjennomgang av alle feltene og hva de kan brukes til.\nModellen brukes både som inndata som konsumenten oppgir i forbindelse med opprettelse av forespørselen, og som retur (utdata) på i de fleste operasjoner på ConsentRequest-APIet. I tabellen under indikeres det i den andre kolonnen om feltet kun brukes i retur, eller om det er påkrevd eller ikke påkrevd inndata.\n   Feltnavn Må oppgis / kun i retur Beskrivelse     AuthorizationCode Kun i retur Også kalt samtykke-ID. Identifikator for forespørselen, og identifkator brukt for å hente ut samtykketoken.   RequestStatus Kun i retur Hvilken status forespørselen har.   Created Kun i retur Når forespørselen ble opprettet.   LastChanged Kun i retur Når forespørselem sist hadde en statusendring.   CoveredBy Ja Organisasjonsnummer eller fødselsnummer til den som skal motta samtykket (konsument)   OfferedBy Ja Organisasjonsnummer eller fødselsnummer til den som skal gi samtykke (avgiver)   OfferedByName Ja Navn på organisasjon eller etternavn til den som skal gi samtykke   HandledBy Nei Organisasjonsnummer for leverandør, hvis aktuelt.   RequiredDelegator Nei Oppgis hvis en ønsker at en spesifikk fysisk person skal gi samtykket, og ikke hvem som helst som har tilstrekkelig med rettigheter på vegne av avgiver   RequiredDelegatorName Nei Etternavn på den spesifikke personen som skal gi samtykke   ValidTo Ja Hvor lenge samtykket skal vare hvis innfridd   RedirectUrl Ja URL som sluttbruker blir sendt til etter innfridd samtykke   ServerNotificationUrl Nei URL som brukes for push-notifikasjon etter innfridd samtykke   RequestResources Ja Liste over tjenester/ressurser samtykket som omfatte   RequestMessage Ja Melding som vises til sluttbruker på ulike språk   PortalViewMode Nei Bestemmer hvorvidt en forespørsel er synlig i innboksen til sluttbruker   Errors Kun i retur Eventuelle feilmeldinger som hindrer at en gitt forespørsel kan innfris    ConsentRequest-API ConsentRequest-API-et har fire endepunkter som kan benyttes. Klikk på disse for mer teknisk informasjon.\n   Operasjon Beskrivelse     GET consentRequests/{authCode} Henter en spesifikk samtykkeforespørsel   DELETE consentRequests/{authCode} Sletter (trekker) en samtykkeforespørsel. Kan bare gjøres for ubehandlede forespørsler.   GET consentRequests?serviceCode=\u0026hellip; Feed-API som lar en hente ut lister med samtykkeforespørsler filtrert på ulike parametre. Kan hente både sendte og mottatte forespørsler. Inkluderer også forespørsler hvor autentisert virksomhet står som HandledBy (altså forespørsler leverandøren har opprettet)   POST consentRequests Oppretter en ny samtykkeforespørsel    Forklaring på enkeltfelter RequestStatus Feltet RequestStatus oppgir hvilken tilstand en samtykkeforespørsel er i. Følgende statuser finnes:\n   Verdi Betydning     Unopened Forespørselen er ikke åpnet, altså ikke sett av noen med tilgang til å besvare den.   Opened Forespørselen er åpnet av noen med tilgang til å besvare den, men ikke behandlet.   Accepted Forespørselen er godkjent. Merk at selve samtykket kan være senere trukket eller utløpt.   Rejected Forespørselen ble avvist.    Når er forespørsel opprettes vil den innledningsvis har status Unopened. Status vil deretter maksimalt endres to ganger, fra uåpnet til åpnet, og fra åpnet til en godkjent/avvist.\nHandledBy Oppgir hvem som skal være leverandør for denne forespørselen, altså opptre på konsument/CoveredBys vegne. Dette forutsetter at:\n Autentisert virksomhet er HandledBy Oppgitt API-nøkkel er tilknyttet samme organisasjonsnummer som HandledBy  For å verifisere koblingen til konsument/CoveredBy gjøres ulike autorisasjonssjekker avhengig av autentiseringsmetode som forutsetter ulik onboarding. Les mer om dette i kapitlet om bruk av leverandører.\nRequiredDelegator Oppgir at samtykkeforespørselen skal besvares av en bestemt person. I utgangspunktet vil alle som har rollen \u0026ldquo;Tilgangsstyring\u0026rdquo; samt til tilgang til de aktuelle tjenestene som forespørselen omfatter, kunne besvare en samtykkeforespørsel på vegne av en avgiver. Hvis dette feltet oppgis, spesifiserer konsumenten hvem som skal kunne besvare forespørselen, og gjør den utilgjengelig for alle - selv om de måtte inneha de nødvendige tilgangene hos avgiver.\nDet gjøres ikke noe verifikasjon på at oppgitt RequiredDelegator faktisk har rettigheter til å innfri samtykket på vegne av oppgitt OfferedBy i det forespørselen opprettes. Feil informasjon her vil kunne gjøre en samtykkeforespørsel umulig å innfri uten at ytterligere delegeringer utføres av tilgangsstyrer hos OfferedBy.\rSamtykkedialogen vil oppføre seg noe annerledes i de tilfeller hvor innlogget bruker ikke er autorisert til å behandle forespørselen. Hvis RequiredDelegator er oppgitt, blir brukeren oppfordret til å logge inn med rett bruker (hvem som er RequiredDelegator blir av sikkerhetshensyn ikke indikert). Hvis RequiredDelegator ikke er oppgitt, vil brukeren få en feilmelding om manglende tilgang.\nI praksis brukes dette for å sikre at personen som er oppgitt som avgiver (OfferedBy) også er den samme som gir samtykket. Vi anbefaler bruk av RequiredDelegator når det skal innehentes samtykke fra privatpersoner som opptrer på vegne av seg selv. Hvis samtykke skal innhentes fra en organisasjon, anbefales i utgangspunktet ikke bruk av RequiredDelegator, med mindre konsumenten er sikker på at vedkommende har tilstrekkelige rettigheter hos OfferedBy og har gode grunner til å skulle innsnevre rollekravene som tjenesteeierene har satt på de aktuelle tjenestene/ressursene som forespørselen omfatter.\nRedirectUrl Dette oppgir hvor brukeren skal sendes til etter å ha besvart samtykkeforespørselen. Dette må være en URL som enten\n Er assosiert med API-nøkkelen som benyttes, eller Er oppgitt som en av de lovlige URL-ene for konsumenten (CoveredBy) i tjenesteeierstyrt rettighetsregister av tjenesteeieren(e).  Hvis restriksjoner på URL er oppgitt av tjenesteeier i SRR, vil dette overstyre URL-er som er assosiert med API-nøkkelen.\nMerk at sluttbruker vil ikke bli sendt til RedirectUrl etter besvart samtykkeforespørsel hvis forespørselen er åpnet fra avgivers profilside i Altinn. For å kontrollere hvorvidt en samtykkeforespørsel blir vist i Altinn, se feltet PortalViewMode. Se også ServerNotificationUrl og RequestStatus.\rServerNotificationUrl Dette er funksjonalitet som vil komme i Altinn i løpet av første halvdel av 2021.\rDette feltet lar konsumeten oppgi en URL som Altinn vil forsøke å sende informasjon (pushet eNotifikasjon) om hendelser knyttet til samtykkeforespørsler og samtykker. For eksempel vil det sendes informasjon om hendelsene:\n Samtykke innfridd Samtykke nektet Samtykke trukket  Hendelsen vil bli sendt i form av en CloudEvent i en POST-request til URL-en som oppgis. URL-en må være tilgjengelig for HTTPS-trafikk fra Altinns systemer, og besvare forespørselen med en 200 OK respons. Hvis andre koder returneres, eller endepunktet ikke kan nås innen et tidsavbrudd, vil Altinn forsøke på nytt flere ganger i en periode. Mer informasjon om dette kommer.\nRequestResources Dette feltet er en rik modell som inneholder en liste over de ressurser/tjenester samtykkeforespørselen skal omfatte. En RequestResource inneholder\n Hvilken ressurs det gjelder i form av en Altinn tjenesteidentifikator (ServiceCode og ServiceEditionCode) Eventuelle metadata som den aktuelle ressursen krever  Hvilke metadata som kreves er avhengig av hva tjenesteeier har spesifisert. Alle metadata må oppgis ellers gis feilmelding. Metadata som ikke er spesifisert av tjenesteeier blir ignorert. Det gjøres ingen validering på metadata, så se til at disse oppgis i tråd med hva tjenesteeier har spesifisert.\nRequestMessage Dette er en melding som vises til sluttbruker øverst i samtykkeforespørselen. Merk at enkelte samtykketjenester ikke tillater bruk av RequestMessage, og vil gi en feilmelding hvis oppgitt. For å sikre at sluttbrukeren får se samtykkeforespørselen i valgt språk i Altinn, må meldingen oppgis på både norsk, nynorsk og engelsk.\nPortalViewMode Dette feltet indikerer om en gitt samtykkeforespørsel skal gjøres synlig i avgiver (OfferedBy) sin innboks i Altinn. Feltet har to verdier:\n   Verdi Beskrivelse     Show Forespørselen blir vist   Hide Forespørselen blir ikke vist    Hvis feltet ikke oppgis, benyttes \u0026ldquo;Hide\u0026rdquo;.\nMerk at sluttbruker vil ikke bli sendt til RedirectUrl etter besvart samtykkeforespørsel hvis forespørselen er åpnet fra avgivers profilside i Altinn. Se også ServerNotificationUrl og RequestStatus for alternative måter å sjekke om en forespørsel er besvart eller ikke.\rErrors TODO\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/testing/",
	"title": "Testing mot data.altinn.no",
	"tags": [],
	"description": "",
	"content": "Testmiljø data.altinn.no har et test-miljø kalt \u0026ldquo;staging\u0026rdquo; som har et fåtall beviskoder og leverer fiktive data. Miljøet kan brukes i forbindelse med testing av implementasjoner. Miljøet er også et pre-prod miljø, og alle endringer blir først deployet til staging-miljøet før de produksjonssettes.\nREST-API For REST-API er det et eget endepunkt som benyttes, og det må også oppgis et test-virksomhetssertifikat utstedt av en offentlig godkjent aktør.\n Teknisk beskrivelse av staging-API Les mer om bruk av REST-API  Test-organisasjon for forespørsler Oversikt over testorganisasjoner som kan brukes i staging-miljøet samt tilhørende innloggingsinformasjon for nøkkerolleinnehavere for disse organisasjonene i Altinns testmiljø (TT02) vil bli tilsendt etter registrering av API-nøkkel.\nTilgjengelige test-koder Listen av tilgjengelige beviskoder i staging-miljøet er tilgjengelig i det åpne metadata-API-et.\n Vis liste over beviskoder i staging (JSON)  Bruke Postman for testing Det er utarbeidet en collection med forespørsler i Postman som fritt kan lastes ned og benyttes for testing mot eBevis REST API. Se Github-lenken under for mer informasjon.\n Postman-collection på Github - OBS: Vil bli oppdatert til å gå mot nye miljøer før slutten av 2020 Last ned Postman  "
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/regelmotor/utvidede-beskrivelser/",
	"title": "Utvidede beskrivelser",
	"tags": [],
	"description": "Bruk av regelmotor for parallell signering og vedleggsfiltrering.",
	"content": "Regelmotor og parallellsignering Tjenester som har parallellsigneringsteg kan velge å få utført automatisk delegering av rettigheter til parallellsignerere. For å benytte seg av dette må man benytte seg av TransferTransformedResult-regelen. For slike tjenester forventer Altinn plattformen at man bruker denne regelen til og populere en spesiell property i rot noden på skjema. Det som trengs av data er personnummer/brukernavn/orgnummer, etternavn, epost og mobilnummer i denne rekkefølgen. (skjema må da ha slik input i en repeterende gruppe)\nData vil bli validert i signeringssteget under validering slik at det er en fordel at man også implementer slik validering i selve skjema slik at ikke delegering feiler. (validering av dette kan ikke gjøres av regelmotor)\nEksempel på fungerende oppsatt regel, med riktig angitt regler er.\n\u0026lt;Rule type=\u0026#34;TransferTransformedResult\u0026#34; description=\u0026#34;Transfer to myfield\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;3940\u0026#34; concatFields=\u0026#34;/melding/ElektroniskStiftelseAvAksjeselskap/EnhetAnsvarligFodselsnummerOrganisasjonsnummerUserNavn, /melding/ElektroniskStiftelseAvAksjeselskap/LastNavn, /melding/ElektroniskStiftelseAvAksjeselskap/Email, /melding/ElektroniskStiftelseAvAksjeselskap/MobileNummer\u0026#34; /\u0026gt; \u0026lt;Target form=\u0026#34;3940\u0026#34; field=\u0026#34;property(ParallelSigningUserDetails)\u0026#34; /\u0026gt; \u0026lt;Param name=\u0026#34;AlwaysRun\u0026#34; value=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;Param name=\u0026#34;TransferType\u0026#34; value=\u0026#34;ManyToOne\u0026#34; /\u0026gt; \u0026lt;/Rule\u0026gt; Regelmotor og vedleggsfiltrering Det er mulig å benytte regelmotoren til validere om brukeren har lagt ved nødvendige vedlegg. For å få dette til å fungere sammen med Altinn plattformen er det nødvendig å fylle ut et spesielt attributt i rot noden på skjema samt å gjøre validering på vedleggene lagt ved.\nFor at filopplastingsfunksjonaliteten i Altinn plattformen skal filtrere ut valg basert på valg i skjema må regelmotoren sette attributtet Attachmentfilter i rot-noden på skjema. Eksempelet nedenfor viser hvordan det kan gjøres.\n\u0026lt;Rule type=\u0026#34;SetFieldValue\u0026#34; description=\u0026#34;Set filter when Industri has been chosen\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;3940\u0026#34; field=\u0026#34;/melding/SkjemavalgSkal/AttachmentTypeChoices\u0026#34;/\u0026gt; \u0026lt;Target form=\u0026#34;3940\u0026#34; field=\u0026#34;property(AttachmentFilter)\u0026#34; value=\u0026#34;AT01_Cycle01, AT03_Cycle01, AT04_Cycle01\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;AlwaysRun\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;RemoveOnMismatch\u0026#34; value=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;Equals\u0026#34; check=\u0026#34;/melding/SkjemavalgSkal/AttachmentTypeChoices\u0026#34; value=\u0026#34;Industri\u0026#34;/\u0026gt; \u0026lt;/Rule\u0026gt; Basert på conditions og antall skjema kan man validere om riktige vedlegg er lastet opp. Eksempel på regel ses nedenfor som bruker condition HasAnyAttachment. Legg merke til TargetField som er satt til AttachmentList som gjør at valideringsfeilmelding blir vist riktig i portal.\n\u0026lt;Rule type=\u0026#34;SimpleValidation\u0026#34; description=\u0026#34;Check if invalid attachments are added\u0026#34;\u0026gt; \u0026lt;Target field=\u0026#34;AttachmentList\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;AlwaysRun\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;Equals\u0026#34; check=\u0026#34;/melding/SkjemavalgSkal/AttachmentTypeChoices\u0026#34; value=\u0026#34;Industri\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;HasAnyAttachment\u0026#34; form=\u0026#34;AT02_Cycle01,AT06_Cycle01\u0026#34;/\u0026gt; \u0026lt;Texts\u0026gt; \u0026lt;Text lang=\u0026#34;1044\u0026#34;\u0026gt; Ugyldige vedlegg er lagt AT02_Cycle01/AT06_Cycle01.\u0026lt;/Text\u0026gt; \u0026lt;Text lang=\u0026#34;2068\u0026#34;\u0026gt; Ugyldige vedlegg er lagt AT02_Cycle01/AT06_Cycle01.\u0026lt;/Text\u0026gt; \u0026lt;Text lang=\u0026#34;1033\u0026#34;\u0026gt;Invalid attachments are added AT02_Cycle01/AT06_Cycle01.\u0026lt;/Text\u0026gt; \u0026lt;/Texts\u0026gt; \u0026lt;/Rule\u0026gt; Eksempelet nedfor viser hvordan man regelmotor validerer om man mangler et vedlegg ved å bruke condition MissingAttachment. Legg merke til TargetField som er satt til AttachmentList som gjør at valideringsfeilmelding blir vist riktig i portal.\n\u0026lt;Rule type=\u0026#34;SimpleValidation\u0026#34; description=\u0026#34;Check if missing attachments were not added\u0026#34;\u0026gt; \u0026lt;Target field=\u0026#34;AttachmentList\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;AlwaysRun\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;Equals\u0026#34; check=\u0026#34;/melding/SkjemavalgSkal/AttachmentTypeChoices\u0026#34; value=\u0026#34;Industri\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;MissingAttachment\u0026#34; form=\u0026#34;AT01_Cycle01\u0026#34;/\u0026gt; \u0026lt;Texts\u0026gt; \u0026lt;Text lang=\u0026#34;1044\u0026#34;\u0026gt; Manglende vedlegg - AT01_Cycle01.\u0026lt;/Text\u0026gt; \u0026lt;Text lang=\u0026#34;2068\u0026#34;\u0026gt; Manglende vedlegg - AT01_Cycle01.\u0026lt;/Text\u0026gt; \u0026lt;Text lang=\u0026#34;1033\u0026#34;\u0026gt; MIssing Attachment - AT01_Cycle01.\u0026lt;/Text\u0026gt; \u0026lt;/Texts\u0026gt; \u0026lt;/Rule\u0026gt; "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2018/18-8/",
	"title": "18.8",
	"tags": [],
	"description": "Rediger lagrede søk, app uri scheme for samtykke, metadata på skjema, feilrettinger m.m.",
	"content": "Endringer i portal Tillatte app uri schemes i redirecturl for srr/samtykke Tillatte app uri schemes i redirecturl for srr/samtykke Det er lagt til støtte for å bruke egendefinerte schemas ved innleggelse av redirectUrls for tjenesteeier. Om schmea ikke er spesifisert tillates både HTTP og HTTPS.\nRediger lagrede søk Rediger lagrede søk og overskrive eller lagre som nytt søk Når brukeren går inn på et lagret søk og deretter går til siden for å gjøre endringer Og der gjør en eller flere endringer i søkeparameterene, og deretter utfører søket og søkeresultatet vises. Det er lagt inn en ny modal hvor brukeren kan velge å oppdatere søket og beholde navnet eller bruker kan velge å lagre et nytt søk.\nHåndheve tjenestekrav til sikkerhetsnivå for samtykke delegering Når tjenesteeier nå spesifiserer krav til sikkerhetsnivå for en tjeneste i TUL vil dette ikke bare påvirke krav til sikkerhetsnivå for bruk av tjenesten men også for å kunne gi samtykke til tjenesten, både gjennom samtykkesiden eller REST API. Det håndheves fortsatt minimumskrav satt til sikkerhetsnivå 2, tilsvarende som annen rettighetsdelegering i Altinn, selv for tjenester som spesifiserer lavere krav. Er bruker ikke logget inn med høyt nok sikkerhetsnivå vil bruker få samme feilmelding som ved bruk av tjenesten, med beskjed og mulighet til å gå til innlogging med korrekt nivå.\nBrukere kan se i profilen at de har reservert seg i KRR Det er lagt til en advarsel-boks som informerer brukeren i tilfeller hvor de har reservert seg i KRR. Det er og lagt til en lagre-knapp for å oppdatere instillingen for kvittering på epost, slik at oppdatering av instillingene virker på lik linje med resten av løsningen (i stede for ajax request).\nI samtykkeprosessen er det sikret at brukere er innlogget i Altinn med rett fødselsnummer Det er lagt til en ny parameter for å be om samtykke; UserToken. UserToken er valgfri. Om den er oppgitt må den inneholde en sha256-hash av personnummeret til brukeren. Hvis feil bruker er logget inn vil de bli omdirigert til innloggingssiden. Se https://altinn.github.io/docs/guides/samtykke/datakonsument/be-om-samtykke/\nKan ikke lenger se fødselsnummer i lister over \u0026ldquo;mine aktører\u0026rdquo; Ved utskrift av andre sitt personnummer enn ditt eget vil de 5 siste sifferene i personnummeret nå bli maskert av en “*“. Det vil si at f.eks. 121213 12345 vises som 121213 **.\nKlientroller for Revisor/Regnskapsfører er ikke lenger tilgjengelig for delegering under \u0026ldquo;Andre med rettigheter\u0026rdquo; Alle klientrolle-typer blir nå filtrert bort fra oversikten på Andre med rettigheter i portalen.\nDelegeringssider tjenesteeiers arkiv er utvidet Siden for rolleoverikt er utvidet med et nytt valg roller for en spesifisert mottaker. Dersom dette valget velges (Radioknapp) så kan brukeren fylle ut et tekstfelt med en fødselsnummer/organisasjonsnummer/brukernavn det skal vises roller for.Etter tidligere fjerning av avkrysningsbokser for sms/epost-varsling i “din kontaktinformasjon for virksomheten”, ble ikke sjekken på om disse var aktive, fjernet, ved søk på kontaktinformasjon for virksomhet fra serviceowner-APIet. Denne sjekken er nå fjernet\nEndringer i TUL (tjenesteutvikling) Mulighet for å angi felter i xsd som skal legges ved forsendelsen som metadata Tjenesteeier har mulighet til å definer metadatafelter som skal være mulig å trekke ut for å styre videre behandling av skjema, etter de er sendt fra Altinn. Det er lagt inn en ny seksjon i innholdsreferanser, der tjenesteeier kan oppgi hvilke felter fra xsd’en som skal legges ved skjema som metadata.\nEndringer i eksterne grensesnitt Endring ER Batch/RegisterER Webservice Konvertering fra flatfil til XML og innlesing av XML både internt og eksternt er utvidet med innlesing av flere felter.\nREST grensesnitt som tilbyr CRUD for KoFuVi REST-grensesnittet for kontaktinformasjon er blitt oppdatert med POST for å legge inn ny kontaktinformasjon. Grensesnittet tar i mot samme modell som GET-requesten, men kun epos eller telefonnummer kan oppgis. REST-grensesnittet for kontaktinformasjons-endepunkter (/api/{orgNo}/profile/contactinformation/{id}) er blitt oppdatert med DELETE for å slette enkelte endepunkter. Se /api/help for mer.\nLokal rolle opprettet på juridisk enhet skal også gjelde på underenheter Endringen fører til at når det opprettes lokal rolle på juridisk enhet så gjelder dette også for underenheter.\nAndre endringer Implementering av nytt KoFuVi-grensesnitt KoFuVi har satt opp et nytt grensesnitt for varslingsadresser. Det gamle grensesnittet, /digitale_adresser, vil fortsatt være tilgjengelig både fra KoFuVi og i kodebasen.\nVirksomhetsbrukere skal få samme tilgang til underenheter som de har for hovedenhet Virksomhetsbrukere har fått samme tilgang til underenheter som de har for hovedenhet. Avgiverliste returnerer nå også underenheter når man henter avgivere for virksomhetsbruker.\nMulighet for å lese inn felter som skal brukes til å anngi metadata ved uthenting av skjemaer Det er lagt til mulighet for å lese inn felter som skal brukes til å anngi metadata ved uthenting av skjemaer. Disse metadata-feltene spesifiseres per LogicalForm. XML-formatet i FormPresentationField.xml er utvidet med MetadataFields:\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;ContentReferences\u0026gt; \u0026lt;PresentationFields formatVersion=\u0026#34;1.0\u0026#34; xmlns:fpf=\u0026#34;http://schemas.altinn.no/tul/2009/formpresentationfield\u0026#34;\u0026gt; \u0026lt;PresentationField id=\u0026#34;1\u0026#34; xPath=\u0026#34;/Skjema/Skattyterinfor-grp-5801/info-grp-5802/EnhetOrganisasjonsnummer-datadef-18\u0026#34; pageName=\u0026#34;view1.xsl\u0026#34; /\u0026gt; \u0026lt;PresentationField id=\u0026#34;2\u0026#34; xPath=\u0026#34;/Skjema/Skattyterinfor-grp-5801/Kontakt-grp-5803/KontaktpersonNavn-datadef-2\u0026#34; pageName=\u0026#34;view1.xsl\u0026#34; /\u0026gt; \u0026lt;/PresentationFields\u0026gt; \u0026lt;OverridableFields\u0026gt; \u0026lt;Field xPath=\u0026#34;/Skjema/Skattyterinfor-grp-5801/Kontakt-grp-5803/KontaktpersonNavn-datadef-2\u0026#34; pageName=\u0026#34;view1.xsl\u0026#34; /\u0026gt; \u0026lt;/OverridableFields\u0026gt; \u0026lt;MetadataFields\u0026gt; \u0026lt;Field xPath=\u0026#34;/Skjema/Skattyterinfor-grp-5801/Kontakt-grp-5803/KontaktpersonNavn-datadef-2\u0026#34; pageName=\u0026#34;view1.xsl\u0026#34; key=\u0026#34;kontaktpersonNavn\u0026#34; /\u0026gt; \u0026lt;/MetadataFields\u0026gt; \u0026lt;/ContentReferences\u0026gt; Diverse bugfix Duplikater i listen når man legger til epost adresser som allerede eksisterer i kontakt informasjon Det var slik at om man la til to like eposter/telefonnummere ble det lagret og man fikk tilbake en liste som inneholdt duplikater. Når siden oppdateres blir duplikatene borte. Det er nå lagt til filtrering på duplikater slik at disse blir tatt bort før oppdateringen gjøres.\nStøtte for mellomrom og bindestrek i etternavn ved overføring fra selvregistrert (SI) bruker til fødselsnummer Det ble ettet en feil i valideringsrutinen som gjorde at navn som “Van Helsing” eller “Bang-Hansen” ikke kunne oppgis, fordi mellomrom og bindestrek ikke var ansett som gyldige tegn.\nDin kontaktinformasjon under profil viste informasjon fra gammelt samtykke hvis det ikke fantes informasjon fra kontakt og reservasjonsregisteret Dette er nå blitt fjernet. Kontaktinformasjon vil nå være blankt hvis Altinn ikke har informasjon fra kontakt og reservasjonsregisteret (KRR). Dette stemmer bedre med en tidligere endring hvor Altinn ikke lenger faller tilbake til informasjonen i samtykke profil hvis det ikke finnes noe i KRR.\nDet var ikke mulig å fjerne alle eksisterende varslingsadresser selv om man la til en ny Administrasjon av varslingsadresser krever at det finnes minst en varslingsadresse. Logikken for dette hindret sletting av alle eksisterende adresser selvom det samtidig ble lagt til en ny. Dette er nå blitt justert slik at det er mulig å fjerne alle gamle adresser så lenge det legges til minst en ny adresse i samme operasjon.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2019/19-8/",
	"title": "19.8",
	"tags": [],
	"description": "Samtykkeforespørsel via REST, oppgradering av eksterne REST API biblioteker, filstørrelse på streaming økt til 500 MB og feilrettinger.",
	"content": "Endringer i Autorisasjon Enkeltrettigheter vises ikke på rettighetshaver under “Andre med rettigheter” Ved introduksjonen av hovedadministrator endringen ble det fjernet det som tilsynelatende var et unødvendig rolleoppslag. Dette kallet er nå gjeninnført da det i praksis er det som autoriserer at alle som har minst en rettighet for en avgiver kan se alle andre rettighetshavere sine rettigheter under “Andre med rettigheter” i profilsiden. Dette kallet er bare nødvendig for de brukerne som ikke direkte er autoriserte Tilgangsstyrere for avgiveren.\nEndringer i SOAP API Maks grensen på filer som lastes opp gjennom streaming økt til 500 MB Endringen gjelder opplasting av vedlegg ved hjelp av tjenester som støtter streaming av større vedlegg. Grensen blir justert opp til 500 MB fra tidligere 200 MB. I tillegg har Altinn økt timeout verdien på de aktuelle operasjonene fra 40 sekunder til 5 minutter. Det bør gi sluttbrukersystemer nok tid til å laste opp de største vedleggene. Aktuelle operasjoner og endepunkter:\n   Operasjon Endepunkt URL     SubmitAttachmentStreamed https://www.altinn.no/IntermediaryExternal/IntermediaryInboundStreamed.svc   SubmitAttachmentStreamedBasic https://www.altinn.no/IntermediaryExternal/IntermediaryInboundBasicStreamed.svc   SubmitAttachmentStreamedEC https://www.altinn.no/IntermediaryExternal/IntermediaryInboundExternalECStreamed.svc    Endringer i REST API Oppgradering av eksterne biblioteker som REST API er avhengig av Det har blitt gjort en gjennom gang av alle NuGet pakker som benyttes av REST API applikasjonen. Alle pakker bortsett fra Newtonsoft.Json er blitt oppdatert til siste versjon. mvc til versjon 5.2 og web api til 3.2. Odata oppdatert til versjon 5.8.4. Alle NuGet pakker bortsett fra Newtonsoft.Json er oppgradert til siste versjon.\nOpprette en samtykkeforespørsel via REST API Denne endringen kommer som en forbedring av eksisterende samtykkeløsning. Istedenfor å sende sluttbruker til samtykkesiden ved hjelp av en url som tar inn mange parameter, vil datakonsument nå kunne registrere en samtykkeforespørsel via REST, for så å sende brukeren til samtykkesiden ved hjelp av en guid. Datakonsument kan dermed opprette en forespørsel og validere denne, slik at risikoen for at sluttbruker blir truffet av feil minsker. Denne endringen tar for seg følgende:\n Nytt endepunkt i REST (/api/consentRequest) som kun er tilgjengelig ved bruk av gyldig virksomhetssertifikat og api-nøkkel. Nye eksterne entiteter: ConsentRequest, ConsentRequestError, ConsentRequestResource Nye interne entiteter og enums: AuthorizationRequestBE, AuthorizationRequestResourceBE, AuthorizationRequestErrorBE, AuthorizationRequestType, AuthorizationRequestStatus Nye tabeller: AuthorizationRequest, AuthorizationRequestResource, AuthorizationRequestStatus, AuthorizationRequestType Tar i bruk ny arkitektur PAP/PIP hvor alt har interfaces Unit-tester for hvert lag, samt integrasjonstester ned til database fra SI Endepunktene i REST er lagt under FeatureToggle Eksisterende kode som denne endringen er avhengig av, er blitt flyttet over på ny arkitektur. De stedene i AuthorizationAdministrationSI som gammel kode hadde sitt opphav fra, kaller PIP/PAP for da eksisterende unit tester ikke skal bli påvirket.  Det vil kun være mulighet for å registrere forespørsler nå i første omgang. Endepunktet i portalen som skal benytte seg av en samtykkeforespørsel vil komme i en senere leveranse. Endepunktet støttes for innsendelse av JSON-format. Utfyllende informasjon om hvordan endepunktet kan benyttes finnes på https://www.altinn.no/api/help\nUtbedret støtte for HAL på REST grensesnittet for tjenesteeierstyrt rettighetsregister (SRR) Det er blitt gjort en større jobb for å utbedre application/hal+json og application/hal+xml støtten på /api/serviceowner/srr ressursen. Det er blant annet blitt innført et nytt grensesnitt for å kunne ha komplekse egenskaper på en ressurs uten at egenskapen selv må være en ressurs. Dette er blitt benyttet for å kunne serialisere og deserialisere SrrRightCondition typen som er en egenskap på SrrRight ressursen. Dette gir full støtte for HAL i GET, POST og PUT operasjonene til SRR ressursen. Noe som manglet når SRR først kom i produksjon. Lenken https://www.altinn.no/api/serviceowner/help er oppdatert med riktige eksempler. Her er også modellbeskrivelsene for SrrRight og SrrRightCondition blitt betydelig bedre.\nDiverse feilrettinger BrokerServiceBatch filopprydding BrokerServiceBatch feilet på grunn av svakhet i kode som rensket opp mappe strukturen filene lagres i. Dette har ført til at enkelte filmapper ikke har blitt ryddet unna samt endel støy i loggene. Feilen som nå er rettet har bare gitt utslag i TT02 miljøet.\nFileCleanupBatch lagde feil for ShipmenResendQueue FileCleanupBatch ga feil i ShipmentResendQueue fordi FileCleanupBatch sammenlignet gamle filer opp mot ShipmentQueue status uten å gjøre forskjell på store og små bokstaver. Dette gjorde at filer som fortsatt lå i køen kunne bli slettet. Dette er nå rettet.\nFeil under PDF generering Når et binærvedlegg hadde unikode 255 eller høyere i navnet feilet PDF generering av skjemasettet. Dette kunne føre til problemer ved \u0026ldquo;PDF til etat\u0026rdquo; og downloadqueue. Slike tegn blir nå erstattet med spørsmålstegn (?) for å unngå problemet.\nPotensielt manglende elementer i meldingsboksen Det har vist seg at nylig opprettede elementer i meldingsboksen ikke vises hvis ikke klokkene er perfekt synkronisert mellom port/iweb server og db server. Bakgrunnen er at standard søk i meldingsboksen setter øvre ramme i datointervall til “nå” i stedet for framover i tid. Dette er endret slik at “to date” i standard søk blir uendelig i stedet for “nå”. I tillegg har man fjernet logikken som endrer søkets “to date” til “nå” hvis verdien er større enn “nå”.\nFeil ved forsøk på å arkivere allerede arkivert melding Logger i produksjon viste feil når sluttbrukersystem forsøker å arkivere meldinger som allerede er arkivert, noe som skjer ganske ofte. Det vises nå isteden en spesifikk feilmelding når dette blir forsøkt.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2020/20-9/",
	"title": "20.9",
	"tags": [],
	"description": "Flere tjenester på tilgangsforespørsler, mindre endringer og feilrettinger",
	"content": "Vi minner også om endringer i Altinn 3.0.\nEndringer i portal Oppdatert visning for tilgangsstyrer som mangler rettigheter for å behandle en tilgangsforespørsel Selv om alle tilgangsstyrere vil kunne åpne og behandle en tilgangsforespørsel, er det ikke alle som har de tilgangene som etterspørres. Tilgangsstyrer kan etter denne endringen ved å åpne en tilgangsforespørsel kunne se hvilke av operasjonene eller tjenestene som er spesifisert i forespørselen vedkommende mangler. De operasjonene som ikke er tilgjengelig vil være markert ved et rødt ikon med en strek over. Disse vil ikke være delegerbare av denne tilgangsstyreren. Dersom vedkommende mangler tilgang til alle operasjonene på tjenesten, eller velger å fjerne alle operasjonene på en tjeneste, vil det aktuelle innslaget i listen over tjenestene bli markert med rødt.\nImplementert visning av utgående tilgangsforespørsler med mulighet for å trekke dem I \u0026ldquo;Skjema og tjenester du har rettigheter til\u0026rdquo; er det nå en ny liste som viser alle tilgangsforespørslene brukeren har sendt. Hver forespørsel i lista kan utvides for å vise detaljer. Det er mulig å slette forespørslene.\nTilgangsstyrere som mangler nødvendige tjenesterettigheter kan nå \u0026ldquo;Be om tilgang\u0026rdquo; fra samtykkesiden Tilgangsstyrere som mangler nødvendige tjenesterettigheter for å kunne gi samtykke på vegne av tredjepart kan nå \u0026ldquo;Be om tilgang\u0026rdquo; fra samtykkesiden dersom samtykkeforespørselen er registrert gjennom REST APIet. Vi gjør oppmerksom på at dette ikke er støttet for gammel samtykkeløsning.\nSynkronisert aktørvalg mellom Altinn Apps og portalen Dersom en bruker endret aktør i Altinn Apps (Altinn 3.0) ble ikke denne endringen synkronisert når man navigerte tilbake til portalen (Altinn 2.0). Nå er dette valget synkronisert slik at man vil returnere til portalen med samme aktør som skjemaet ble fylt ut på vegne av.\nMulighet for tilgangssøker å søke opp og legge til flere tjenester på en tilgangsforespørsel Ved initiering av \u0026ldquo;Be om tilgang\u0026rdquo;-prosessen med URL-parameter vil det nå være mulig for tilgangssøker å søke opp og legge til flere tjenester på tilgangsforespørselen. Dette er gjort ved at brukeren nå vil komme til en 2-kolonne-visning hvor det først er listet opp de mest populære tjenestene som finnes i løsningen, og med et søkefelt hvor man kan finne alle tilgjengelige tjenester som finnes i Altinn. Ved å kunne søke opp en vilkårlig tjeneste gir vi nå en større fleksibilitet og frihet til tilgangssøker om å tilpasse en forespørsel dersom denne skulle være mangelfull før den sendes. 2-kolonne-visningen vil vises på \u0026ldquo;stasjonære datamaskiner\u0026rdquo; som to parallelle kollonner, og vil være plassert ovenfor hverandre ved aksessering via en mobil enhet.\nEndringer i REST-API Valideringstjeneste for notification Det er opprettet et nytt endepunkt for uthening av notifikasjons-informasjon for brukere eller organisasjoner For organisasjoner kan man også sjekke på oppgitt tjeneste. Den sjekker om brukeren har lagret kontaktinformasjon og om de har registert seg i reservasjons registeret. For organisasjoner så sjekkes det om det foreligger informasjon i KoFuVi, eller om enkeltpersoner har registrert seg for varsling av oppgitte tjeneste.\n  Er innboksen til mottaker tilgjengelig? Her returneres “True” hvis organisasjonsnummeret er gyldig, eksisterer i Enhetsregisteret og ikke er merket som slettet.\n  Kan mottaker få varsel på SMS? Her returneres “True” hvis innboksen er tilgjengelig OG virksomheten har registrert minst ett mobilnummer i Varslingsadresser for virksomheten, eller minst en rettighetshaver har mobilnummer i sin kontaktinformasjon for virksomheten.\n  Kan mottaker få varsel på epost? Her returneres “True” hvis innboksen er tilgjengelig OG virksomheten har registrert minst en epostadresse i Varslingsadresser for virksomheten, eller minst en rettighetshaver har epostadresse i sin kontaktinformasjon for virksomheten.\n  Tilsvarende valideringer kan gjøres for privatpersoner med fnr/D-nr - da sjekkes det om det er registrert mobilnummer og/eller epostadresse i Kontakt- og reservasjonsregisteret.\nValgfri begrunnelsestekst i Samtykkeforespørsler gjennom REST Før måtte man oppgi begrunnelsestekst (RequestMessage) på minst ett språk for samtykke/fullmakts-forespørsler man registrerte gjennom REST APIet. Dette gjaldt selv om malen som ble brukt av tjenesten ikke krevde denne teksten. Dette er nå endret slik at det er valgfritt å oppgi begrunnelsestekst. Dette gjelder imidlertid ikke når mal benyttet av tjenesten krever/overskriver begrunnelsesteksten.\nStandard data format endret fra XML til JSON på spørringer med Accept: text/html (browser) Altinn REST APIet støtter i hovedsak to data format i input og responser: application/hal+xml og application/hal+json. Dersom man åpner f.eks ett av de åpne metadata endepunktene i en nettleser får man XML i retur da de fleste browsere av default spesifiserer application/xml i tillegg til text/html. Ikke alle endepunkter på REST APIet har oppsett for XML datamodell. Det er derfor gjort en endring slik at dersom spørringen inkluderer text/html som Accept verdi settes det som standard til JSON format. Man vil fortsatt få XML så lenge man bare etterspør application/xml eller application/hal+xml.\nFjernet maskering av fødselsnummer i \u0026ldquo;/api/serviceowner/consentRequests\u0026rdquo; GET-operasjoner på api/serviceowner/delegationRequests maskerte fødselsnummer pga. kodegjenbruk. Det ble med dette uforvarende introdusert maskering på fødselsnummer på oppføringer tilgjengelig for tjenesteeier på /api/serviceowner/delegationRequests. Maskeringen er nå fjernet.\nFeilrettinger Forespørsler kunne tidligere slettes selv om de allerede var slettet eller gitt Dette er nå rettet.\nFeilmeldingen for ikke satt autentisert organisasjonsnummer i REST APIet var missvisende Feilmeldingen man får når man ikke inkluderer et autentisert orgnr i request til REST-API er endret slik at det blir tydelig at det er manglende autentisering som er problemet.\nTeknisk feil ved sletting av element fra innboks når man manglet \u0026ldquo;Skriv tilgang\u0026rdquo; Dette er nå rettet\nForbedring av feilmelding - engelsk tekst Det er gjort forbedring av språket i den engelske utgaven av feilmeldingen som oppstår når man forsøker å innvilge en DelegationRequest for en tilgang man selv ikke innehar.\nDelegering av rettigheter hvor det første rollekravet til tjenesten ikke er delegerbar Hvis en tjeneste med mange rollekrav der noen av rollekravene ikke tillot brukeren å delegere operasjonen videre, ble det i noen tilfeller hentet opp rettigheter som ikke kunne delegeres videre. Dette medførte at personer som oppfylte alle kriterier for å kunne delegere tjenesten videre ikke fikk mulighet til dette. Denne feilen er nå rettet ved at vi i uthentingen av rettigheter ved en delegering nå prioriterer rettigheter som kan delegeres.\nFeil med mangelfull tilbakemelding i hendelsestyper for aksjonærregisteroppgaven (RF-1086) Hvis det ble sendt inn skjema via sluttbrukersystem og det var angitt en bruker som hadde satt engelsk som språk i portalen kom ikke navnet på hendelsestypen fram i kvitteringen hvis det var feil i innsendingen.\nFeilen førte til at samtykkesiden fikk teknisk feil dersom en tilgangsstyrer forsøkte å åpne en forhåndsregistrert samtykkeforespørsel hvor det var spesifisert at det bare var en gitt bruker (RequiredDelegator) som skulle kunne åpne og fullføre forespørselen.\nSamtykkesiden gav teknisk feil for samtykkeforespørsel med RequiredDelegator hvis det ikke var RequiredDelegator som var innlogget Feilen førte til at samtykkesiden fikk teknisk feil når en tilgangsstyrer forsøkte å åpne en forhåndsregistrert samtykkeforespørsel hvor det var spesifisert at det bare var en gitt bruker (RequiredDelegator) som skulle kunne åpne og fullføre forespørselen. Dette er nå rettet.\nHovedadministrator (HADM) hadde ikke mulighet til å gi samtykke når vedkommende ikke hadde rettighet til tjenesten Hovedadministrator kunne ikke gjennomføre samtykkedelegeringer uten å først å måtte delegere samtykketjenesten til seg selv. Dette er nå rettet.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/api/",
	"title": "API",
	"tags": [],
	"description": "Appene som man utvikler i Altinn Studio kan både eksponere standard og custom APIer samt benytte seg av APIer. Slik gjør du det.",
	"content": "\rEksponere APIer fra en app\rI applikasjonene kan man som utvikler legge til flere API enn det som er definert som standard API for applikasjoner utviklet i Altinn Studio.\n\r\rInstans\rHvordan gjøre endringer på applikasjonsinstanser\n\r\rKonsumere APIer i en app\rEn applikasjon kan konsumere åpne og lukkede API som er tilgjengelig via Internett.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/prosjekter/tjenester30/faq/",
	"title": "FAQ",
	"tags": [],
	"description": "Svar på noen av de vanligste spørsmålene om tjenester 3.0.",
	"content": "Finnes det en beskrivelse av tjenester 3.0? Ja, på overordnet nivå så har vi fire målsettinger, og en overordnet beskrivelse av arkitekturen.\nDokumentasjon er nå lagt ut her:\n https://docs.altinn.studio https://altinndigital.no/altinn-studio  Når kan vi ta i bruk tjenester 3.0? Nå som noe av finansieringen er på plass vil vi kunne starte realisering av målsettingene for 3.0. Det å tilgjengeliggjøre og oppdatere tjenester 3.0 fortløpende fremover, for å få kontinuerlig feedback, er ønsket måte å jobbe på.\nSe siste status for detaljer.\nKan man gjenbruke noe fra skjema basert på InfoPath, eller må man starte helt på nytt? Tjenester 3.0 vil støtte eksisterende datamodeller (XSD) fra SERES og OR, noe som betyr at de fleste grensesnitt (mottak, preutfylling, innsending, etc) vil kunne gjenbrukes uten store endringer i tjenesteeiers fagsystemer eller sluttbrukersystemer. Kall mot dagens mappere og interne tjenester skal også fortsatt fungere, selv om vi på sikt ønsker å fase ut mappere til fordel for noe bedre.\nVi har vurdert muligheten for å lage et verktøy som automatisk konverterer fra InfoPath til tjenester 3.0, helt eller delvis.\nEtter diskusjoner med diverse tjenesteeiere, så har det kommet frem at man sannsynligvis uansett vil ønske å forbedre brukergrensesnitt, og forenkle tekster og logikk når man går over til responsive tjenester som skal fungere også på mobil. Det å utvikle et konverteringsverktøy er ikke helt utelukket, men det må gi en reell verdi for tjenesteeierne.\nFinnes det noen retningslinjer for å lette overgangen fra InfoPath?  Lag enkle og fornuftige modeller (XSD) som inneholder så mye som mulig av datatyper, begrensninger, etc. istedenfor å kode disse selv. Benytt regelmotor (XML) istedenfor C# i InfoPath for logikk (særlig for kompliserte skjema). Lag gode og korte tekster som har en større sjanse for å fungere også på små skjermer. Vurder om store tabeller (antall kolonner) egentlig er nødvendig.  Vil vi kunne utvikle eget brukergrensesnitt og kun benytte API\u0026rsquo;ene i Altinn? Ja. API\u0026rsquo;ene til Altinn vil fortsatt fungere som før, og tjenester 3.0 vil løfte API\u0026rsquo;ene til en kanal som er likestilt med portal også ved utvikling og testing av tjenester. Det vil også legges til rette for å kunne eksponere alle ressurser som utvikles som API, f.eks. tekst-ressurser, metadata, semantiske koblinger, valideringer, etc.\nVil det forsvinne funksjonalitet som finnes i dagens plattform? I utgangspunktet nei, så fremt det ikke er funksjonalitet som ikke benyttes, eller som ikke gir mening lengre.\nDe første versjonene av tjenester 3.0 vil ikke inneholde all funksjonalitet, da de viktigste egenskapene vil leveres først og videre utvikling vil gjøres basert på feedback.\nEr tjenester 3.0 prioritert? Ja. Tjenester 3.0 er helt sentral for å kunne realisere de fire satsingsområdene i Altinn-strategien. I tillegg er tjenester 3.0 definert som ett av hovedproduktene i Altinn, og er dermed sentral også i Altinn produktstrategi.\nHva slags teknologi benyttes i tjenester 3.0? Se oversikten over programvare.\nNår vil den gamle InfoPath-løsningen fases ut? Enten når alle \u0026ldquo;aktive\u0026rdquo; InfoPath-skjema er flytte over og reimplementert på ny plattform, eller når support for InfoPath i SharePoint Server avsluttes (2023, ev. 2026 hvis vi oppgraderer til SharePoint 2016/2019).\nMicrosoft har nå bekreftet at support for SharePoint 2019 vil være på linje med 2016, noe som betyr at support på dagens skjemaløsning kun vil kunne tilbys fram til 2026 såfremt ikke fremtidige versjoner av SharePoint utvider dette, noe som er usannsynlig.\nSupport for InfoPath er også en faktor, men denne virker å forlenges hver gang støtten for InfoPath i SharePoint forlenges.\nRent økonomisk i forhold til driftskostnader så vil det være fordelaktig å fase ut den gamle løsningen så snart som mulig, men det vil selvsagt ikke kunne gjøres før alle tjenesteeiere er klare.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/datakonsument/logge-bruk/",
	"title": "Logge bruk av samtykke",
	"tags": [],
	"description": "Hvordan logge at man har hentet data som sluttbruker har samtykket til deling av",
	"content": "Når man har hentet data som er omfattet av samtykket som sluttbruker har gitt, kan man logge at data er hentet. For å logge bruk av samtykke/henting av data, trenger man autorisasjonskoden som ble gitt når sluttbruker samtykket til deling av data, samt ApiKey som er registrert på enten organisasjonsnummer som matcher mottaker av samtykke eller tredjepart som kan behandle samtykker på vegne av mottaker.\nVia REST benyttes POST på https://www.altinn.no/api/authorization/token/{AuthCode}/loguse\nLegg følgende inn i header: ApiKey: {apikey},\nAccept: application\\hal+json,\nContent: application\\hal+json\nLegg følgende inn i body: {\rServiceCode: \u0026quot;{SC}\u0026quot;,\rServiceEditionCode: {SEC},\rUsageDateTime: \u0026quot;yyyy-mm-dd hh:mm\u0026quot;\r}  Responsen på denne requesten skal være 204 No content.\nFor engangssamtykker vil et loguse-kall føre til at samtykket opphører. For samtykker som kan benyttes flere ganger innen utløpsdato, vil henting av data registreres i samtykkeloggen hos sluttbruker.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/rest/profil/",
	"title": "Profil",
	"tags": [],
	"description": "Altinn API tilbyr tilgang til profil-data.",
	"content": "Lese egne profildata (privatperson) Man kan hente ut informasjon fra egen brukerprofil i Altinn, som gir oversikt over hvem som er logget inn (navn, adresse, personnr, etc). Det returneres også en lenke til profilsiden i altinn.no (lenke av type portalview).\nGET operasjon for å lese min Profil:\nGET https://www.altinn.no/api/my/profile HTTP/1.1 ApiKey: myKey Accept: application/hal+json Respons:\n{ \u0026#34;Name\u0026#34;: \u0026#34;HÅKON TRANA\u0026#34;, \u0026#34;AddressLine1\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;AddressLine2\u0026#34;: \u0026#34;Borgermester Platous gate 7\u0026#34;, \u0026#34;AddressLine3\u0026#34;: \u0026#34;5008 BERGEN\u0026#34;, \u0026#34;UserName\u0026#34;: \u0026#34;haakon@trana.net\u0026#34;, \u0026#34;MobileNumber\u0026#34;: \u0026#34;99988888\u0026#34;, \u0026#34;PreferredLanguage\u0026#34;: \u0026#34;NorwegianNO\u0026#34;, \u0026#34;ShowClientUnits\u0026#34;: true, \u0026#34;PrivateConsent\u0026#34;: true, \u0026#34;ProfessionalConsent\u0026#34;: true, \u0026#34;ContactInformation\u0026#34;: { \u0026#34;Email\u0026#34;: \u0026#34;haakon@trana.net\u0026#34;, \u0026#34;Mobile\u0026#34;: \u0026#34;99988888\u0026#34;, \u0026#34;RequestsEmailReceipts\u0026#34;: false }, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/my/profile\u0026#34; }, \u0026#34;portalview\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/Pages/Profile/MyUserSettings.aspx\u0026#34; } } } Les kontaktinformasjon for virksomheter Det er mulig å hente ut informasjon fra på virksomheter som brukeren har rettigheter til i Altinn. Organisasjonsnummeret til virksomheten benyttes til adressering.\nGET operasjon for å lese kontaktinformasjon for en virksomhet:\nGET https://www.altinn.no/api/{orgno}/profile HTTP/1.1 ApiKey: myKey Accept: application/hal+json Respons:\n{ \u0026#34;Entity\u0026#34;: \u0026#34;Altinn testvirksomhet\u0026#34;, \u0026#34;Email\u0026#34;: \u0026#34;test@test.com\u0026#34;, \u0026#34;MobileNumber\u0026#34;: 99988888, \u0026#34;Address\u0026#34;: \u0026#34;Storgata 1\u0026#34;, \u0026#34;PostCode\u0026#34;:\u0026#34;8900\u0026#34;, \u0026#34;City\u0026#34;:\u0026#34;Brønnøysund\u0026#34;, \u0026#34;BusinessAddress\u0026#34;: \u0026#34;Kirkeveien 2\u0026#34;, \u0026#34;BusinessPostCode\u0026#34;:\u0026#34;8800\u0026#34;, \u0026#34;BusinessCity\u0026#34;:\u0026#34;Sandnessjøen\u0026#34;, \u0026#34;LastModifiedBy\u0026#34;: \u0026#34;LANDE JAN ÅGE\u0026#34;, \u0026#34;LastModifiedDate\u0026#34;: \u0026#34;2014-06-14T17:17:11.223\u0026#34;, \u0026#34;IsSelectedForNotification\u0026#34;: false, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/428743989/profile\u0026#34; }, \u0026#34;portalview\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/Pages/Profile/UnitProfile.aspx?o=428743989\u0026#34; }, \u0026#34;contactinformation\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/428743989/profile/contactinformation\u0026#34; } } } Email og MobileNumber og adresse informasjon er registrert på virksomheten i Enhetsregisteret.\nDersom brukere følger lenken til contactinformation vil det bli returnert en liste med kontaktinformasjon registert av brukerne i Altinn. Kontaktinformasjonen blir benyttet til varsling (epost og sms) på vegne av tjenesteeiere i Altinn.\nFølgende er en GET operasjon for å lese kontaktinformasjon for en virksomhet:\nGET https://www.altinn.no/api/{orgno}/profile/contactinformation HTTP/1.1 ApiKey: myKey Accept: application/json Respons:\n[ { \u0026#34;Id\u0026#34;: 2686, \u0026#34;Name\u0026#34;: \u0026#34;+4799000000\u0026#34;, \u0026#34;Email\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;MobileNumber\u0026#34;: \u0026#34;+4799000000\u0026#34;, \u0026#34;IsSelectedForNotification\u0026#34;: true }, { \u0026#34;Id\u0026#34;: 7960, \u0026#34;Name\u0026#34;: \u0026#34;alfa@beta.no\u0026#34;, \u0026#34;Email\u0026#34;: \u0026#34;alfa@beta.no\u0026#34;, \u0026#34;MobileNumber\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;IsSelectedForNotification\u0026#34;: true } ] Man kan slette enkelte innlegg av kontakinformasjon ved å sende en DELETE-operasjon på innleggets Id:\nDELETE https://www.altinn.no/api/{orgno}/profile/contactinformation/{Id} HTTP/1.1 ApiKey: myKey Ved vellykket sletting vil man få tilbake en tom respons av type \u0026ldquo;204 Contact Information Deleted\u0026rdquo;.\nFor å legge inn ny kontaktinformasjon kan man sende en POST-operasjon med enten Email eller MobileNumber fylt ut. Merk at de andre feltene ikke skal ha noen verdier!\nPOST https://www.altinn.no/api/{orgno}/profile/contactinformation HTTP/1.1 Content-Type: application/json Accept: application/json ApiKey: myKey { \u0026#34;Email\u0026#34;: \u0026#34;alfa@beta.no\u0026#34; } POST https://www.altinn.no/api/{orgno}/profile/contactinformation HTTP/1.1 Content-Type: application/json Accept: application/json ApiKey: myKey { \u0026#34;MobileNumber\u0026#34;: \u0026#34;+4799000000\u0026#34; } Ved vellykket innlegg vil man få tilbake en tom respons av type \u0026ldquo;204 Contact Information Created\u0026rdquo;.\n"
},
{
	"uri": "https://altinn.github.io/docs/seres/publisere-xsd/",
	"title": "Publisere SERESxsd-er",
	"tags": [],
	"description": "Meldingsspesifikasjoner (XSD-er) blir automatisk publisert i en web-basert løsning som kalles SERES Produktforvaltning etter at de er blitt generert i Domeneklienten.",
	"content": "Produktforvaltningsløsningen har som oppgave å gjøre XSD-ene tilgjengelige for utviklere av løsninger som håndterer meldinger som valideres av denne type meldingsspesifikasjoner. Dette er både tjenesteutviklere i Altinn og leverandører av sluttbrukerløsninger.\nLøsningen tilbyr navigering blant XSD-er generert fra domener og tilhørende modeller. XSD-ens innhold kan lastes ned for inspeksjon og ev. lagres lokalt.\nLenker til SERES Produktforvaltning finnes på siden SERES-klienter.\nLøsningen tilbyr følgende informasjon:\n Oversikt over domener i to lister der den ene inneholder lesbare domener og den andre skrivbare domener For valgt domene; oversikt over modeller i en liste For valgt modell; oversikt over XSD-er i en liste  XSD-er som er lastet opp i Produktforvaltningen med statusverdi «utkast», kan lastes ned av brukere som er innlogget i denne løsningen og har skrivetilgang til det domenet som XSD-en tilhører. XSD-er med verdier «kandidat», «produksjon», «terminert» og «forkastet» er derimot åpen for alle. Statusverdier kan endres av innloggede brukere med skrivetilgang.\nOBS: Noen brukere endrer XSD-ene for bruk i Altinn Tjenesteutvikling etter at de er generert og lastet opp. Før en kan bruke XSD-ene direkte fra Produktforvaltningen i sluttbrukerløsninger etc. må en derfor være sikker på dette ikke er gjort med aktuell XSD.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/rollekrav-i-altinn/",
	"title": "Rollekrav i Altinn",
	"tags": [],
	"description": "data.altinn.no bruker funksjonalitet i Altinn for å generere samtykkeforespørsler før data kan utleveres.",
	"content": "Altinn Alle samtykkeforespørsler fra tjenester på data.altinn.no sendes til Altinn i form av en melding med lenke til det faktiske samtykket. Man trenger derfor flere rettigheter i Altinn - både til melding og samtykke. Se samtykkeprosessen for mer informasjon med skjermbilder.\nFor at det ikke skal bli unødvendig komplekst er både meldingstjenesten og samtykketjenestene satt opp med krav om rollen begrenset signeringsrettighet, men man kan også velge å delegere rettigheter til enkelttjenester.\nNår man mottar melding om fullmaktsforespørsel vil det sendes varsel på e-post og SMS til adresser og mottakere definert i Altinn.\nI tilfeller der samtykke eller fullmakt ikke gis innen rimelig tid, vil også den som ber om fullmakt eller samtykke kunne sende ut purring på sms og e-post.\nMeldinger Varsel om samtykkeforespørsel med tjenestekoder 5132/1 (for eBevis-fullmakter til og med oktober 2020)\nForespørsler data-altinn-no 5615/1 etter oktober 2020.\nSamtykke/fullmakt eBevis til og med oktober 2020: Restanser hos skatteetaten 5299/1.\neBevis etter oktober 2020: Restanser hos Skatteetaten 5616/1\nSøknad om drosjeløyve: Restanser fra Skatteetaten i søknad om drosjeløyve 5616/6\nMerk: For å kunne gi samtykke på disse tjenestene må man også ha rollen Tilgangsstyring.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/samtykkeprosessen/",
	"title": "Samtykkeprosessen",
	"tags": [],
	"description": "Når oppdragsgiver initierer en samtykkeforespørsel vil det bli sendt en sms og/eller epost med varsling om at brukeren har mottatt en ny forespørsel i Altinn.",
	"content": "Brukeren logger seg inn i Altinn og finner en samtykkelenke i meldingsboksen til mottakers innboks – enten om det er brukeren som privatperson eller for en virksomhet.\nVed å trykke på knappen \u0026ldquo;Behandle forespørsel om fullmakt\u0026rdquo; fremkommer det informasjon om hvilke beviskoder det bes om, hvem som spør og hvor lenge samtykket skal vare. Her har brukeren valget om å samtykke eller eventuelt avslå.\nDersom samtykke blir gitt, får brukeren opp en kvitteringsside med informasjon om at oppdragsgiver nå kan hente data fra de respektive datakildene.\nNår et samtykke er gitt vil brukeren finne informasjon under sin Profil, under overskriften Samtykke. Der vil alle aktive samtykker fremkomme i en samlet oversikt, samt en lenke til samtykkeloggen.\nBrukeren kan trykke seg inn på en av lenkene dersom det er ønsket å se hva det er samtykket til, og har samtidig mulighet til å trekke samtykke dersom det er ønskelig.\nUnder oversikten over alle aktive samtykker har brukeren en fullstendig logg over alle samtykker i Altinn. Her fremkommer det informasjon om et samtykke er gitt, utløpt, benyttet og trukket.\nI vårt eksempel, med offentlige anskaffelser, vil oppdragsgiver få informasjon direkte inn i konkurranseverktøyet hvor de kan ta stilling til dataene som er mottatt. Her med informasjon om skatteopplysninger.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2018/18-7/",
	"title": "18.7",
	"tags": [],
	"description": "Mindre forbedringer, filopplasting i Safari, feilrettinger m.m.",
	"content": "Endringer i portal Ekspanderende landkode for mobilnummer i Profil - Varslingsadresser for virksomheten Felt for landkode for mobilnummer ekspanderer nå opptil 3 sifre med \u0026ldquo;+\u0026rdquo; foran. Det har tidligere vært mulig å legge inn 3 sifre, men teksten har havnet utenfor feltet.\nKlientdelegering på fil - delegering til brukernavn gir feilmelding \u0026ldquo;Feil: E-postadresse\u0026rdquo; Det har tidligere vært uklart hvordan delegering på fil virker ved delegering til brukernavn. Det har vært støtte for dette, der man har krevet at man ved brukernavn ikke skal oppgi etternavn/orgnr, og dette førte til at man hadde en mindre kolonne for den relevante raden. Om man ikke var klar over dette kunne man fort mistolke feilmeldingen man fikk, der etternavn ble tolket som rolle, og rolle ble tolket som epost. Dette er nå rettet opp i, ved at man kan spesifisere en tom kolonne etter brukernavnet, slik at kolonne-strukturen blir den samme for alle typer rader. Beskrivelse om hvordan man bruker formatet i oppplastings-dialogen er oppdatert for å reflektere dette.\nSom sluttbruker med klientadministrasjon ønsker jeg å kunne slette roller for flere ansatte uten å måtte lukke siden mellom hver gang I visse tilfeller har ikke \u0026ldquo;Ferdig\u0026rdquo;-knappen blitt synlig ved bruk av av \u0026ldquo;Fjern alle\u0026rdquo;-knappen ved gjentatt bruk. Dette skal nå være rettet opp i, slik at \u0026ldquo;Fjern alle\u0026rdquo;-knappene skal fungere som forventet.\nForbedre formatering i kvitteringsepost ved klientdelegering fra fil Det var formateringsforskjell i mailene vi sender ut for klientdelegering avhengig av hvilken metode vi bruker (enkeldelegerig/Fildelegering). Formatet på kviteringsepost ved fildelegering er forbedret og tilsvarer nå eposten som som sendt ut når du får tildelt rolle/rettighet gjennom enkeltdelegering. Det er og lagt til uthenting av språk for hver enkelt bruker slik at alle får eposten på språket de har valgt i portalen.\nEndringer rolledelegeringer etatsportalen Det er lagt til to endringer på delegeringssidenn og rettet en bug.\n På siden for å slette delegerte roller så er det lagt til en tekstboks der man kan legge in id til en bruker eller enhet så filtreres listen over roller som kan slettes til kun denne ene avgiveren. E-post som sendes fra enten delegering eller fra sletting av delegering bytter ut navnet på den som delegerer med en tekst om at saksbehandler har delegert. I tillegg er en bug i e-posten dersom man delegerer til en enhet på tjenesteeier siden så ble både mottaker og avgiver av rollen satt til den privatpersonen som utførte delegeringen. Dette er endret til å sette etaten som avgiver og enheten som mottar som motaker. Det ville ikke gitt mening å skjule hvem som utfører delegeringen for så å oppgi dette navnet på et annet sted i e-posten.  Støtte for statistikk på bruk av forenklet utloggingsside Lagt inn Google Analytics på forenklet utloggingsside slik at det er mulig å uthente statistikk på bruken av denne siden\nEndringer i TUL Søkeside for å slå opp hvilke tjenester som bruker et gitt shipment/metode for overføring Ny side er lagt til i TUL som kan brukes av tjenesteeiere som vil søke etter hvilke utgaver som bruker gitt shipment/metode for overføring. Lenke til siden er lagt til i listen \u0026ldquo;Felles ressurser for tjenesteeier\u0026rdquo;.\nEndringer i eksterne grensesnitt Oppdatering av skjemaer for krypterte tjenester gjennom eksterne grensesnitt Det har tidligere vært mulig å oppdatere skjemaer som tilhørte krypterte tjenester gjennom REST API. Det er nå lagt til en sjekk ved oppdatering av tjenester gjennom eksterne grensesnitt slik at det ikke er mulig å oppdatere eller legge til skjemaer for krypterte tjenester.\nStøtte for at brukerstøttemedarbeidere ved BR kan hente ut enkeltrettigheter for alle aktører Det er lagt til støtte for at brukerstøttemedarbeidere ved BR kan hente ut enkeltrettigheter for alle aktører. Det er lagt til en ny konfigurasjonsinstilling, ServiceOwnerCode_For_Full_GetRights_Access, for serviceOwnerCode\u0026rsquo;en som skal ha denne spesialtilgangen. All bruk av GetRights fra REST API\u0026rsquo;et som tar i bruk denne muligheten blir logget.\nReturnere messageid i location header etter arkivering av meldinger i REST Når man arkiverer en melding gjennom REST-api\u0026rsquo;et (/api/Help/Api/PUT-who-Messages-messageId-Archive_language) vil man nå få returnert den nye arkiv-addressen til meldingen gjennom en Location-header.\nSe integrasjonsguiden for mer informasjon.\nFjerning av varselmottakere hvis det ikke finnes tekster for angitt transport type. Altinn vil nå fjerne mottakere av et varsel hvis angitt varsel type (NotificationType) ikke har tekster for varsel typen (TransportType). Dette gjelder alle steder hvor det kan lages varsel: InsertCorrespondence, SubmitAndInstantiatePrefilledFormTask og SendStandaloneNotification. Hvis resultatet av filtreringen er at ingen vil få varsel, så vil grensesnittet informere om dette.\nVisning av arkiv-referanse for meldinger i REST API Det er lagt til et nytt felt i Message-modellen i REST APIet, kalt ArchiveReference. Dette feltet vil inneholde en eventuelt referanse til en tidligere melding om det har blitt oppgitt av tjenesteeier. Det er og lagt til en HAL-lenke som peker videre til denne meldingen (rel \u0026ldquo;archivereference\u0026rdquo;).\nGi under selskap samme rettigheter som moderselskap ved innsendig Som sytem ønsker jeg at systemUserName registrert på juridisk enhet også skal fungere for innsending på bedriftsnummer. For å få til dette er det lagt inn sjekker i DecisionPoint på om det er et underselskap som valideres. Hvis det er det, gis det samme rettigheter som moderselskapet, juridisk enhet.\nVed registrering av varsel til en person, så skal eneste kilde til kontaktinformasjon være kontakt- og reservasjonsregisteret (KRR) Når tjenesteeier overlater til Altinn å finne epostadressen og mobilnummeret til en person, så har gammel profilinformasjon registrert i Altinn vært en mulig kilde hvis personen ikke har slik informasjon registrert i KRR. Dette er det nå slutt på. Hvis en person ikke har kontaktinformasjon registrert i (KRR) vil Altinn ikke sende varsel til vedkommende. Grensesnittene som gjør det mulig å definere varsel blir ikke endret, men det vil bli en økning i hvor ofte Altinn ikke finner noe kontaktinformasjon på personer. Dette gjelder kun når avgiver er en person.\nAndre endringer Kontaktinfo fra KRR som er for gammel skal ikke brukes Om kontaktinformasjon fra KRR ikke har blitt oppdatert eller verifisert på mer enn 18 måneder skal ikke kontaktinformasjonen benyttes (til å sende varsel o.l.). Det er lagt til en ny konfigurasjonsinstilling, KRRContactInfoExpirationMonths, som bestemmer hvor mange måender det tar før informasjonen ikke brukes lenger.\nDiverse bugfix Rette kjent feil hvor lenker til hjelpesider ikke åpner Kjent feil i legacy-portal. På siden \u0026ldquo;Oversikt - skjema og vedlegg\u0026rdquo; skjedde det ingenting når bruker trykket på hjelpelenkene dersom tjenesten støttet flere vedleggstyper. Nå fungerer lenkene også i denne typen tilfeller.\nRette stack trace på \u0026ldquo;søk på flere aktører\u0026rdquo; for konkursbehandling tjeneste \u0026ldquo;Søk på flere aktører\u0026rdquo; og søker etter \u0026ldquo;konkursbehandling\u0026rdquo; (i innboks) får treff, men får feilmelding når man aksesserer elementene fra trefflista til søk. Dette er nå rettet.\nStøtte for filopplasting i Safari på Mac En feil gjorde at brukere av Safari på Mac ikke kunne laste opp filvedlegg i et skjema. Denne feilen er rettet.\nInfoportal Nytt telefonnummer i hurtighjelp Lagt til telefonnummer for Bedriftsveiledning i hurtighjelp, slik at denne typen henvendelser rettes til riktig sted.\nDiverse bugfix Rettet alfabetisk sortering i skjemaoversikten til å håndtere æ/ø/å korrekt.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2019/19-7/",
	"title": "19.7",
	"tags": [],
	"description": "Endringer i autorisasjon, ny operasjon i SOAP API, forbedringer i innlesing av data fra Enhetsregisteret, feilrettinger.",
	"content": "Endringer i SOAP API Ny operasjon for nedlasting av meldinger fra avgiverarkivet Det er blitt opprettet en ny operasjon på grensesnittene for sluttbrukersystemer mot avgiverarkivet. Operasjonen gir tilgang til arkiverte meldinger. Aktuelle endepunkter og operasjonsnavn:\n   Basis operasjon Endepunkt Endepunkt operasjon Endepunkt URL     GetArchivedCorrespondence WS Http GetArchivedCorrespondence https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternal.svc    Basic Http GetArchivedCorrespondenceBasic https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalBasic.svc    EC GetArchivedCorrespondenceEC https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalEC.svc    Input parameter er meldingens id i arkivet. Dette er et tall man får når man kaller på tjenesten for meldingsboksen. Altså en av GetReporteeElementList operasjonene. Operasjonen er dokumentert nærmere her.\nAndre endringer Endringer for å forbedre kommende re-innlesing og generell innlesing fra Enhetsregisteret Det er gjort noen endringer som gjør innlesing av batch fra Enhetsregistret raskere. Dette er gjort i forbindelse med forestående full re-innlesing og utvidelse av Altinn\u0026rsquo;s kopi av Enhetsregister data. Endel tomme felter blir ikke lenger lest inn, nye indekser er opprettet. Endringer for å unngå låsinger ved stor pågang mot databasen er også gjort.\nFeilrettinger Innehaver i enkeltpersonforetak fikk ikke delegert roller til daglig leder Det ble i release 18.6 gjort endring for at daglig leder av enkeltpersonforetak ikke lenger skulle få tilgang til innehaver som avgiver og tilgang til innehavers meldingsboks. Det ble i den sammenheng oppdatert for uthenting av avgiverliste samt uthenting av rettigheter for autorisasjon av tilgang (DecisionPoint), mens det manglet oppdatering for logikken knyttet til hvilke roller som er tilgjengelig for delegering. Dette er nå utbedret slik at løsningen ved delegering ikke tror at daglig leder allerede har tilganger for innehaver.\nPermanent sletting av elementer i meldingsboksen som virksomhetsbruker Kravet for å kunne få utføre permanent sletting for en virksomhet er at brukeren må ha rettigheten \u0026ldquo;Tilgangsstyring for virksomheten\u0026rdquo;. Feilen oppstod for virksomhetsbrukere uten tilgangsstyring fordi slette knappen feilaktig alltid var aktiv. Når knappen ble brukt forårsaket dette feil i underliggende kode.\nRedigering av en eksisterende lokal rolle med utgått tjeneste Det ble i release 19.5 gjort en forenkling av brukergrensesnittet for opprettelse og redigering av en lokal rolle. Implementasjonen fikk da med seg en uheldig avhengighet til listen over tilgjengelige/aktive tjenester i løsningen. Dette medførte at visningen av en eksisterende lokal rolle med rettighet til en eller flere utgåtte tjenester ikke fungerte. Dette er nå utmedret, men det er fortsatt en svakhet i løsningen som gjør at dersom man redigerer en lokal rolle vil rettigheter knyttet til utgåtte tjenester bli fjernet fra rollen. Dette vil bli utbedret i en kommende release.\nHovedadministrator får ikke delegert enkeltrettigheter til tjenester som kun har eksterne roller tilknyttet Første versjon av Hovedadministrator rollen (HADM) fikk bare delegere roller og enkeltrettigheter til tjenester basert på delegerbare \u0026ldquo;barneroller\u0026rdquo; av Daglig leder rollen (DAGL). Dette er utvidet slik at HADM nå også får opprettet lokale roller og delegert enkeltrettigheter til tjenester som er knyttet direkte til DAGL rollen.\nUtbedring av feilsituasjoner rundt validering av selv-delegeringer Det ble i release 19.6 som del av introduksjon av Hovedadministrator rollen (HADM) lagt til unntak for at HADM skal få delegere roller og rettigheter til seg selv fra virksomheten sin. Denne endringen i validering rundt “selv-delegering” har avdekket to feilsituasjoner som nå er utbedret:\n Person med Tilgangsstyring og rettigheter for enkelttjeneste får ikke delegere disse enkeltrettighetene videre til en annen virksomhet. Hovedadministrator har mulighet til å delegere roller og enkeltrettigheter som er både fra og til sin egen virksomhet.  Fjernet tomme verdier fra retur objekt ved bruk av SRR i REST API Man fikk en tom liste fra atributtet hvis man hadde stavefeil eller det ikke var verdier å vise. Man får nå ikke lenger denne tomme listen. Se bilde under for eksempel på hvordan det var før rettingen. Man får fortsatt ikke tilbakemelding på skrivefeil da dette ikke er hensiktsmessig.\nEier av enkeltpersonforetak ble ikke med i aktørlisten til regnskapsfører Aktørlisten endret slik at enkeltmannsforetak nå også blir med.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2020/20-8/",
	"title": "20.8",
	"tags": [],
	"description": "Forberedelse til FREG, mindre endringer og feilrettinger",
	"content": "Endringer i portal Tilgangsstyrer kan tilpasse operasjoner før en tilgangsforespørsel blir godkjent Endringen er en videreutvikling av funksjonaliteten på \u0026ldquo;Be om tilgang\u0026rdquo; som ble lansert i forrige versjon. I denne versjonen vil det nå bli mulig for tilgangsstyrer å endre på operasjoner i en tilgangsforespørsel. Ved å skru av og på operasjoner vil tilgangsstyrer nå kunne endre på en forespørsel som kommer inn dersom dette er hensiktsmessig. Dersom tilgangsstyrer velger å endre på forespørselen, vil det komme en gul advarsel om at noen av operasjonene på forespørselen er endret. Selve forespørselen som ligger i databasen vil ikke bli endret, men selve delegeringen vil bli en annen.\nBuypass-bibliotek oppgradert Bibliotek som anvendes i forbindelse med signering på nivå 4 ved bruk av Buypass er oppgradert til nyere versjon.\nEndring av tekst som sendes ut til valg tilgangsstyrer i “Be om tilgang” Teksten som sendes per e-post til tilgangsstyrer ved en nyopprettet tilgangssforespørsel er nå utbedret. Den nye teksten presiserer hvor den nye forespørselen kan behandles fra.\nNavneendring på tjenesteeier Navn for tjenesteeier \u0026ldquo;Statens havarikommisjon for transport\u0026rdquo; er endret til \u0026ldquo;Statens havarikommisjon\u0026rdquo;\nEndringer i REST-API Autoriserings-filter som åpner opp for å begrense tilganger for bedrifter via Maskinporten er nå lagt til Man kan få visse scopes fra bedriften man representerer for å få tilgang til ulike endepunkter eller man kan få et generelt scope som gir tilgang til alle endepunktene i tjenesteeier-delen av apiet. Hvis man isteden for å bruke token autentiserer seg med virksomhetsertifikat blir det også lagt til et scope.\nEndringer i Integrasjon Forberedelse til oppdatert integrasjon med Folkeregisteret (FREG) I dag er kilden for Altinns personregister datafiler overlevert fra Det Sentrale Folkeregister (DSF). Dette vil fases ut til fordel for en direkte integrasjon med FREGs hendelsesliste og personopplysninger. I denne endringen vil vi legge til rette for de nye datamodellene som FREG tilbyr og implementere systemet som kan motta hendelser og personopplysninger. Merk at det det er først i etterkant av endringen vi etterhvert vil koble oss på FREG og motta løpende oppdateringer. Det betyr at vi fortsetter å ha DSF som kilde frem til vi slår på integrasjonen.\nTil informasjon henter Altinn alltid siste person dokument for hver endring og lagrer alle data i denne oppdateringen over eventuelle tidlige data.\n  Datamodellen for å lagre familie relasjoner er utvidet med en mange til mange knytting mellom REG_User og Freg.FamilyRelatonship som kan knytte to personer sammen med en familerelasjon. Det er også utvidet med mulighet for å lagre mange linjer i fritekst for postadresse. Hvilket forhold de har til hverandre er bestemt av en kodetabell Freg.FamilyRelationshipType.\n  Det er laget en egen RegisterFregSI med tilhørende DAL og entiteter for å lagre data fra FREG på den eksisterende register strukturen med noen små endringer.\n  Det er laget en egen mapper som konverterer fra Json Modellen FReg har til en modell som ligger nær registermodellen slik at dette kan smeltes sammen rett inn i databasen. Her blir alle felter som ikke allerede eksisterer i Altinn lagt inn bortsett fra familie relasjoner og vergemål.\n  Siden Freg benytter både to bokstavs og tre bokstavs landkoder i henholdsvis Statsborgerskap og Postadresse utland så måtte Altinn legge inn tre bokstavs landkoder i tabellen for land for å kunne knytte Statsborgerskap riktig. Det er også lagt på en tjeneste for å hente alle landkoder slik at disse kan benyttes i konverteringen.\n  Webtjenester for å hente ut personer både interne og eksterne er oppdatert til å hente ut flere linjer med adresse for Postadresse (fritekst). GetFamily og GetCompleteFamily er også oppdatert til å forholde seg til familierelasjons strukturen fra FReg.\n  Ny jobb (batch) for å hente FReg Eventer og PersonDokumenter lagre data i Altinn ved hjelp av tjenestene beskrevet over og logge feilsituasjoner, fremdrift og status.\n  Enkelte felter har mer data i Freg en tilsvarende felter i Altinn Derfor har følgende felter fått utvidet kapasitet:\n  Gatenavn utvidet fra 22 tegn til 840\n  Postadresse linje 1-3 fra 50 tegn til 1024. Adresselinje 4..n deler på 1 000 000 tegn\n  Fornavn, Mellomnavn, Etternavn fra 50 tegn til 1024\n  Stedsnavn for matrikkeladresser utvides fra 25 tegn til 1024.\n  Ingen eksterne grensesnitt er endret for å forholde seg til at det nå kan være flere adresse-linjer i postadressene. Dette er løst med å slå sammen linje 2 og 3 til en linje for de eksterne grensesnittene med norske adresser. Det er lagt på tre nye varslingsmaler for å hente mer adresseinformasjon:\n Adresseline4 Hele adressen som komma separert liste. Hele adressen med html linjeskift.  Steder som tidligere måtte settes sammen med mellomrom eller komma er utvidet med flere linjer.\nFeilrettinger Varslingslisten i \u0026ldquo;Be om tilgang\u0026rdquo; Det ble oppdaget en bug på nedtrekkslisten for valg av tilgangsstyrer som varsel om ny tilgangsforespørsel skulle sendes til. Dersom en bruker hadde to topproller i Enhetsregisteret hvor begge hadde tilgangsstyring som barnerolle, ble denne personen listet ut to ganger i listen. Dette er nå rettet. Hver person vil nå bli listet en gang.\nVedlegg med escapet XML i filnavn feiler ved konvertering til Flatfil-format I noen tilfeller oppsto det feil ved konvertering. Tekst har blitt forskjøvet og resultert i feil på flatfilformatet siden dette er posisjonsavhengig.\nFeil oppsto dersom det ikke fantes noen tilgangsstyrere for hovedenheten Det ble var en feil på \u0026ldquo;Be om tilgang\u0026rdquo; som førte til at brukeren ble møtt med misvisende feilmelding. Feilen oppsto da man forsøkte å hente ut tilgangsstyrere for en hovedenhet som ikke hadde noen tilgangsstyrere.\nFormtaskProcessor bruker opp alt minne i på integrasjonsserver ved veldig store skjemasett FormtaskProcessor er nå endret til å rydde bort skjema-data den ikke bruker under behandling av formsett for å holde minnebruken nede.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2021/",
	"title": "2021",
	"tags": [],
	"description": "Endringer innført i 2021.",
	"content": "\r21.4\rForbedringer og feilrettinger\n\r\r21.3\rForbedringer og feilrettinger\n\r\r21.2\rEndringer i skattemeldingen. Forbedringer og feilrettinger\n\r\r21.1\rMindre forbedringer og feilrettinger\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/autorisasjon/",
	"title": "Autorisasjon",
	"tags": [],
	"description": "Altinn kan benyttes til autorisasjon og tilgangskontroll for eksterne tjenester, altså tjenester på andre nettsteder.",
	"content": "Dokumentasjonen er ment for utviklingsressurser hos tjenesteeiere som skal utnytte Altinn til autorisasjon og tilgangskontroll. For å beskytte sine tjenester er det også nødvendig at tjenesteeiere etablerer føderering av brukere fra ID-porten. Dette dokumentet inneholder ikke detaljert informasjon om oppsett av føderering mot ID-porten, men beskriver hvordan løsningen for autorisasjon i Altinn forholder seg til ID-porten, og hva dette innebærer for tjenesteeieren.\nOverordnet flyt for implementasjon av autorisasjon Altinn kan benyttes av tjenesteeiere som ønsker å tilgjengeliggjøre informasjon og tjenester på egen plattform og nettsted, men ikke kan utføre en full autorisasjon av brukers tilganger. Roller og rettigheter kan være basert på mye informasjon som hver enkelt tjenesteeier ikke nødvedigvis har tilgang til. For å oppnå dette kan tjenesteeieren opprette en tjeneste av typen lenketjeneste i TUL. Tjenesten migreres til SBL på linje med andre tjeneste¬typer, slik at Altinn kan avgjøre om den aktuelle brukeren har nødvendig tilganger basert på de regler tjenesteeier har definert i TUL.\nAltinn leverer autorisasjonstjenester mens ID-porten leverer tjenester for føderering av brukere (Single Sign On).\nI forbindelse med autorisasjon i Altinn er det dermed tre aktører:\n ID-porten, som er Identity Provider og foretar autentisering av sluttbruker Altinn, som foretar autorisasjonskontroll, (og ved bruk av lenking - tjenestekontroller og videreføring av sluttbruker til tjeneste i ekstern portal). Tjenesteeier for ekstern tjeneste som tilbyr tjenesten til sluttbruker.  Flyt ved bruk av viderføring i Altinn Figur 1 viser ID-porten, Altinn, tjenesten og tjenesteeier i et standard «SAML-univers». Altinn er ikke Identity Provider og ID-porten utfører dermed all autentisering av sluttbrukere som deretter fødereres mot Altinn som er Service Provider. Altinn deltar i ID-portens Circle of trust sammen med tjenesteeiere for lenketjenester som også er Service Provider.\n Punkt 1a og 1b. Sluttbruker når lenketjenesten på to måter; via tjenestekatalogen i Altinn eller via dyplenke hos tjenenesteeier. Punkt 2. Når sluttbruker prøver å nå lenketjenesten i Altinn blir det sjekket om sluttbruker er pålogget Altinn. Dersom sluttbruker ikke er pålogget Altinn, blir brukeren ført til ID-porten for autentisering. Sluttbruker blir autentisert i ID-porten og ID-porten fødererer sluttbrukerens identitet til Altinn.  Altinn har verifisert sluttbrukerens identitet og sluttbrukeren er innenfor Circle of Trust med ID-porten og Altinn. Circle of Trust er et begrept innenfor SAML som beskriver systemer med gjensidig tillitt.\n Punkt 3. og Punkt 4. Sluttbrukeren blir ført til valg av avgiver siden i Altinn. Avgiverkontroll og eventuelle tjenestekontroller som er satt på lenketjenesten i TUL blir utført. Punkt 5. Dersom sluttbruker og valgt avgiver tilfredstiller kontrollene satt på tjenesten, blir brukeren videreført til den eksterne tjenesten med en temporær nøkkel lagt til URL.  Tjenesteeier har verifisert at sluttbrukeren er autentisert og sluttbruker er innenfor Circle of Trust med ID-porten, Altinn og Tjenesteeier.\n Punkt 6. Når sluttbruker kommer til den beskyttede tjenesten hos tjenesteeier, må tjenesteeier sjekke om sluttbrukeren er pålogget i tjenesteeiers løsning. Dersom sluttbrukeren ikke er pålogget i tjenesteeiers løsning, verifiseres det at brukeren er pålogget i ID-porten og ID-porten fødererer sluttbrukerens identitet til tjenesteeier. Punkt 7. Tjenesteeier bruker den temporære nøkkelen lagt på URL (tempkey) i webservicekall mot Altinn og henter avgiver valgt av sluttbruker i Altinn. Punkt 8. Tjenesteeier sender XACML request i webservicekall til Altinn for å få bekreftet at sluttbruker har rettigheter til å utføre spesifisert operasjon på lenketjenesten til tjenesteeieren for valgt avgiver. Punkt 9. Brukeren kan nå lenketjenesten.  Implementasjon av lenketjenesten De påfølgende kapitlene vil gi en teknisk detaljert beskriveles av hvordan tjenesteiere bør implementere lenketjenesten i tjenesteeieres applikasjon.\nUtvikling av tjenesteiers eksterne tjeneste Hvordan tjenesten skal fungere i ekstern portal har Altinn ikke et forhold til, og tjenesteier har selv ansvaret for utviklingen av applikasjonen som driver den eksterne tjenesten. Men, i forhold til lenketjenesten i Altinn er det tre hovedfunksjoner tjenesteier må implementere i sin løsning.\nFøderering av identitet fra ID-porten Ressursene som inngår i tjenesten, og dermed er tilgjengelige for sluttbrukere, må beskyttes ved bruk av SAML for føderering av brukerindentiet fra ID-porten. Hvordan dette løses kan tjenesteier selv avgjøre innen for de kravene som stilles av ID-porten. Det som er viktig for lenketjenesten er at sluttbrukers identitet blir verifisert og mottatt i applikasjonen.\nHente avgiver med tempkey fra Altinn. Når sluttbrukeren overføres fra Altinn til den eksterne tjenesten i en http GET request blir en temporær nøkkel (tempkey) lagt til URL. Denne temporære nøkkelen skal benyttes i webservicekall til Altinn for å hente avgiveren brukeren har valgt i portalen. Det er altså viktig at den temporære nøkkelen kan videreføres igjennom fødereringen mot ID-porten, og dermed kan det være hensiktsmessig at applikasjonen mellomlagrer den temporære nøkkelen før sluttbrukeren blir «redirected» til ID-porten i forbindelse med føderering.\nSjekke sluttbrukers autorisasjon ved bruk av webservice Når identiteten til sluttbrukeren er fastslått etter fødereringen fra ID-porten, og avgiver er mottatt i responsen fra Altinns webservice, må applikasjonen benytte Altinns autorisasjonswebservice for å få bekreftet at sluttbruker har rettigheter til å utføre spesifisert operasjon på lenketjenesten til tjenesteeieren for valgt avgiver.\nIntegrasjon mot ID-porten ID-Porten er Identity Provider for lenketjenester, og tjenesteeiere i Altinn som har lenketjenester må etablere en egen, standard, samarbeidsavtale med ID-porten. Dette fordi en slik tjenesteeier vil måtte ha en direkte integrasjon mot ID-porten. DIFI har utarbeidet en tilslutningsguide som beskriver den jobben som må gjøres for å sette opp SAML-integrasjon mot ID-porten. Tilslutningsguiden finnes under ID-Porten \u0026gt; Dokumentasjon i Samarbeidsportalen til Difi.\nUtvikle Lenketjenesten i TUL Lenketjenestene utvikles i TUL på samme måte som andre tjenestetyper, ved at man først oppretter en tjeneste med tjenestetype Lenketjeneste, og deretter har utgaver av tjenesten på nivået under. Det er utgavene som migreres til SBL og er tilgjengelig for sluttbruker. Når tjenesten opprettes blir det generert en ekstern tjenestekode, som er unik for hver enkelt tjeneste. Sammen med ekstern utgavekode, som man setter på Utgaveparametre, danner ekstern tjenestekode en unik identifikator til hver utgave. Ekstern tjenestekode og ekstern utgavekode brukes både i direktelenke til tjenesten i Altinn, samt i autorisasjonsforespørselen mot Altinn.\nDet som skiller lenketjenestene fra andre tjenestetyper er at det på lenketjenestene legges inn en URL til tjenesten på tjenesteeiers side i utgavespesifikasjonen, og siden test-URL og prod-URL er forskjellig, må man derfor alltid opprette en test-utgave og en prod-utgave.\nPå utgaveparametre definerer man lenken som skal peke mot skjema:\n Utgavenavn – dette er navnet som sluttbruker ser i SBL Kortnavn – vises bare i TUL Ekstern utgavekode – numerisk kode som må være unik innen hver tjeneste. Sammen med tjenestekoden utgjør tjenesteutgavekoden en unik identifikator av tjenesesteutgaven, og dyplenken til skjema vil bestå av disse to verdiene Hovedspråk – angi hvilket hovedspråk tjenesten skal finnes på Gyldighetsdatoer – angi gyldig fra-dato og gyldig til-dato Instansierings-/serivcekontroller Altinn verifiserer at valgt avgiver er over 18 år før brukeren gis tilgang til lenketjenesten. Er kun gyldig dersom avgiver er person. Altinn verifiserer at innlogget bruker har registerert personlig epostadresse i profilen før brukeren gis tilgang til lenketjenesten. Lenketjeneste detaljer – her legges url til tjenesten på tjenesteeiers skjemamotor inn Logging og sporing – angi om loggings og sporingsinfo skal lagres i tredjeparts arkiv, og evt hvor lenge. Minimum 10 år hvis logging/sporing skal benyttes. Avgiverkrav – angi hvike aktører/avgivere som skal kunne bruke tjenesten.  Tilgjengelige valg er:\n Privatperson Juridisk enhet Bedrift Konkursbo Bedrift eller juridisk enhet Person eller juridisk enhet Bedrift, juridisk enhet eller konkursbo Alle aktører Sikkerhetsnivå – lenketjenester i Altinn 2 må settes opp med sikkerhetsnivå 3 eller 4, fordi ID-porten benyttes til autentisering og de tilbyr nivå 3 og 4. Virksomhetsbrukere – angi om sluttbrukere skal kunne bruke virksomhetssertifikat til å logge inn. Med virksomhetssertifikat er det ingen knytning til fødselsnummeret til vedkommende som bruker tjenesten. Samhandlingstjeneste – lenketjenester kan defineres til å kunne inngå i en samhandlingstjeneste. Da settes det et kryss på utgaven her, og utgaven vil være valgbar som tilgjengelig tjeneste for samhandlingstjenester.  Altinn rolle På samme måte som andre tjenestetyper, må lenketjenestene knyttes til en eller flere Altinn-roller slik at tjenestene blir tilgjengelig for sluttbrukerne. Altinn-rollene er knyttet til et sett med eksterne roller fra Enhetsregisteret (ER), og når tjenesteeier skal velge hvilke(n) Altinn-rolle(r) som skal gi tilgang til tjenesten,er det viktig å tenke over en del ting:\n Hvem skal bruke tjenesten – det må velges en eller flere roller som sikrer at alle aktuelle avgivere har tilgang til tjenesten. Ulike organisasjonstyper registrerer ulike typer eksterne roller i ER, og tjenesteeier må velge en Altinn-rolle som dekker ulike organisasjonstyper. F.eks vil et enkeltpersonsforetak kanskje bare ha innehaver registrert, mens et AS har både daglig leder, styreleder og revisor. Hvis både ENK’et og AS’et skal kunne benytte tjenesten, må Altinn-rollen som knyttes til tjenesten være knyttet til både Innehaver og Daglig leder, Styreleder eller Revisor. Tilgjengelige roller finnes på \u0026ldquo;rolleadministrasjonssiden\u0026rdquo; i TUL og i portalhjelpen i SBL. Skal ulike roller har tilgang til å utføre ulike operasjoner på tjenesten? Dette kan man skille på i rolletilknytningen. Vær i midlertid oppmerksom på at Altinn kun sjekker at man har lese-tilgang til tjenesten ved instansiering. Hvis man ønsker en mer detaljert autorisasjonssjekk, må dette implementeres i tjenesteeiers tjeneste-applikasjon.  Forenklet tjenestedelegering Forenklet tjenestedelegering i Altinn vil fristille lenketjenestene fra de eksisterende operasjonene (Les, Skriv, Signer osv.), og i stedet knytte hver rolle som er satt opp for en av disse operasjonene til en generell operasjon: Access. Ved delegering av tjenesten i Altinn vil det da ikke være mulig å velge operasjoner, og visning av delegerte rettigheter for tjenesten vil heller ikke ha de vanlige operasjonsikonene.\nDersom man ønsker å ta i bruk forenklet tjenestedelegering i Altinn kan man aktivere dette ved å spesifisere URL for lenketjenesten som: https://schemas.altinn.no/authorization/administration/operation/access/2020/05/. Tjenesten er da ikke mulig å instansiere i Altinn, men vil bare fungere som en representasjon av en ekstern ressurs for Altinn autorisasjon. TUL vil fortsatt kreve at hver at de eksisterende operasjonene (Les, Skriv, Signer osv.) er dekket av minst ett rollekrav.\nBruk av Altinns autorisasjonswebservice Altinns webservice for autorisasjon kan benyttes av tjenesteiere til å foreta autorisasjonsbeslutninger basert på rolle og rettighetsregler og delegeringer som ligger i Altinns autorisasjonsdatabase. Dette gjør at eksterne tjenester som ikke benytter Altinns tjenestemotor likevel kan benytte Altinns autorisasjonsmodell på tjenesten. For lenketjenester, for eksempel en tjeneste hvor avgiver kan være en organisasjon, er dette sentralt.\nDisse tabellene viser endepunktene og operasjonene for Altinns to webservices for autorisasjon som er aktuelle for lenketjenesten.\nAuthorizationAdministration https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc?wsdl\n   Input Beskrivelse Endepukt operasjon     GetReporteeByTempKey https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc GetReporteeByTempKey   GetReportees https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc GetReportees    AuthorizationDecisionPointExternal https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc?wsdl\n   Basis operasjon URI/endepunkt Endepukt operasjon     ExternalReporteeBE https://www.altinn.no/AuthorizationExternal/AuthorizationDecisionPointExternal.svc AuthorizeAccessExternal       Input Beskrivelse     tempKey Nøkkel som angitt i lenketjenestens request URL, vil utgå etter at informasjon er hentet ut – pålagt parameter.   Returverdi Beskrivelse   ExternalReporteeBE ExternalReporteeBE-objekt.       Returverdi Beskrivelse     Name Avgivers navn   OrganizationNumber Organisasjonsnummer for denne avgiveren hvis dette er en organisasjon.   SSN Fødselsnummer for denne avgiveren hvis dette er en person.   Reportee Type Typebeskrivelse for hvilken type avgiver dette er: None, Person, Organization, eller SelfIdentified (ikke et praktisk mulig scenario i denne sammenhengen).    Eksempel Request \u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt; \u0026lt;soap:Envelope xmlns:soap=\u0026#34;http://www.w3.org/2003/05/soap-envelope\u0026#34; xmlns:ns=\u0026#34;http://www.altinn.no/services/Authorization/Administration/2010/10\u0026#34;\u0026gt; \u0026lt;soap:Header/\u0026gt; \u0026lt;soap:Body\u0026gt; \u0026lt;ns:GetReporteeByTempKey\u0026gt; \u0026lt;ns:tempKey\u0026gt;76d4afac-f228-4055-bde5-f4aae0c6af8f\u0026lt;/ns:tempKey\u0026gt; \u0026lt;/ns:GetReporteeByTempKey\u0026gt; \u0026lt;/soap:Body\u0026gt; \u0026lt;/soap:Envelope\u0026gt; Eksempel Response \u0026lt;s:Envelope xmlns:s=\u0026#34;http://www.w3.org/2003/05/soap-envelope\u0026#34; xmlns:a=\u0026#34;http://www.w3.org/2005/08/addressing\u0026#34; xmlns:u=\u0026#34;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\u0026#34;\u0026gt; \u0026lt;s:Header\u0026gt; \u0026lt;a:Action s:mustUnderstand=\u0026#34;1\u0026#34;\u0026gt;http://www.altinn.no/services/Authorization/Administration/2010/10/IAuthorizationAdministrationExternal/GetReporteeByTempKeyResponse\u0026lt;/a:Action\u0026gt; \u0026lt;o:Security s:mustUnderstand=\u0026#34;1\u0026#34; xmlns:o=\u0026#34;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\u0026#34;\u0026gt; \u0026lt;u:Timestamp u:Id=\u0026#34;_0\u0026#34;\u0026gt; \u0026lt;u:Created\u0026gt;2012-11-29T07:19:14.278Z\u0026lt;/u:Created\u0026gt; \u0026lt;u:Expires\u0026gt;2012-11-29T07:24:14.278Z\u0026lt;/u:Expires\u0026gt; \u0026lt;/u:Timestamp\u0026gt; \u0026lt;/o:Security\u0026gt; \u0026lt;/s:Header\u0026gt; \u0026lt;s:Body\u0026gt; \u0026lt;GetReporteeByTempKeyResponse xmlns=\u0026#34;http://www.altinn.no/services/Authorization/Administration/2010/10\u0026#34;\u0026gt; \u0026lt;GetReporteeByTempKeyResult xmlns:b=\u0026#34;http://schemas.altinn.no/services/Authorization/Administration/2012/11\u0026#34; xmlns:i=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34;\u0026gt; \u0026lt;b:Name\u0026gt;HÅKON TRANA\u0026lt;/b:Name\u0026gt; \u0026lt;b:OrganizationNumber i:nil=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;b:ReporteeType\u0026gt;Person\u0026lt;/b:ReporteeType\u0026gt; \u0026lt;b:SSN\u0026gt;05116602352\u0026lt;/b:SSN\u0026gt; \u0026lt;/GetReporteeByTempKeyResult\u0026gt; \u0026lt;/GetReporteeByTempKeyResponse\u0026gt; \u0026lt;/s:Body\u0026gt; \u0026lt;/s:Envelope\u0026gt; Feilsituasjoner Dersom nøkkelen er ugyldig (for eksempel, på grunn av timeout, eller tidligere bruk) vil operasjonen returnere en Altinnfault. Den eksterne tjenesten bør da presentere en feilmelding for sluttbruker, og gi sluttbruker mulighet til å gå tilbake til Altinn (dyplenken til tjenesten) for å starte tjenesten på ny.\nAuthorizationDecisionPointExternal.AuthorizeAccessExternal Når applikasjonen som driver den eksterne tjenesten har verifisert identiten til brukeren med føderering fra ID-porten, og mottatt avgiver (valgt av sluttbruker) ved kall til GetReporteeByTempKey, må det verifiseres at sluttbruker har rettighet til å benytte tjenesten for valgt avgiver. Dette gjøres med kall til AuthorizationDecisionPointExternal.AuthorizeAccesExternal.\nAuthorizeAccessExternal operasjonen benytter XACML standarden og regler lagret i Altinn til å returnere en autorisasjonsbeslutning. Besluttningsgrunnlaget til autorisasjon for tjenester er de regler (rolleknytninger) som tjenesteeier har satt på lenketjenesten i TUL.\nDet kreves en XACMLRrquest som gir et XACML standardisert svar\nXACML-forespørselen skal inneholde en kombinasjon av følgende elementer:\n   Foreldre-node AttributeId Gyldige verdier i AttributeValue Eksempel     Subject urn:oasis:names:tc:xacml:2.0:subject: urn:altinn:ssn Utførende brukers fødselsnummer \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml: 2.0:subject:urn:altinn:ssn\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;07037512345\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn Avgivers fødselsnummer \u0026lt;AttributeAttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0: resource⚱altinn:reportee-ssn\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;010203401944\u0026lt;/AttributeValue\u0026gt;\u0026lt;/Attribute\u0026gt;   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno Avgivers organisasjonsnnummer \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0: resource⚱altinn:reportee-orgno\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;910453777\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode Eksterne tjenestekoder \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;2298\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode Ekstern utgavekode (tilhørende overnevnte tjenestekode) \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;60804\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;   Action urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id Read Write Sign ArchiveRead ArchiveDelete ServiceOwnerArchiveRead Delegate Hvilke operasjoner som kan benyttes for den aktuelle lenketjenesten defineres i TUL. \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;Sign\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;   Environment urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment YT2 YT AT8 AT3 AT4 AT5 TT1 TT2 Prod \u0026lt;Attribute AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0: action⚱altinn:environment\u0026quot;DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt; \u0026lt;AttributeValue\u0026gt;PROD\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt;    XACML-forespørselen skal inneholde kun et Resource element med kombinasjon av enten avgivers fødselsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn) eller avgivers organisasjonsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno), samt ekstern tjenestekode og utgavekode (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode og urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode). Det må angis hvilket miljø requesten gjelder i Environment elementet (urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment). Altinn spesifikke elementer XACML-respons:\n   Foreldre-node AttributeId Gyldige verdier i AttributeValue Eksempel     Obligation urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:authenticationlevel Autentiseringsnivå 0, 1, 2, 3, 4 Hvilke nivå som skal kreves for en resurs. \u0026lt;tns:Obligation FulfillOn=\u0026quot;Permit\u0026quot; ObligationId=\u0026quot;\u0026quot;\u0026gt; \u0026lt;tns:AttributeAssignment AttributeId=\u0026quot;urn:oasis:names:tc:xacml:2.0:obligation:urn:altinn:authenticationlevel\u0026quot; DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#string\u0026quot;\u0026gt;\t\u0026lt;tns:AttributeValue DataType=\u0026quot;http://www.w3.org/2001/XMLSchema#integer\u0026quot;\u0026gt;3\u0026lt;/tns:AttributeValue\u0026gt; \u0026lt;/tns:AttributeAssignment\u0026gt; \u0026lt;/tns:Obligation\u0026gt;    Nedenfor vises eksempler på gyldig forespørsler:\nAuthorizationRequest \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;Request xmlns=\u0026#34;urn:oasis:names:tc:xacml:2.0:context:schema:os\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;urn:oasis:names:tc:xacml:2.0:context:schema:os http://docs.oasis-open.org/xacml/access_control-xacml-2.0-context schemaos.xsd\u0026#34;\u0026gt; \u0026lt;!-- Altinn Sample Request. --\u0026gt; \u0026lt;!-- This authorization request tries to verify if user --\u0026gt; \u0026lt;!-- 06069460079 is allowed to perform sign operation --\u0026gt; \u0026lt;!-- on behalf of reportee 910453777 --\u0026gt; \u0026lt;!-- on service 2298, edition 60804 --\u0026gt; \u0026lt;Subject\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;06069460079\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Subject\u0026gt; \u0026lt;Resource\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reporte-orgno\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;910453777\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;2298\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;60804\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Resource\u0026gt; \u0026lt;Action\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;Sign\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Action\u0026gt; \u0026lt;/Request\u0026gt; Operasjonen returnerer XML som også følger XACML standarden. Under vises et eksempel på en response.\nAuthorizationResponse \u0026lt;xacml:Response xmlns:tns=\u0026#34;urn:oasis:names:tc:xacml:2.0:policy:schema:os\u0026#34; xmlns:xacml=\u0026#34;urn:oasis:names:tc:xacml:2.0:context:schema:os\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;urn:oasis:names:tc:xacml:2.0:context:schema:os http://docs.oasis-open.org/xacml/2.0/access_control-xacml-2.0-context-schema-os.xsd\u0026#34;\u0026gt; \u0026lt;xacml:Result ResourceId=\u0026#34;\u0026#34;\u0026gt; \u0026lt;xacml:Decision\u0026gt;Permit\u0026lt;/xacml:Decision\u0026gt; \u0026lt;xacml:Status\u0026gt; \u0026lt;xacml:StatusCode Value=\u0026#34;urn:oasis:names:tc:xacml:2.0:response:urn:altinn:ok\u0026#34; /\u0026gt; \u0026lt;xacml:StatusMessage\u0026gt;\u0026lt;/xacml:StatusMessage\u0026gt; \u0026lt;/xacml:Status\u0026gt; \u0026lt;tns:Obligations\u0026gt; \u0026lt;tns:Obligation FulfillOn=\u0026#34;Permit\u0026#34; ObligationId=\u0026#34;\u0026#34;\u0026gt; \u0026lt;tns:AttributeAssignment AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:obligation:urn:altinn:authenticationlevel\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;tns:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#integer\u0026#34;\u0026gt;3\u0026lt;/tns:AttributeValue\u0026gt; \u0026lt;/tns:AttributeAssignment\u0026gt; \u0026lt;/tns:Obligation\u0026gt; \u0026lt;/tns:Obligations\u0026gt; \u0026lt;/xacml:Result\u0026gt; \u0026lt;/xacml:Response\u0026gt; Det er opprettet en Altinn-tilpasset XACML context XSD som kan brukes til å validere XACML request fra tjenesteeier. Denne inneholder de gyldige attributtene for XACML requester som sendes til Altinn. Altinn XACML context XSD ligger på Altinnnett under systemdokumentasjon.\nAutorisasjonsbeslutning Dersom XACML responsen fra Altinn (xacml:DecisionPermit\u0026lt;/xacml:Decision\u0026gt;) indikerer at brukeren har rettighet til å utføre spesifisert operasjon for spesifisert avgiver på spesifisert tjenesteutgave, kan brukeren gis adgang til den eksterne tjenesten.\nMen, dersom XACML responsen fra Altinn (xacml:DecisionDeny\u0026lt;/xacml:Decision\u0026gt;) indikerer at brukeren IKKE har rettighet til å utføre operasjoen, må applikasjonen nekte sluttbruker adgang til den eksterne tjenesten. Da bør sluttbruker gis mulighet til å velge avgiver på ny, og dette kan gjøres på flere måter:\n Sluttbruker kan sendes tilbake til Altinn (via dyplenke til tjenesten) for å velge avgiver på ny. Applikasjonen for eksterne tjenesten kan hente liste over sluttbrukers mulige avgivere ved kall til AuthorizationAdministration.GetReportees (se kapittel ) og gi sluttbruker mulighet til å velge avgiver på nytt i den eksterne tjenesten.  Uavhengig av valgt metode for å velge avgiver på nytt, må det gjøre et påfølgende kall til AuthorizeAccessExternal metoden.\nFeilsituasjoner Dersom Altinn ikke klarte å gjøre en korrekt beslutning for parameterne spesifisert i requesten, vil XACML responsen fra Altinn indikerere dette (xacml:DecisionIndeterminate\u0026lt;/xacml:Decision\u0026gt;). Ved annen teknisk feil vil operasjonen returnere en Altinnfault. Den eksterne tjenesten bør da presentere en feilmelding for sluttbruker, og gi sluttbruker mulighet til å gå tilbake til Altinn (dyplenken til tjenesten) for å starte tjenesten på ny.\nAuthorizationAdministrationExternal.GetReportees Metoden GetReportees returnerer alle mulige avgivere for en person (identifisert med fødselsnummer) uavhengig av hvilke roller/rettigheter denne personen har for avgiveren. Dermed må det også ved bruk av denne tjenesten utføres en påfølgende autorisasjonssjekk med XACML webservice mot en lenketjeneste som rollekravene for den eksterne tjenesten kan knyttes til.\nDersom tjenesteier ønker å la sluttbrukeren velge avgiver i egen tjeneste som standard, kan applikasjonen som driver ekstern tjeneste oppnå dette ved å bruke denne metoden.\nDa må tjenesteeier gjøre følgende:\n Opprette lenketjeneste i Altinn og knytte den til en Altinn rolle. Dette gjør at roller/rettigheter for tjenesten kan delegeres i Altinns rolledelegeringside. Implementere valg av avgiver i egen portal og bruke GetReportees til å få liste over mulige avgivere fra Altinn. Implementere bruk av AuthorizeAccessExternal til å sjekke at brukeren har rettighet på tjenesten til til tjenesteier for valgt avgiver.  Da trenger ikke sluttbrukerne å gå innom Altinn for å bruke tjenesten. Men delegering av roller og rettigheter til tjenesten må fremdeles gjøres i Altinn.\nDersom tjenesteeier ikke ønsker å benytte valg av avgiver i Altinn kan de heller ikke benytte følgende servicekontroller på tjenesten:\n Kontroll av korrekt avgivertype (person, bedrift, juridisk enhet etc) Kontroll av at avgiver er 18. år Kontroll av at pålogget bruker har registrert epost i sin profil.  Tabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     userSSN Fødselsnummeret til brukeren det skal hentes avgivere for – pålagt parameter.   retrieveInActiveReportee Flagg for å sette om også inaktive avgivere skal returneres, standard False – valgfri parameter.   RetrieveSubEnitiy Flagg for å sette om også underenheter skal returneres, standard False – valgfri parameter.   maximumReporteeCount Verdi for maksimum antall avgivere som skal returneres, standard satt til alle – valgfri parameter.   Returverdi    ExternalReporteeBEList Liste med ExternalReporteeBE-objekter   Name Avgivers navn   OrganizationNumber Organisasjonsnummer for denne avgiveren hvis dette er en organisasjon   SSN Fødselsnummer for denne avgiveren hvis dette er en person   ReporteeType Typebeskrivelse for hvilken type avgiver dette er: None, Person, Organization, eller SelfIdentified (ikke et praktisk mulig scenario i denne sammenhengen)    Eksempel Request/Response\nGetReportees Request\n\u0026lt;soap:Envelope xmlns:soap=\u0026#34;http://www.w3.org/2003/05/soap-envelope\u0026#34; xmlns:ns=\u0026#34;http://www.altinn.no/services/Authorization/Administration/2010/10\u0026#34;\u0026gt; \u0026lt;soap:Header/\u0026gt; \u0026lt;soap:Body\u0026gt; \u0026lt;ns:GetReportees\u0026gt; \u0026lt;ns:userSSN\u0026gt;05116602352\u0026lt;/ns:userSSN\u0026gt; \u0026lt;!--Optional:--\u0026gt; \u0026lt;ns:retrieveInActiveReportee\u0026gt;false\u0026lt;/ns:retrieveInActiveReportee\u0026gt; \u0026lt;!--Optional:--\u0026gt; \u0026lt;ns:retrieveSubEnitiy\u0026gt;true\u0026lt;/ns:retrieveSubEnitiy\u0026gt; \u0026lt;!--Optional:--\u0026gt; \u0026lt;ns:maximumReporteeCount\u0026gt;10\u0026lt;/ns:maximumReporteeCount\u0026gt; \u0026lt;/ns:GetReportees\u0026gt; \u0026lt;/soap:Body\u0026gt; \u0026lt;/soap:Envelope\u0026gt; GetReportees Response\n\u0026lt;s:Envelope xmlns:s=\u0026#34;http://www.w3.org/2003/05/soap-envelope\u0026#34; xmlns:a=\u0026#34;http://www.w3.org/2005/08/addressing\u0026#34; xmlns:u=\u0026#34;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\u0026#34;\u0026gt; \u0026lt;s:Header\u0026gt; \u0026lt;a:Action s:mustUnderstand=\u0026#34;1\u0026#34;\u0026gt;http://www.altinn.no/services/Authorization/Administration/2010/10/IAuthorizationAdministrationExternal/GetReporteesResponse\u0026lt;/a:Action\u0026gt; \u0026lt;o:Security s:mustUnderstand=\u0026#34;1\u0026#34; xmlns:o=\u0026#34;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\u0026#34;\u0026gt; \u0026lt;u:Timestamp u:Id=\u0026#34;_0\u0026#34;\u0026gt; \u0026lt;u:Created\u0026gt;2012-11-29T09:06:49.796Z\u0026lt;/u:Created\u0026gt; \u0026lt;u:Expires\u0026gt;2012-11-29T09:11:49.796Z\u0026lt;/u:Expires\u0026gt; \u0026lt;/u:Timestamp\u0026gt; \u0026lt;/o:Security\u0026gt; \u0026lt;/s:Header\u0026gt; \u0026lt;s:Body\u0026gt; \u0026lt;GetReporteesResponse xmlns=\u0026#34;http://www.altinn.no/services/Authorization/Administration/2010/10\u0026#34;\u0026gt; \u0026lt;GetReporteesResult xmlns:b=\u0026#34;http://schemas.altinn.no/services/Authorization/Administration/2012/11\u0026#34; xmlns:i=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34;\u0026gt; \u0026lt;b:ExternalReporteeBE\u0026gt; \u0026lt;b:Name\u0026gt;Otta Transport AS Konkursbo\u0026lt;/b:Name\u0026gt; \u0026lt;b:OrganizationNumber\u0026gt;910453092\u0026lt;/b:OrganizationNumber\u0026gt; \u0026lt;b:ReporteeType\u0026gt;Organization\u0026lt;/b:ReporteeType\u0026gt; \u0026lt;b:SSN i:nil=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;/b:ExternalReporteeBE\u0026gt; \u0026lt;b:ExternalReporteeBE\u0026gt; \u0026lt;b:Name\u0026gt;MJOSUNDET OG RYPEFJORD\u0026lt;/b:Name\u0026gt; \u0026lt;b:OrganizationNumber\u0026gt;910059106\u0026lt;/b:OrganizationNumber\u0026gt; \u0026lt;b:ReporteeType\u0026gt;Organization\u0026lt;/b:ReporteeType\u0026gt; \u0026lt;b:SSN i:nil=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;/b:ExternalReporteeBE\u0026gt; \u0026lt;b:ExternalReporteeBE\u0026gt; \u0026lt;b:Name\u0026gt;HÅKON TRANA\u0026lt;/b:Name\u0026gt; \u0026lt;b:OrganizationNumber i:nil=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;b:ReporteeType\u0026gt;Person\u0026lt;/b:ReporteeType\u0026gt; \u0026lt;b:SSN\u0026gt;05116602352\u0026lt;/b:SSN\u0026gt; \u0026lt;/b:ExternalReporteeBE\u0026gt; \u0026lt;/GetReporteesResult\u0026gt; \u0026lt;/GetReporteesResponse\u0026gt; \u0026lt;/s:Body\u0026gt; \u0026lt;/s:Envelope\u0026gt; Feilsituasjoner Dersom sluttbrukeren (spesifisert med fødselsnummer) ikke har gitt samtykke til bruk av Altinn som privatperson eller for andre, vil GetReportees returnere en tom liste.\nDersom sluttbruker (spesifisert med fødselsnummer) ikke har gitt samtykke til å rapportere på vegne av organisasjoner eller andre personer, vil GetReportees kun returnere sluttbruker selv som mulig avgiver.\nDersom sluttbrukeren (spesifisert med fødselsnummer) ikke har gitt personlig samtykke i Altinn, vil GetReportees kun returnere organisasjoner eller andre personer som gyldige avgivere for sluttbrukeren.\nI disse tilfellene må sluttbruker informeres om dette, og gis mulighet til å logge inn i Altinn for å gi sitt samtykke.\nDersom det fødselsnummeret spesifisert er ugyldig vil Altinn returnere en Altinnfault\nFeilsituasjoner i produksjon Dersom det oppdages feil ved bruk av lenketjenesten, er det viktig at det indentifiseres hvor feilen ligger. Feil i forbindelse med føderering fra ID-porten skal meldes til ID-porten og ikke til Altinn.\nDersom lenken til den eksterne tjenesten i Altinn er korrekt, det ikke er feil i forbindelse med føderering fra ID-porten, og tjenesteeier er sikker på at feilen ikke ligger i egen applikasjon bør tjenesteeier kontakte ASF. Feilmelding kan da sendes til tjenesteeier@altinn.no\nFeilmeldingen må inneholde informasjon om tjenesten, tidspunkt for feilen og hvilke brukere og avgivere feilen dreier seg om. SOAP request og response for kall til Altinns autorisasjonswebservices må også vedlegges feilmeldingen.\n\rStyring av tilgang\rHar du tjenester som du trenger å styre tilgangen til sparer du både tid og kostnader på å ta i bruk nasjonale felleskomponenter som allerede finnes. ID-porten verifiserer sluttbrukers identitet og Altinn kontrollerer at sluttbruker har tilgang til å bruke tjenesten.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/api-delegering/",
	"title": "Delegering av API-tilgang",
	"tags": [],
	"description": "Altinn kan benyttes for å videredelegere tilgang til API-er sikret med Maskinporten",
	"content": "Introduksjon Den nasjonale referansearkitekturen for eOppslag søker å møte behovet for samordnede sikkerhetsmekanismer for å sikre tilganger til API-er gjennom sterk autentisering, samt mulighet for å kunne delegere tilganger videre til f.eks. leverandører som skal utføre arbeid på vegne av en aktør som har fått tilgang til et API.\nMaskinporten er delen av den felles nasjonale innloggingsløsningen ID-porten som tilbyr sikring av API-tilganger via maskin-til-maskin-autentisering og en OAuth2-scope basert autorisasjonsmekanisme.\nSammen med Altinn er det implementert en mekanisme som gjør det mulig for virksomheter som er gitt tilgang til et API gjennom Maskinporten å gi denne videre til for eksempel en leverandør som skal utføre den tekniske implementasjonen på deres vegne. Dette gjør at API-eier ikke trenger å forholde seg til enkeltleverandører, og man unngår deling av virksomhetssertifkat mellom virksomheten som har fått tilgang og dens leverandør.\nEt eksempel Skatteetaten oppretter API-er for oppslag mot Folkeregisteret (1), og registrerer samtidig API-et (scopet) som en delegerbar ressurs i Altinn (2). Deretter gis tilgang til Leikanger kommune til scopet som representerer Folkeregisteret (3).\nEn hoveadministrator for Leikanger kommune logger da inn i Altinn og utfører en vanlig tjenestedelegering til en leverandør. (4)\ngraph TD\rsubgraph Skattetaten\rSSC[Selvbetjeningsklient]\rend\rsubgraph Maskinporten\rSSA[Selvbetjenings-API]\rend\rsubgraph Leikanger Kommune\rCON[Tilgangsstyrer]\rend\rsubgraph \"Delegeringskilde (Altinn)\"\rAP[Altinn Portal]\rAA[Altinn Autorisasjon]\rend\rSSC-- |1. Oppretter API|SSA\rSSC -- |2. Registrer API som delegerbar ressurs|AA\rSSC -- |3. Gir tilgang til Leikanger kommune|SSA\rCON -- |4. Delegerer tilgang til leverandør via Portal|AP\r Underleverandøren får beskjed om dette via varsel, og kan da opprette en OAuth2-klient i Maskinporten som provisjoneres med scopet som representerer Folkeregisteret. Når underleverandøren da forsøker å hente ut et access token, oppgir de at de gjøre dette på vegne av Leikanger Kommune. Maskinporten gjør da et oppslag mot Altinn for å sjekke om det foreligger en aktiv delegering på Folkeregister-scopet gitt fra Leikanger Kommune til underleverandøren. Altinn returnerer en bekreftelse på dette, og Maskinporten utsteder token til underleverandører, som da kan bruke dette mot Skatteetatens API som om den var Leikanger Kommune.\ngraph TD\rsubgraph Skattetaten\rAPI[Folkeregister-API]\rend\rsubgraph Maskinporten\rOIDC[OAuth2-server]\rend\rsubgraph Leverandør\rCLI[OAuth2-klient]\rend\rsubgraph \"Delegeringskilde (Altinn)\"\rAA[Altinn Autorisasjon]\rend\rCLI -- |1. Forespør token pva. Leikanger kommune|OIDC\rOIDC --|2. Sjekker om delegering foreligger|AA\rOIDC --|3. Utsteder leverandørtoken|CLI\rCLI -- |4. Bruker token mot API|API\r \rmermaidConfig = {\rtheme: \"default\",\rfontFamily: \"DIN-reg\",\rflowchart: { useMaxWidth: true,\rbottomMarginAdj: 50\r},\rthemeCSS: /* \".node rect { fill: #0062BA; }\"+*/\r\".node rect { fill: #1EAEF7; }\"+\r\".node .label { color: white }\"+\r\".cluster rect { fill: #EFEFEF !important; stroke: #1EAEF7 !important }\"+\r\".edgeLabel { background: #fff; padding: 0.3rem }\"\r}\r\r\rFor API-bruker\rOm hvordan du tar i bruk en tilgang til et Maskinporten-sikret API gitt via en Altinn-delegering.\n\r\rFor API-eier\rOm hvordan du som API-eier kan registrere ditt API som en delegerbar ressurs i Altinn.\n\r\rFor tilgangsstyrer\rOm hvordan du som tilgangsstyrer for en virksomhet som har fått tilgang til et API i Maskinporten delegerer denne videre til en leverandør.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/digital-post-til-virksomheter/eksempler/",
	"title": "Eksempler",
	"tags": [],
	"description": "Eksempler på request og respond.",
	"content": "InsertCorrespondenceBasicV2 Merk: XML parametere som er kommentert bort er tatt med for informasjon om muligheter for funksjonalitet utover kun bruk av DPV.\nFor detaljert informasjon om de ulike parameterene, se eget kapittel i integrasjonsguiden for tjenesteeiere\nREQUEST:\n\u0026lt;soapenv:Envelope xmlns:soapenv=\u0026#34;http://schemas.xmlsoap.org/soap/envelope/\u0026#34; xmlns:ns=\u0026#34;http://www.altinn.no/services/ServiceEngine/Correspondence/2009/10\u0026#34; xmlns:ns1=\u0026#34;http://schemas.altinn.no/services/ServiceEngine/Correspondence/2010/10\u0026#34; xmlns:ns2=\u0026#34;http://www.altinn.no/services/ServiceEngine/ReporteeElementList/2010/10\u0026#34; xmlns:ns3=\u0026#34;http://schemas.altinn.no/services/ServiceEngine/Correspondence/2009/10\u0026#34; xmlns:ns4=\u0026#34;http://schemas.altinn.no/services/ServiceEngine/Notification/2009/10\u0026#34; xmlns:ns5=\u0026#34;http://schemas.altinn.no/services/ServiceEngine/Correspondence/2016/02\u0026#34;\u0026gt; \u0026lt;soapenv:Header/\u0026gt; \u0026lt;soapenv:Body\u0026gt; \u0026lt;ns:InsertCorrespondenceBasicV2\u0026gt; \u0026lt;!-- Brukernavn + passord hvis dette skal benyttes fremfor Virksomhetssertifikat --\u0026gt; \u0026lt;ns:systemUserName\u0026gt;...\u0026lt;/ns:systemUserName\u0026gt; \u0026lt;ns:systemPassword\u0026gt;...\u0026lt;/ns:systemPassword\u0026gt; \u0026lt;!-- En unik egenreferanse til Meldingen. benyttes for asynkront Statusoppslag. Datatypen er string, og må inneholde en unik identifikator for meldingen. Må tas vare på for senere asynkrone Statusoppslag for enkeltmeldinger. Identifikatoren blir også returnert i synkron SOAP respons --\u0026gt; \u0026lt;ns:ExternalShipmentReference\u0026gt;EXT_REF${=(int)(Math.random()*100000)}\u0026lt;/ns:ExternalShipmentReference\u0026gt; \u0026lt;ns:Correspondence\u0026gt; \u0026lt;!-- Angir en av de standard Meldingstjeneste for DPV 4255 - 1-10 Felles meldingstjeneste (eid av ASF)--\u0026gt; \u0026lt;ns1:ServiceCode\u0026gt;4255\u0026lt;/ns1:ServiceCode\u0026gt; \u0026lt;ns1:ServiceEdition\u0026gt;10\u0026lt;/ns1:ServiceEdition\u0026gt; \u0026lt;!-- Orgnr til mottager --\u0026gt; \u0026lt;ns1:Reportee\u0026gt;910820605\u0026lt;/ns1:Reportee\u0026gt; \u0026lt;ns1:Content\u0026gt; \u0026lt;ns1:LanguageCode\u0026gt;1044\u0026lt;/ns1:LanguageCode\u0026gt; \u0026lt;ns1:MessageTitle\u0026gt;Tittel på Melding\u0026lt;/ns1:MessageTitle\u0026gt; \u0026lt;ns1:MessageSummary\u0026gt;MessageSummary legges inn her hvis ønskelig\u0026lt;/ns1:MessageSummary\u0026gt; \u0026lt;ns1:MessageBody\u0026gt;Meldingsbrødtekst legges inn her\u0026lt;/ns1:MessageBody\u0026gt; \u0026lt;!-- Vedlegg til Post --\u0026gt; \u0026lt;ns1:Attachments\u0026gt; \u0026lt;ns1:BinaryAttachments\u0026gt; \u0026lt;ns2:BinaryAttachmentV2\u0026gt; \u0026lt;!-- PortalOnly | EndUserSystemOnly | Default --\u0026gt; \u0026lt;ns2:DestinationType\u0026gt;Default\u0026lt;/ns2:DestinationType\u0026gt; \u0026lt;ns2:FunctionType\u0026gt;Unspecified\u0026lt;/ns2:FunctionType\u0026gt; \u0026lt;ns2:FileName\u0026gt;Test1-Hoved.pdf\u0026lt;/ns2:FileName\u0026gt; \u0026lt;!-- Name er navn på vedlegg i portalvisningen: --\u0026gt; \u0026lt;ns2:Name\u0026gt;Test1-Hoved.pdf\u0026lt;/ns2:Name\u0026gt; \u0026lt;ns2:Encrypted\u0026gt;false\u0026lt;/ns2:Encrypted\u0026gt; \u0026lt;ns2:Data\u0026gt; ... Base64 encode ...\u0026lt;/ns2:Data\u0026gt; \u0026lt;!-- Unik referanse for Vedlegget, ikke påkrevet --\u0026gt; \u0026lt;ns2:SendersReference\u0026gt;SEND_REF${=(int)(Math.random()*100000)}\u0026lt;/ns2:SendersReference\u0026gt; \u0026lt;/ns2:BinaryAttachmentV2\u0026gt; \u0026lt;/ns1:BinaryAttachments\u0026gt; \u0026lt;/ns1:Attachments\u0026gt; \u0026lt;!-- Dette er data som kun kan leses via Integrasjonsgrensesnitt Sluttbrukere. Benyttes ikke av noen avsendere i dag, men er et \u0026#39;fritekst\u0026#39;-felt for avsender og som kan f.eks inneholde metadata for sluttbrukers IKT-løsninger, hvis behov for dette. Opsjonelt. --\u0026gt; \u0026lt;ns1:CustomMessageData\u0026gt;Dette er customMessagedata fra TTD\u0026lt;![CDATA[\u0026lt;para\u0026gt;check\u0026lt;/para\u0026gt;]]\u0026gt;\u0026lt;/ns1:CustomMessageData\u0026gt; \u0026lt;/ns1:Content\u0026gt; \u0026lt;!-- Når skal Melding synliggjøres for Sluttbruker. Tid kan settes i fremtiden. Hvis man setter tidspunkt i fortid blir meldingen tilgjengelig øyeblikkelig --\u0026gt; \u0026lt;ns1:VisibleDateTime\u0026gt;2011-07-01\u0026lt;/ns1:VisibleDateTime\u0026gt; \u0026lt;!-- Følgende er ikke parametere som benyttes i DPV, men for dialogtjenester i ordinære meldingstjenester - angir når Altinn kan slette meldingen (blir ikke benyttet), - frist for å lese Meldingen - referanse til et tidligere arkivert element i Altinn, f.eks et tidligere innsendt skjema --\u0026gt; \u0026lt;!-- \u0026lt;ns1:AllowSystemDeleteDateTime\u0026gt;2011-12-30\u0026lt;/ns1:AllowSystemDeleteDateTime\u0026gt; \u0026lt;ns1:DueDateTime\u0026gt;2015-12-30\u0026lt;/ns1:DueDateTime\u0026gt; \u0026lt;ns1:ArchiveReference\u0026gt;ArcRef${=(int)(Math.random()*100000)}\u0026lt;/ns1:ArchiveReference\u0026gt; \u0026lt;ns1:ReplyOptions\u0026gt; \u0026lt;ns3:ReplyOption\u0026gt; \u0026lt;ns3:Service\u0026gt; \u0026lt;ns3:ServiceCode\u0026gt;?\u0026lt;/ns3:ServiceCode\u0026gt; \u0026lt;ns3:ServiceEdition\u0026gt;?\u0026lt;/ns3:ServiceEdition\u0026gt; \u0026lt;/ns3:Service\u0026gt; \u0026lt;ns3:ArchiveReference\u0026gt; \u0026lt;ns3:ArchiveRef\u0026gt;?\u0026lt;/ns3:ArchiveRef\u0026gt; \u0026lt;/ns3:ArchiveReference\u0026gt; \u0026lt;ns3:URL\u0026gt; \u0026lt;ns3:LinkText\u0026gt;Sjekk denne URL lenken\u0026lt;/ns3:LinkText\u0026gt; \u0026lt;ns3:LinkURL\u0026gt;https://qaoffentlig.digipost.no\u0026lt;/ns3:LinkURL\u0026gt; \u0026lt;/ns3:URL\u0026gt; \u0026lt;/ns3:ReplyOption\u0026gt; \u0026lt;/ns1:ReplyOptions\u0026gt; --\u0026gt; \u0026lt;!--- *********** Varsel **************** --\u0026gt; \u0026lt;!-- 3 språkvalg: 1044 NorwegianNO 2068 NorwegianNN 1033 English Maler som kan benyttes fritt i DPV: VarselDPVUtenRevarsel = 1 token VarselDPVMedRevarsel = 1 token, 7 dager --\u0026gt; \u0026lt;ns1:Notifications\u0026gt; \u0026lt;ns4:Notification\u0026gt; \u0026lt;ns4:FromAddress\u0026gt;TTD@brreg.no\u0026lt;/ns4:FromAddress\u0026gt; \u0026lt;!-- Når skal varsel sendes --\u0026gt; \u0026lt;ns4:ShipmentDateTime\u0026gt;2015-12-15\u0026lt;/ns4:ShipmentDateTime\u0026gt; \u0026lt;!-- Hvilken språkvariant av Varselsmal skal benyttes --\u0026gt; \u0026lt;ns4:LanguageCode\u0026gt;1044\u0026lt;/ns4:LanguageCode\u0026gt; \u0026lt;!-- Her angis hvilken mal som ønskes benyttes: --\u0026gt; \u0026lt;ns4:NotificationType\u0026gt;VarselDPVMedRevarsel\u0026lt;/ns4:NotificationType\u0026gt; \u0026lt;!-- Tekst token som skal erstatte Token i Varselsmal. --\u0026gt; \u0026lt;ns4:TextTokens\u0026gt; \u0026lt;ns4:TextToken\u0026gt; \u0026lt;ns4:TokenNum\u0026gt;1\u0026lt;/ns4:TokenNum\u0026gt; \u0026lt;ns4:TokenValue\u0026gt;Varsel ang sak X er er klar\u0026lt;/ns4:TokenValue\u0026gt; \u0026lt;/ns4:TextToken\u0026gt; \u0026lt;/ns4:TextTokens\u0026gt; \u0026lt;ns4:ReceiverEndPoints\u0026gt; \u0026lt;ns4:ReceiverEndPoint\u0026gt; \u0026lt;!-- Angir hvilke varselskanaler som skal benyttes --\u0026gt; \u0026lt;ns4:TransportType\u0026gt;Email\u0026lt;/ns4:TransportType\u0026gt; \u0026lt;!-- \u0026lt;ns4:ReceiverAddress\u0026gt;Hvis denne angis spesifikt vil ikke Altinn hente ut og benytte kontaktinformasjon som er registrert på Virksomheten\u0026lt;/ns4:ReceiverAddress\u0026gt; --\u0026gt; \u0026lt;/ns4:ReceiverEndPoint\u0026gt; \u0026lt;ns4:ReceiverEndPoint\u0026gt; \u0026lt;ns4:TransportType\u0026gt;SMS\u0026lt;/ns4:TransportType\u0026gt; \u0026lt;!-- \u0026lt;ns4:ReceiverAddress\u0026gt;Hvis denne angis spesifikt vil ikke Altinn hente ut og benytte kontaktinformasjon som er registrert på Virksomheten\u0026lt;/ns4:ReceiverAddress\u0026gt; --\u0026gt; \u0026lt;/ns4:ReceiverEndPoint\u0026gt; \u0026lt;/ns4:ReceiverEndPoints\u0026gt; \u0026lt;/ns4:Notification\u0026gt; \u0026lt;/ns1:Notifications\u0026gt; \u0026lt;!-- Mulig å videresende meldingen til en e-post adresse om angitt i valgfri parameter AllowForwarding. Er denne satt til true vil bruker kunne sende meldingen videre som en e-post fra portalen. Om ikke satt settes den til standardverdi som er True --\u0026gt; \u0026lt;ns1:AllowForwarding\u0026gt;true\u0026lt;/ns1:AllowForwarding\u0026gt; \u0026lt;!-- Brukes kun for tjenestetypen Samhandlingstjenester i Altinn \u0026lt;ns1:CaseID\u0026gt;?\u0026lt;/ns1:CaseID\u0026gt; --\u0026gt; \u0026lt;!-- MessageSender parameter kan benyttes hvis behov for å overstyre overfor sluttbruker hvem som er avsender. Hvis MessageSender ikke angis spesifikt, vil Altinn benytte avsenders orgnr som utgangspunkt og angi det orgnavn som er registrert i Enhetsregisteret overfor sluttbruker. Se også parameter OnBehalfOfOrgNr, som benyttes som utgangspunkt overfor bruker hvis angitt. Merk at MessageSender kun er et tekstfelt som benyttes overfor sluttbruker, den faktiske avsender og evt OnBehalfOfOrgNr registreres alltid i Altinn. --\u0026gt; \u0026lt;ns1:MessageSender\u0026gt;Testdept avdeling for småsaker\u0026lt;/ns1:MessageSender\u0026gt; \u0026lt;!-- Benyttes kun for privatpersoner, og skal ikke benyttes for virksomheter Kan benyttes hvis man benytter Altinn til å sende Post både til virksomheter og privatpersoner (Altinn kan videresende til DPI) \u0026lt;ns1:IsReservable\u0026gt;1\u0026lt;/ns1:IsReservable\u0026gt; --\u0026gt; \u0026lt;!-- Benyttes kun til videresending til DPI, hvis man sender Post til privatpersoner og skal benytte Videresendingsfunksjonalitet i Altinn SdpOptions:Hvis ikke denne angis gjelder default funksjonalitet i Altinn (ingen videresending til DPI) Represents data that are used as input to insert correspondence, to control how it will forward the correspondence to a secure digital mailbox. * BackupAltinn [optional, nillable] type boolean Gets or sets a value indicating whether the correspondence should be stored in Altinn instead, if the reportee do not have a digital mailbox. The default value is \u0026#34;true\u0026#34;. * PrimaryDocumentFileName [nillable] type string Summary: Gets or sets the name of the file to be used as the primary document in the digital letter. The file name must exist in the list of attachments in the binary attachments list in the insert correspondence request. * SdpSetting: { \u0026#39;ForwardOnly\u0026#39;, \u0026#39;CopyAltinn\u0026#39; } Summary: Gets or sets a value that controls whether Altinn should have a copy of the correspondence. Sum-scenario ved masseutsendelser: c) =\u0026gt; Ihht Digitaliseringsrundskrivet, Post mottas kun i SDP, men havner i Altinn hvis bruker ikke har valgt postkasse d) Dobbellagring uansett om bruker har valgt postkasse eller ikke. Varsel kan da sendes sammen med Correspondence, slipper StandAlone varsling Parametere: a) BackupAltinn: false + SdpSetting: ForwardOnly : b) BackupAltinn: false + SdpSetting: CopyAltinn : c) BackupAltinn: true + SdpSetting: ForwardOnly : d) BackupAltinn: true + SdpSetting: CopyAltinn : --\u0026gt; \u0026lt;!-- \u0026lt;ns1:SdpOptions\u0026gt; \u0026lt;ns5:BackupAltinn\u0026gt;true\u0026lt;/ns5:BackupAltinn\u0026gt; \u0026lt;ns5:PrimaryDocumentFileName\u0026gt;Test1-Hoved.pdf\u0026lt;/ns5:PrimaryDocumentFileName\u0026gt; \u0026lt;ns5:SdpSetting\u0026gt;CopyAltinn\u0026lt;/ns5:SdpSetting\u0026gt; \u0026lt;/ns1:SdpOptions\u0026gt; --\u0026gt; \u0026lt;!-- Denne benyttes hvis man skal sende på vegne av en annen org. Må være valid orgnr (tjenesteeieravtale eller DPV avtale) i Altinn. Sluttbruker vil se org.navn til denne org som avsender, hvis den ikke er overstyrt av parameter MessageSender. --\u0026gt; \u0026lt;ns1:OnBehalfOfOrgNr\u0026gt;974760673\u0026lt;/ns1:OnBehalfOfOrgNr\u0026gt; \u0026lt;/ns:Correspondence\u0026gt; \u0026lt;/ns:InsertCorrespondenceBasicV2\u0026gt; \u0026lt;/soapenv:Body\u0026gt; \u0026lt;/soapenv:Envelope\u0026gt; RESPONSE:\n\u0026lt;s:Envelope xmlns:s=\u0026#34;http://schemas.xmlsoap.org/soap/envelope/\u0026#34;\u0026gt; \u0026lt;s:Body\u0026gt; \u0026lt;InsertCorrespondenceBasicV2Response xmlns=\u0026#34;http://www.altinn.no/services/ServiceEngine/Correspondence/2009/10\u0026#34;\u0026gt; \u0026lt;InsertCorrespondenceBasicV2Result xmlns:a=\u0026#34;http://schemas.altinn.no/services/Intermediary/Receipt/2009/10\u0026#34; xmlns:i=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34;\u0026gt; \u0026lt;a:LastChanged\u0026gt;2017-10-13T10:06:17.743\u0026lt;/a:LastChanged\u0026gt; \u0026lt;a:ParentReceiptId\u0026gt;0\u0026lt;/a:ParentReceiptId\u0026gt; \u0026lt;a:ReceiptHistory/\u0026gt; \u0026lt;a:ReceiptId\u0026gt;11653653\u0026lt;/a:ReceiptId\u0026gt; \u0026lt;a:ReceiptStatusCode\u0026gt;OK\u0026lt;/a:ReceiptStatusCode\u0026gt; \u0026lt;a:ReceiptText\u0026gt;Correspondence Saved Successfully\u0026lt;/a:ReceiptText\u0026gt; \u0026lt;a:ReceiptTypeName\u0026gt;Correspondence\u0026lt;/a:ReceiptTypeName\u0026gt; \u0026lt;a:References\u0026gt; \u0026lt;a:Reference\u0026gt; \u0026lt;a:ReferenceTypeName\u0026gt;ExternalShipmentReference\u0026lt;/a:ReferenceTypeName\u0026gt; \u0026lt;a:ReferenceValue\u0026gt;EXT_REF76405\u0026lt;/a:ReferenceValue\u0026gt; \u0026lt;/a:Reference\u0026gt; \u0026lt;a:Reference\u0026gt; \u0026lt;a:ReferenceTypeName\u0026gt;OwnerPartyReference\u0026lt;/a:ReferenceTypeName\u0026gt; \u0026lt;a:ReferenceValue\u0026gt;910646192\u0026lt;/a:ReferenceValue\u0026gt; \u0026lt;/a:Reference\u0026gt; \u0026lt;/a:References\u0026gt; \u0026lt;a:SubReceipts i:nil=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;/InsertCorrespondenceBasicV2Result\u0026gt; \u0026lt;/InsertCorrespondenceBasicV2Response\u0026gt; \u0026lt;/s:Body\u0026gt; \u0026lt;/s:Envelope\u0026gt; CorrespondenceStatusHistory REQUEST:\n\u0026lt;soapenv:Envelope xmlns:soapenv=\u0026#34;http://schemas.xmlsoap.org/soap/envelope/\u0026#34; xmlns:ns=\u0026#34;http://www.altinn.no/services/ServiceEngine/Correspondence/2009/10\u0026#34; xmlns:arr=\u0026#34;http://schemas.microsoft.com/2003/10/Serialization/Arrays\u0026#34;\u0026gt; \u0026lt;soapenv:Header\u0026gt; \u0026lt;ns:SystemUserName\u0026gt;...\u0026lt;/ns:SystemUserName\u0026gt; \u0026lt;ns:SystemPassword\u0026gt;...\u0026lt;/ns:SystemPassword\u0026gt; \u0026lt;/soapenv:Header\u0026gt; \u0026lt;soapenv:Body\u0026gt; \u0026lt;ns:CorrespondenceStatusHistoryRequest\u0026gt; \u0026lt;ns:CorrespondenceSendersReferences\u0026gt; \u0026lt;!--Liste med inntil 10000 identifikatorer melding (ExternalShipmentReference):--\u0026gt; \u0026lt;arr:string\u0026gt;EXT_REF76405\u0026lt;/arr:string\u0026gt; \u0026lt;!-- \u0026lt;arr:string\u0026gt;...\u0026lt;/arr:string\u0026gt; \u0026lt;arr:string\u0026gt;...\u0026lt;/arr:string\u0026gt; ... --\u0026gt; \u0026lt;/ns:CorrespondenceSendersReferences\u0026gt; \u0026lt;/ns:CorrespondenceStatusHistoryRequest\u0026gt; \u0026lt;/soapenv:Body\u0026gt; \u0026lt;/soapenv:Envelope\u0026gt; RESPONSE:\nMerk: i tilfellet under er det benyttet en Varselmal som gir revarsel hvis ikke lest innen 7 dager, samt det er knyttet 2 varslingsadresser til virksomheten i kontaktregisteret for virksomheten i Altinn. Status angir hvem det er sendt varsel til samt om det er fremtidig varsel på vent (rvarsel). Videre gir denne informasjon at Melding er \u0026ldquo;Created\u0026rdquo; og evt faktisk lest \u0026ldquo;Read\u0026rdquo;.\n\u0026lt;s:Envelope xmlns:s=\u0026#34;http://schemas.xmlsoap.org/soap/envelope/\u0026#34;\u0026gt; \u0026lt;s:Body\u0026gt; \u0026lt;CorrespondenceStatusHistoryResult xmlns=\u0026#34;http://www.altinn.no/services/ServiceEngine/Correspondence/2009/10\u0026#34;\u0026gt; \u0026lt;CorrespondenceStatusInformation xmlns:a=\u0026#34;http://schemas.altinn.no/services/ServiceEngine/Correspondence/2016/02\u0026#34; xmlns:i=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34;\u0026gt; \u0026lt;a:CorrespondenceStatusDetailsList xmlns:b=\u0026#34;http://schemas.altinn.no/services/ServiceEngine/Correspondence/2014/10\u0026#34;\u0026gt; \u0026lt;b:StatusV2\u0026gt; \u0026lt;b:CorrespondenceID\u0026gt;4981636\u0026lt;/b:CorrespondenceID\u0026gt; \u0026lt;b:CreatedDate\u0026gt;2017-10-16T12:55:30.96\u0026lt;/b:CreatedDate\u0026gt; \u0026lt;b:Notifications xmlns:c=\u0026#34;http://schemas.altinn.no/services/ServiceEngine/Correspondence/2013/11\u0026#34;\u0026gt; \u0026lt;c:Notification\u0026gt; \u0026lt;c:Recipient\u0026gt;Mortens+felles_kon@gmail.com\u0026lt;/c:Recipient\u0026gt; \u0026lt;c:SentDate\u0026gt;2017-10-16T12:55:30.983\u0026lt;/c:SentDate\u0026gt; \u0026lt;c:TransportType\u0026gt;Email\u0026lt;/c:TransportType\u0026gt; \u0026lt;/c:Notification\u0026gt; \u0026lt;c:Notification\u0026gt; \u0026lt;c:Recipient\u0026gt;Mortens+DinKIFVirksomheten@gmail.com\u0026lt;/c:Recipient\u0026gt; \u0026lt;c:SentDate\u0026gt;2017-10-16T12:55:31\u0026lt;/c:SentDate\u0026gt; \u0026lt;c:TransportType\u0026gt;Email\u0026lt;/c:TransportType\u0026gt; \u0026lt;/c:Notification\u0026gt; \u0026lt;c:Notification\u0026gt; \u0026lt;c:Recipient\u0026gt;91929394\u0026lt;/c:Recipient\u0026gt; \u0026lt;c:SentDate\u0026gt;2017-10-16T12:55:31.02\u0026lt;/c:SentDate\u0026gt; \u0026lt;c:TransportType\u0026gt;SMS\u0026lt;/c:TransportType\u0026gt; \u0026lt;/c:Notification\u0026gt; \u0026lt;c:Notification\u0026gt; \u0026lt;c:Recipient\u0026gt;Mortens+felles_kon@gmail.com\u0026lt;/c:Recipient\u0026gt; \u0026lt;c:SentDate i:nil=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;c:TransportType\u0026gt;Email\u0026lt;/c:TransportType\u0026gt; \u0026lt;/c:Notification\u0026gt; \u0026lt;c:Notification\u0026gt; \u0026lt;c:Recipient\u0026gt;Mortens+DinKIFVirksomheten@gmail.com\u0026lt;/c:Recipient\u0026gt; \u0026lt;c:SentDate i:nil=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;c:TransportType\u0026gt;Email\u0026lt;/c:TransportType\u0026gt; \u0026lt;/c:Notification\u0026gt; \u0026lt;c:Notification\u0026gt; \u0026lt;c:Recipient\u0026gt;91929394\u0026lt;/c:Recipient\u0026gt; \u0026lt;c:SentDate i:nil=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;c:TransportType\u0026gt;SMS\u0026lt;/c:TransportType\u0026gt; \u0026lt;/c:Notification\u0026gt; \u0026lt;/b:Notifications\u0026gt; \u0026lt;b:Reportee\u0026gt;910820605\u0026lt;/b:Reportee\u0026gt; \u0026lt;b:SendersReference\u0026gt;EXT_REF76405\u0026lt;/b:SendersReference\u0026gt; \u0026lt;b:StatusChanges\u0026gt; \u0026lt;b:StatusChangeV2\u0026gt; \u0026lt;b:StatusDate\u0026gt;2017-10-16T12:55:30.943\u0026lt;/b:StatusDate\u0026gt; \u0026lt;b:StatusType\u0026gt;Created\u0026lt;/b:StatusType\u0026gt; \u0026lt;/b:StatusChangeV2\u0026gt; \u0026lt;b:StatusChangeV2\u0026gt; \u0026lt;b:StatusDate\u0026gt;2017-10-16T13:28:38.86\u0026lt;/b:StatusDate\u0026gt; \u0026lt;b:StatusType\u0026gt;Read\u0026lt;/b:StatusType\u0026gt; \u0026lt;/b:StatusChangeV2\u0026gt; \u0026lt;/b:StatusChanges\u0026gt; \u0026lt;/b:StatusV2\u0026gt; \u0026lt;/a:CorrespondenceStatusDetailsList\u0026gt; \u0026lt;a:LimitReached\u0026gt;false\u0026lt;/a:LimitReached\u0026gt; \u0026lt;/CorrespondenceStatusInformation\u0026gt; \u0026lt;SdpStatusInformation xmlns:a=\u0026#34;http://schemas.altinn.no/services/ServiceEngine/Correspondence/2016/02\u0026#34; xmlns:i=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34;\u0026gt; \u0026lt;a:LimitReached\u0026gt;false\u0026lt;/a:LimitReached\u0026gt; \u0026lt;a:SdpStatusDetailsList/\u0026gt; \u0026lt;/SdpStatusInformation\u0026gt; \u0026lt;/CorrespondenceStatusHistoryResult\u0026gt; \u0026lt;/s:Body\u0026gt; \u0026lt;/s:Envelope\u0026gt; Presentasjon \u0026lt;ul class=\u0026quot;no-decoration a-iconList mt-3 mb-4\u0026quot;\u0026gt;\r\u0026lt;li\u0026gt;\r\u0026lt;a href=\u0026quot;https://altinn.github.io/docs//utviklingsguider/digital-post-til-virksomheter/eksempler/_index.files/DPV-overordnet.pdf\u0026quot; \u0026gt;\r\u0026lt;i class=\u0026quot;ai ai-attachment ai-md ai-nw pr-1\u0026quot;\u0026gt;\u0026lt;/i\u0026gt;\r\u0026lt;span\u0026gt;\u0026lt;b\u0026gt;DPV-overordnet.pdf\u0026lt;/b\u0026gt;(last ned, 1511 kb)\u0026lt;/span\u0026gt;\r\u0026lt;/a\u0026gt;\r\u0026lt;/li\u0026gt;\r\u0026lt;/ul\u0026gt;\r \r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/sending-av-dokumenter/",
	"title": "Sending av dokumenter: Formidlingstjenesten",
	"tags": [],
	"description": "Produktet kan brukes til å sende dokumenter eller store datamengder mellom offentlige virksomheter eller mellom offentlige og private virksomheter.",
	"content": "For å utvikle løsningen trenger du både å tilrettelegge egne systemer for sending av data, og utvikle selve tjenesten i Altinns tjenesteutviklingsløsning. Tidlig i prosessen vil vi råde deg til å tenke på hvordan du skal sende ut dokumentene eller dataene til brukerne. Du kan velge mellom å sende fra maskin til maskin eller fra maskin til portal, for eksempel ved at brukerne mottar dokumentene i innboksen på altinn.no.\nSlik går du frem:\n Definere brukerbehov Tenk nøye gjennom hele prosessen fra et brukerperspektiv. Hvilke data eller dokumenter skal du sende til brukerne og hvordan skal de motta disse? Lag gjerne en skisse til kommunikasjon med brukeren og test skissen på folk i målgruppen. God planlegging er nøkkelen til et godt resultat. Sjekk Guide: Hvordan jobbe brukerorientert? for inspirasjon. Få tilgang til systemer Hvis du ikke har utviklet tjenester i Altinn før trenger du tilgang til våre løsninger. For å sende varsler trenger du tilgang for å benytte Altinn sine Web Servicer. I Kom i gang med utvikling kan du lese om hvordan du får tilganger. Registrere virksomhetssertifikat Du trenger et [virksomhetssertifikat[(https://www.altinn.no/hjelp/profil/avanserte-innstillinger/hva-er-virksomhetssertifikat/)] for å ta i bruk Sending av dokumenter. Hvis du ikke allerede har dette kan du bestille det via Commfides eller Buypass. Tilrettelegge egne systemer for sending og mottak av data For å kunne sende og motta data trenger du å legge til rette for dette i de interne systemene. Den mest brukte formen for integrasjon mot Altinn er ved bruk av SOAP med tjenesten BrokerService, men batch er også mulig hvis det er snakk om store datamengder. Oppsett av tjenesten i Altinn sin tjenesteutviklingsløsning Tjenesten må settes opp i Altinn sin tjenesteutviklingsløsning som en Formidlingstjeneste. Les mer om dette i brukerveiledning for TUL. Hvis du skal sende data/dokumenter fra maskin til maskin tar du i bruk et ferdig oppsatt grensesnitt i Altinn for oversendelse. Hvis du ønsker at brukeren skal få tilgang til dokumentene via innboksen sin på altinn.no må du også sette opp en meldingstjeneste for å kunne sende lenken i en melding til brukerne. Teste tjenestene Du tester tjenestene og grensesnitt i Altinn sitt testmiljø. Det benyttes fiktive testpersoner og organisasjoner i våre testmiljø. Produksjonssette tjenestene Når tjenester og tilhørende grensesnitt er testet ende til ende er dere klare for produksjonssetting. Grensesnitt som er testet i testmiljø må reetableres i Altinn sitt produksjonsmiljø mot produksjonsmiljøet til ditt system. Så må tjenestene settes i produksjon. Det gjør du ved å lage en bestilling til Altinn sin selvbetjeningsløsning. Denne får du innlogging til i oppstartsmøtet med Altinn. Som regel kan tjenestene produksjonssettes samme dag som bestillingen sendes.  "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/datakonsument/test-tjeneste/",
	"title": "Test av samtykke",
	"tags": [],
	"description": "Test av samtykketjeneste i Altinn sitt testmiljø",
	"content": "Tjenesten må testes ut i Altinn sitt testmiljø TT02: https://tt02.altinn.no\nFør man kan teste må punktene under komme i gang være på plass.\nTeste samtykkesiden For å få brukt tjenesten og for å få opp samtykkesiden i Altinn kan man benytte URL nedenfor. (Dette er også bare et eksempel så den må tilpasses til den tjenesten, organisasjonen osv. som er aktuell for deres test.)\nhttps://tt02.altinn.no/ui/AccessConsent/?Resources=4629_2.4630_2\u0026amp;CoveredBy=910514458\u0026amp;RedirectUrl=https://www.altinn.no\u0026amp;ValidToDate=2019-09-30%2010:30:00\u0026amp;LanguageCode=nb-NO\u0026amp;DelegationContext=Ved%20%C3%A5%20samtykke,%20gir%20du%20Skatteetaten%20rett%20til%20%C3%A5%20utlevere%20opplysninger%20om%20deg%20direkte%20til%20Banken%20AS.%20Banken%20f%C3%A5r%20opplysningene%20for%20%C3%A5%20behandle%20s%C3%B8knaden%20din%20om%20finansiering.\u0026amp;ResponseType=code\u0026amp;4629_2_inntektsaar=2016\u0026amp;4630_2_fraOgMed=2017-06\u0026amp;4630_2_tilOgMed=2017-08 Nærmere beskrivelse av parametre i url finner her.\nURL fører sluttbruker til innloggingen til ID-Porten. Man må ha tilgang til en fiktiv testbruker for å logge inn.\nNår man har fått opp samtykkesiden og gitt samtykke vil testbruker sendes tilbake til siden som er angitt i RedirectUrl. I denne url vil det sendes med autorisasjonskode og status.\nEksempel på url hvor status er OK:\nhttps://www.altinn.no/?AuthorizationCode=0435d832-193b-4a13-a6d1-d172c18e18c7\u0026amp;Status=OK Eksempel på url hvor sluttbruker har valgt å trykke på knappen for «Nei, jeg vil ikke gi samtykke»:\nhttps://www.altinn.no/?Status=Failed\u0026amp;ErrorMessage=User%2520did%2520not%2520give%2520consent\u0026amp;FailedAuthorizationCode=435d832-193b-4a13-a6d1-d172c18e18c7 Merk at FailedAuthorizationCode ikke blir sendt med ved bruk av lenke-baserte samtykkeforespørsler, kun forhåndsregistrerte forespørsler.\nAutorisasjonskoden benyttes til å hente token signert av Altinn. Se Informasjon om token.\nTeste å veksle inn autorisasjonskode i token Altinn plattformen støtter at man kan veksle inn autorisasjonskoden via REST med ApiKey. Det krever at man har ApiKey som er registrert på mottaker av samtykke eller tredjepart som kan behandle samtykker på vegne av mottaker. En eventuell tredjepart må være registrert i tjenesteeierstyrt rettighetsregister (SRR). Ingen annen form for autentisering er nødvendig. Som nevnt gjøres bestilling av nye nøkler, eller oppdatering av eksisterende, ved henvendelse til servicedesk@altinn.no.\nTokenet som returneres vil være en streng bestående av et base64-encodet Json Web Token.\nFor å hente ut token ved hjelp av autorisasjonskode over REST gjør man GET på https://tt02.altinn.no/api/authorization/token?authcode={AuthorizationCode} med header ApiKey: {apikey}\nEksempel på response (encoded token):\neyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkthUGxpMFJUdVVUcl9yUXJWSmhzQkNXQS0yayJ9.eyJTZXJ2aWNlQ29kZXMiOi I0NjI5LDEiLCJBdXRob3JpemF0aW9uQ29kZSI6ImY0NTQ5NDNlLTNiNTctNGI0YS1iYjRjLTNkZjY0YTgwMmQ4NyIsIk9mZmVyZWRCeSI6I jA2MTE3NzAxNTQ3IiwiQ292ZXJlZEJ5IjoiOTEwNTE0MzE4IiwiRGVsZWdhdGVkRGF0ZSI6IjI3LjEwLjIwMTYgMjE6MTE6MTciLCJWYWxp ZFRvRGF0ZSI6IjA1LjAxLjIwMTcgMTA6MzA6MDAiLCJpc3MiOiJhbHRpbm4ubm8iLCJleHAiOjE0Nzc1OTU1MTcsIm5iZiI6MTQ3NzU5NTQ 4N30.S9RBNazx2Ml0R93cSEf_LC5YP2UcYtFf7w6JH_OPy_MK1HhVIxA2e-5DQjPV53HmKBhlHmL3Wxz36KzIXddfz1olKLEK7Xqn61FJFL TCiReKcySRcvDtRhLtFVH8zT-VcaEEXyA9_tTUumUVKTqy9vPMDOYAhmih55uT__Ghs5UQbxDZXLJ08f-SDUq-wlcbU8TFLfBnrQBxF53Sf L3BvmjYTg_xm69mBRkGuW431fZnMiY_U3Omrd0gHniu8ri33lpEaL3ip1Lq65QC_jVzy2WHN1RdQCA5WiYGJ89GoSZL2eAtCS8d7qngsMUu zBPpcn4hDiI7MkK4RWrAc2drTw Se her for eksempel på decoded token.\nREST-tjenesten returnerer 403 dersom authcode er ugyldig eller Apikeyen ikke har tilgang til angitt autorisasjonskode:\n403 The API key is not authorized for this operation, or the supplied authorization code is either expired or invalid. Man kan laste ned Postman for å teste henting av token: https://www.getpostman.com/apps\nNår man har mottatt Altinn-signert token benyttes dette i request mot datakilden for å få tilgang til data. Formatet på hvordan denne informasjonen overføres må avtales mellom datakilde og datakonsument, og styres ikke av Altinn.\nToken har 30 sekunders varighet og datakonsument må be om nytt token når det har gått ut (benytt samme autorisasjonskode om igjen).\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/anbefalinger/verifisering/",
	"title": "Verifisering av gitt samtykke",
	"tags": [],
	"description": "Informasjon og anbefalinger knyttet til innhenting og bruk av samtykketokens samt bruk av samtykkelister.",
	"content": "Les også grunnleggende informasjon om:\n Hvordan konsumenter henter token Hvordan datakilder validerer token  \rOverordnet En sentral del av en samtykketjeneste er å kunne verfisere at et samtykke er gitt og er gyldig på et gitt tidspunkt. Den mest brukte mekanismen for sjekke dette er gjennom bruk av et JSON Web Token (JWT) som inneholder all informasjon knyttet til samtykket og samtidig inneholder en kryptografisk signatur fra Altinn. Dette lar en datakilde verifisere at samtykket er gyldig uten å måtte gjøre oppslag mot Altinn. I de fleste samtykketjenester er det bruk av samtykketokens som anbefales, men i noen sammenhenger kan det være upraktisk å forholde seg til ett og ett samtykke, f.eks. hvis det skal gjøres behandling av datasett / aggregeringen som spenner over mange personer/organisasjoner. For denne type tjenester tilby Altinn et feedbasert API for å hente ut lister av samtykker\nEndepunkter for uthenting av token Altinn-plattformen er skalert for høy belastning, og møter dagens allerede store behov knyttet til tokenutstedelse. Imidlertid forventes at dette behovet vil vokse ytterligere i sammenheng med at det utvikles flere tjenester som benytter seg av langlevde samtykker. Antall tokens som utstedes i forhold til hvert inngåtte samtykke vil derfor gå opp, og det er viktig for de digitale tjenestene som benytter seg av samtykker at det til enhver tid kan hentes samtykketokens raskt og effektivt for å sikre tilgjengelighet og en god brukeropplevelse.\nFor å understøtte dette vil Altinn i løpet av 2021 tilby et nytt og optimalisert endepunkt for utstedelse av token på Altinn 3-plattformen basert på skyteknologi. Kombinert med en database og applikasjon skreddersydd for nettopp tokenutstedelse, vil dette sikre skalerbarheten som trengs for å håndtere ekstremt stor vedvarende trafikk, og samtidig gi elastisitet til å håndtere brå trafikkøkninger (\u0026ldquo;spikes\u0026rdquo;).\nDagens endepunkt for utstedelse av tokens, https://www.altinn.no/api/token, vil fremdeles bestå, og fortsatt kunne brukes. Det nye endepunktet vil være funksjonelt likt, med det unntak at alle forespørsler må være autentiserte med Maskinporten-token. Alle konsumenter av samtykketokens anbefales å bruke det nye endepunktet når det tilgjengeliggjøres.\nMer informasjon om det nye endepunktet vil komme ila første kvartal 2021.\nBruk av sertifikat for å verifisere token-signatur Altinn tilgjengeliggjør sertifikatet for signering av tokens på et JWK-endepunkt. Dette muliggjør automatisk rotering av sertifikater uten at datakilder trenger rekonfigurering. Alle datakilder anbefales å ta i bruk dette endepunktet for å hente sertifikater som brukes for signering.\nEndepunktet eksponerer to sertifikater, som er primær og sekundær-sertifikater. Samtykketokens vil alltid signeres med det som til enhver tid er primærsertifikatet. Datakilder må se på e kid- eller x5t-feltet (de skal ha samme verdi) i headeren i tokenet til å matche listen med sertifikater på JWK-endepunktet. På denne måten vil Altinn kunne bytte primær/sekundær og på den måten kunne introdusere et nytt sertifikat for signering uten at noen eksisterende aktive tokens blir ugyldiggjorte.\nI god tid før primærsertifikatet utløper vil et nytt sertifikat introduseres som sekundærsertifikat, slik at alle datakilder vil rekke å hente oppdatert JWK-sett før rotering. Alle kall til JWK-endepunktet kan caches i inntil 1 døgn (86400 sekunder), jf. Cache-Control-header som returneres. Alle datakilder anbefales å cache JWK fra Altinn i henhold til enhver tid gjeldende Cache-Control-header.\nMerk at sertifikatet som brukes for signering av tokens kan være self-signed, altså ikke signert av en sertifisert utsteder (CA). Tilliten er i stedet ankret i TLS-forbindelsen til JWK-endepunktet, som bruker et Extended Validation (EV)-sertifikat utstedt av Buypass.\r"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2018/18-6/",
	"title": "18.6",
	"tags": [],
	"description": "Videresending av skatteoppgjør til andre digitale postkasser, feilrettinger m.m.",
	"content": "Endringer i portal For skjema med status \u0026ldquo;Venter på andre\u0026rdquo; skal knappen som tar deg videre til skjema ha teksten \u0026ldquo;Gå til skjema\u0026rdquo; Vi har endret tekst på knapp fra \u0026ldquo;gå til \u0026hellip;\u0026rdquo; til \u0026ldquo;gå til skjema\u0026rdquo; for elementer som har status \u0026ldquo;venter på andre\u0026rdquo;.\nFor alle skjema, der brukeren ikke har rettigheter til å utføre nåværende steg, vil teksten på knappen som tar deg videre til skjemaet være endret. Knappen heter \u0026ldquo;Gå til skjema\u0026rdquo; i stedet for \u0026ldquo;Gå til \u0026hellip;\u0026rdquo;. Dette gjelder for alle skjema som er prefikset med \u0026ldquo;Venter på andre\u0026rdquo; i element-overskriften.\nDet skal for angitte meldingstjenester være mulig for bruker å videresende til egen digital postkasse Som bruker skal jeg kunne videresende skatteoppgjøret for 2017 til min valgte digitale postkasse.\nDet er lagt inn en konfigurasjonsverdi som gjør det mulig å oppgi hvilke meldingstjenester som skal videresendes til brukers digitale postkasse. Hvis bruker ikke har digital postkasse, skal brukeren likevel få muligheten til å gjøre det, ved å bli sendt videre til Difi sine sider for oppretting av digital postkasse.\nNår brukeren har videresendt en melding vil dette være synlig i ekspandert visning og i aktivitetsloggen.\nForhindre at daglig leder for enkeltpersonforetak har tilgang til eiers personlige innboks Vi har endret løsningen slik at eier filtreres bort fra daglig leders tilgangsliste.\nI tillegg filtrerer vi bort daglig leders tilganger, knyttet til innehaver.\nAltinn 1-elementer skal kunne fjernes på forespørsel fra bruker Arkiverte elementer fra den aller første Altinn-løsningen skal kunne fjernes på forespørsel fra bruker.\nLøsningen som kalles for \u0026ldquo;Altinn 1\u0026rdquo; ble innført i 2003 og faset ut i 2013.\nFjerning av ekstra side med valgbokser for kontakt på e-post og sms for ansatte i en virksomhet Som bruker skal jeg kunne be om varsler på SMS og/eller epost for en virksomhet jeg har tilgang til.\nDenne endringen fjerner den ekstra siden under \u0026ldquo;Din kontaktinformasjon for virksomhet\u0026rdquo;, der man tidligere kunne velge om man skulle motta varsling på epost og/eller sms.\nVarsling for enkelttjenester er flyttet til første siden under \u0026ldquo;Din kontaktinformasjon for virksomhet\u0026rdquo;.\nMan vil nå alltid motta varsling om man har oppgitt epost og/eller SMS som kontaktinformasjon, med mindre man har lagt til varsling for enkelttjenester. Hvis man har lagt til tjenester under \u0026ldquo;Varsling kun for enkelttjenester\u0026rdquo; vil man kun motta varslinger for de enkelttjenestene man har valgt i denne listen.\nEndringer i Autorisasjon på tjenester For sluttbruker av altinn vil disse endringene ha lite å bety. For tjenesteutvikler i Altinn vil dette bety nye rutiner når man ønsker å endre autorisasjonsregler på en tjeneste som allerede finnes i produksjon.\nAutorisasjon basert på TUL roller skal benytte reglene fra siste versjon av tjenesten Dette betyr i praksis at de rollebaserte reglene knyttet til en tjeneste definert i TUL vil ha tilbakevirkende kraft når de importeres til SBL. Dette gjør det mulig for tjenesteeier å endre på reglene på en tjenesteutgave uten at det må bestilles databaseskript for å få kopiert reglene over på eldre versjoner av tjenesteutgaven.\nDet er derimot ikke lenger mulig endre rolleregler på en utgave uten at det påvirker eksisterende versjoner. For å få til det må det lages en ny utgave av tjenesten. Endringer i rolleregler som krever ny utgave er f.eks være at man bytter prosessflyt (et eller flere steg legges til eller fjernes) eller at man for en samhandlingstjeneste endrer antall rollestyrte sider.\nAutorisasjonsregler definert i en lokal rolle skal gjelde alle versjoner av en tjeneste Denne endringen betyr at rettighetene knyttet til en lokal rolle som ble definert når Altinn hadde versjon 1 av en tjeneste også har effekt på versjon 2 av tjenesten selvom denne ble importert etter at rollen ble laget. I forrige versjon av Altinn ble slike autorisasjonsregler automatisk kopiert fra forrige versjon til ny versjon av en tjenesteutgave ved import av tjenesten. Denne kopieringen var en meget krevende prosess som skapte problemer med tjenesteimport.\nEn enkelt delegering skal gjelde alle versjoner av en tjenesteutgave Enkeltrettigheter mot en tjeneste vil med denne endringen også fungere på fremtidige versjoner av tjenesteutgaven som enkeltrettigheten ble definert for. Denne endringen er nærmest identisk med endringen vedrørende lokale roller.\nEndringer i eksterne grensesnitt Oppdatere XML (FormData) i en innsendingstjeneste via web service Det er nå mulig å oppdatere XML (FormData) i en innsendingstjeneste i innboks ved bruk av web service.\nDet er lagt til nye eksterne grensesnitt for å oppdatere FormData på elementer som er til utfylling. Dette er lik funksjonaliteten som allerede er laget for REST (https://www.altinn.no/api/Help/Api/PUT-who-messages-messageId-forms-formId).\nDe nye grensesnittene ligger i IntermediaryInbound:\n IntermediaryInboundExternalBasic.UpdateFormDataBasic IntermediaryInboundExternalEC.UpdateFormDataBasic  Som tjenesteeier ønsker jeg at henvisning til notification types ikke skal være case-sensitive Vi har endret kode slik at søk på template type, som skal brukes ved notification sending, ikke er case-sensitive.\nEndringer i integrasjon ReceiveRegisterDSF ReceiveRegisterDSF batch oppdateres til å kjøre \u0026ldquo;comparative update\u0026rdquo;, hvor den sammenligner innkommende personer med eksisterende person i database og kun skriver til database når person er oppdatert. For å kjøre \u0026ldquo;comparative update\u0026rdquo;, kjør ReceiveRegisterDSF batch med argument \u0026ldquo;ComparativeUpdate=true\u0026rdquo; .\nDiverse bugfix \u0026ldquo;Spør meg senere\u0026rdquo;-knapp virker ikke i automatiske påminnelser for Din Kontaktinformasjon (20021) Når man tidligere fikk opp automatiske påminnelser om å oppdatere Din Kontaktinformasjon, kunne man trykke \u0026ldquo;Bekreft\u0026rdquo; eller \u0026ldquo;Oppdatere\u0026rdquo;. Når man trykket \u0026ldquo;Oppdatere\u0026rdquo; ble man tatt til et nytt vindu, for å oppdatere teksten. URL\u0026rsquo;en man vanligvis blir tatt videre til fra denne siden falt bort. Videre, hvis man trykket på \u0026ldquo;Spør meg senere\u0026rdquo; manglet knappen en adresse å videreføre brukeren til.\nDette er nå løst slik at adressen blir satt riktig. Det er i tillegg lagt til en validering av adressen, så det ikke er mulig å legge inn f.eks. javascript-lenker.\nFeil på klientdelegering og henting av rettigheter på klienter når tegnet ' inngår i navnet (19759) Når man legger til nye brukere under klientdelegering dirigeres man via en side der brukerens navn havner i URLen. Denne ble ikke riktig kodet, slik at tegn som \u0026ldquo;'\u0026rdquo; (enkelt-fnutt) førte til feil tolkning av URLen. Dette er rettet opp slik at navn med spesielle tegn blir riktig kodet. Dette er rettet opp andre steder i klientdelegering, der søketekster ikke blir riktig kodet.\nOptimalisering av lagrede prosedyrer (20164) Flere lagrede prosedyrer er optimalisert basert på monitorering i produksjonsmiljøet.\nNy tabell i Maintainance DB for lagring av statistikk for lagrede prosedyrer (20273) Vi har innført en ny tabell for lagring av statistikk.\nKonfigurasjon av caching (20242) Det er innført en attributt i cache.config der man skrur av/på caching for alle nøkler. Vil kun benyttes for test/analyse/feilsøk.\nRFT15013 - Slett enkeltrettighet - kunden får ikke gjort dette selv (20214) Det oppstår duplikater under kjøring av lagret prosedyre. Løses ved å innføre unik primærnøkkel i temporærtabell.\nSlett-knapp mangler for elementer i signeringssteg (20339) En endring i autorisering førte til at \u0026ldquo;Slett\u0026rdquo;-knappen ble fjernet ved ekspandering av enkelt element i signeringssteget. Retted ved å endre parameter i kall til autentisering.\nVed migrering av en ny tjenesteversjon henter skjemavalidering feil logiske id for gamle elementer (20316) LogicalFormSchemaDefinition ble før hentet ved å finne nyeste ServiceEditionVersionId for en tjeneste. Om det ikke var overenestemmelse mellom LogicalFormId for schema og det som var brukt på elementet var det ikke mulig å oppdatere elementet gjennom REST/SOAP. Dette er nå rettet opp.\nFeil på varsel - Altinn sender to SMS (20316) Feilen kommer som ett resultat av KoFuVi-integrasjonen, men har vært mulig tidligere også. Etter KoFuVi har alle telefonnummer registrert i felles \u0026lsquo;Varslingsadresser for virksomheten\u0026rsquo; fått med landskode også for norske telefonnummer.\nDersom samme telefonnummer er registrer i \u0026lsquo;Din kontaktinformasjon for virksomheten\u0026rsquo; uten landskode +47, eller evt. med 0047 så ble ikke dette oppdaget som duplikat tisligere. Det ble sendt ut dobbel SMS.\nDette er nå rettet opp i, med at man eksplisitt stripper bort landskode når man gjør sammenligning for duplikater.\nCorrespondence Batch feiler når mottaker er en person uten brukerprofil i Altinn (20496) Feilen kommer som ett resultat av sammenslåingen av logikk for validering og sending av varsel for Prefill, Correspondence og StandAlone.\nDette er nå rettet opp i.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2019/19-6/",
	"title": "19.6",
	"tags": [],
	"description": "Innføring av Hovedadministrator-rolle, oppgradert BankID, meny på mobil rettet og mindre endringer",
	"content": "Endringer i Autorisasjon Innføring av Hovedadministrator-rolle for virksomheter Rolledelegering må i dag ofte utføres av daglig leder (eller tilsvarende), som er upraktisk i store organisasjoner.\nDaglig leder (samt Styrets leder, Bestyrende reder og Innehaver) får rollen Hovedadministrator tildelt ved registrering i Enhetsregisteret, og kan dermed delegere Hovedadministrator videre til andre ansatte eller virksomhetsbrukere. Selve Hovedadministrator-rollen inneholder også rollene Tilgangsstyring og Klienadministrator, i tillegg til at rollen gir tilgang til ny system ressurs: MainAdmin.\nNy systemressurs vil i fremtidig endring brukes til å autorisere tilgang til delegering av spesielle roller og rettigheter (blant annet for tjenester med personsensitivt innhold). Det spesielle med Hovedadministrator-rollen er at en hovedadministrator får tilgang til å delegere Roller og Tjenesterettigheter både til andre og seg selv, tilsvarende som daglig leder. Dette uten at hovedadministratoren selv først har mottatt noen annen rolle eller tjenesterettigheter, utover Hovedadministrator rollen. Dette gjelder også administrering og delegering av Klientroller til ansatte på vegne av klientene til virksomheten.\nRollen Hovedadministrator er derimot ikke en nøkkelrolle. Altså vil ikke en hovedadministrator for en virksomhet arve roller og rettigheter som andre brukere eller virksomheter har gitt til virksomheten.\nSiden Hovedadministrator får utvidet mulighet til å gi både seg selv og andre alle rettigheter for virksomheten, vil det komme opp en advarselstekst ved delegering.\n![Beskrivelse av hovedadministrator](HovedAdministrator2.png \u0026ldquo;Beskrivelse av hovedadministrator\u0026rdquo;\u0026quot;)\n![Advarsel ved delegering](HovedAdministrator3.png \u0026ldquo;Advarsel når man delegerer \u0026ldquo;Hovedadministrator\u0026rdquo;\u0026quot;)\nEndringer i REST API Forbedret grensesnitt for SRR på REST API Hovedmålet er å forenkle bruken av SRR og gjøre dette tilgjengelig via REST. API-et for SRR inneholder nå GetRights (GET), GetRightById (GET), AddRights (POST), DeleteRight (DELETE) og UpdateRight (PUT).\nREST API er rettet til å ikke linke til arkiverte elementer hvis tjenesten ikke tillater arkivering Altinn har noen tjenester som ikke tillater at elementer blir arkivert i avgivers arkiv. Dette er typisk for tjenester med sensitiv informasjon. Når et slikt element blir ferdigstilt/signert blir det sendt til tjenesteeier, men det blir ikke lagret noen kopi i avgivers arkiv. Dette har fungert riktig også gjennom REST API, men REST API har likevel generert en lenke for arkivert element (som ikke eksisterer). Dette er nå er rettet. Forutsetningene er altså at en sluttbruker ferdigstiller et element basert på en tjeneste som ikke tillater arkivering. For forespørsler som ikke utfører arkivering blir det fortsatt generert lenke.\nDiverse bugfix Menyen på mobil overlappet med det lille aktørvalget Feilen oppsto når en bruker byttet mellom meny og aktørlisten flere ganger etter hverandre. Løsningen ble å lage en sjekk som sikrer at menyen er lukket før man kan åpne aktørvalget, og vice versa. Endringen kommer via designsystemet og en ny NPM-pakke med versjon 2.3.1.\nSamtykkepanelet hadde feil visning når et samtykke trekkes Løsningen viser nå samtykke-listen eller en tekst hvis listen er tom når man trekker en samtykke. Når man fjerner en samtykke kommer man til den forrige siden man var på. Der ser man nå enten samtykkelisten (hvis man oppgitt flere samtykker), eller en tekst (hvis samtykke-listen er tom).\nNotificationSent ble ikke logget for faktiske SMS sendinger Loggingen tok ikke hensyn til at meldingslengde er avgjørende for hvor mange SMS som sendes for en melding. Første melding deles opp i maks 160 karakterer, resterende er på maks 155 karakterer.\nAndre endringer Oppgradering av BankID signering BankID innførte endringer som krevde oppgradering på vår side. Dette er nå utført.\nLokal rolle mistet tilgang etter migrering av ny tjeneste fra TUL Lokal rolle var feilaktig knyttet til tjenestens versjon. Dette gjorde at når ny versjon av en tjeneste ble lagt ut mistet man tilgangen. Dette er nå rettet ved at tilgangen blir gitt på selve tjenesten og ikke knyttet opp til hvilken versjon denne har.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2020/20-7/",
	"title": "20.7",
	"tags": [],
	"description": "Mindre endringer og feilrettinger.",
	"content": "Endringer i Portal Tilgangssøker får mulighet til å tilpasse operasjoner ved opprettelse i \u0026ldquo;Be om tilgang\u0026rdquo; Denne endringen gjør det mulig for \u0026ldquo;Tilgangssøker\u0026rdquo; å tilpasse hvilke operasjoner som skal være gjeldende i forespørselen. Denne endringen gjør det også mulig å \u0026ldquo;forhåndsvelge\u0026rdquo; hvilke operasjoner som skal være valgt i det man laster siden via URL-parameter.\nNy visning under \u0026ldquo;Andre med rettigheter\u0026rdquo; Under \u0026ldquo;Andre med rettigheter\u0026rdquo;-panelet er det lagt til en ny visning hvor det nå er mulig å se hvem som har tilganger til en gitt tjeneste. Den nye visningen er tilgjengelig ved å velge \u0026ldquo;Tilganger\u0026rdquo; i panelet. Deretter vil man få opp en liste over de mest populære tjenestene i Altinn. Dersom den ønskede tjenesten ikke er listet, er det mulig å søke etter denne. Det vil bli foretatt et søk både av tilgjengelige og utløpte tjenester. Man har så mulighet til å klikke på en tjeneste, og alle med tilgang til den aktuelle tjenesten vil bli listet ut i alfabetisk rekkefølge.\nEndringer i Autorisasjon Endring i regler for når man mottar tilgang til innehaver på bakgrunn av tilganger mottatt for enkeltmannsforetak (ENK) Det har blitt identifisert at reglene for når man automatisk får tilgang til innehaver (INNH) av ett enkeltmannsforetak (ENK) i avgiverlisten ikke har vært optimal. Reglene strenges nå inn til følgende:\n Brukeren har selv direkte mottatt regnskapsfører eller revisor rolle for enkeltmannsforetaket Brukeren har tilgang til enkeltmannsforetaket gjennom nøkkelrolle for organisasjon som er revisor eller regnskapsfører for enkeltmannsforetaket Brukeren er ansatt i organisasjon som er revisor eller regnskapsfører for enkeltmannsforetaket og har mottatt klientdelegering fra sin organisasjon hvor klienten er ett enkeltmannsforetak Dersom enkeltmannsforetaket er slettet gis det bare tilgang til innehaver dersom det er mindre enn 2 år siden enkeltmannsforetaket ble slettet  Dette innføres i første omgang bare i portal men vil også rulles ut i REST grensesnitt i neste omgang.\nEndringer i API Gamle EC endepunkter er nå fjernet permanent.\nFeilrettinger Antall samtykker er økt Det var tidligere en begrensning på 50 samtykker på listen som /api/serviceowner/consents returnerte. Denne grensen er nå oppjustert til 10 000.\nBlå understreking fjernet fra listen over tjenester i Be Om Tilgang I visningspanelet \u0026ldquo;be om tilgang\u0026rdquo; hadde noen av elementene i listen over tjenester en blå understreking som dukket opp på lenker og ble mørkeblå når musepekeren var over disse (mouseover). Dette var ikke ønsket og er nå fjernet.\nAltinn Apps instanser forble ulest i meldingsboksen etter å ha åpnet elementet Dette er nå rettet slik at den fremkommer som lest i meldingsboksen etter at instansen er åpnet.\n"
},
{
	"uri": "https://altinn.github.io/docs/seres/endringer/2019/",
	"title": "2019",
	"tags": [],
	"description": "Endringer innført i 2019.",
	"content": "\rDesember\rMindre feilretting samt noe ny funksjonalitet for systemadministrator.\n\r\rMai\rNytt repository, ny brukeradministrasjonsløsning, splitting av domene og endring av Domenepanelet i Domeneklienten.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2020/",
	"title": "2020",
	"tags": [],
	"description": "Endringer innført i 2020.",
	"content": "\r20.12\rJusteringer i brukergrensesnitt, mindre endringer og feilrettinger\n\r\r20.11\rBe om tilgang på vegne av avgiver, mindre endringer og feilrettinger\n\r\r20.10\rFlytting av filvedlegg fra databasen og ut på fileshare\n\r\r20.9\rFlere tjenester på tilgangsforespørsler, mindre endringer og feilrettinger\n\r\r20.8\rForberedelse til FREG, mindre endringer og feilrettinger\n\r\r20.7\rMindre endringer og feilrettinger.\n\r\r20.6\rAltinn 3 innføres. I tillegg leveres mindre endringer og feilrettinger.\n\r\r20.5\rAccess for lenketjenester, mindre endringer og feilrettinger\n\r\r20.4\rMindre endringer og feilrettinger\n\r\r20.3\rVisning av samtykkeforespørsler, EKTJ rolle og feilrettinger\n\r\r20.2\rEndringer i skattemeldingen. Mindre forbedringer og feilrettinger\n\r\r20.1\rMindre forbedringer og feilrettinger\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/seres/endringer/2020/",
	"title": "2020",
	"tags": [],
	"description": "Endringer innført i 2020.",
	"content": "\rDesember\rRetting av feil i Domeneklienten.\n\r\rOktober\rSikkerhetsoppdatering, flytting til nytt Openshiftmiljø og endring av e-postadressen til support i Domeneklienten.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/seres/endringer/2021/",
	"title": "2021",
	"tags": [],
	"description": "Endringer innført i 2021.",
	"content": "\rJanuar\rSERES Produktforvaltning har fått ny database og applikasjonsserver.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/tjenester/drosjeloyve/",
	"title": "Drosjeløyve",
	"tags": [],
	"description": "Innehenting av data i søknadsprosess for drosjeløyver",
	"content": "Under arbeid: Søknad om drosjeløyve er en fylkeskommunal tjeneste i regi av Viken og FINT som ved bruk av samtykke automatisk henter inn deler av dokumentasjonskravet på vegne av søkende virksomhet.\nBeviskoder \r\r\r\r\n\rTilgang\rAsynkron\rMaks tilgjengelighet\rHar parametre\r\rParametere\rDette er parametere som kan eller må oppgis i forespørselen\n\r\rParameter\rType\rPåkrevd\r\r\r\r\r\r \r\r\r\rVerdier i retur\rDette er feltene som ligger i svaret\n\r\rParameter\rType\rKilde\r\r\r\r\r\r \r\r\rEksempel på forespørsel\r\r\r\r\r\r\r\r\r\r\r"
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/regelmotor/eksempler/",
	"title": "Eksempler",
	"tags": [],
	"description": "Diverse eksempler på bruk av regelmotoren sammen med skjema.",
	"content": "I Testdepartementet finnes det eksempeltjenester som viser bruk av regelmotor.\nDisse finner du her:\nhttp://sttul01.altinn.basefarm.net/sites/acn/RegelmotorEksempel/EksempelXPath/default.aspx http://sttul01.altinn.basefarm.net/sites/acn/RegelmotorEksempel/EksempelOR/default.aspx\nEksempeltjeneste som bruker XPath Denne eksempeltjenesten er basert på \u0026ldquo;InfoPath1\u0026rdquo; som hovedskjema og RF-1053 \u0026ldquo;RF-1053 Fradrag i skatt for forskning og utvikling 2012\u0026rdquo; som underskjema.\nFellesoppsett for alle reglene:\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;AltinnRuleEngine name=\u0026#34;InfoPath1\u0026#34; version=\u0026#34;Beta\u0026#34;\u0026gt; \u0026lt;Description\u0026gt;Samples using XPath as field identificator.\u0026lt;/Description\u0026gt; \u0026lt;Configuration\u0026gt; \u0026lt;Forms default=\u0026#34;1080\u0026#34;\u0026gt; \u0026lt;!--target--\u0026gt; \u0026lt;Form name=\u0026#34;InfoPath1\u0026#34; dataFormatId=\u0026#34;1080\u0026#34; validationEngine=\u0026#34;AltinnRuleEngine\u0026#34; calculationEngine=\u0026#34;AltinnRuleEngine\u0026#34;/\u0026gt; \u0026lt;!--source--\u0026gt; \u0026lt;Form name=\u0026#34;RF-1053\u0026#34; dataFormatId=\u0026#34;866\u0026#34; validationEngine=\u0026#34;AltinnRuleEngine\u0026#34; calculationEngine=\u0026#34;AltinnRuleEngine\u0026#34;/\u0026gt; \u0026lt;/Forms\u0026gt; \u0026lt;/Configuration\u0026gt; \u0026lt;/AltinnRuleEngine\u0026gt; Flytte en verdi fra et hovedskjema til et underskjema For å overføre en verdi fra et skjema til et annet bruker vi regeltypen «TransferValue». Vi setter opp hvilket felt som er kilde i «Source» og hvilket felt verdien skal kopieres til i «Target». I tillegg har vi lagt til en sjekk på at det finnes en verdi i kildefeltet. Dette er gjort ved å legge til en «condition» av type «HasValue». Er det ingen verdi i kildefeltet vil denne feile, og regelen blir ikke utført.\n\u0026lt;!-- Transferring value from main form to sub form --\u0026gt; \u0026lt;Rule type=\u0026#34;TransferValue\u0026#34; description=\u0026#34;Transferring value from InfoPath1 form to RF-1053 form\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;998\u0026#34; field=\u0026#34;/Skjema/OpplysningerOmPersonligeForholdMv-grp-4886/OpplysningerOmPersonligeForholdMv-grp-4529/Skattyter-grp-4531/SelvangivelseType-datadef-27745\u0026#34;/\u0026gt; \u0026lt;Target form=\u0026#34;866\u0026#34; field=\u0026#34;/Skjema/GenerellInformasjon-grp-2228/Revisor-grp-2231/RevisorOrganisasjonsnummer-datadef-1938\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;IgnoreGUID\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;HasValue\u0026#34; check=\u0026#34;/Skjema/OpplysningerOmPersonligeForholdMv-grp-4886/OpplysningerOmPersonligeForholdMv-grp-4529/Skattyter-grp-4531/SelvangivelseType-datadef-27745\u0026#34; form=\u0026#34;998\u0026#34;/\u0026gt; \u0026lt;/Rule\u0026gt; Verdien blir hentet fra «Organisasjonsnummer» i hovedskjemaets første side.\nDersom vi har en verdi her, vil samme verdi dukke opp i feltet \u0026ldquo;organisasjonsnummer\u0026rdquo; (under revisor) i underskjema.\nVis melding om en validering feiler Her viser vi hvordan du kan gjøre en sjekk og vise en feilmelding dersom denne sjekken avdekker en ugyldig tilstand. Vi setter opp hvilket felt som skal motta valideringsmeldingen i «Target». Selve valideringen setter vi opp i «Condition». Her har vi valgt type «IsNegative». Feltet som skal sjekkes fører vi opp i «check». Inne i «Texts» legger vi inn en valideringsmelding for både bokmål, nynorsk og engelsk.\n\u0026lt;!-- Validate the XPath value. If it fails, shows the validation at check form --\u0026gt; \u0026lt;Rule type=\u0026#34;SimpleValidation\u0026#34; description=\u0026#34;Validate the field value. If it fails shows the validation at check form\u0026#34;\u0026gt; \u0026lt;Target field=\u0026#34;/Skjema/Innledning-grp-8781/EnhetOrganisasjonsnummer-datadef-18\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;IsNegative\u0026#34; check=\u0026#34;/Skjema/Innledning-grp-8781/EnhetOrganisasjonsnummer-datadef-18\u0026#34;/\u0026gt; \u0026lt;Texts\u0026gt; \u0026lt;Text lang=\u0026#34;1044\u0026#34;\u0026gt;Negativ verdi er ikke lovlig.\u0026lt;/Text\u0026gt; \u0026lt;Text lang=\u0026#34;2068\u0026#34;\u0026gt;Negativ verdi er ikkje lovleg.Text\u0026gt; \u0026lt;Text lang=\u0026#34;1033\u0026#34;\u0026gt;Negative values are not allowed.\u0026lt;/Text\u0026gt; \u0026lt;/Texts\u0026gt; \u0026lt;/Rule\u0026gt; Dersom vi setter inn en negativ verdi i organisasjonsnummer, vil vi etter å ha trykket «Kontroller skjema» få opp meldingen.\nSjekker om et spesifikt underskjema er til stede Valideringsregel som sjekker om underskjemaet RF-1053 er til stede. Vi bruker her «condition» av type «HasForm», og setter skjemaet vi leter etter i «form».\n\u0026lt;!-- Check whether RF-1053 form is added to main form or not --\u0026gt; \u0026lt;Rule type=\u0026#34;SimpleValidation\u0026#34; description=\u0026#34;Check whether RF-1053 form is added to main form or not\u0026#34;\u0026gt; \u0026lt;Target field=\u0026#34;/Skjema/Innledning-grp-8781/EnhetOrganisasjonsnummer-datadef-18 \u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;HasForm\u0026#34; form=\u0026#34;866\u0026#34;/\u0026gt; \u0026lt;Texts\u0026gt; \u0026lt;Text lang=\u0026#34;1044\u0026#34;\u0026gt;RF-1053-skjema er lagt til (eksempel)\u0026lt;/Text\u0026gt; \u0026lt;Text lang=\u0026#34;2068\u0026#34;\u0026gt;RF-1053-skjema er lagt til (eksempel)\u0026lt;/Text\u0026gt; \u0026lt;Text lang=\u0026#34;1033\u0026#34;\u0026gt;RF-1053 form is added\u0026lt;/Text\u0026gt; \u0026lt;/Texts\u0026gt; \u0026lt;/Rule\u0026gt; Etter å ha trykket «Kontroller skjema» får vi opp meldingen dersom underskjema er på plass.\nFjerner et felt om det eksisterer, og et annet felt ikke har en verdi I dette eksempelet skal vi fjerne et felt basert på om to vilkår er innfridd eller ikke. Vi bruker feltet «Navn» i hovedskjemaet for dette, og forteller dette i «Source». De to kravene vi må innfri for å fjerne feltet er at «Navn» ikke skal ha noen verdi og at «Poststed» skal ha en verdi. Vi bruker «condition» av type «IsEmpty» for det første kravet. For krav nummer to bruker vi typen «HasValueIgnoreZero».\n\u0026lt;!-- Remove field if it exists when user doesn\u0026#39;t have value for that field and another specific field has value. --\u0026gt; \u0026lt;Rule type=\u0026#34;RemoveFieldElement\u0026#34; description=\u0026#34;Remove EnhetNavn if it exists, if EnhetNavn does not have value and EnhetPoststed has a value\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;1080\u0026#34; field=\u0026#34;/Skjema/Innledning-grp-8781/EnhetNavn-datadef-1\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;IgnorePrefill\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;AlwaysRun\u0026#34; value=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;Condition type=\u0026#34;IsEmpty\u0026#34; check=\u0026#34;/Skjema/Innledning-grp-8781/EnhetNavn-datadef-1\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;HasValueIgnoreZero\u0026#34; form=\u0026#34;1080\u0026#34; check=\u0026#34;/Skjema/Innledning-grp-8781/EnhetPoststed-datadef-6674\u0026#34; /\u0026gt; \u0026lt;/Rule\u0026gt; Dersom vi har lagt inn en verdi i poststed, og samtidig ikke har en verdi i navn, vil feltet «navn» bli fjernet (det er ikke lenger mulig å skrive i det). Dette vil skje når skjemaet blir lastet inn på nytt (for eksempel ved å navigere ut av skjemaet og tilbake igjen).\nKomplett regelfil med alle XPath-eksemplene \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;AltinnRuleEngine name=\u0026#34;InfoPath1\u0026#34; version=\u0026#34;Beta\u0026#34;\u0026gt; \u0026lt;Description\u0026gt;Samples using XPath as field identificator.\u0026lt;/Description\u0026gt; \u0026lt;Configuration\u0026gt; \u0026lt;Forms default=\u0026#34;1080\u0026#34;\u0026gt; \u0026lt;!--target--\u0026gt; \u0026lt;Form name=\u0026#34;InfoPath1\u0026#34; dataFormatId=\u0026#34;1080\u0026#34; validationEngine=\u0026#34;AltinnRuleEngine\u0026#34; calculationEngine=\u0026#34;AltinnRuleEngine\u0026#34;/\u0026gt; \u0026lt;!--source--\u0026gt; \u0026lt;Form name=\u0026#34;RF-1053\u0026#34; dataFormatId=\u0026#34;866\u0026#34; validationEngine=\u0026#34;AltinnRuleEngine\u0026#34; calculationEngine=\u0026#34;AltinnRuleEngine\u0026#34;/\u0026gt; \u0026lt;/Forms\u0026gt; \u0026lt;/Configuration\u0026gt; \u0026lt;Rules\u0026gt;\t\u0026lt;!-- Transferring value from main form to sub form --\u0026gt; \u0026lt;Rule type=\u0026#34;TransferValue\u0026#34; description=\u0026#34;Transferring value from InfoPath1 form to RF-1053 form\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;1080\u0026#34; field=\u0026#34;/Skjema/Innledning-grp-8781/EnhetOrganisasjonsnummer-datadef-18\u0026#34;/\u0026gt; \u0026lt;Target form=\u0026#34;866\u0026#34; field=\u0026#34;/Skjema/GenerellInformasjon-grp-2228/Revisor-grp-2231/RevisorOrganisasjonsnummer-datadef-1938\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;IgnoreGUID\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;HasValue\u0026#34; check=\u0026#34;/Skjema/Innledning-grp-8781/EnhetOrganisasjonsnummer-datadef-18\u0026#34; /\u0026gt; \u0026lt;/Rule\u0026gt; \u0026lt;!-- Validate the xpath value. If it fails, shows the validation at check form --\u0026gt; \u0026lt;Rule type=\u0026#34;SimpleValidation\u0026#34; description=\u0026#34;Validate the field value. If it fails shows the validation at check form\u0026#34;\u0026gt; \u0026lt;Target field=\u0026#34;/Skjema/Innledning-grp-8781/EnhetOrganisasjonsnummer-datadef-18\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;IsNegative\u0026#34; check=\u0026#34;/Skjema/Innledning-grp-8781/EnhetOrganisasjonsnummer-datadef-18\u0026#34;/\u0026gt; \u0026lt;Texts\u0026gt; \u0026lt;Text lang=\u0026#34;1044\u0026#34;\u0026gt;Negativ verdi er ikke lovlig.\u0026lt;/Text\u0026gt; \u0026lt;Text lang=\u0026#34;2068\u0026#34;\u0026gt;Negativ verdi er ikkje lovleg.Text\u0026gt; \u0026lt;Text lang=\u0026#34;1033\u0026#34;\u0026gt;Negative values are not allowed.\u0026lt;/Text\u0026gt; \u0026lt;/Texts\u0026gt; \u0026lt;/Rule\u0026gt; \u0026lt;!-- Check whether RF-1053 form is added to main form or not --\u0026gt; \u0026lt;Rule type=\u0026#34;SimpleValidation\u0026#34; description=\u0026#34;Check whether RF-1053 form is added to main form or not\u0026#34;\u0026gt; \u0026lt;Target field=\u0026#34;/Skjema/Innledning-grp-8781/EnhetOrganisasjonsnummer-datadef-18\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;HasForm\u0026#34; form=\u0026#34;866\u0026#34;/\u0026gt; \u0026lt;Texts\u0026gt; \u0026lt;Text lang=\u0026#34;1044\u0026#34;\u0026gt;RF-1053-skjema er lagt til (eksempel)\u0026lt;/Text\u0026gt; \u0026lt;Text lang=\u0026#34;2068\u0026#34;\u0026gt;RF-1053-skjema er lagt til (eksempel)\u0026lt;/Text\u0026gt; \u0026lt;Text lang=\u0026#34;1033\u0026#34;\u0026gt;RF-1053 form is added\u0026lt;/Text\u0026gt; \u0026lt;/Texts\u0026gt; \u0026lt;/Rule\u0026gt; \u0026lt;!-- Remove field if it exists when user doesn\u0026#39;t have value for that field and another specific field has value. --\u0026gt; \u0026lt;Rule type=\u0026#34;RemoveFieldElement\u0026#34; description=\u0026#34;Remove EnhetNavn if it exists, if EnhetNavn does not have value and EnhetPoststed has a value\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;1080\u0026#34; field=\u0026#34;/Skjema/Innledning-grp-8781/EnhetNavn-datadef-1\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;IgnorePrefill\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;AlwaysRun\u0026#34; value=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;Condition type=\u0026#34;IsEmpty\u0026#34; check=\u0026#34;/Skjema/Innledning-grp-8781/EnhetNavn-datadef-1\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;HasValueIgnoreZero\u0026#34; form=\u0026#34;1080\u0026#34; check=\u0026#34;/Skjema/Innledning-grp-8781/EnhetPoststed-datadef-6674\u0026#34; /\u0026gt; \u0026lt;/Rule\u0026gt; \u0026lt;/Rules\u0026gt; \u0026lt;/AltinnRuleEngine\u0026gt; Eksempeltjeneste som bruker OR-id Denne eksempeltjenesten er basert på OR-skjemaene RF-1053 «Fradrag i skatt for forskning og utvikling 2012» og RF-1016 «Formue av skogseiendom».\nFellesoppsett for alle reglene:\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;AltinnRuleEngine name=\u0026#34;RF-1016\u0026#34; version=\u0026#34;Beta\u0026#34;\u0026gt; \u0026lt;Description\u0026gt;Sample rules\u0026lt;/Description\u0026gt; \u0026lt;Configuration\u0026gt; \u0026lt;Forms\u0026gt; \u0026lt;Form name=\u0026#34;RF-1016\u0026#34; dataFormatId=\u0026#34;1187\u0026#34; validationEngine=\u0026#34;Both\u0026#34; calculationEngine=\u0026#34;Both\u0026#34;/\u0026gt; \u0026lt;Form name=\u0026#34;RF-1053\u0026#34; dataFormatId=\u0026#34;866\u0026#34; validationEngine=\u0026#34;Both\u0026#34; calculationEngine=\u0026#34;Both\u0026#34;/\u0026gt; \u0026lt;/Forms\u0026gt; \u0026lt;Codelists\u0026gt; \u0026lt;Codelist name=\u0026#34;SKD_Kommuner_Prod\u0026#34; version=\u0026#34;543\u0026#34; lang=\u0026#34;1044\u0026#34;/\u0026gt; \u0026lt;Codelist name=\u0026#34;ASF_Land\u0026#34; version=\u0026#34;404\u0026#34; lang=\u0026#34;1044\u0026#34;/\u0026gt; \u0026lt;/Codelists\u0026gt; \u0026lt;/Configuration\u0026gt; \u0026lt;/AltinnRuleEngine\u0026gt; Sette verdi basert på en betingelse I dette eksempelet skal vi sette en gitt verdi til et felt i et skjema (RF-1016) om et annet skjema (RF-1053) er til stede. Her skal vi sette verdien i «Navn» under Enkeltpersonforetak til «Underskjema er lagt til» når underskjemaet RF-1053 er lagt til.\nDette gjør vi ved å definere en «SetFieldValue»-regel. I denne definerer vi RF-1016 (som har id 1187) og feltet med orid 68 («Navn») som target. Verdien vi vil ha legger vi inn i «value». Parameteren «AlwaysRun» er lagt til for at regelen både skal kjøres under utregning og validering. I «condition» forteller vi at denne verdien bare skal bli lagt til om skjemaet 866 (RF-1053) er til stede.\n\u0026lt;!-- When RF-1053 is added, field with orid 68 gets a pre-defined value --\u0026gt; \u0026lt;Rule type=\u0026#34;SetFieldValue\u0026#34; description=\u0026#34;When RF-1053 is added, transfer value to orid 1937\u0026#34;\u0026gt; \u0026lt;Target form=\u0026#34;1187\u0026#34; field=\u0026#34;orid(68)\u0026#34; value=\u0026#34;Underskjema er lagt til\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;AlwaysRun\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;HasForm\u0026#34; form=\u0026#34;866\u0026#34;/\u0026gt; \u0026lt;/Rule\u0026gt; Med denne regelen på plass vil skjemaet se slik ut dersom du ikke har lagt til underskjemaet:\nMed underskjemaet lagt til ser det slik ut:\nOverføre verdi fra et skjema til et annet Overfører en verdi fra et skjema (RF-1053) til et annet skjema (RF-1016).\n\u0026lt;!-- Transfer a value from RF-1053 to RF-1016--\u0026gt; \u0026lt;Rule type=\u0026#34;TransferValue\u0026#34; description=\u0026#34;Transfer a value from RF-1053 to RF-1016\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;866\u0026#34; field=\u0026#34;orid(1938)\u0026#34;/\u0026gt; \u0026lt;Target form=\u0026#34;1187\u0026#34; field=\u0026#34;orid(18)\u0026#34; index=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;IgnoreGUID\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;HasValue\u0026#34; check=\u0026#34;orid(1938)\u0026#34; form=\u0026#34;866\u0026#34;/\u0026gt; \u0026lt;/Rule\u0026gt; Det er feltet «organisasjonsnummer» under revisor som er kilde i denne regelen.\nDersom vi legger inn en verdi her vil verdien bli kopiert over til hovedskjemaet.\nVerdien vil du finne igjen i «organisasjonsnummer» under «Selskap».\nOverføre verdi basert på et vilkår Dette eksempelet viser hvordan du kan sjekke en tilstand og basert på denne sette en verdi. Her ser vi på radioknapper for «Ja» og «Nei» i underskjema. I «condition» velger vi type «equals», som betyr at regelen blir utført dersom verdien i det feltet vi sjekker er lik den verdien vi legger inn i «value». Vi skal i dette tilfellet altså utføre regelen dersom verdien i den valgte radioknappen er «Ja».\n\u0026lt;!-- If radio button selected as \u0026#34;Yes\u0026#34; in RF-1053 then a pre-defined value is added to RF-1016 --\u0026gt; \u0026lt;Rule type=\u0026#34;SetFieldValue\u0026#34; description=\u0026#34;When orid_17413 from RF-1053 is YES, transfer value to field\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;866\u0026#34; field=\u0026#34;orid(17413)\u0026#34;/\u0026gt; \u0026lt;Target form=\u0026#34;1187\u0026#34; field=\u0026#34;orid(1)\u0026#34; value=\u0026#34;Valgt verdi er \u0026#39;Ja\u0026#39; i RF-1053\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;AlwaysRun\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;Equals\u0026#34; check=\u0026#34;orid(17413)\u0026#34; value=\u0026#34;Ja\u0026#34; form=\u0026#34;866\u0026#34; fieldindex=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;/Rule\u0026gt; Verdien vi sjekker er det som er valgt i radioboksene (“Ja”/”Nei”) for «101 Tilfredsstiller foretaket vilkårene…» i underskjemaet.\nDersom du velger «Ja» så vil verdien «Valgt verdi er ‘Ja’ i RF-1053» bli satt i feltet «Virksomhetens navn» i hovedskjemaet.\nGi en verdi til et felt dersom en betingelse inntreffer Dersom et felt (17415) mangler verdi blir feltet satt til verdien “0”. Regeltypen vi bruker her er «SetFieldValue», som setter en verdi vi bestemmer i «value». For at dette ikke skal skje uansett velger vi «IsMissing» som type for vår betingelse («condition»). Feltet vi skal sjekke fører vi opp i «check». Her har vi satt samme felt som mål for verdien som feltet vi brukte til å sjekke betingelsen. Vi kan også bruke ulike felt til dette.\n\u0026lt;!-- If a field is missing a value, the value 0 is set to the field --\u0026gt; \u0026lt;Rule type=\u0026#34;SetFieldValue\u0026#34; description=\u0026#34;For 866\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;866\u0026#34;/\u0026gt; \u0026lt;Target form=\u0026#34;866\u0026#34; field=\u0026#34;orid(17415)\u0026#34; value=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;DoNotIgnoreZeroValue\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;IsMissing\u0026#34; check=\u0026#34;orid(17415)\u0026#34;/\u0026gt; \u0026lt;/Rule\u0026gt; Feltet «204 Totale FoU kostnader …» i underskjemaet blir automatisk satt til 0 dersom verdi mangler i dette feltet.\nGjøre en utregning og overføre resultatet til et annet skjema Gjør en utrekning i et skjema (RF-1053) og overfører resultatet til et annet skjema (RF-1016). Vi bruker regeltypen «TransferResult». Vi bestemmer hvilke verdier som skal med i utregningen i «addFields» og «subtractFields». Vi har bare brukt et felt i hver av disse, men du kan også legge til flere felt om du ønsker det. Da bruker du komma til å skille mellom feltene. Utregningen vi får i dette eksempelet er summen vi får når vi legger til verdien i feltet i «addFields» og trekker fra verdien i feltet i «subtractFields».\n\u0026lt;!-- Add the value from one field and subtract the value from another field. Transfer the result to RF-1016 form --\u0026gt; \u0026lt;Rule type=\u0026#34;TransferResult\u0026#34; description=\u0026#34;Transferring Result\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;866\u0026#34; addFields=\u0026#34;orid(24107)\u0026#34; subtractFields=\u0026#34;orid(17418)\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;IgnoreGUID\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Target form=\u0026#34;1187\u0026#34; field=\u0026#34;orid(24974)\u0026#34;/\u0026gt; \u0026lt;/Rule\u0026gt; I underskjemaet bruker vi feltene «206 Herav kostnader til ulønnet arbeidsinnsats …» og «207 Hvis prosjektet mottar…» som grunnlag for utregningen. Her skal altså verdien 150 trekkes fra verdien 200.\nResultatet av utregningen (50) vil dukke opp i feltet «Super bonitet 0,7 kbm pr da» i hovedskjemaet.\nOversikt over felter brukt i OR-eksempelet RF-1016:\n Orid(1) = «Virksomhetens navn»\n(EnhetNavn-datadef-1, Visning 1) Orid(18) = «Organisasjonsnummer»\n(EnhetOrganisasjonsnummer-datadef-18, Visning 1) Orid(24974) = «Super bonitet 0,7 kbm pr da»\n(SkogBonitetSvartHoyAreal-datadef-24974, Visning 3)  RF-1053:\n Orid(1938) = «Organisasjonsnr.» (revisor)\n(RevisorOrganisasjonsnummer-datadef-1938, Visning1) Orid(17413) = “101 Tilfredsstiller foretaket vilkårene i forskrift av 19. november 1999 nr 1158 til skatteloven (FSFIN § 16-40-5) til SMB (små og mellomstore bedrifter)?” (EnhetESAVilkarStorrelse-datadef-17413, Visning 1) Orid(17415) = «204 Totale FoU kostnader, inkl. ev. kostnader knyttet til ulønnet arbeidsinnsats som ikke omfattes av den ordinære skattefunnordningen»\n(KostnaderFoUSpesifisertProsjekt-datadef-17415, Visning 2) Orid(17418) = «207 Hvis prosjektet mottar annen off. støtte; oppgi dette beløpet her» (ProsjektStatsstotteSkattefradragReduksjonSpesifisertProsjekt-datadef-17418, Visning 2) Orid(24107) = «206 Herav kostnader knyttet til ulønnet arbeidsinnsats som ikke omfattes av den ordinære skattefunnordningen (Se rettledningen.)» (KostnaderFoUUlonnetArbeidSpesifisertProsjekt-datadef-24107, Visning 2)  Komplett regelfil med alle eksemplene \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;AltinnRuleEngine name=\u0026#34;RF-1016\u0026#34; version=\u0026#34;Beta\u0026#34;\u0026gt; \u0026lt;Description\u0026gt;Set field value and transferring value to RF-1016\u0026lt;/Description\u0026gt; \u0026lt;Configuration\u0026gt; \u0026lt;Forms\u0026gt; \u0026lt;Form name=\u0026#34;RF-1016\u0026#34; dataFormatId=\u0026#34;1187\u0026#34; validationEngine=\u0026#34;Both\u0026#34; calculationEngine=\u0026#34;Both\u0026#34;/\u0026gt; \u0026lt;Form name=\u0026#34;RF-1053\u0026#34; dataFormatId=\u0026#34;866\u0026#34; validationEngine=\u0026#34;Both\u0026#34; calculationEngine=\u0026#34;Both\u0026#34;/\u0026gt; \u0026lt;/Forms\u0026gt; \u0026lt;Codelists\u0026gt; \u0026lt;Codelist name=\u0026#34;SKD_Kommuner_Prod\u0026#34; version=\u0026#34;543\u0026#34; lang=\u0026#34;1044\u0026#34;/\u0026gt; \u0026lt;Codelist name=\u0026#34;ASF_Land\u0026#34; version=\u0026#34;404\u0026#34; lang=\u0026#34;1044\u0026#34;/\u0026gt; \u0026lt;/Codelists\u0026gt; \u0026lt;/Configuration\u0026gt; \u0026lt;Rules\u0026gt; \u0026lt;!-- When RF-1053 is added, field with orid 68 gets a pre-defined value --\u0026gt; \u0026lt;Rule type=\u0026#34;SetFieldValue\u0026#34; description=\u0026#34;When RF-1053 is added, set value to orid(1)\u0026#34;\u0026gt; \u0026lt;Target form=\u0026#34;1187\u0026#34; field=\u0026#34;orid(68)\u0026#34; value=\u0026#34;Test\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;AlwaysRun\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;HasForm\u0026#34; form=\u0026#34;866\u0026#34;/\u0026gt; \u0026lt;/Rule\u0026gt; \u0026lt;!-- Transfer a value from RF-1053 to RF-1016 --\u0026gt; \u0026lt;Rule type=\u0026#34;TransferValue\u0026#34; description=\u0026#34;Transfer the value from RF-1053 to RF-1016\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;866\u0026#34; field=\u0026#34;orid(1938)\u0026#34;/\u0026gt; \u0026lt;Target form=\u0026#34;1187\u0026#34; field=\u0026#34;orid(18)\u0026#34; index=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;IgnoreGUID\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;HasValue\u0026#34; check=\u0026#34;orid(1938)\u0026#34; form=\u0026#34;866\u0026#34;/\u0026gt; \u0026lt;/Rule\u0026gt; \u0026lt;!-- If Radio button selected as \u0026#34;Yes\u0026#34; in RF-1053 then a pre-defined value is added to RF-1016 --\u0026gt; \u0026lt;Rule type=\u0026#34;SetFieldValue\u0026#34; description=\u0026#34;When orid_17413 from RF-1053 is YES, transfer value to field\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;866\u0026#34; field=\u0026#34;orid(17413)\u0026#34;/\u0026gt; \u0026lt;Target form=\u0026#34;1187\u0026#34; field=\u0026#34;orid(1)\u0026#34; value=\u0026#34; Valgt verdi er \u0026#39;Ja\u0026#39; i RF-1053\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;AlwaysRun\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;Equals\u0026#34; check=\u0026#34;orid(17413)\u0026#34; value=\u0026#34;Ja\u0026#34; form=\u0026#34;866\u0026#34; fieldindex=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;/Rule\u0026gt; \u0026lt;!-- If a field is missing a value, the value 0 is set to the field --\u0026gt; \u0026lt;Rule type=\u0026#34;SetFieldValue\u0026#34; description=\u0026#34;For 866\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;866\u0026#34;/\u0026gt; \u0026lt;Target form=\u0026#34;866\u0026#34; field=\u0026#34;orid(17415)\u0026#34; value=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;DoNotIgnoreZeroValue\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Condition type=\u0026#34;IsMissing\u0026#34; check=\u0026#34;orid(17415)\u0026#34;/\u0026gt; \u0026lt;/Rule\u0026gt; \u0026lt;!-- Add the value from one field and subtract the value from another field. Transfer the result to RF-1016 form --\u0026gt; \u0026lt;Rule type=\u0026#34;TransferResult\u0026#34; description=\u0026#34;Transferring Result\u0026#34;\u0026gt; \u0026lt;Source form=\u0026#34;866\u0026#34; addFields=\u0026#34;orid(24107)\u0026#34; subtractFields=\u0026#34;orid(17418)\u0026#34;/\u0026gt; \u0026lt;Param name=\u0026#34;IgnoreGUID\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;Target form=\u0026#34;1187\u0026#34; field=\u0026#34;orid(24974)\u0026#34;/\u0026gt; \u0026lt;/Rule\u0026gt; \u0026lt;/Rules\u0026gt; \u0026lt;/AltinnRuleEngine\u0026gt; "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/hente-data-fra-register/",
	"title": "Hente data fra register",
	"tags": [],
	"description": "Tjenesten gir brukerne tilgang til opplysninger som allerede finnes om dem i dine systemer.",
	"content": "For å utvikle løsningen trenger du både å tilrettelegge egne systemer for oppslag, samt utvikle selve tjenesten i Altinns tjenesteutviklingsløsning. En slik løsning krever litt utvikling siden det må utvikles en komponent for integrasjonen mellom Altinn og ditt system. Før du starter utviklingen er det viktig å tenke over hvordan du vil presentere dataene for brukeren.\nSlik går du frem:\n Definere brukerbehov\nHvilket behov skal tjenesten dekke? Er brukeren en person eller en organisasjon – eller kanskje begge deler? Hvilke data skal hentes og presenteres for bruker? Sjekk Guide: Hvordan jobbe brukerorientert? for inspirasjon. Få tilgang til systemer\nHvis du ikke har utviklet tjenester i Altinn før trenger du tilgang til våre løsninger. For å utvikle tjenesten er det nødvendig med tilgang til Altinn sin tjenesteutviklingsløsning og domeneklient. Du trenger også egen lisens til Visual Studio fordi det må lages kode for å gjøre oppslag mot eksterne webtjenester. I tillegg er det nødvendig med tilgang til Team Foundation Server (versjonshåndtering) og filsti til utviklingsserver i tjenesteutviklingsløsningen. I Kom i gang med utvikling kan du lese om hvordan du får tilganger. Tilrettelegge for oppslag mot egne systemer\nDet er viktig at systemet ditt er tilrettelagt og skalert for oppslag gjennom Altinn. Dette gjelder oppetid, svartid, belastning etc. Som eier av systemet er du ansvarlig for dette. Utvikle tjenesten i Altinn sin tjenesteutviklingsløsning\nTjenesten utvikles i tjenesteutviklingsløsningen. Via løsningen bruker du også Visual Studio for å utvikle komponenten som muliggjør integrasjonen mellom ditt system og Altinn. Data som hentes i ditt system presenteres for sluttbruker i form av et ferdigutfylt skjema. Ved bruk av domeneklienten definerer du hvilke felter som skal være med i skjema og som hentes fra ditt system. Les mer om dette i brukerveiledning for TUL. Teste tjenestene\nTjenester og grensesnitt må testes i Altinn sitt testmiljø. Det benyttes fiktive testpersoner og -organisasjoner i våre testmiljø. Disse må kanskje leses inn i egne systemer for å få gjennomført testen. Det er også viktig med brukerinvolvering for å sikre en god opplevelse for de som skal bruke tjenestene. Produksjonssette tjenestene\nNår tjenester og tilhørende grensesnitt er testet ende til ende er dere klare for produksjonssetting. Grensesnitt som er testet i testmiljø må reetableres i Altinn sitt produksjonsmiljø mot produksjonsmiljøet til ditt system, og tjenestene må produksjonssettes. Dette må bestilles hos Altinn. Husk å sjekke at tjeneste og tilhørende grensesnitt fungerer i produksjonsmiljø før produksjonssetting.  "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2018/18-5/",
	"title": "18.5",
	"tags": [],
	"description": "Forbedringer på varsling og portal samt div bugfiks.",
	"content": "Endringer i portal Vise oppgitt avsender på skjema i innboks og i arkiv Som sluttbruker ønsker jeg å se i innboksen hvem som er \u0026ldquo;oppgitt skjema-avsender\u0026rdquo; på skjema som har InstantiatedOnBehalfOfPartyId feltet satt. Hvis det er oppgitt en annen skjema-avsender enn tjenesteeier, vil det nå dukke opp navnet på oppgitt avsender under tittelen på skjemaet både i innboks og i arkiv.\nInnføring av \u0026ldquo;foretrukket kanal\u0026rdquo; som kanaltype ved opprettelse av varsel I tjenesteeiergrensesnittene for Prefill, Correspondence og Notification har tjenesteeiere mulighet til å definere kanalen varselene skal sendes på. Valgmulighetene har vært \u0026ldquo;epost\u0026rdquo;, \u0026ldquo;sms\u0026rdquo; eller \u0026ldquo;begge\u0026rdquo;. Usikkerhet rundt hvorvidt varselmottaker har registrert mobilnummer eller epostadresse har gjort at \u0026ldquo;begge\u0026rdquo; har vært det tryggeste valget. Problemene med dette er at mange mottakere da har fått 2 varsel og at det blir sendt unødvendig med SMS.\nLøsningen på dette blir det som kalles \u0026ldquo;foretrukket kanal\u0026rdquo;. Dette defineres som 2 nye kanaler i tillegg til de 3 eksisterende kanalene. De to nye vil bli \u0026ldquo;foretrukket epost\u0026rdquo; og \u0026ldquo;foretrukket SMS\u0026rdquo;. Disse vil indikere for Altinn at løsningen først skal forsøke angitt kanal. Hvis mottaker ikke har registrert noen adresse for foretrukket kanal, så skal løsningen isteden generere varsel på den andre kanalen. For eksempel hvis en person kun har registrert et mobilnummer og foretrukket kanal er epost så vil Altinn da lage varsel på SMS. Implementasjon inkluderer også innlesing av Correspondence via batch grensesnittet.\nAltinn skal kreve varslingsadresser selvom bruker har klikket \u0026ldquo;Slutt å mase\u0026rdquo; i vindu for personlig kontaktinformasjon Slutt å mase er en knapp som er synlig i vinduet som spørr etter personlig kontaktinformasjon. Knappen blir synlig for brukere som har mange avgivere. Når bruker benytter seg av muligheten vil Altinn lagre dato og tidspunkt. Hvis det har gått færre enn 365 dager siden dette ble registrert vil Altinn ikke spørre om personlig kontaktinformasjon. Denne sjekken hindret feilaktig også spørsmål om varslingsadresser for organisasjonen. Dette er nå rettet.\nFjerne låsing av GUI-elementer som ikke er bekreftet av KoFuVi Det var tidligere ikke mulig å endre eller slette kontakt-endepunkter som ble lagt til, før batch hadde kjørt og godkjent disse endringene. Det var derfor en 10-min periode etter hver innlegging av data der man ikke kunne endre eller slette kontakt-endepunkter. Denne begrensningen er nå fjernet slik at det alltid er mulig å endre og å slette nylagde kontakt-endepunkter.\nVise sluttbrukersystemets navn på skjema når det er instansiert fra sluttbrukersystem For å kunne skille mellom elementer som er instansiert opp av sluttbrukersystem og elementer som er instansiert opp av tjenesteeier, skal navnet på sluttbrukersystemet gå fram av elementlista når det er sluttbrukersystem som har instansiert opp elementet.\nAvgivertypeendring blir kommunisert på riktig måte når man instansierer skjema Avgivertypen endres ikke når man skifter avgiver (så sjekken på avgivertypen blir feil). Tidligere ble det ikke registrert på riktig måte at avgivertypen ble endret slik at før ble du hindret selv med en lovlig avgiver og fikk da en feilaktig feilmelding. Dette er nå fikset opp i slik at skjema blir instansiert uten at brukeren ser denne feilmeldingen.\nVise tjenesteeiernavn basert på valgt språk i profil Det er gjort endring på visningen av \u0026ldquo;Rollene dine gir deg tilgang til disse tjenestene\u0026rdquo; når man viser alternativ for å filtrere på tjenesteeiere. Oppbyggingen av tjenesteeiernavn på filter alternativene tar nå i bruk ressurstekster med en nøkkelverdi. Hvis det er ikke eksisterer en ressurstekst for tjenesteeierkoden blir eksisterende løsning brukt, som benytter seg av beskrivelsesfeltet fra ServiceOwner tabellen i databasen.\nSkjule test-tjenesteeiere Det finnes et sett med tjenesteeiere som benyttes av systemeier og leverandører til å utføre testing og overvåking av løsningen. Disse tjenesteeierene vil aldri ha reelle tjenester tilgjengelig for sluttbrukere. Disse tjenesteeierene blir med denne endringen skjult for sluttbruker i 2 spesifikke lister. Listene det gjelder brukes i sammenheng med filtrering av tjenester basert på tjenesteeier. De konkrete listene finner man under henholdsvis \u0026ldquo;Profil \u0026ndash;\u0026gt; Skjema og tjenester du har rettighet til \u0026ndash;\u0026gt; Disse rollene gir tilgang til disse tjenstene\u0026rdquo; og \u0026ldquo;Profil \u0026ndash;\u0026gt; Andre med rettigheter til virksomheten \u0026ndash;\u0026gt; (velg aktør) \u0026ndash;\u0026gt; Disse rollene gir tilgang til disse tjenstene\u0026rdquo;\nOppgradering av Bootstrap-rammeverk Bootstrap-rammeverket som benyttes til å bygge design på sidene i Altinn blir oppgradert til versjon 4.0 stable. I denne sammenheng kan enkelte sider få mindre justeringer i hvordan de ser ut. Endringen gjelder både portal og infoportal.\nEndringer i eksterne grensesnitt Tillate utsending av varsel i helger. Det er gjort endringer i det som kalles sendevindu slik at det blir mulig å sende varsel på lørdager og søndager. I tillegg er det blitt lov å sende varsel på helligdager. Inkludering av helligdager i sendevindu er en innstilling separat fra søndager. Alle regler må være møtt for at det skal sendes varsel. Hvis man endrer sendevindu til å ekskludere fredag vil det ikke sendes varsel på langfredag selvom det er lov å sende varsel på helligdager.\nDette gjelder SMS varsel som lages i sammenheng med nye meldinger, prefill og abonnement, og frittstående varsel.\nTest-prefix i utsendte epost/sms for å indikere at det kommer fra testmiljø Det er lagt til en prefiks for alle utsendte epost/sms fra test-miljøer. For SMS vil meldingen ha teksten \u0026ldquo;ENV - \u0026quot; i starten av meldingen og epost vil ha teksten \u0026ldquo;ENV - \u0026quot; i starten av emne-feltet (der ENV er testmiljø; DEV, AT02, TT02 etc).\nLagt til en \u0026ldquo;bryter\u0026rdquo; slik at vi kan slå av overføringer av oppdateringer mot Kofuvi i testsammenheng Når kontaktaddresser for organisasjoner oppdateres vil normalt alle oppdateringene bli sendt til Kofuvi. Om bryteren slåes av vil dette ikke skje, og alle oppdateringer er begrenset til lokale database-endringer.\nDet er lagt til en config-verdi, Kofuvi_UseLiveClient, som bestemmer om man skal overføre oppdatering til Kofuvi. Denne har per dags dato verdi som er hentet fra Variables (%KOFUVI_USELIVECLIENT%), som er satt til å være slått av for DEV (utviklingsmiljø).\nLik navnestandard på miljø mellom feature toggles og altinn config. Det er gjort endringer på navngivning av miljø både i altinn.config og features.json slik at disse følger lik navnestandard; DEV,AT1,AT2,AT3,AT4,YT1,YT2,YT3,TT2,PROD.\nDette vil gjelde for oppsett av nye feature toggles samt tjenesten AuthorizationDecisionPointExternal.AuthorizeAccessExternal.\nDiverse bugfix Problemer med samtidige enkeltrettigheter på instansnivå og tjenestenivå Enkeltrettigheter som ikke fungerer (17750) Utbedret et problem med at ikke alle rettigheter blir delegert på tjenestenivå dersom det eksisterer en aktiv rettighet på instansnivå.\nTrekking av tjenestenivå rettigheter sletter også rettigheter på instansnivå for samme bruker (19154) Utbedret et problem med at instans-rettigheter også blir slettet i det man trekker rettighet på tjenestenivå for samme tjeneste.\nYtelsesforbedringer Versjonen inneholder forbedringer i ytelsen på innlevering, og en endring som reduserer størrelsen på PDF-er Altinn genererer.\nØvrige bugfix Ekspandert visning av innboks elementet viser opprettet dato og ikke visningsdato (18997) Dato for mottatt melding i innboks er forskjellig fra dato i aktivitetsloggen. Aktivitetsloggen bruker visningsdato av elementet og ekspandert visning viser opprettet dato for elementet.\nFor skjema som er instantiert av tjenesteeiere vises nå visningsdato i ekspandert visning og opprettet dato på aktivitetsloggen. Det er nå fikset slik at aktivitetsloggen viser visningsdato.\nFjernet krav om at telefonnummer skal være oppført om man endrer valgbokser under login informasjon (19346) Et krav om at telefonnummer skulle være oppført når man endret et av login informasjons-valgende \u0026ldquo;Tillat EUS\u0026rdquo;/\u0026ldquo;Tillat level 3\u0026rdquo; har blitt introdusert i en tidligere versjon. Denne endringen har blitt reversert. Det er fjernet krav til å oppgi passord på nytt om man har valgt en av boksene som krever passord fra før.\nFjerner ikke endpoints fra førstevarsel dersom det ikke har noen revarsler (notification) (19234) Notification finner template for sending basert på input parameterene NotificationType, TransportType og LanguageCode. Endepunkter som det ikke fantes template for førte til exception. Det er gjordt retting i denne bug for Correspondence og Prefill, endepunktene fjernet slik at exception unngås. (Feilen er fortsatt gjeldende for StandAlone-vasrling.)\nMindre bugfix på redaktørgrensesnittet for infoportal Kun merkbart for redaktører. Inkluderer forbedret håndtering av svar på \u0026ldquo;Fant du det du lette etter?\u0026rdquo; og sperrer for å gjøre endringer som ikke burde være mulige.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2019/19-5/",
	"title": "19.5",
	"tags": [],
	"description": "Opprettelse av lokal rolle forenklet, mindre endringer, feilrettinger.",
	"content": "Endringer i Portal Forenkle prosessen med opprettelse av lokal rolle som skal inneholde mange rettigheter Prosessen for å opprette lokal rolle har blitt forbedret. Man har ved denne endringen fjernet rettighetsvisningen hvor man delegerer rettigheter på en og en tjeneste når man oppretter en lokal rolle. Istedenfor blir tjenestene nå lagt til i oversikten under søkeresultatet, og rettighetene kan enkelt styres fra oversikten direkte. Endringen er implementert slik at alle rettighetene man har tilgang til for den gitte tjenesten, vil bli lagt til i rollen.\nSteg 1: Velg opprett egendefinert rolle\nSteg 2: Gi rollen et navn og søk opp de tjenester du ønsker å gi tilgang til. Du kan søke på navnet til tjenesten og sortere på etat/tjenesteeier\nSteg 3: De tildelte rollene vil legge seg i listen under søkefeltet. Ikonene viser hvilke tilganger som er gitt, og disse kan endres ved å klikke på ikonene. Man kan bare gi videre tilganger man selv har.\nSteg 4: Etter delegeringen vil man få opp en kvittering. Klikk tilbake til rolleoversikten for å knytte rollen til mottakeren\nSteg 5: Klikk på den nye rollen. Den vil nå bli lagt til.\nNy tjenestesøkresultatvisning i andre med rettigheter og varsling kun for enkelttjenester Søkeresultatet for delegering av tjenester under andre med rettigheter og søk i aktive tjenester under varsling kun for enkettjenester har blitt endret. Tjenesteeier for tjenesten vises nå i en ny kolonne i tjenestesøket sammen med navnet på tjenesten. Under varsling for enkelttjenester er det også lagt til en tekst som sier noe om tjenesten allerede er lagt til eller ikke fra søkeresultatet.\nEndringer i REST API Forbedrede feilmeldinger når det er noe feil med OData parametere i en forespørsel Feilhåndtering i REST API er blitt utvidet til å håndtere ODataExceptions. Alle ODataExceptions vil nå gi HttpStatus 400 (BadRequest) og begrunnelsen (ReasonPhrase) vil settes til det samme som meldingen i ODataException. Se tabell under for detaljer,\n   Eksempel Feilmelding     api/metadata?$top=10001 The limit of ‘10000’ for Top query has been exceeded. The value from the incoming request is ‘10001’   api/metadata?$orderby=ValidTil Could not find property named ‘ValidTil’ on type ‘Altinn.SBL.AltinnWebAPI.Models.ServiceMetaData’   api/metadata?$filter=ServiceOwnerCode neq ‘ACN’ Syntax error at position 20 in ‘ServiceOwnerCode neq ‘ACN”    Diverse bugfix Oppretting av lokal rolle basert på direkte delegerte tjenesterettigheter ble ikke laget En intern bug i autorisasjonskomponenten resulterte i at en bruker ikke fikk laget eller oppdatert en lokal rolle med tjenesterettigheter som var direkte delegert til brukeren. Dette er nå rettet.\nSatt respons språk til Engelsk for frittstående varsel (StandAloneNotification) i Soap API Språk i respons for frittstående varsel er nå Engelsk. Tidligere ble siste varsel brukt for å avgjøre språket til responsen.\nMulighet for å kontrollere skjema også når det inneholder feil Denne endringen skal gjøre at regelmotoren fullfører en “Kontroller alle/oppgave” operasjon selv om det skjer en teknisk feil i en av reglene som er angitt i regelfilen til skjema. I tillegg er det lagt inn støtte for å vise disse feilene i portalen. Dette er kun ment for skjemautviklere i utviklingsfasen og funksjonen skal ikke benyttes i produksjonsmiljøet. Funksjonaliteten kan skrus på for hver enkelt tjeneste ved å angi dette i regelfilen til tjenesten.\nGi fullmakt på profilsiden - manglende mellomrom Denne endringen legger til et mellomrom i teksten etter at et skjema blir delt med en bruker som ikke har rettigheter. Det manglet tidligere et mellomrom mellom delegerings status og delegerings tittel.\nMeny overlappet med det lille aktørvalget på mobil Feilen oppsto når en bruker byttet mellom meny og aktørlisten flere ganger etter hverandre på mobil. Løsningen på problemet ble å lage en obervatør som sikrer at menyen er lukket før man kan åpne aktørvalget, og vice versa.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2020/20-6/",
	"title": "20.6",
	"tags": [],
	"description": "Altinn 3 innføres. I tillegg leveres mindre endringer og feilrettinger.",
	"content": "Altinn 3 innføres Med denne releasen innføres Altinn 3 som er en større endring. Se mer informasjon om Altinn 3 her.\nSe også:\n Informasjon om hva som er mulig. Beskrivelse av hvordan man tar i bruk Altinn Studio som utviklingsverktøy. Beskrivelse av hvordan man får tilgang til å produksjonssette en app.  Endringer i REST-API i Altinn 2 Opprinnelig referansen til elementet er nå tilgjengelig for arkiverte elementer i REST Tidligere inneholdt ikke arkiverte elementer opprinnelig referanse. Dette gjorde at det ikke var noen referansekobling mellom det arkiverte elementet og det aktive. Derfor er nå feltet \u0026ldquo;OriginalId\u0026rdquo; innført på arkiverte element slik at man nå har en kobling.\nFeilrettinger i Altinn 2 Ved avvisning av samtykkeforespørsler manglet URL informasjon om hvilket samtykke avvisningen gjaldt Dette er nå rettet opp slik at man får URL informasjon.\nNår en samtykkeforespørsel hadde utløpt dato fikk man tidligere ikke mulighet til å slette forespørselen Dette er nå rettet slik at man i tillegg til feilmeldingen får opp knappene “Tilbake” og “Slett forespørsel”. Disse kan benyttes slik at man kan slette samtykkeforespørselen og gå tilbake eller bare gå tilbake uten å slette.\nNy samtykkemal En ny samtykkemal er innført, som er eksakt lik standard-malen, men som overstyrer requestMessage (tidligere DelegationContext) til å må være tom.\nNår tilgangsstyrer skulle godkjenne eller avslå forespørsler fungerte ikke tab og enter Med denne versjonen kan man nå benytte tab for å navigere og enter til å ekspandere og lese innholdet.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2019/",
	"title": "2019",
	"tags": [],
	"description": "Endringer innført i 2019.",
	"content": "\r19.12\rNy visning for \u0026#34;andre med rettigheter\u0026#34;, ytelsesforbedringer og feilrettinger.\n\r\r19.11\rFeilrettinger.\n\r\r19.10\rEndringer i autorisasjon, portal og feilrettinger.\n\r\r19.9\rUtbedret feilmelding hvis TokenValue mangler, endring i visning av rettighetsholders fødselsnummer, feilrettinger.\n\r\r19.8\rSamtykkeforespørsel via REST, oppgradering av eksterne REST API biblioteker, filstørrelse på streaming økt til 500 MB og feilrettinger.\n\r\r19.7\rEndringer i autorisasjon, ny operasjon i SOAP API, forbedringer i innlesing av data fra Enhetsregisteret, feilrettinger.\n\r\r19.6\rInnføring av Hovedadministrator-rolle, oppgradert BankID, meny på mobil rettet og mindre endringer\n\r\r19.5\rOpprettelse av lokal rolle forenklet, mindre endringer, feilrettinger.\n\r\r19.4\rDenne releasen inneholder tekniske feilrettinger og forbedringer som ikke vil påvirke løsningen funksjonelt. Forhold som kan påvirke brukere vises under.\n\r\r19.3\rFavorittliste over aktører, hendelse-feed for status på meldinger, mindre endringer, feilrettinger i skattemeldingen og andre feilrettinger\n\r\r19.2\rEndringer i webSA, utvidet samtykketoken, mindre forbedringer og feilrettinger\n\r\r19.1\rSamtykke utvidelse NADOBE, filtrere bort slettede virksomheter, mindre endringer og feilrettinger\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2018/18-4/",
	"title": "18.4",
	"tags": [],
	"description": "Varslingsadresser fra Enhetsregisteret i Altinn, mindre forbedringer i portal, flere endringer på eksterne API og div bugfiks.",
	"content": "Felles varslingsadresser for virksomheter i Altinn og Enhetsregisteret (KoFuVi) Fra 1. januar ble det innført krav om at alle virksomheter i Enhetsregisteret skal ha registert varslingsadresse for digital kommunikasjon med det offentlige. Dette kan være én eller flere registrerte epostadresser eller mobilnummer. Dette vil være den adressen offentlige myndigheter forholder seg til når de skal sende varsel til virksomheten. Som utgangpunkt så benyttes allerede registerte felles varslingsadresser for virksomheten i Altinn. Varslingsadresse for virksomheten vil benyttes av Altinn til utsending av varsel. Varslingsadresse for allerede registrere virksomheter kan oppdateres via profil i Altinn.\nEttersom alle virksomheter er pålagt å ha varslingsadresse så vil de som mangler denne bli avkrevd en slik adresse når personer med tilgangsstyring går inn på virksomheten i Altinn første gang etter release 18.4.\nVarslingsadresse registrert eller endret i Altinn vil umiddelbart sendes til enhetsregisteret. Etter en kort tid så vil Altinn få tilbakemelding fra Enhetsregisteret. Merk at det i mellomtiden ikke vil være mulig å korrigere registrert varslingsadresse.\nPortal Forbedring av aktivitetslogg ved utsending av varsel Endringen medfører mer korrekt logging av utsendt varsel fra Altinn.\nBedre visning av lange navn i portalen Vi har hatt utfordringer med å vise lange navn i portalen på en god måte. Dette er det nå gjort forbedringer på.\nKorrigert ledetekst på skjema i innboks På skjema i innboks vises tidspunkt for når skjema er opprettet. Tidligere ble denne feilaktig benevnt som \u0026ldquo;mottatt\u0026rdquo;, men er nå korrigert til \u0026ldquo;opprettet\u0026rdquo;.\nForenklet deling av meldinger Prosess for å dele og gi tilgang til en melding du har mottatt er forenklet.\nForbedringer i søk på tvers Det er nå enklere å slette lagrede søk og vi har gjort det lettere å komme tilbake til søket etter å ha åpnet kvittering på arkivert skjema. I tillegg er det nå lettere å se hvilke aktører du har valgt å søke på.\nBedre tilbakemelding til bruker som signerer/sender inn på vegne av andre Det er mulig å gi en bruker tilgang til bare et spesielt eksemplar av et skjema. Når bruker signere og sender inn dette på vegne av noen andre, så vil ikke bruker lenger ha tilgang til å se på skjema som er sendt inn. Det samme vil være tilfellet hvis man som siste person sender inn et skjema som har paralell signering.\nTilbakemelding om hva som har skjedd i slike tilfeller er forbedret slik at bruker ikke tror det har oppstått en feil.\nEndringer i eksterne grensesnitt Splittet warnings og errors på API/messageID/validate Som tjenesteeier ønsker jeg at warnings og errors splittes i API/messageID/validate.\nFør ble warnings og errors vist i samme liste, men nå vises de i to separate lister: ValidationErrors og ValidationWarnings, der hver rad inneholder en FieldName, ErrorMessage og Xpath.\nVaske XML for InfoPath elementer i REST API Som tjenesteeier ønsker jeg at InfoPath elementer ikke skal eksponeres i REST API.\nFør inneholdt XML lagret i Altinn InfoPath elementer. Nå blir disse elementene fjernet fra XMLen når det hentes ut.\nUthenting av elementer fra søppelbøtta via REST API Som sluttbrukersystem ønsker jeg å kunne hente ut elementer som er lagt i søppelbøtta via REST grensesnitt.\nDet er lagt til funksjonalitet for å kunne hente ut en liste over elementer eller enkeltelementer fra søppelbøtta. Funksjonaliteten er tilgjengelig for både privatpersoner og bedrifter. Søppelbøtte er tilgjengelig ved å gå til /api/{who}/messages/trashbin\nUthenting av FormData (XML) for innboks via WebService Det er lagt til mulighet for å hente ut FormData for elementer i innboksen via WebSerivce. Kall til ServiceEngineExternal/ReporteeElementListExternal/GetFormSetData henter ut alle XML-skjemaer for et element. Skjemaene blir vasket for interne felter og namespaces på lik linje med REST.\nSom sluttbruker ønsker jeg å kunne se hvem mitt skjema ble instansiert på vegne av i REST API MessageSender-feltet i Message-modellen vil nå inneholde navnet på organisasjonen om et skjema var sendt på vegne av en organisasjon. (/api/{who}/messages/ og ``/api/{who}/messages/{messageId}`). Endringen populerer og MessageSender-feltet for bruk i Portalen.\nBekrefte mottatt correspondence via REST API Som bruker av REST API kan man nå arkivere mottatte meldinger.\nSe REST APIets hjelpesider for mer informasjon: /api/Help/Api/PUT-who-Messages-messageId-Confirm_language\nFå valideringsstatus på skjemasett via REST API Som bruker av REST API kan man nå validere skjemasett på skjemaer som ligger til utfylling.\nSe REST APIets hjelpesider for mer informasjon: /api/Help/Api/GET-who-Messages-messageId-Validate_language\nFå ut virksomhets adresseinformasjon Som bruker av REST API får man ut addresse informasjon for virksomhet som en del av profil data.\nSe REST APIets hjelpesider for mer informasjon: /api/Help/\nInkludere filstørrelse på vedlegg i REST API Som bruker av REST API får man nå ut filstørrelse (bytes) på vedlegg. Dersom REST API ikke kjenner til størrelsen på vedlegget settes verdien til -1.\nSe REST APIets hjelpesider for mer informasjon: /api/Help/\nMer info i Metadata for Formtask i REST API Som bruker av REST API får man nå ut mer informasjon om Formtasks. Det er lagt til en liste med prosess-steg (ProcessSteps), som inneholder navn og sikkerhetsnivå som kreves for å fullføre hvert steg. Det er lagt til to felter som indikerer om sluttbrukersystemer kan benyttes for Formtasken (EUSEnabled/EnterpriseUserEnabled).\nSe REST APIets hjelpesider for mer informasjon: /api/Help/\nForbedret caching i Metadata REST-apiet For å unngå bugs bør man bytte fra å benytte AltinnCache.Get og AltinnCache.Insert til å bare bruke AltinnCache.GetObjectFromCacheOrMethod. Det forhindrer vi at to forskjellige cache keys kan bli brukt ved et uhell.\nDette gjelder alle metodene i /api/metadata. Se REST APIets hjelpesider for mer informasjon: /api/Help/\nInformasjon om kodelister tilgjengelig via REST API Det er laget en ny ressurs /api/metadata/codelists hvor en ekstern person/utvikler kan få listet opp alle kodelistene i Altinn. Listen filtreres i utgangspunktet automatisk på norsk, men bruker kan endre denne filtreringen ved å sette språk selv.\nSe REST APIets hjelpesider for mer informasjon: /api/Help/\nEndre avsender på skjema man instansierer via prefill-webservices Det er lagt til felt som skal inneholde organisasjonsnummer til den virksomheten man sender på vegne av.\nSe REST APIets hjelpesider for mer informasjon: /api/Help/\nForbedret validering av skjemasett i REST API Kun tillate ett hovedskjema per forsendelse over REST-apiet. REST API hadde mangelfull validering rundt MainForm / SubForm, hvor det har vært mulig å sende inn flere eller ingen MainForms, samt oppgi SubForm på DataFormat/DataVersion tilhørende MainForm i det logiske formsettet til tjenesten.\nEndringer i REST API POST og PUT til /{who}/Messages blir nå grundigere validert, og vil gi HTTP feilkode 400 hvis en eller flere av følgende inntreffer:\n Det oppgis mer eller mindre enn én form model hvor Type er satt til MainForm DataFormatId og/eller DataFormatVersion på MainForm matcher ikke det som er definert i LogicalFormsInFormSet på det oppgitt tjenestekoden/versjonen DataFormatId og/eller DataFormatVersion på evt. oppgitte SubForms matcher ikke noen av de subforms som er definert i LogicalFormsInFormSet på det oppgitt tjenestekoden/versjonen  AttachmentType i REST Tidligere har AttachmentType (´GET {who}/messages/{messageId}/attachments´) for vedlegg blitt satt til det oversatte navnet til AttachmentRuleType. Dette har ikke vært ønskelig, så det er rettet til å returnere den ikke-oversatte Id\u0026rsquo;en til AttachmentRuleType. Det er lagt til et nytt felt; AttachmentTypeLocalized som inneholder det oversatte navnet.\nLagt til støtte for å soft-delete elementer for organisasjoner via REST API Det er nå mulig å legge elementer fra arkiv og serviceengine i søppelboksen via REST grensesnittet. Det var tidligere ikke mulig å slette elementer for organisasjoner gjennom REST APIet. Dette er endret slik at det foretas en soft-delete for elementer som eies av organisasjoner i stede.\nOrg-nummer for signerende bruker i feltet SignedByUserSsn i GetArchivedFormTask Som tjenesteeier ønsker jeg at informasjon om signerer skal ligge med i oversendelse når skjema er signert av virksomhetssertifikatbruker.\nOm en virksomhetsbruker (bruker uten SSN) signerte et skjema, inneholdt signeringsinformasjonen i GetArchivedFormTask kun brukernavn og intern database-id for brukeren, mens SignedByUserSsn var blankt. SignedByUserSsn blir i dette tilfellet nå satt til organisasjonsnummeret til virksomhetsbrukeren slik at man vet hva skjemaet tilhører.\nXPath i feilmeldinger fra validering i REST grensesnittet Utvide /validate med xpath til felt som har hard/soft valideringsfeil\nVed innsendelse av nytt skjema til REST grensesnittet, eller ved å etterspørre /validate på en melding får man nå opp XPath inkludert i de feilmeldingen for felter som feiler validering. Informasjonen er lagt til i ValidationError objektene som blir returnert ved innsendelse eller ved validering. Se /api/help.\nOperasjon for å hente ut roller for en person/organisasjon via REST-apiet Som tjenesteeier ønsker jeg å kunne se rollene en person/virksomhetsbruker/organisasjon har for en annen person/organisasjon via REST-apiet\nDet er lagt til en ny metode i REST-apiet for tjenesteeiere. GetRoles tar inn en person/organisasjon (subject) som holder roller, og en person/organisasjon (reportee) som rollene er delegert for. Metoden returnerer en liste med alle rollene subject har hos reportee. Dette fungerer på lik linje med GetRights-metoden. Se /api/serviceowner/Help/Api/GET-serviceowner-authorization-roles_subject_reportee_language.\nDiverse bugfix  Søkeboks på feilsiden fungerer ikke Videresend: Altinn logo på videresend-siden ser ikke lenger ut som den er klikkbar Meldinger som bekreftes flere ganger opptrer flere ganger i innboks. Dette er rettet. Gi og del tilgang: Bruker har ikke rettigheter til å se rettighetene til en annen bruker Gi og del tilgang: Hvis en tjeneste er \u0026ldquo;ikke delegerbar\u0026rdquo; så ønsker jeg allikevel å kunne videresende en melding Selvregistert bruker: Lagreknapp forblir aktiv etter at nytt passord blir fjernet (før lagring) Avansert søk - ulogisk bruk av sluttdato - periode inkluderer framtid Forbedret tekst knyttet til visning av virksomhetssertifikatbruker Avansert søk - kan ikke søke med blanke datofelter Tidligere lagrede søk på tvers fungerer ikke lenger - siste 12 måneder oversettes til periode Text when samtykke is given, punktum mangler Gi og del tilgang: Kan ikke gi tilgang for arkiverte, bekreftede meldinger fra arkiv Hvis du trykker enter når du har fokus i feltet der du kan søke etter skjema eller tjenester under gi rettigheter så kommer du til en grønn kvitteringsmelding Skrivefeil i Innboks Teksten AltinnII.SBL.MVC.Payment.DescriptionPay mangler verdier Incorrect file name after upload client delegation by file - rettet for bokmål og nynorsk. Husker ikke språkvalg når bruker kommer kommer tilbake fra siden \u0026ldquo;You do not have safe enough login for this service\u0026rdquo; Ikke åpenrom mellom punktum og neste bokstav i aktivitetsloggen når det delegeres enkeltrettigheter Ikke mulig å videresende til eier av element når eier er en person - finner ikke aktør (person) i liste over brukere med tilgang Profil - får ikke åpnet Skjema og tjenester du har rettighet til pga for lavt sikkerhetsnivå Not able to use videresend functionality for invalid users Exception when delegating same element twice to same recipient Mistet tilgang til et sett eldre elementer via REST API  "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2019/19-4/",
	"title": "19.4",
	"tags": [],
	"description": "Denne releasen inneholder tekniske feilrettinger og forbedringer som ikke vil påvirke løsningen funksjonelt. Forhold som kan påvirke brukere vises under.",
	"content": "Feilrettinger Delegering av rettigheter med virksomhetsbruker Det var mulig å delegere rettigheter for virksomhet A til en virksomhetsbruker i virksomhet B. Dette var mulig siden det måtte eksistere et forhold mellom virksomhetene A og B som inkluderte både klientadministrering og tilgangsstyring. Tilgangsstyring er fjernet fra sjekken. Det er fortsatt mulig å delegere rettigheter til en annens virksomhetsbruker hvis det er delegert klientadministrering til virksomheten.\nLukk-knapp på eGuide oppsummeringsside var ikke oversatt Lukke-knapp på eGuide oppsummeringssiden var ikke oversatt til engelsk. Nå rettet ved å legge til riktig oversettelse på engelsk språk.\nHvit stolpe på toppen av hurtighjelp Fjernet mellomrom mellom innhold og topp på hurtighjelp\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2020/20-5/",
	"title": "20.5",
	"tags": [],
	"description": "Access for lenketjenester, mindre endringer og feilrettinger",
	"content": "Endringer i Portal Listevisning under \u0026ldquo;Samtykker og fullmakter\u0026rdquo; panelet Som en videreføring av listevisning under “Andre med rettigheter” er det nå implementert listevisning for samtykkeforespørsler og aktive samtykker under panelet for samtykker. Endringer i Autorisasjon Ny generell tjenesteoperasjon: Access er nå mulig å ta i bruk for lenketjenester Ettersom Altinn i større grad opptrer som en autorisasjonsløsning for eksterne tjenester eller API, er det ytret behov for å kunne fristille disse eksterne tjenestene fra dagens tjenesteoperasjoner i Altinn (Les, Skriv, Signer osv.) som i stor grad er knyttet til intern autorisering i Altinn. Da man ikke ønsker å bruke unødvendig mye tid på videreutvikling av TUL løsningen, nå som tjenester 3.0 som er på trappene, er dette løst uten å gjøre endringer i dagens tjenesteutviklingsløsning (TUL). Det er nå løst ved å introdusere en ny tjenesteoperasjon Access i Altinn autorisasjon, som i første omgang er mulig å ta i bruk for lenketjenester ved å oppgi denne spesifikke URLen: https​://schemas.altinn.no/authorization/administration/operation/access/2020/05/ for lenketjenesten i TUL. Tjenesten er da ikke mulig å instansiere i Altinn, men vil bare fungere som en representasjon av en ekstern ressurs for Altinn autorisasjon. TUL vil fortsatt kreve at hver av de eksisterende operasjonene (Les, Skriv, Signer osv.) er dekket av minst ett rollekrav, og den nye Access operasjonen vil ikke være synlig i TUL. Når tjenesten migreres til SBL løsningen vil hver unike rolle som er knyttet til minst en operasjon i TUL, i stedet bare gi tilgang til den nye Access operasjonen. Ved delegering av tjenesten i Altinn vil det ikke være mulig å velge operasjoner, og visning av delegerte rettigheter for tjenesten vil heller ikke ha de vanlige operasjonsikonene.\nDiverse bugfix REST-API: HTTP Repsons 401 (Unauthorized) returnert ved feil i skjemavalidering av messages Ved feil i skjemavalidering av messages ble HTTP Respons 401 returnert sammen med \u0026ldquo;Form validation failed, see the attached validation details\u0026rdquo;. Dette er avvik fra REST-Arkitektur og har derfor blitt endret til Respons 400 (Bad Request) siden det indikerer at klient må endre sin request før data kan sendes på nytt. Endringen kan ha konsekvenser for eksisterende klienter som benytter dette REST-API-kallet, dersom deres feilhåndtering benytter responskoden som basis.\nVedlegg til skjema ble ikke vist i PDF ved flere enn 67 filvedlegg Hvis det ble lagt ved mer enn 67 filvedlegg til et skjema så var ikke alle vedlagte filvedleggene synlige på PDF-utskriften. Dette er nå rettet.\nTilfeldig rekkefølge på fornavn og etternavn i Avtalelogg Rekkefølgen varierte. Dette er nå rettet til at fornavn alltid vises først.\nScrolling i visningen for å bekrefte varslingsadresse for virksomheten fungerte ikke Dette er rettet slik at man nå kan scrolle ned.\nYtelsesforbedring av samtykke I forbindelse med ytelsestest av samtykke ble det utført forbedringer ved indeksering og optimalisering av prosedyrer.\nYtelsesforbedring av Formidlingstjenesten Prosedyren som benyttes av formidlingstjenesten veksler mellom å være nr1 og nr2 på lista over de prosedyrene som bruker mest ressurser i hele løsningen. Dette er nå løst ved å denormalisere datamodellen til formidlingstjenesten slik at de to hovedtabellene blir konsolidert til én tabell. Dette vil gjøre oppslag mot databasen langt mer effektivt.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2018/",
	"title": "2018",
	"tags": [],
	"description": "Endringer innført i 2018.",
	"content": "\r18.12\rVisning av organisasjonsform i REST, styre utsendelse av varsel ved prefill, feilrettinger m.m.\n\r\r18.11\rForbedringer, fjerning av ALLEA, ytelse, feilrettinger m.m.\n\r\r18.10\rSlette meldinger permanent, andre forbedringer, feilrettinger m.m.\n\r\r18.9\rStøtte for eIDAS autentisering, mindre forbedringer, feilrettinger m.m.\n\r\r18.8\rRediger lagrede søk, app uri scheme for samtykke, metadata på skjema, feilrettinger m.m.\n\r\r18.7\rMindre forbedringer, filopplasting i Safari, feilrettinger m.m.\n\r\r18.6\rVideresending av skatteoppgjør til andre digitale postkasser, feilrettinger m.m.\n\r\r18.5\rForbedringer på varsling og portal samt div bugfiks.\n\r\r18.4\rVarslingsadresser fra Enhetsregisteret i Altinn, mindre forbedringer i portal, flere endringer på eksterne API og div bugfiks.\n\r\r18.3\rOppgradert database samt bedre ytelse, stabilitet og robusthet\n\r\r18.2\rDiverse forbedringer relatert til skattemeldingen.\n\r\r18.1\rDel tilgang, slette delegeringer på instans-nivå, diverse bugfix ...\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/regelmotor/innf%C3%B8ring-i-xml/",
	"title": "Innføring i xml",
	"tags": [],
	"description": "Helt grunnleggende innføring i XML. Både regelfiler og skjemadata i Altinn lagres som XML.",
	"content": "Xml er et format for å sette opp data på en måte som både menneske og maskin skal kunne lese. Formatet har som mål å være enkelt, generelt og kunne brukes på tvers av plattformer og språk.\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;Brev\u0026gt; \u0026lt;Til\u0026gt;Tove\u0026lt;/Til\u0026gt; \u0026lt;Fra\u0026gt;Ole\u0026lt;/Fra\u0026gt; \u0026lt;Tittel\u0026gt;Husk møtet\u0026lt;/Tittel\u0026gt; \u0026lt;Innhold\u0026gt;Husk møtet klokka 16!\u0026lt;/Innhold\u0026gt; \u0026lt;/Brev\u0026gt; Xml er basert på tekst, og bruker spesiell kode for å strukturere data. Det er viktig å merke seg at xml består av to hoveddeler, tekst som representerer data og tekst som er brukt til å strukturere data («markup»). Tekst som blir brukt til å strukturere data starter med tegnet \u0026lt; og blir avsluttet med tegnet \u0026gt;.\nTag er en markør som starter med \u0026lt; og slutter med \u0026gt;. Den finnes i tre varianter: Start-tag \u0026lt;seksjon\u0026gt;, slutt-tag \u0026lt;/seksjon\u0026gt; og tomt element \u0026lt;seksjon /\u0026gt;.\nElement/Node er en logisk del av xml-en som starter med en start-tag og slutter med en slutt-tag, eller bare er en tom tag. Teksten mellom start-tagen og slutt-tagen er innholdet i elementet.\n\u0026lt;Til\u0026gt;Tove\u0026lt;/Til\u0026gt; Attributt er egenskaper som kan legges til en tag. Disse kan bare legges inne i en start-tag eller en tom element-tag. Attributt består av to deler, nemlig navn og verdi. Eksempelet under har lagt til to attributt, sendedato og mottaksdato, til elementet Brev. Verdien må alltid stå inne i hermetegn (enkle eller doble).\n\u0026lt;Brev sendedato=\u0026#34;23.10.2013\u0026#34; mottaksdato=\u0026#34;25.10.2013\u0026#34;\u0026gt; Xml-deklarasjon er et spesialelement som skal stå i starten av dokumentet. Dette er brukt til å fortelle at dette er et xml-dokument, samt hvilken versjon og tegnkoding det bruker. I de fleste tilfeller kan du bruke den slik som det står i eksempelet.\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; Kommentarer kan bli markert med \u0026lt;!-- i starten og --\u0026gt; i slutten. Det som står mellom disse tegnene vil ikke bli betraktet som en del av xml-en når maskinen leser den. Disse blir brukt til å fortelle noe som et menneske som leser xml-en kan ha nytte av, men som maskinen ikke trenger kjenne til.\n\u0026lt;!-- En kommentar --\u0026gt; Regler For å være et velformet xml-dokument må du følge et sett med regler.\n Du må bare ha ett rotelement Elementer må være avgrenset av en start-tag og slutt-tag med samme navn, f.eks.\u0026lt;Til\u0026gt;Tove\u0026lt;/Til\u0026gt;. Tomme elementer kan alternativt bruke en lukket tag. f.eks. \u0026lt;Til /\u0026gt;. Alle attributtverdier må stå i anførselstegn. Elementer kan inneholde andre elementer, men ikke overlappe hverandre. Det er forskjell på små og store bokstaver i elementnavn. \u0026lt;Til/\u0026gt; er ikke det samme som \u0026lt;til/\u0026gt;.  Xsd Xsd står for «xml schema definition» og er et format som brukes til å fortelle detaljert hvilke regler en xml må følge. Dette blir brukt for å sikre at xml-er kan bli brukt til et spesielt formål som krever et samordnet format. Xsd-en brukes for å sette strengere regler enn det som vanligvis gjelder for xml.\nFinne mer informasjon For å lære mer om xml finnes det masse informasjon på internett (http://www.w3schools.com/xml/ er et eksempel).\nVerktøy Når du skal jobbe med xml-filer (som regelfila) anbefales det å bruke verktøy som hjelper deg å følge reglene for xml. Eksempel på slike verktøy er XML Spy og Visual Studio, men det finnes også andre alternativ. Ved å legge inn referanse (se under) til xsd-en vil slike verktøy kunne sjekke om du følger reglene for regelfilen.\n\u0026lt;AltinnRuleEngine name=\u0026#34;test\u0026#34; version=\u0026#34;1\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:noNamespaceSchemaLocation=\u0026#34;AltinnRuleEngine.xsd\u0026#34;\u0026gt; "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2015/15-3/",
	"title": "15.3",
	"tags": [],
	"description": "Støtte for virksomhetssertifikat i REST API, tekniske forbedringer, EIR, innlogging med utenlandsk id (eIDAS), +++",
	"content": "Omfanget av denne versjonen er litt mindre enn vanlig. Hovedtyngden er forbedringer av grensesnitt og feilrettinger.\nAutentisering Støtte for innlogging med utenlandsk identifikasjon (18497) Altinn får støtte for føderering av brukere på tvers av landegrenser innenfor eIDAS (EU-prosjekt). Kun brukere med D-nummer vil få tilgang til Altinn.\nrole=\u0026ldquo;alert\u0026rdquo;\u0026gt;NB! Denne endringen vil ikke være aktiv i produksjonsmiljøet rett etter produksjonssetting, men vil aktiveres når bakenforliggende systemer er klare for det.\nBrukskvalitet Mindre feilrettinger – Min profil (18829) Flere mindre feilrettinger i den nye versjonen av Min profil lansert i versjon 15.2.\nEksterne grensesnitt Støtte for sertifikat-autentisering i REST-grensesnittet (18311) REST-grensesnittet får støtte for autentisering via virksomhetssertifikat, slik det allerede er støtte for i webservice og i portal.\nServiceEditionCode som frivillig parameter i GetShipmentStatus (18677) Støtte for å bruke GetShipmentStatus uten å definere en bestemt ServiceEditionCode – det vil si få en oversikt over alle innsendinger for en tjeneste, uavhengig av versjon.\nGetShipmentStatus - mulig å hente ut full shipment status historikk på et element (18727) Alle statusendringer og tidspunkt logges for å kunne returnere disse på listeformat, istedenfor å bare ha ett felt som har siste verdi.\nVerifisering av signeringsrettigheter via eksternt grensesnitt (18728) AuthorizeAccessExternal skal kunne brukes til å verifisere at en bruker har signeringsrettigheter på en gitt tjeneste.\nFeilretting – GetShipmentStatus (18812) Retting av feil der GetArchiveShipmentStatus-kallet sammen med sekvensnummer på immediategrensesnitt, ikke får treff basert på dette.\nFlere mindre endringer på REST-grensesnitt (18767) Mindre feilrettinger på REST-grensesnittet – blant annet økt app-vennlighet.\nIntegrasjonsplattform og grensesnitt Automatisering av oppsett av BizTalk (18213) Oppsett av BizTalk skal kunne gjøres automatisert, slik at blant annet unngår problemer med etablering/reetablering av integrasjonsløsningene i de ulike miljøene ved deploy.\nBedre unntakshåndtering og logging i SendShipmentToEndpoint (18486) Mer intelligent håndtering av feil i SendShipmentToEndpoint – blant annet vurdering av om retry har noe for seg.\nUtvidelser av støtteverktøyet EIR (18489) Støtteverktøyet EIR får funksjonalitet for å kjøre forhåndsgodkjente lagrede prosedyrer og SQL-script.\nDriftsrutiner og registerintegrasjon Standardisert prosedyre for deaktivering og sanering av grensesnitt (17690) Det blir mulig for driftsleverandør på bestilling fra tjenesteeier på en forutsigbar og effektiv måte å kunne deaktivere et grensesnitt midlertidig eller sanere det permanent.\nFeilretting – Enhetsregisterinnlesing for enheter med lange navn I enkelte tilfeller blir mellomrom fjernet i enhetsnavn som er lengre enn 35 tegn – rettes slik at de leses inn korrekt.\nTeknisk arkitektur Bedre logging og oppgradering av EntLib (18370) Det gjøres en del forbedringer på logging i løsningen, blant annet for å redusere mengden logginger uten verdi (\u0026ldquo;falske positive\u0026rdquo;).\nPartisjonering av databaser (18497) Data i Altinn fordeles på en mer hensiktsmessig måte for å minske tid og lagringsbehov ved backup/restore.\nInformasjonsportal Feilretting - Søkeindeksering (18777) Retting av flere små svakheter i søkeløsningen for innhold før innlogging.\nTjenesteutvikling Forbedring av uthenting av familiemedlemmer (18200) Webservicen for å hente ut familieforhold får forbedringer, slik at alle medlemmer av en familie kan hente ut familiedata.\nFeilretting – GetPersonRegisterData og adresser (18366) Denne webservicen gir i dag en blanding av bostedsadresse og postadresse – rettes slik at begge adresser hentes hver for seg.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2017/17-3/",
	"title": "17.3",
	"tags": [],
	"description": "Søk på tvers av aktører, soft due date, og masse bugfix og mindre forbedringer...",
	"content": "Portal Det er gjort flere forbedringer av den nye innboksen som ble innført i forrige release.\nSøk på tvers av flere aktører i innboks Det skal i innboksen være mulighet for å få oversikt over elementer i innboks på tvers av flere eller alle aktører slik at brukere som forvalter flere enn en aktør enkelt skal kunne følge opp ulike innleveringer og mottatt post på en effektiv måte.\n![Bilde av lenke til \u0026ldquo;Søk i flere aktører\u0026rdquo;](lenke-til-søk-i-flere-aktører.png \u0026ldquo;Lenke til \u0026ldquo;Søk i flere aktører\u0026rdquo;\u0026quot;)\n![Bilde av aktørvalg](søk-alle-jeg-kan-representere.png \u0026ldquo;Du kan velge \u0026ldquo;Alle jeg kan representere\u0026rdquo; for å søke på tvers av alle\u0026hellip;\u0026quot;)\nSoft due date I skattemeldingen (og muligens på sikt andre tjenester) brukes fristen som er satt som et forslag og ikke en endelig first.\nEn ny konfigurasjonsverdi i Altinn, SoftDueDateServices, lister de tjenestene hvor fristen kun skal være veiledende. Elementer i innboksen tilhørende disse tjenestene blir da ikke listet i \u0026ldquo;haster\u0026rdquo;-kategorien, og blir dermed ikke markert med rødt ikon og rød frist når de er utgått. Utgåtte elementer blir heller ikke plassert i \u0026ldquo;Under arbeid\u0026rdquo;.\n![Innboksen i Altinn](haster-for-skattemeldingen.png \u0026ldquo;Skattemeldingen vil ikke lengre bli vist som \u0026ldquo;haster\u0026rdquo;\u0026quot;)\nAndre mindre forbedringer av innboks   10055 - Skjema-ikon vises på elemenenter i meldingsboksen som er skjema.\n  10342 - Skjema markeres som lest når brukeren trykker på \u0026ldquo;tilbake\u0026rdquo;-knappen etter å ha åpnet et skjema i utfyllings-steget.\n  11497 - Valget \u0026ldquo;+Vis alle profiler\u0026rdquo; og \u0026ldquo;søkefeltet\u0026rdquo; skal ikke vises for brukere som ikke har flere aktører å velge mellom.\n Valget må vises hvis bruker har tilgang til slettede enheter eller kun underenhet koblet til en hovedenhet som han ikke har tilgang til. Når man søker etter aktør så må søk inkludere \u0026ldquo;slettede enheter\u0026rdquo; og \u0026ldquo;singleenheter\u0026rdquo; (gjelder både lite og stort aktørvalg) selv om man ikke har krysset av.    12876 - Søk på tvers vises for brukere som har tilgang til flere enn to aktører.\n  Oppdatert veiledning for klientdelegering på fil Det er laget en ny og bedre illustrasjon som hjelp til klientdelegering på fil.\nForbedring av \u0026ldquo;Tjenesteeiers arkiv\u0026rdquo; Endringen er gjort for å sikre at tjenesteeier får opp data korrekt i tjenesteeiers arkiv.\nAutorisasjon Deleger enkeltrettigheter skal gjelde for alle versjoner av tjenesten Ved delegering av enkeltrettigheter og opprettelse av lokale roller så koblet vi kun siste utgave mot tjenesten som ble delegert. Dette er nå utbedret.\nEksterne grensesnitt Virksomhetsbrukere får lesetilgang til flere elementer Det er nå gjort en fiks slik at virksomhetsbrukere får lov til å lese elementer selv om tjenesten elementene er basert på ikke er merket \u0026ldquo;Tillat bruk av virksomhetssertifikat\u0026rdquo;.\nAPI\u0026rsquo;er kan returnere metadata om utgåtte tjenester Dette gjør det mulig å hente opp informasjon om en tjeneste selv om siste versjon av tjenesten har gått ut.\nLegg merke til at det ikke gjelder utgåtte versjoner av tjenester hvor det fortsatt finnes gyldige versjoner.\nBugfix 🐛 Infoportal Følgende feil er rettet i informasjonsportalen (de sidene som er tilgjengelige uten pålogging).\n 13692 - Søk fungerer nå i sticky-hjelp også når noen spørsmål/svar skal være skjult fra sticky-visningen 13082 - Fant du det du lette etter kan skrive til database 13795 - Enkelte sidetyper (landringsside/temaside) som ikke var søkbare er nå blitt det 13822 - 404-siden gir ikke lenger treff ved eksternsøk 13690 - Forbedringer i navngiving av felter i EPiServer redigeringsmodus for Om skjema-malen 13689 - Meta-felter blir tilgjengelig også for eksterne søk 13688 - Fjernet bug som gjorde at sider dypt i strukturen ble feilaktig nedprioritert i søkeresultatene 13828 - Utgåtte driftsmeldinger skal ikke lenger vises i driftsmeldingslista 13232 - Forbedret støtte for å finne relevant bokmålsinnhold ved søk i nynorsk infoportal  Diverse  13202 - Feil på åpning av RF-1030 - Altinn I for årene 2005 til 2012. 13259 - Kommer til websa-meny ved å trykke \u0026ldquo;Tilbake\u0026rdquo; i kvitteringssiden. 12576 - Forkast-kladd knapp virker ikke før for element på egen url før man har åpnet aktivitetslogg. 12305 - Meldinger skal ikke inneholde lenke til ikke eksisterende arkiv-referanse i miljøet 12626 - Endret varslingsside ved \u0026ldquo;midlertidig\u0026rdquo; tilgang til annen bruker ved signering. 13583 - Forbedret ytelse for avgiverliste. 13678 - Får ikke arkivert meldinger som mangler varslingsinformasjon i serviceEngine 13683 - Endring av feilmelding RF-1400. 12143 - Remember selected language when User is not authenticated 12283 - Samtykkelogg - ikke mulig å scrolle for å lese all info om samtykke. 9595 - Samtykke text er ikke synlig i aktivitetslogg for Engangssamtykke. 10940 - Rettet ikon for underenhet i nedtrekkslisten 11027 - Logging av bruk av samtykke må vises i samtykkeloggen. 11231 - Ikon for arkivering er skal være aktivert etter at man bekrefter mottatt melding 12669 - Delegering i Tjenesteeiersarkiv gir server error i enkelte tilfeller. 12687 - Justert visning av firmanavn i Aktivitetslogg 12688 - Ikke mulig å registrere sluttbrukersystem i IOS. 13277 - SRRDirectRightsCleanupBatch Feiler i PROD og TT02 med There was an error reading from the pipe: Unrecognized error 109 (0x6d). 13287 - Forbedringer i søk etter underenhet. 13501 - Får ikke åpnet vedlegg uten filangivelse i navnet når disse er videresendte som epost fra Altinn - åpnes nå som pdf hvis ikke annet er angitt 12435 - Fallbackløsning; når du går tilbake til meldingsbok etter å ha åpnet et skjema til utfylling blir searchId feil 12081 - Feil når man klikker på login ikon 12778 - Tatt bort aktør fra aktørliste når virksomhetsbruker ikke har rettighet på vegne av denne 11229 - Epost ved delegering av roller er korrigert  "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2018/18-3/",
	"title": "18.3",
	"tags": [],
	"description": "Oppgradert database samt bedre ytelse, stabilitet og robusthet",
	"content": "Innholdet i versjon 18.3 er planlagt ut i fra å øke ytelse, stabilitet og robusthet. Det er ikke lagt til ny funksjonalitet i denne releasen.\nDatabase Databasen er oppgradert til SQL Server 2016. Flere \u0026ldquo;in-memory\u0026rdquo; ytelsesforbedringer er i den forbindelse innført.\nI tillegg er følgende forbedringer innført:\n Timeout for nedlasting av veldig stor fil med klientdelegeringer er fikset (16364) Forbedrete ytelse i lagret prosedyre for henting av shipment status (16312) Fiks av potensielle deadlocks for åpningsdag (16223) Optimalisering av sentral lagret prosedyre (15518) Bedre skalering for skjemasett elementliste (17943) Potensiell flaskehals fjernet for sletting av roller og rettigheter (17946) Tuning av lagret prosedyre for å skalere bedre i produksjon (18409) - (forbedring lagt ut i produksjon 20. mars) Legge til en indeks til en tabell for å bedre oppslagstiden (18407) - (forbedring lagt ut i produksjon 20. mars) Forbedret kjøreplan på prosedyrer med sqlserver 2016 (18478) - (forbedring lagt ut i produksjon 20. mars) Forbedring av skalering av lagret prosedyre (18411) - (forbedring lagt ut i produksjon 20. mars) Redusere CPU forbruk på lagret prosedyre (18412) - (forbedring lagt ut i produksjon 20. mars)  Infoportal  Tiltak og forbedringer av ytelse i infoportal (17560) Skjemakatalog på mobil - får ikke navigere ned til siste nivå (18154)  Selvangivelsen  Overføring av prosentsats for RF-1098 fungerer kun for første skjema (17234) Historikk for selvangivelsen har lenker til meldinger med gammelt design (16573)  Portal  Bedre feilhåndtering i MVC-portal (17720) Skjema import medfører blokkering i databasen (17679) Nytt design på vente- og nedetidsplakater (14945) Flaskehals åpningsdag - autorisasjonslogg (17143) Portal skalering åpningsdag (17224) Link to service missing in correspondence message (17489) Revarsel vises i aktivitetsloggen før det er sendt (14926) Som bruker av REST-APIet ønsker jeg at den underliggende SearchBE kan få satt DateFrom / DateTo med query parametre (17217) Inbox element is not retrieved when the dateTo value is exact time of createdDate (17635) Treg avgiverliste for brukere med virksomhetssertifikat (17451) Flaskehals i context handler fjernet (17940) (forbedring lagt ut i produksjon 20. mars)   Integrasjon  Fiks av regresjon for noen grensesnitt innført i 17.3 (14928)  "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2019/19-3/",
	"title": "19.3",
	"tags": [],
	"description": "Favorittliste over aktører, hendelse-feed for status på meldinger, mindre endringer, feilrettinger i skattemeldingen og andre feilrettinger",
	"content": "Endringer i Portal Søk på brukernavn i tjenesteeiers arkiv Tidligere fikk man feilen \u0026ldquo;server error\u0026rdquo; hvis man forsøkte å søke på brukernavn. Dette er nå rettet opp slik at søk på brukernavn i tjenesteeiers arkiv fungerer som forventet.\nSletting av delegering på enkeltelement (rettigheter gitt til enkeltskjema og meldinger) skal vises i aktivitetsloggen for elementet Logginnslagene vises nå som “Tilgang fjernet” i aktivitetsloggen for elementet.\nMulighet for opprettelse av favorittliste Dette er en større endring i portalen der man nå kan ha en liste over favoritter (avgivere). Slik kan man enklere nå de avgiverne man er mest interessert i. Det store aktørvalget viser nå en oversikt over alle tilgjengelige aktører sortert i alfabetisk rekkefølge hvor innlogget bruker alltid havner øverst i listen.\nI listen med alle aktører er det nå lagt inn en favorittliste som lister alle aktører som er valgt som favoritt. Ved å klikke på stjernen helt til høyre på aktørkortet vil favoritten bli lagt til i favorittlisten med en gang.\nSøkefunksjonen er også oppdatert til å filtrere favorittlisten samtidig som den komplette aktørlisten. Endringen gjelder også for det lille aktørvinduet.\nEndringer i REST API Lagt inn hendelse-feed for status på meldinger i tjenesteeier API Dette er en ny liste med status på meldinger som er laget for en tjenesteeier. For hver melding som opprettes, arkiveres, leses eller slettes lagres det en hendelse. Det lages også hendelser hvis en melding oppretter ett varsel, og når ett varsel sendes.\nEn tjenesteeier kan gjøre oppslag mot disse hendelsene i REST API ved å gå til altinn.no/api/serviceowner/events/feed. For å styre uttrekket kan det angis to parametere; eventOffset og fetch. - eventOffset angir id for hvilken hendelse uttrekket skal starte fra (utrekket vil ikke inneholde hendelsen som angis i eventOffset) - fetch angir antall hendelser som skal returneres.\nHvis ingen parametere settes starter uttrekket fra første hendelse og returnerer opp til 10000 elementer. Det er ikke mulig å hente ut flere enn 10000 elementer i ett uttrekk.\nFeilrettinger Endret validering av filendelse på vedlegg til å være mer presis i API Endringen som er utført påvirker validering av filer som lastes opp på en tjeneste med regler knyttet til vedlegg. Vedleggsregler kan ha krav til filtype og det er validering av dette som nå er blitt gjort mer presist. I praksis betyr endringen at vedlegg i større grad må ha filendelse og denne må stemme bedre med kravene til vedleggsregelen.\nEksempler på hva valideringen tillot tidligere, men nå vil avvise: (Filtyperegel: *.pdf, *.txt\u0026quot;)\n vedlegg.pd - Det var tidligere nok å ha deler av filendelsen. vedlegg - Det var mulig å laste opp filer uten filendelse. vedlegg.x - Annet eksempel på første punkt.  Endringen påvirker følgende operasjoner:\n   Tjeneste Operasjon     IntermediaryInboundBasic.svc SubmitFormTaskBasic   IntermediaryInbound.svc SubmitFormTask   IntermediaryInboundExternalEC.svc SubmitFormTaskEC   IntermediaryInboundBasicStreamed.svc SubmitAttachmentStreamedBasic   IntermediaryInboundStreamed.svc SubmitAttachmentStreamed   IntermediaryInboundExternalECStreamed.svc SubmitAttachmentStreamedEC    Slettede varslingsadresser lå som en del av responsen i REST API Varslingsadresser merket som slettet ble ikke skjult i REST API for tjenesteeier. Dette er løst ved at koden nå filtrerer bort disse. I tillegg henter nå koden adresser fra KoFuVi data.\nPersoner kunne lese personlige dokumenter for en som hadde rettighet til å representere organisasjonen i REST APIet Det er nå lagt inn en sjekk som stopper denne muligheten.\nFeilrettinger i skattemeldingen Feil lenke til norge.no i hjelpetekst til skjemaet \u0026ldquo;Skattemelding for formue- og inntektsskatt – personlig næringsdrivende mv RF-1030\u0026rdquo; Link til nynorsk versjon av Norge.no var feil i hjelpetekst på post 1.5.7 i RF-1030. Rettet ved å endre lenke slik at den nå peker til riktig nettsted.\nUønsket advarsel returnert av SBS for nye felter til markedsverdi boligverdi Med komplett innsending av \u0026ldquo;Skattemelding for formue- og inntektsskatt – personlig næringsdrivende mv RF-1030\u0026rdquo; via SBS får man opp advarsel på to nye felter for markedsverdi boligverdi. Dette er nå blitt rettet opp.\nSkjema \u0026ldquo;Kontonummerendring RF-1030-A\u0026rdquo; for 2017 dukker fortsatt opp i listen over årets skattedokumenter Meldingstjenesten dukket fortsatt opp i listen over årets skattedokumenter, selv om denne meldingstjenesten ikke lenger brukes i Altinn. Dette er rettet ved å fjerne kode som hentet siste års instanser av RF-1030A.\nLenke til “Endre kontonummer/utbetalingsmåte” i skattemeldingen (PSA) må åpnes i egen fane Om man trykket på lenken «Endre kontonummer/utbetalingsmåte» i menyen ble denne feilaktig åpnet i samme vindu. Rettet ved å åpne lenken i nytt vindu.\nVideresending til \u0026ldquo;Endre kontonummer/utbetalingsmåte\u0026rdquo; i Skattemeldingens (PSA) meny er nå på samme målform som den som er valgt i Altinn Hvis man hadde valgt engelsk som språk i Altinn ble siden for \u0026ldquo;Endre kontonummer/betalingsmåte på bokmål\u0026rdquo; åpnet. Rettet ved å legge inn støtte for videresending til side med samme målform som den som er valgt i Altinn.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2020/20-4/",
	"title": "20.4",
	"tags": [],
	"description": "Mindre endringer og feilrettinger",
	"content": "Endringer i portal Sende bruker tilbake etter å ha benyttet \u0026ldquo;Be om rettighet\u0026rdquo; Når en bruker benytter \u0026ldquo;Be om rettighet\u0026rdquo; fra en ekstern applikasjon kan man nå komme tilbake etter at brukeren er ferdig.\nNår man ber om rettighet er det mulig å velge tilgangsstyrer Når en bruker ber om tilgang til en eller flere tjenester vedkommende mangler tilgang til kommer det nå opp en liste over personer som kan godkjenne forespørselen og velge hvem forespørselen skal sendes til.\nFeilrettinger Varsingsmaler må nå ha unikt navn Varslingsmaler med samme navn ga feilsituasjoner i løsningen, så unikt navn kreves nå.\nDet ble gitt feil ved forsøk på å opprette tomt skjema med preutfylling via REST API Dette er nå rettet slik at tomt skjema kan opprettes med preutfylling uten at det gis feilmelding.\nEpost ved klientdelegering der emne feltet fikk tekst med linjeskift feilet Dette er rettet ved at linjeskift erstattes med mellomrom.\nBruker ble sendt til meldingsboks etter oppgradering av sikkerhetsnivå ved delegering Bruker blir nå tatt tilbake til delegering etter å ha oppgradert sikkerhetsnivået.\nForhindre feilmelding i API for rollefiltrert søk på avgiverliste Det ble en feil i reportees endepunktet for brukere som ikke har logget inn i Altinn før. Nå gis det feilkode 403 med melding: \u0026ldquo;User does not have an active Altinn profile\u0026rdquo;.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2017/",
	"title": "2017",
	"tags": [],
	"description": "Endringer innført i 2017.",
	"content": "\r17.3\rSøk på tvers av aktører, soft due date, og masse bugfix og mindre forbedringer...\n\r\r17.2\rNytt design, ny innboks, ny infoportal, nytt søk, papirkurv, klientdelegering, tilpasset hjelp, designsystem, \u0026#43;\u0026#43;\u0026#43;\n\r\r17.1.1\r500 MB på REST og webservices, forbedringer av samtykke samt utvidet API for forms og attachments\n\r\rEtablering\rBytte av leverandører, nye avtaler, ny teknisk driftsplattform\n\r\r17.1\rDigital post til virksomheter, dialog med egenregistrerte brukere, nye sider for pålogging, heving av sikkerhetsnivå for SMS, \u0026#43;\u0026#43;\u0026#43;\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/seres/brukerveiledninger/driftsvarsel/",
	"title": "Abonnere på driftsmeldinger fra SERES",
	"tags": [],
	"description": "Hvordan abonnere på driftsmeldinger fra SERES.",
	"content": "Innledning Driftsmeldinger knyttet til SERES-løsningen blir lagt ut på området: https://www.altinndigital.no/driftsmeldinger/\nDet er også mulig å abonnere på driftsmeldinger slik at man får tilsendt en e-post når det legges ut driftsmeldinger. Dette er en brukerveiledning som viser hvordan man oppretter og endrer et slikt abonnement.\nHvordan abonnere Åpne området «Driftsmeldinger» som ligger på adressen https://www.altinndigital.no/driftsmeldinger/\n Klikk på lenken «Abonner på driftsmeldinger».\n Kryss av for varsel om SERES-løsningen samt eventuelle andre varsler du ønsker å abonnere på. Legg inn din e-postadresse og klikk på «Abonner».\n Du får nå opp informasjon om at vi trenger ditt samtykke til å bruke din e-postadresse og du skal ha fått tilsendt en e-post.\n Åpne den mottatte e-posten og klikk på lenken «Gi oss samtykke til å sende driftsvarsler».\n Klikk på knappen «Jeg samtykker».\n Samtykke er gitt og du abonnerer nå på driftsmeldinger fra SERES-løsningen.\n Hvordan endre eller avslutte abonnementet For å endre eller avslutte abonnementet må du ha tilgang til en tidligere mottatt driftsmelding.\nEksempel på en driftsmelding:\nKlikk på lenken «Vil du stoppe abonnementet?».\nEndre abonnement  Velg «Rediger varslene jeg abonnerer på». Endre avkrysningen for hvilke varsler du ønsker å abonnere på. Klikk på «Oppdater mitt abonnement».\n Abonnementet er endret.\nAvslutte abonnement  Velg «Melde meg av driftsvarsler». Klikk på «Bekreft avmelding».\n Abonnementet er avsluttet.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/configuration/authorisation/",
	"title": "Autorisasjon",
	"tags": [],
	"description": "Hvordan definere autorisasjonsregler (tilgangsstyring) for en app.",
	"content": "Autorisasjonsregler for en applikasjon er definert i en XACML Policy-fil som ligger i applikasjonsrepoet. XACML Policy-en inneholder en eller flere regler som definerer hvem som kan gjennomføre ulike aksjoner på ulike ressurser.\nBeskrivelse av XACML-strukturen og definisjon av regler finnes her\nXACML-filen kan endres i en valgfri teksteditor.\nRegler i applikasjonsmalen Når det opprettes en app i Altinn Studio basert på den nåværende asp.net malen vil det følge med en autogenerert XACML policy-fil. Reglene som er definert i denne filen er kort beskrevet nedenfor.\nOvernevnte regler kan endres i policy.xml som ligger i App/config/authorization i applikasjonsrepoet. Detaljer om hvordan å konfigurere policy filen finnes her I tillegg vil du finne en del eksempelregler her.\nMerk at endringer i policyfilen gjøres på eget ansvar, og at det oppfordres til å alltid delegere leserettigheter dersom en entitet også har fått tildelt skriverettigheter.\rRettigheter for rolleinnhaver I denne filen er det definert regler som gir innehaver av rollene daglig leder (DAGL) og/eller regnskapsmedarbeider (REGNA) rettigheter til å instansiere, skrive, lese og slette instanser av applikasjonen.\nRettigheter for applikasjonseier Applikasjonseier (organisasjonen) har rettigheter til å instansiere, skrive og lese instanser av applikasjonen. Til slutt har de rettigheter til å markere på en instans at de er ferdig med den.\nPåkrevd autentiseringsnivå Påkrevd autentiseringsnivå er satt til 2 som default. Dette gjøres som en obligation i XACML Policy\nHvis nivået settes til 4 må man definere at tjenesteier kan nå det via nivå 3 for maskinporten. Dette for at maskinporten er definert som nivå 3. Se regelbibliotek for eksempel. Merk: Appen trenger nuget versjon 3.1.5 eller høyere versjon.\n\rRegelbibliotek\rBibliotek av autorisasjonsregler som kan brukes i en app. Husk å bytte ut tags ([ORG], [APP], [RULE_ID]) med din egen data.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/seres/brukerveiledninger/",
	"title": "Brukerveiledninger",
	"tags": [],
	"description": "Brukerveiledninger til komponentene i SERES.",
	"content": "\rAbonnere på driftsmeldinger fra SERES\rHvordan abonnere på driftsmeldinger fra SERES.\n\r\r\r\rBrukerveiledning for SERES Administrasjonsklient\rHvordan logge inn og bruke Administrasjonsklienten.\n\r\r\r\rBrukerveiledning for innlogging på Domeneklienten via VMware Horizon Client\rHvordan logge inn på Domeneklienten ved å bruke VMware Horizon Client.\n\r\r\r\rBrukerveiledning for lokal installasjon av Domeneklienten\rHvordan installere Domeneklienten lokalt på egen PC.\n\r\r\r\rBrukerveiledning for SERES Domeneklienten\rHvordan bruke Domeneklienten for å modellere tjenestemodeller og generer XSD-er.\n\r\r\r\rDomeneklient fra A til Å\rHvordan modellere en tjeneste i Domeneklienten fra A til Å basert på tjenesten RF-1241.\n\r\r\r\rBrukerveiledning for SERES Produktforvaltning\rHvordan bruke Produktforvaltning for å finne og laste ned XSD-er som er generert fra Domeneklienten.\n\r\r\r\rSERESxsd\rBeskrivelse av hvordan SERESxsd er bygget opp.\n\r\r\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/",
	"title": "data.altinn.no",
	"tags": [],
	"description": "Beskrivelse av Altinns datadelingskomponent",
	"content": "Innledning data.altinn.no er en løsning som er laget for å kunne forenkle utveksling av data mellom private aktører, næringsliv og det offentlige.\nFormålet er å gjenbruke informasjon som det offentlige allerede er i besittelse av. Ved hjelp av Altinn-rettigheter, Altinns samtykkeløsning eller ved hjelp av hjemmel, vil informasjonen kunne hentes direkte fra datakilden.\nLøsningen er generisk og vil kunne brukes på ulike forretningsområder, med nye tilknyttede registre og nye brukergrupper.\nBestanddeler  Generisk tjeneste; Lage datasett som kan hentes ned Brukergrensesnitt i Altinn: Holde oversikt over samtykker, se hvilke datasett som har blitt hentet inn av hvilken offentlig instans, og sjekke hvilke opplysninger som finnes om sin virksomhet Datakildeintegrasjoner  Datakilder og beviskoder Løsningen baseres på at en aktør kan sende forespørsler på én eller flere beviskoder. Beviskoder er en betegnelse for en informasjonspakke som kan inneholde ett eller flere felter med strukturert eller ustrukturert informasjon. Forespørsler inneholder 1) hvem som spør, 2) hvem forespørselen gjelder, og 3) hvilke beviskoder spørres det om.\nPer i dag har løsningen to beviskilder, Brønnøysundregistrene og Skatteetaten, med følgende registre:\n Enhetsregisteret/foretaksregisteret (Brønnøysundregistrene) Konkursregisteret (Brønnøysundregistrene) Regnskapsregisteret (Brønnøysundregistrene) Skatt og merverdiavgift (Skatteetaten)  Her er det definerte datasett, med innhold som eksempelvis firmaattest, årsregnskap, restanser på skatt og merverdiavgift, og informasjon om eventuell konkurs. Flere datakilder er planlagt i tiden fremover.\nAutorisasjon Det oppstår ofte juridiske spørsmål vedrørende innhenting av åpne og ikke-åpne data fra ulike datakilder. Ved hjelp av hjemmel eller Altinns samtykkeløsning vil løsningen også kunne høste og avgi ikke-åpne data.\nBeviskoder kan representere informasjon fra èn eller flere offentlige registre, som kan ha ulik grad av tilgjengelighet. Noen beviskoder kan være utelukkende hjemmelsbasert, og hjemmelsgrunnlag må da sannsynliggjøres. Det gjøres gjennom et vedlegg i forespørselen eller utfra identiteten til den som utfører forespørselen. Hjemmelsgrunnlag vil f.eks. for enkelte beviskoder være ulikt før og etter kontraktsinngåelse, så enkelte beviskoder vil kunne innhentes med hjemmel i ett tilfelle, men kreve samtykke i et annet.\nAndre beviskoder vil kunne kreve et samtykke. data.altinn.no vil da igangsette en samtykkeprosess i Altinn. En representant fra virksomheten, med tilstrekkelig tilgangsnivå, må logge seg inn i Altinn-portalen og aktivt samtykke til at dataene skal tilgjengeliggjøres. Tilgangsnivået styres ut fra roller fra Enhetsregisteret, og eventuelt delegerte roller i Altinn.\nRoller fra Enhetsregisteret som har tilgang til å gi samtykke kan være bla. Daglig leder, Styrets leder og Innehaver. For å lese melding om samtykke og avgi samtykke er kravet \u0026ldquo;begrenset signeringsrett\u0026rdquo; eller enkeltrettighet på de to tjenestene (tjenestekoder er 5132/1 for meldingstjenesten og 5299/1 for samtykket). Dersom det er definert at nøkkelrollene skal kunne delegere tilgang videre til andre i organisasjonen, kan den spesifikke rettigheten delegeres videre via Altinn. Ved å trykke her finner du skjermbilder for samtykkeprosessen.\n\rAPI\r\n\r\rTesting mot data.altinn.no\r\n\r\rRollekrav i Altinn\rdata.altinn.no bruker funksjonalitet i Altinn for å generere samtykkeforespørsler før data kan utleveres.\n\r\rSamtykkeprosessen\rNår oppdragsgiver initierer en samtykkeforespørsel vil det bli sendt en sms og/eller epost med varsling om at brukeren har mottatt en ny forespørsel i Altinn.\n\r\rDomenetjenester\rBeskrivelse av de forskjellige datadelingstjenestene på data.altinn.no\n\r\rBeviskoder/datakilder\rOversikt over tilgjengelige beviskoder\n\r\rSpørsmål og svar om data.altinn.no\r\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/data/data-model/",
	"title": "Datamodell i Altinn Studio",
	"tags": [],
	"description": "Slik importerer eller viser du datamodellen i Altinn Studio",
	"content": "Det er planlagt datamodelleringsfunksjonalitet inn i Altinn Studio. Den midlertidige funksjonaliteten er derfor svært begrenset.\rLaste opp / vise datamodell Datamodellen definerer hvilke data som kan sendes inn via en app, og hvilket format det skal sendes på. Per nå må datamodellen være definert som en XSD i et eksternt verktøy - gjerne Seres Domeneklient.\nDet må lastes opp en datamodell for hver app.\n Åpne appen fra dashboardet Velg fanen Lage, og valget Datamodell i navigasjonsmenyen Klikk på Velg XSD og velg XSD-en i filvelgeren Klikk Last opp  Datamodellen blir da parset, og alle nødvendige filer generert og lagret i app-repositoryet. Disse filene kan vises ved å velge de ulike fanene på datamodellsiden.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/tjenester/tilsynsdata/datakilder/",
	"title": "Dataprodusent-api",
	"tags": [],
	"description": "Standardisering av bakenforliggende apier",
	"content": "Under arbeid!\rGenerelt Siden det er potensielt ganske mange bakenforliggende datakilder må alle produsent-api-ene følge oppsett og struktur som angitt i prosjektdokumentasjonen.\nAPI Definerte datasettnavn:  tilsyn - TildaTilsynsrapport og TildaTilsynsrapportAlle trend - TildaTrendrapport og og TildaTrendrapportAlle koordinering - TildaTilsynskoordinering og TildaTilsynskoordineringAlle npdid - TildaNPDID  Responsformatene for feks TildaTilsynsrapport og TildaTilsynsrapportAlle er i praksis de samme, men \u0026ldquo;Alle\u0026rdquo; returnerer mange innslag fra én tilsynsmyndighet i stedet for mange.\nKallene som går ut fra data.altinn.no vil bygges opp vha følgende mal:\n{baseurl}/{datasettnavn}/{organisasjonsnummer}?{parametre}\rKallene som går ut fra data.altinn.no for å hente samtlige innslag i ett datasett fra ett spesifikt tilsyn (-Alle):\n{baseurl}/{datasettnavn}?{parametre}\rDefinerte parametre:  requestor - fast parameter med organisasjonsnummer til spørrende tilsynsmyndighet fromDate - filtrere med startdato, valgfri toDate - filtrere med sluttdato, valgfri npdid - filtrere på npdid, valgfri  Eksempel:\nGET\rhttps://api.bestetilsynsmyndighet.no/trend/911951657/?requestor=998997801\u0026amp;fromDate=2021-01-20T00:00:00.000Z\u0026amp;toDate=2021-01-20T00:00:00.000Z\u0026amp;npdid=3432\rMaskinporten Alle bakenforliggende api-er skal kreve scopet brreg:tilda for tilgang i tillegg til standard validering.\nFeilkoder For mer informasjon om feilkodene i data.altinn.no, se her.\nNedetid Varsling om lengre nedetid gjøres til forvaltningsansvarlig.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/getting-started/navigation/designer/",
	"title": "Designer",
	"tags": [],
	"description": "Slik navigerer du i Altinn Studio Designer.",
	"content": "Designer er verktøyet du starer i etter å ha logget inn på https://altinn.studio. Det er et verktøy for å opprette, konfigurere og deploye apper.\nNavigere til en app Alle apper du har tilgang til å endre på vises på dashboardet. Gå til appen ved å klikke på appen. Dersom du ikke har en lokal klone av appen, vil du bli bedt om å opprette det.\nHvis du ønsker å gå til app-repositoryet når du er inne i en app i Designer, er det en lenke i menyen som ligger i profilmenyen øverst til høyre.\nRedigere en app Det er to navigasjonsmenyer - en toppmeny og en venstremeny.\nI toppmenyen kan du navigere mellom ulike funksjonelle områder av applikasjonen. I venstremenyen kan du navigere innad i området.\n Om  Om appen   Lage  Datamodell UI-Editor Tilgangsstyring   Språk  Tekster   Deploy  "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/tjenester/",
	"title": "Domenetjenester",
	"tags": [],
	"description": "Beskrivelse av de forskjellige datadelingstjenestene på data.altinn.no",
	"content": "\reBevis\rInformasjon om leverandører i offentlige anskaffelser\n\r\rDrosjeløyve\rInnehenting av data i søknadsprosess for drosjeløyver\n\r\rTilda\rDeling av data mellom tilsynsmyndigheter\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/tjenester/tilsynsdata/eksempler/",
	"title": "Eksempler",
	"tags": [],
	"description": "Datamodeller",
	"content": "Under arbeid\nUtkast til datamodeller\n\rEnhetsinformasjon\rDatamodell og schema\n\r\rTilsynskoordineringer\rDatamodell og schema\n\r\rTilsynsrapporter\rDatamodell og schema\n\r\rTrendrapporter\rDatamodell og schema\n\r\rNpdidtilsynsrapporter\rDatamodell og schema\n\r\rRequest-eksempler\rEksempler på hvordan man henter data om en gitt virksomhet\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/ux/ui-editor/multiple-pages/",
	"title": "Flere sider i skjema",
	"tags": [],
	"description": "Hvordan sette opp skjema med flere sider",
	"content": "Oppsett av flere sider kan gjøres enten manuelt (som beskrevet under) eller direkte i skjema-editoren i Altinn Studio. Merk at siste side sluttbruker var innom nå caches slik at man kommer tilbake til denne siden når appen lastes inn på nytt.\rOppsett For å få funksjonalitet for flere sider i skjema, må nuget-versjon til pakkene app\u0026rsquo;en bruker oppgraderes til versjon 1.2.0-alpha eller nyere. Se instrukser for hvordan det gjøres her.\nFlere sider i skjema (innenfor samme prosess-task) støttes ved å dele opp dagens layout-fil App/ui/FormLayout.json i en fil per side. Filene må legges i en mappe App/ui/layouts. Hver layout-fil må bruke samme format som den eksisterende FormLayout.json filen. F.eks.:\n|- App/\r|- ui/\r|- layouts/\r|- side1.json\r|- side2.json\r|- side3.json\rAnbefalt fremgangsmåte så lenge det er behov for å sette det opp manuelt, er å bruke ui-editoren i Altinn Studio for å legge inn alle komponentene inn i FormLayout.json, for å så kopiere de ut i sine respektive layout-filer, en for hver side man ønsker. FormLayout.json kan enten få nytt navn under layouts-mappen, eller slettes.\nMerk: FormLayout.json må enten flyttes (evt med nytt navn) inn i layouts-mappen, eller slettes. Dersom man har den gamle FormLayout.json-filen under App/ui-mappen som tidligere, vil kun denne brukes og alle filer under App/ui/layouts-mappen ignoreres.\nNavigering mellom sider Navigering videre til neste side skjer via en navigerings-knapp. Denne må legges til manuelt i hver layout-fil hvor man ønsker navigering fremover. Navigering tilbake til forrige side gjøres via tilbake-pil i venstre hjørnet. Denne knappen vises alltid så lenge det er en side å gå tilbake til, og er ikke en del av layout-filen. Se bilde under.\nLegge til knapp for navigering Knapp for navigering legges inn i alle layout-filer der det er behov. Om man ønsker at den skal dukke opp nederst på siden, må den legges inn nederst i layout-filen. Eksempel vises under\n{\r\u0026quot;id\u0026quot;: \u0026quot;nav-page2\u0026quot;,\r\u0026quot;type\u0026quot;: \u0026quot;NavigationButtons\u0026quot;,\r\u0026quot;textResourceBindings\u0026quot;: {\r\u0026quot;next\u0026quot;: \u0026quot;next\u0026quot;,\r\u0026quot;back\u0026quot;: \u0026quot;back\u0026quot;\r},\r\u0026quot;dataModelBindings\u0026quot;: {}\r}\rDet er også mulighet for å vise en tilbake-knapp sammen med neste-knappen, ved å legge til parameteren \u0026quot;showBackButton\u0026quot;: true på komponenten.\n   Parameter Beskrivelse     id Unik ID, tilsvarende som for alle andre skjemakomponenter.   type Må være \u0026quot;NavigationButtons\u0026quot;   textResourceBindings Setter man parametre next (og evt. back) her, vil man kunne overstyre med egne tekster som vises på knappen(e). Se eksempel over.   showBackButton Valgfri. Gjør at 2 knapper (tilbake/neste) vises i stedet for bare en (neste).    Rekkefølge Standard rekkefølge for sidene er alfabetisk. Utover det kan man navngi hver side som man ønsker, det er da filnavnet som gjelder her. For å sikre at sidene kommer i ønsket rekkefølge kan man f.eks. sette en prefix med tall foran sidenavnet i filnavn. F.eks:\n|- App/\r|- ui/\r|- layouts/\r|- 1.firstPage.json\r|- 2.secondPage.json\r|- 3.aFinalPage.json\rDet er også mulig å styre rekkefølgen på sidene ved hjelp av Settings.json under App/ui/. Dette gjøres på følgende vis:\n{\r\u0026quot;pages\u0026quot;: {\r\u0026quot;order\u0026quot;: [\u0026quot;side2\u0026quot;, \u0026quot;side1\u0026quot;]\r}\r}\rHer vil sidene da vises i rekkefølgen spesifisert i pages.order. Om denne array\u0026rsquo;en ikke settes i repo så vil man bruke alfabetisk rekkefølge som utgangspunkt for rekkefølgen på sidene.\nFunksjonalitet for å kunne dynamisk bestemme hvilken side som er neste er ikke noe som støttes i denne versionen av funksjonaliteten.\rValidering ved sidebytte Det er mulig å trigge validering i det brukeren prøver å bevege seg til neste side. Dette kan gjøres ved å legge til strengen validatePage i triggers på navigasjons-knapp komponenten. Eksempel:\n{\r\u0026quot;id\u0026quot;: \u0026quot;7cbc1c00-4c8c-42b6-bcef-12b3c4c45373\u0026quot;,\r\u0026quot;type\u0026quot;: \u0026quot;NavigationButtons\u0026quot;,\r\u0026quot;componentType\u0026quot;: \u0026quot;NavigationButtons\u0026quot;,\r\u0026quot;textResourceBindings\u0026quot;: {\r\u0026quot;next\u0026quot;: \u0026quot;Neste\u0026quot;,\r\u0026quot;back\u0026quot;: \u0026quot;Tilbake\u0026quot;\r},\r\u0026quot;triggers\u0026quot;: [\u0026quot;validatePage\u0026quot;],\r\u0026quot;dataModelBindings\u0026quot;: {},\r\u0026quot;showBackButton\u0026quot;: true\r}\rVed å legge til validatePage i triggers vil app-frontend kjøre valideringene på den aktuelle siden i det brukeren navigerer til neste side. Om det er feilmeldinger på siden vil brukeren bli hindret i å gå videre før dette er rettet opp. Om validatePage er lagt til som en trigger vil også id\u0026rsquo;en på siden som trigger valideringen sendes ved som en header LayoutId til valideringene som kjøres på serversiden. Dette muliggjør å skreddersy backend-valideringene basert på hvilken side brukeren trigger valideringen fra.\nDet er også mulig å trigge validering på alle sider ved å legge til validateAllPages i triggers.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/ux/ui-editor/multiple-layoutsets/",
	"title": "Flere skjema i tjeneste",
	"tags": [],
	"description": "Hvordan sette opp tjeneste med flere skje",
	"content": "Dette er helt ny funksjonalitet. Oppsett må gjøres manuelt inntil videre. Støtte for oppsett via Altinn Studio kommer snart.\rOppsett For å få funksjonalitet for flere skjema i tjeneste, må nuget-versjon til pakkene app\u0026rsquo;en bruker oppgraderes til versjon 3.1.4 eller nyere. Se instrukser for hvordan det gjøres her.\nSentralt i løsningen er at man har flere layout-sets som består av en eller flere sider og configurasjon. Hvert layout-set består av tilsvarende filer som en skjema tjenester.\n|- App/\r|- ui/\r| - layout-sets.json\r|- skjema-a/\r|- Settings.json\r|- RuleHandler.js\r|- RuleConfiguration.js\r|- layouts/\r|- side1.json\r|- side2.json\r|- side3.json\r|- skjema-b/\r|- Settings.json\r|- RuleHandler.js\r|- RuleConfiguration.js\r|- layouts/\r|- side1.json\r|- side2.json\r|- side3.json In layout-set.json defineres the hvilke steg i prosessen (task) hvor et gitt layout-set skulle brukes. Eksempel\n{ \u0026#34;sets\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;rf0002\u0026#34;, \u0026#34;dataType\u0026#34;: \u0026#34;schema_4222_160523_forms_212_20160523\u0026#34;, \u0026#34;tasks\u0026#34;: [ \u0026#34;Task_1\u0026#34; ] }, { \u0026#34;id\u0026#34;: \u0026#34;superform\u0026#34;, \u0026#34;dataType\u0026#34;: \u0026#34;schema_3161_140411_forms_1549_11554\u0026#34;, \u0026#34;tasks\u0026#34;: [ \u0026#34;Task_2\u0026#34; ] } ] } "
},
{
	"uri": "https://altinn.github.io/docs/api/datasystem/faq_datasystem/forarbeid/",
	"title": "Forarbeid",
	"tags": [],
	"description": "Spørsmål og svar som gjelder forarbeidet før du starter implementering",
	"content": " Hvilke testdata finnes i testmiljøene? Svar: I testmiljøene er det kun fiktive testdata. Dette gjelder både fødselsnummer og organisasjonsnummer. De tilfredsstiller alle kontroller (modulus kontroll, reelle datoer i fødselsnummer).\n Hvordan melder jeg inn feil til support? Svar: Rapporter feilen til sluttbrukersystem@altinn.no\nSom et minimum bør alle feilemeldinger inneholde:\n Hvilket miljø du (forsøker) å benytte (PROD, TT02) Hvilken webservice endepunkt du benytter (hele URL-en må med) Hele SOAP-konvolutten (request) og response du får fra Altinn Nøyaktig tidspunkt/tidsrom feilen ble observert Beskrivelse av hvilke steg som førte til feilen. Dette inkluderer webservice kall før det som ble gjort da feilen oppsto Kort beskrivelse av hva som var forventet resultat dersom det ikke hadde feilet. Kontaktinformasjon (navn, e-post, telefon) til en person vi kan kontakte ved behov.   Spørsmål og behov for support – Hvor kan jeg henvende meg? Svar:\n  Ved skjema-/tjenesterelaterte spørsmål: Skjema- og tjenesterelaterte spørsmål (om feks. feltverdier etc.) skal sendes til tjenesteeier. Se primært kontaktinformasjon for hvert tjenesteområde her i sluttbrukersystemportalen. Alternativt må man se etter kontaktinformasjon for hver enkelt tjeneste.\n  Generelle spørsmål: Andre generelle spørsmål om integrasjon rettes til sluttbrukersystem@altinn.no\n   Hvordan logger jeg inn i testmiljøet? Svar:\n Gå til TT2 (https://tt02.altinn.no) Klikk på \u0026ldquo;Logg inn\u0026rdquo; Velg \u0026ldquo;Gå videre til flere innloggingsmetoder\u0026rdquo; Velg «Altinn kodebrev» og logg inn med engangskodene.  Når du er innlogget, kan du legge inn passord og mobiltelefonnummer under «profil», «avanserte innstillinger» og «innloggingsinformasjon», slik at du får tilsendt engangskoder på SMS.\n Hvilke URL benyttes? Svar: Det er ulik URL for produksjons- og testmiljø:\nPROD: https://www.altinn.no/\nTT02: https://tt02.altinn.no/\n Hvor finner jeg WSDL-filer? Svar: Disse er tilgjengelig på url endepunktene til den enkelte webtjeneste: https://altinn.github.io/docs/api/soap/endepunkter-oversikt/\nMerk at disse peker på feil endepunkt da de feilaktig angir http i steden for https, dette «overstyres» av sluttbrukersystemleverandør.\nUnder «endepunkter» finner du URI til alle Altinn tjenester/aliasoversikt for endepunkter i «Implementasjonsguide for Sluttbrukersysten» https://altinn.github.io/docs/guides/integrasjon/sluttbrukere/webservice/\n Hvordan får jeg tilgang til sluttbrukersystemportalen?? Svar: Tidligere lå dette på en lukket SharePoint side. Nå ligger dette åpent tilgjengelig på https://www.altinndigital.no/datasystemer\n Hvordan får jeg rettighet til å rapportere for en organisasjon i testmiljøene? Svar: Alle testbrukerne har en knytning mellom personnummer og organisasjonsnummeret til en eller flere organisasjoner.\n "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/produktstrategier/autorisasjon/fremtiden/autorisasjon_behov/",
	"title": "Fremtidens behov",
	"tags": [],
	"description": "",
	"content": "Altinn Autorisasjon er en av fem produkter som tilbys gjennom Altinn plattformen. Produktstrategien for Altinn Autorisasjon er delt i 3 deler:\n Hva er Altinn Autorisasjon? Hvilke behov skal Altinn Autorisasjon løse? Hvordan ser fremtidens Altinn Autorisasjon ut?  Det er felles forståelse innen det offentlige at Altinn Autorisasjon er autorisasjonsnavet for offentlig sektor. Potensialet for forenkling ved bruk av fremtidens autorisasjonfunksjonalitet som f. eks digital fullmakt eller tidsbegrenset samtykke til å dele data er meget stort. Det er også en forutsetning for å lykkes i forenklingsarbeidet. Altinn Autorisasjon vil derfor stå helt sentral i utviklingen av Altinn i de kommende årene.\nStrategiske føringer og behovet for Altinn Autorisasjon En grunnleggende forutsetning for digitalisering er å kunne vite hvem bruker er og hvem denne kan opptre på vegne av slik at de digitale tjenestene blir tilgjengelig for de som skal bruke den.\nMålsetninger er beskrevet under Fremtidens mål\nBehov for felles tillitsinfrastruktur for innbygger, frivillig sektor, næringsliv og offentlig sektor som leverer riktig autorisasjonsinformasjon Skal man lykkes med digitaliseringsarbeidet og hente ut gevinster må innbygger og næringsliv har tillit til at de tjenestene som tilbys er trygge, sikre og tilgjengelige. Det betyr at:\n de som skal ha tilgang til tjenesten får det de som ikke skal ha tilgang til tjenesten ikke får det det er enkelt å se, på tvers av ulike applikasjoner og løsninger, hvem som kan representere avgiver og hva representasjonsforholdet gir tilgang til det er enkelt å endre på representasjonsforhold det er enkelt å se hvem som har tilgang til mine data at representasjonsforhold hentet fra autoritative register som benyttes i tilgangsstyring og -kontroll i samsvar med lov og forskrift som regulerer dette forholdet  Behov for å dele data Dersom privatpersoner og virksomheter på en kontrollert og sikker måte kan dele sine data registrert hos offentlige virksomheter, vil det bidra til forenkling av digitale samhandlingsprosesser i samspillet mellom offentlig og privat men også mellom privatpersoner og private virksomheter. Dette vil bidra til å realisere store samfunnsmessige gevinster. Det er et klart behov for en offentlig fellesløsning som gjør dette mulig.\nSamtykkefunksjonaliteten som tilbys av Altinn utnytter autorisasjonsfunksjonaliteten til å dekke dette behovet og gir brukere muligheten til å dele sine data med tredjeparter ved å gi et informert og uttrykkelig samtykke.\nBehov for å la seg representere gjennom fullmakter Ved å registrere representasjonsforhold utnyttes autorisasjonsfunksjonaliteten til å dekke behovet man kan ha for å utnevne noen til å opptre på vegne av seg selv. Et representasjonsforhold kan etableres av bruker selv eller gjennom relasjoner/representasjon registrert i autorative register (f.eks. data fra vergemål- eller advokatregisteret). Tilgang til informasjon om representasjonsforhold gjør det enklere for innbygger eller virksomhet å la seg representere ifb. bruk av digitale tjenester.\nI “Digitaliseringsstrategi for offentlig sektor 2019-2025” settes det fokus på sammenhengende tjenester på tvers av sektorer og forvaltningsnivåer. En forutsetning for å lykkes med å få til dette er økt deling av data og enkel tilgang til tjenester på tvers av sektorer.\nFor å sikre fremdrift i digitaliseringsarbeid og økt deling av data skal Altinn Autorisasjon etableres som Autorisasjonsnavet i offentlig sektor (jfr. Altinns Strategi “Altinn for en ny tid”, 2019). Altinn skal høste data om representasjonsforhold fra eksterne kilder som registrerer et relevant representasjonsforhold mellom to parter. Ved å samle autorisasjon informasjon og tilby dette i et informasjonspunkt blir Altinn en felles autoritativ kilde for digitale tjenester i offentlig og privat sektor. Altinn Autorisasjon skal samhandle med nasjonale og internasjonale felleskomponenter og fellesløsninger slik at tjenestene er godt integrert og inngår i en helhetlig felles arkitektur. Det skal være enkelt for bruker å se at det er Altinn som er autorisasjonskilden og som styrer tilgang til den digitale tjenesten. Det må også være enkelt for å administrere disse tilgangene.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/digital-post-til-virksomheter/overorndet-funksjonalitet/del-tilgang-til-melding/",
	"title": "Gi tilgang til taushetsbelagt post",
	"tags": [],
	"description": "Slik gir du tilgang til post med taushetsbelagt innhold",
	"content": "Det er viktig at virksomheten som mottar taushetsbelagt post med særlig sensitivt innhold (f eks informasjon om enkeltpersoner knyttet til straffesaker, barnevernssaker o.l.) sikrer at tilgangen til denne typen melding begrenses til kun de som har tjenestlig behov for å se innholdet.\nI utgangspunktet har INGEN i virksomheten tilgang til disse meldingene. Virksomheten må derfor peke ut noen i sin virksomhet som får tilgang til all taushetsbelagt post innenfor sin kategori. Denne personen blir da en \u0026ldquo;postfordeler\u0026rdquo; for virksomheten som praksis åpner meldinger og distribuerer disse videre til de ansatte som faktisk skal lese og behandle meldingen.\nSlik gir du tilgang til den som er postfordeler For å gi tilgang til taushetsbelagte tjenester, må Hovedadministrator i virksomheten (denne rollen er forhåndstildelt til Daglig leder, Styreleder, Innehaver og Bestyrende reder) delegere tjenesterettigheter eller nødvendig(e) rolle(r) til de som skal ha tilgang til de taushetsbelagte tjenester.\nHovedadministrator kan gi rettighetene til seg selv dersom han skal ha tilgang til tjenesten(e).\nVi anbefaler at man gir personen som skal være \u0026ldquo;postfordeler\u0026rdquo; tilgang til tjenesten. Dette gjøres fra Profilen til virksomheten i Altinn under panelet \u0026ldquo;andre med rettigheter\u0026rdquo;\nVelg eller legg inn person og finn den aktuelle tjenesten vedkommende skal være postfordeler for\nSlik fordeles posten videre til den som skal behandle meldingen Den som skal fordele posten åpner meldingen og finner ut hvem som faktisk skal behandle denne videre. For å gi tilgang til denne personen trenger man personnummer og etternavn på vedkommende.\n åpne meldingen og velg \u0026ldquo;del og gi tilgang\u0026rdquo;  velg \u0026ldquo;legg til ny person\u0026rdquo;  legg inn personnummer og etternavn på den som skal ha tilgang til meldingen bekreft at personen skal ha tilgang til meldingen  legg evt inn melding som personen skal få vedr tilgangen  På meldingen i innboks vil det synes at tilgang er delt og evt hvilken melding som ble formidlet Følgende tjenester med taushetsbelagt innhold finnes i Altinn    Tjenestekategori Rollekrav     Taushetsbelagt post fra det offentlige innenfor helse, sosial og omsorg Taushetsbelagt post - helse, sosial og omsorg   Taushetsbelagt post fra det offentlige innenfor oppvekst og utdanning Taushetsbelagt post - oppvekst og utdanning   Taushetsbelagt post fra det offentlige innenfor administrasjon Taushetsbelagt post - administrasjon    "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/grensesnitt/",
	"title": "Grensesnitt",
	"tags": [],
	"description": "SOAP operasjoner for tjenesteeiere med beskrivelse.",
	"content": "\rAbonnement\rTjenesteeier kan sette opp abonnement for et skjemasett.\n\r\rAltut\rFor bakoverkompatibilitet tilbys AltUt grensesnittet for registrering av meldinger til eksisterende tjenesteeiere. Nye tjenesteeiere skal benytte grensesnittet correspondence. AltUt grensesnittet blir ikke lenger oppdatert ettersom Altinn videreutvikles.\n\r\rAutorisasjon\rOperasjoner for Altinns autorisasjonskomponent.\n\r\rBatch logging\rHente ut feilmeldinger fra behandling av batch jobber\n\r\rContext handler\rBenyttes for å hente ut medadata for elementer.\n\r\rDownloadQueue\rHente ut elementer fra DownloadQueue.\n\r\rKvitteringer\rHente ut og oppdatere kvitteringer\n\r\rMeldingstjeneste\rDenne tjenesten inneholder operasjoner som benyttes av tjenesteeiere for å opprette meldinger til avgivere samt hente ut igjen status på disse meldingene.\n\r\rPreutfylling\rPrefill tjenesten inneholder operasjoner som benyttes av tjenesteeier for å sende inn preutfylte oppgavesett for avgivere.\n\r\rRettigheter\rBenyttes for å hente ut opplysning om rettigheter.\n\r\rSamhandlingstjeneste\rAdministrere samhandlingstjenestene\n\r\rTjenesteeiers arkiv\rHente ut element fra tjenesteeiers arkiv\n\r\rVarseltjeneste\rVarseltjenesten gjør det mulig for tjenesteeiere å opprette varsel uavhengig av andre elementer i meldingsboksen til avgiver.\n\r\rWebservice mottak\rSette opp mottak over webservice.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/rest/autorisasjon/hent_avgiver/",
	"title": "Hente ut liste over avgivere",
	"tags": [],
	"description": "",
	"content": "enne siden beskriver hvordan Altinn kan brukes til å hente ut liste over alle avgivere en bruker kan represtentere\nHente ut liste over avgivere Henter ut en liste over alle avgivere en person {subject}kan representere, eventuelt spesifisert ned på spesifikk tjeneste eller rolle.\nGET https://www.altinn.no/api/serviceowner/reportees?ForceEIAuthentication\u0026amp;subject={subject}\u0026amp;serviceCode={serviceCode}\u0026amp;serviceEdition={serviceEdition}\u0026amp;roleDefinitionId={roleDefinitionId}\u0026amp;showConsentReportees={showConsentReportees} HTTP/1.1 Accept: application/hal+json ApiKey: myKey Eksempel på respons:\n{ \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/reportees?subject={subject}\u0026#34; } }, \u0026#34;_embedded\u0026#34;: { \u0026#34;reportees\u0026#34;: [ { \u0026#34;Name\u0026#34;: \u0026#34;BIRI OG TORPO REGNSKAP\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;Enterprise\u0026#34;, \u0026#34;OrganizationNumber\u0026#34;: \u0026#34;910437127\u0026#34;, \u0026#34;OrganizationForm\u0026#34;: \u0026#34;AS\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Active\u0026#34; }, { \u0026#34;Name\u0026#34;: \u0026#34;EIDSNES OG AUSTRE ÅMØY\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;Business\u0026#34;, \u0026#34;OrganizationNumber\u0026#34;: \u0026#34;910521551\u0026#34;, \u0026#34;OrganizationForm\u0026#34;: \u0026#34;ORGL\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Active\u0026#34; }, { \u0026#34;Name\u0026#34;: \u0026#34;FJELL LISA FOS\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;Person\u0026#34;, \u0026#34;SocialSecurityNumber\u0026#34;: \u0026#34;13054900281\u0026#34; }, { \u0026#34;Name\u0026#34;: \u0026#34;BARDU OG SØRUM REGNSKAP\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;Business\u0026#34;, \u0026#34;OrganizationNumber\u0026#34;: \u0026#34;910441205\u0026#34;, \u0026#34;ParentOrganizationNumber\u0026#34;: \u0026#34;910460048\u0026#34;, \u0026#34;OrganizationForm\u0026#34;: \u0026#34;BEDR\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Active\u0026#34; }, { \u0026#34;Name\u0026#34;: \u0026#34;HOLUM OG SVARSTAD REGNSKAP\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;Enterprise\u0026#34;, \u0026#34;OrganizationNumber\u0026#34;: \u0026#34;910460048\u0026#34;, \u0026#34;OrganizationForm\u0026#34;: \u0026#34;FLI\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Active\u0026#34; }, { \u0026#34;Name\u0026#34;: \u0026#34;NICOLINE HANNISDAL\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;Person\u0026#34;, \u0026#34;SocialSecurityNumber\u0026#34;: \u0026#34;02066681060\u0026#34; } ] } } "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/testing/local/",
	"title": "Test av app lokalt",
	"tags": [],
	"description": "Beskrivelse av hvordan test av app lokalt på egen maskin kan gjøres",
	"content": "Dersom man skal skrive en del kode (f.eks. logikk), eller kjapt sjekke hvordan skjema ser ut kan det være nytting å kunne teste endringer uten å måtte deploye hele appen til testmiljø.\nNår appen lages, kommer den med alle nødvendige filer og oppsett til å kunne kjøres som en frittstående applikasjon. Ved å laste ned alle filene knyttet til appen fra repoet til appen, kan man kjøre appen lokalt på egen maskin, og på den måten enkelt teste endringer.\nI testmiljø bruker appen et sett med plattform-tjenester for å kunne hente ut/lagre data osv. Det er opprettet en forenklet versjon av disse tjenestene som kan settes opp og kjøres lokalt, og dette er nødvendig for at appen skal kunne testes lokalt.\nKjøre appen lokalt  Naviger til app repoet i Altinn Studio. Se her for hvordan man navigerer seg dit. Last ned alle filene i repoet   ved å bruke git clone kommandoen (les mer) ved å trykke på nedlastingsikonet (da lastes det ned som en zip-fil)  Se Altinn Studio på Github for informasjon om hvordan man laster ned og kjører den lokale plattformen,og hvordan man kjører appen.\n\rTesting av app API-er lokalt\rHvordan teste app-APIer lokalt.\n\r\rDebugging av app\rNår man kjører appene lokalt kan man debugge ved hjelp av ulike verktøy.\n\r\rTestbrukere lokalt\rVi har definert et lite sett med testbrukere som er tilgjengelig for lokal test.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/mappere/",
	"title": "Mappere",
	"tags": [],
	"description": "Implementasjonsguide for mapperutvikling i Altinn.",
	"content": "En mapper muliggjør integrasjon mellom Altinn og tjenesteeiersystemer.\nDenne integrasjonen vil la en skjemautvikler kunne benytte seg av et rikt etatsspesifikt datasett. Dette muliggjør dermed en stor variasjon av tjenester som ellers ikke ville kunne utvikles på Altinn-plattformen.\n\rGenerelt om mappere\rBeskrivelse av hva en mapper er og hvordan man går fram for å lage en.\n\r\rTeknologi\rBeskrivelse av teknologiene som brukes for å lage en mapper\n\r\rUtvikling\rBeskrivelse av hvordan man utvikler en mapper.\n\r\rTesting\rBeskrivelse av hvordan man tester mappere.\n\r\rInstallasjon\rBeskrivelse av hvordan man lager installasjonspakker og får dem installert i test og produksjon.\n\r\rDiverse\rBruk av mappere med Altinn-kontekst, REST/WCF.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/testing/authentication/maskinporten/",
	"title": "Autentisere med Maskinporten",
	"tags": [],
	"description": "Beskrivelse av hvordan tjenesteeiers systemer kan benytte Maskinporten for å få tilgang til APIer.",
	"content": "Samarbeidsportalen I Min profil i Samarbeidsportalen så har du tilgang til selvbetjening for Maskinporten, og der kan du opprette nye integrasjoner (klienter).\n https://tt02.altinn.no er testmiljø for apper i Altinn, og det er koblet mot Ver 2-miljøet i Maskinporten. https://www.altinn.no er koblet mot Produksjon.  Tilgang som tjenesteeier For å kunne hente data fra Storage i Altinn 3 via API som tjenesteeier, så må man opprette en integrasjon (klient) i Maskinporten, med nødvendige scopes.\nFølgende scopes er opprettet av Altinn, og delegert til tjenesteeier. Disse scopene behøves for å benytte APIene relatert til instanser som tjenesteeier:\naltinn:serviceowner/instances.read altinn:serviceowner/instances.write Klienter med write scope kan bl.a. instansiere apper på vegne av bruker via appens eget API, laste opp data, oppdatere metadata og prosess-status. Klienter med read scope kan kun lese data, metadata og events.\nI de fleste tilfeller så vile en klient for tjenesteeier ha behov for begge scopene.\nOppretting av klient kan gjøres via API eller i Samarbeidsportalen.\nPOST https://integrasjon.difi.no/clients/ { \u0026#34;integration_type\u0026#34;: \u0026#34;maskinporten\u0026#34;, \u0026#34;client_name\u0026#34;: \u0026#34;DIHE testklient for instanser\u0026#34;, \u0026#34;client_type\u0026#34;: \u0026#34;CONFIDENTIAL\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;Klient for å hente data fra mine apper\u0026#34;, \u0026#34;scopes\u0026#34;: [ \u0026#34;altinn:serviceowner/instances.read\u0026#34;, \u0026#34;altinn:serviceowner/instances.write\u0026#34; ], \u0026#34;token_reference\u0026#34;: \u0026#34;SELF_CONTAINED\u0026#34; } Mer informasjon  For mer informasjon, se dokumentasjon for API-konsument fra Maskinporten. Se også scenario for autentication for enda flere detaljer (på engelsk).  "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/getting-started/first-time-setup/",
	"title": "Opprette bruker i Altinn Studio",
	"tags": [],
	"description": "Konfigurer brukeren din i Altinn Studio for første gang.",
	"content": "Lag en bruker i Altinn Studio Din Altinn Studio bruker er personlig for deg og kan knyttes til en eller flere organisasjoner for å samarbeide med andre og få tilgang til eksisterende apper.\n\rVis/skjul innhold\r\rLag bruker med GitHub brukernavn\r\r\r Velg å logge inn på altinn.studio. På “Logg in”-siden, klikk på knappen “Har du en Github konto? Registrer deg med den her”.  Logg inn i GitHub hvis du ikke allerede er det.  Godkjenn at Altinn Studio bruker din GitHub-konto for å logge inn.  Lage en Altinn Studio bruker ved å fylle ut brukernavn, epost, passord, en captcha og klikk på “Fullfør”.\nBrukeren i Altinn Studio vil bli koblet til din GitHub-bruker og du er klar for å begynne arbeide med din første applikasjon.   \r\r \rVis/skjul innhold\r\rLag en bruker med epostadresse (uten GitHub)\r\r\r På “Logg inn”-siden, klikk på knappen “Behov for konto? Registrer deg nå.”  Lage en Altinn Studio bruker ved å fylle ut brukernavn, epostadresse, passord, en captcha og klikk på “Fullfør”. Du er nå klar for å begynne arbeide med din første applikasjon.   \r\r Bli del av en organisasjon Organisasjoner i Altinn Studio er det samme som tjenesteeiere i Altinn. De eier applikasjonene og gjør det mulig for flere innen samme organisasjon å samarbeide.\nFor å bli del av en organisasjon tar du kontakt med administrator for organisasjonen du arbeider for som legger deg til. Hvis du er usikker på hvem som er administrator eller du ikke vet om organisasjonen din er satt opp i Altinn Studio, kan du spørre Altinn servicedesk om hjelp.\nOpprette en organisasjon Det er Altinn som oppretter organisasjoner i Altinn Studio. For å kunne få en organisasjon i Altinn studio må du ha en avtale med Altinn.\nSend en mail til Altinn Servicedesk med navn på organisasjonen og hvem som skal være administrator for å opprette en ny organisasjon. Det vil kunne ta noen dager å opprette organisasjonen og du vil få en mail så fort det er gjort.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/ux/ui-editor/oppsummering/",
	"title": "Oppsummeringsvisning",
	"tags": [],
	"description": "Hvordan sette opp visning av oppsummering av utfylt skjema",
	"content": "Dette er helt ny funksjonalitet. Oppsett må gjøres manuelt inntil videre. Støtte for oppsett via Altinn Studio kommer snart.\nMERK: PDF-genereringen har per nå ikke støtte for oppsummerings-komponenten. For at PDF-generering skal fungere må enten alle oppsummerings-komponentene, eller hele oppsummerings-siden(e) ekskluderes fra PDF. Dette gjøres i Settings.json-filen knyttet til layout-filene.\n\rOppsett Visning av oppsummering settes opp på samme måte som øvrige skjema-komponenter i et skjema. Man kan velge å ha oppsummeringen på en egen side, eller på samme side som andre skjema-komponenter.\nOppsummerings-komponenten er meget enkel, og refererer til komponent som skal oppsummeres, og siden denne ligger på. Eksempel:\n{ \u0026#34;id\u0026#34;: \u0026#34;summary-1\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Summary\u0026#34;, \u0026#34;componentRef\u0026#34;: \u0026#34;\u0026lt;komponent-id\u0026gt;\u0026#34;,  \u0026#34;pageRef\u0026#34;: \u0026#34;\u0026lt;side komponenten er definert på\u0026gt;\u0026#34; }, Komponenten viser oppsummering av data fra den spesifiserte komponenten. I tillegg får sluttbruker mulighet til å gå tilbake til den aktuelle komponenten/siden for å gjøre endringer.\nVisningen er litt forskjellig avhengig av hva slags skjemakomponent oppsummeringen refererer til.\nMerk: PDF-generering støtter ikke oppsummering side, så må den ekskluderes ved å endre layout/ui/Settings.json\n\u0026#34;pages\u0026#34;: { \u0026#34;excludeFromPdf\u0026#34;: [ \u0026#34;navn-til-oppsummering-side\u0026#34; ] } Enkel skjemakomponent Dette er skjemakomponenter som kun er knyttet til 1 felt i datamodellen. F.eks. Input, Dropdown, Checkbox/Radio, osv.\nOppsummeringen viser ledeteksten til skjemakomponenten, og tilknyttet data. Dersom det er en aktiv feilmelding knyttet til skjemakomponenten, vil dette også vises.\nAdressekomponent Denne komponenten har flere felter som inngår. Visningen er lik som for en enkel skjemakomponent, slik at feltene blir slått sammen til en enkel tekst.\nFilvedlegg Oppsummeringsvisningen for filvedlegg viser en liste over de vedleggene som er lastet opp for den aktuelle komponenten.\nRepeterende grupper Grupper i grupper Oppsummering støttes også for repeterende grupper inne i repeterende grupper. Vi støtter kun ett nivå av grupper i grupper. I dette tilfellet vises oppsummeringen av hvert innslag av gruppen på øverst nivå som en egen kategori, og gruppen på nederste nivå vises på samme måte som vanlige repeterende grupper. Kategorier Det er mulig å gruppere oppsummeringene i forskjellige kategorier, for å gjøre en ev. oppsummeringsside mer oversiktlig. Dette gjøres ved å bruke den eksisterende gruppe-komponenten, uten å sette den opp som en repeterende gruppe.\nFeltene i oppsummeringen vises da med en tittel, som settes i title-feltet for textResourceBindings for gruppe-komponenten. Se eksempel under.\n{ \u0026#34;id\u0026#34;: \u0026#34;personalia-group\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Group\u0026#34;, \u0026#34;textResourceBindings\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;Personalia\u0026#34; }, \u0026#34;children\u0026#34;: [ \u0026#34;summary-1\u0026#34;, \u0026#34;summary-2\u0026#34;, \u0026#34;summary-3\u0026#34; ] }, { \u0026#34;id\u0026#34;: \u0026#34;summary-1\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Summary\u0026#34;, \u0026#34;componentRef\u0026#34;: \u0026#34;d566c79c-3e3e-445b-be25-a404508f6607\u0026#34;, \u0026#34;pageRef\u0026#34;: \u0026#34;personalia\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;summary-2\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Summary\u0026#34;, \u0026#34;componentRef\u0026#34;: \u0026#34;22a60bf0-d5b7-4b45-9ac9-c266b6ad3716\u0026#34;, \u0026#34;pageRef\u0026#34;: \u0026#34;personalia\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;summary-3\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Summary\u0026#34;, \u0026#34;componentRef\u0026#34;: \u0026#34;d497737b-67b2-4e03-87a9-43f58579c938\u0026#34;, \u0026#34;pageRef\u0026#34;: \u0026#34;personalia\u0026#34; }, Eksempel på oppsummeringsside Under er et eksempel på en oppsummeringsside, med oppsett i layout-filen. Da oppsummeringen settes opp i layout-filene på samme måte som andre komponenter, kan man også ha med andre skjemakomponenter som tekster ved behov.\n{ \u0026#34;$schema\u0026#34;: \u0026#34;https://altinncdn.no/schemas/json/layout/layout.schema.v1.json\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;layout\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;send-in-text\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Paragraph\u0026#34;, \u0026#34;componentType\u0026#34;: 1, \u0026#34;textResourceBindings\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;finish\u0026#34; }, \u0026#34;dataModelBindings\u0026#34;: {} }, { \u0026#34;id\u0026#34;: \u0026#34;personalia-group\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Group\u0026#34;, \u0026#34;textResourceBindings\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;Personalia\u0026#34; }, \u0026#34;children\u0026#34;: [ \u0026#34;summary-1\u0026#34;, \u0026#34;summary-2\u0026#34;, \u0026#34;summary-3\u0026#34; ] }, { \u0026#34;id\u0026#34;: \u0026#34;summary-1\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Summary\u0026#34;, \u0026#34;componentRef\u0026#34;: \u0026#34;d566c79c-3e3e-445b-be25-a404508f6607\u0026#34;, \u0026#34;pageRef\u0026#34;: \u0026#34;personalia\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;summary-2\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Summary\u0026#34;, \u0026#34;componentRef\u0026#34;: \u0026#34;22a60bf0-d5b7-4b45-9ac9-c266b6ad3716\u0026#34;, \u0026#34;pageRef\u0026#34;: \u0026#34;personalia\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;summary-3\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Summary\u0026#34;, \u0026#34;componentRef\u0026#34;: \u0026#34;d497737b-67b2-4e03-87a9-43f58579c938\u0026#34;, \u0026#34;pageRef\u0026#34;: \u0026#34;personalia\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;drugs-group\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Group\u0026#34;, \u0026#34;textResourceBindings\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;Rus- og dopingmidler\u0026#34; }, \u0026#34;children\u0026#34;: [ \u0026#34;summary-4\u0026#34;, \u0026#34;summary-5\u0026#34;, \u0026#34;summary-6\u0026#34;, \u0026#34;summary-7\u0026#34; ] }, { \u0026#34;id\u0026#34;: \u0026#34;summary-4\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Summary\u0026#34;, \u0026#34;componentRef\u0026#34;: \u0026#34;064c0033-8996-4825-85fc-2a19fe654400\u0026#34;, \u0026#34;pageRef\u0026#34;: \u0026#34;drugs\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;summary-5\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Summary\u0026#34;, \u0026#34;componentRef\u0026#34;: \u0026#34;7f22e523-3f6d-4371-a5dd-233dc41af824\u0026#34;, \u0026#34;pageRef\u0026#34;: \u0026#34;drugs\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;summary-6\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Summary\u0026#34;, \u0026#34;componentRef\u0026#34;: \u0026#34;18a7c709-ae2f-48b3-b6f6-bd631f5d8d56\u0026#34;, \u0026#34;pageRef\u0026#34;: \u0026#34;drugs\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;summary-7\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Summary\u0026#34;, \u0026#34;componentRef\u0026#34;: \u0026#34;b7417cf9-f806-4835-a3d1-424c8d094d5f\u0026#34;, \u0026#34;pageRef\u0026#34;: \u0026#34;drugs\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;summary-group-1\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Summary\u0026#34;, \u0026#34;componentRef\u0026#34;: \u0026#34;arbeidserfaring-group\u0026#34;, \u0026#34;pageRef\u0026#34;: \u0026#34;work\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;summary-8\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Summary\u0026#34;, \u0026#34;componentRef\u0026#34;: \u0026#34;25f720db-5784-4c95-a530-43f0bf523466\u0026#34;, \u0026#34;pageRef\u0026#34;: \u0026#34;attachment\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;312afa87-c2a9-4ef1-a681-26cc47462878\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Button\u0026#34;, \u0026#34;componentType\u0026#34;: 9, \u0026#34;textResourceBindings\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;Send inn\u0026#34; }, \u0026#34;dataModelBindings\u0026#34;: {}, \u0026#34;textResourceId\u0026#34;: \u0026#34;Standard.Button.Button\u0026#34;, \u0026#34;customType\u0026#34;: \u0026#34;Standard\u0026#34; } ] } } "
},
{
	"uri": "https://altinn.github.io/docs/api/rest/referanse-app/",
	"title": "Referanse-app",
	"tags": [],
	"description": "Altinn har tilgjengeliggjort referansekode for å gjøre det enklere å lage applikasjoner med Altinn-funksjonalitet.",
	"content": "Referansekoden ligger på Altinns repository på GitHub: https://github.com/Altinn/AltinnApp/\nLisensen for denne koden er type BSD 3-klausul-lisens, noe som gir et godt grunnlag for de som ønsker å tilpasse koden til den bruken de måtte ønske.\nFor å sikre at API-et som er brukt i referansekoden ikke misbrukes, krever Altinn at de som ønsker å benytte det registrerer sin applikasjon.\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/regelmotor/",
	"title": "Regelmotor",
	"tags": [],
	"description": "Utviklingshåndbok for Altinn regelmotor. Regelmotoren er et alternativ til å utvikle logikk i C# og InfoPath.",
	"content": "\rInnledning\rAltinns regelmotor (Altinn Rule Engine/ARE) tilbyr en alternativ måte å utføre utregning, validering og overføring av verdier mellom skjema.\n\r\rRegler\rRegelfilen bygges opp av en eller flere regler (valideringer eller overføringer). Alle reglene som støttes listes her.\n\r\rBetingelser\rBetingelser (conditions) brukes til å styre om en regel skal kjøres eller ikke.\n\r\rUtvidede beskrivelser\rBruk av regelmotor for parallell signering og vedleggsfiltrering.\n\r\rEksempler\rDiverse eksempler på bruk av regelmotoren sammen med skjema.\n\r\rInnføring i xml\rHelt grunnleggende innføring i XML. Både regelfiler og skjemadata i Altinn lagres som XML.\n\r\rRegelmotor.xsd\rXML Schema Definition for Altinn regelfiler.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/regelmotor/xsd/",
	"title": "Regelmotor.xsd",
	"tags": [],
	"description": "XML Schema Definition for Altinn regelfiler.",
	"content": "\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;xs:schema xmlns:xs=\u0026#34;http://www.w3.org/2001/XMLSchema\u0026#34;\u0026gt; \u0026lt;xs:element name=\u0026#34;AltinnRuleEngine\u0026#34;\u0026gt; \u0026lt;xs:complexType\u0026gt; \u0026lt;xs:sequence\u0026gt; \u0026lt;xs:element name=\u0026#34;Description\u0026#34; type=\u0026#34;xs:string\u0026#34;/\u0026gt; \u0026lt;xs:element name=\u0026#34;Configuration\u0026#34;\u0026gt; \u0026lt;xs:complexType\u0026gt; \u0026lt;xs:sequence\u0026gt; \u0026lt;xs:element name=\u0026#34;Forms\u0026#34;\u0026gt; \u0026lt;xs:complexType\u0026gt; \u0026lt;xs:sequence\u0026gt; \u0026lt;xs:element name=\u0026#34;Form\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34;\u0026gt; \u0026lt;xs:complexType\u0026gt; \u0026lt;xs:attribute name=\u0026#34;name\u0026#34; type=\u0026#34;xs:string\u0026#34; use=\u0026#34;optional\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;dataFormatId\u0026#34; type=\u0026#34;xs:integer\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;validationEngine\u0026#34; use=\u0026#34;required\u0026#34;\u0026gt; \u0026lt;xs:simpleType\u0026gt; \u0026lt;xs:restriction base=\u0026#34;xs:string\u0026#34;\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;AltinnRuleEngine\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;InfoPath\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;Both\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;None\u0026#34;/\u0026gt; \u0026lt;/xs:restriction\u0026gt; \u0026lt;/xs:simpleType\u0026gt; \u0026lt;/xs:attribute\u0026gt; \u0026lt;xs:attribute name=\u0026#34;calculationEngine\u0026#34; use=\u0026#34;required\u0026#34;\u0026gt; \u0026lt;xs:simpleType\u0026gt; \u0026lt;xs:restriction base=\u0026#34;xs:string\u0026#34;\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;AltinnRuleEngine\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;InfoPath\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;Both\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;None\u0026#34;/\u0026gt; \u0026lt;/xs:restriction\u0026gt; \u0026lt;/xs:simpleType\u0026gt; \u0026lt;/xs:attribute\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;/xs:element\u0026gt; \u0026lt;/xs:sequence\u0026gt; \u0026lt;xs:attribute name=\u0026#34;default\u0026#34; type=\u0026#34;xs:string\u0026#34; use=\u0026#34;optional\u0026#34;/\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;/xs:element\u0026gt; \u0026lt;xs:element name=\u0026#34;Codelists\u0026#34; minOccurs=\u0026#34;0\u0026#34;\u0026gt; \u0026lt;xs:complexType\u0026gt; \u0026lt;xs:sequence\u0026gt; \u0026lt;xs:element name=\u0026#34;Codelist\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34;\u0026gt; \u0026lt;xs:complexType\u0026gt; \u0026lt;xs:attribute name=\u0026#34;name\u0026#34; type=\u0026#34;xs:string\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;lang\u0026#34; type=\u0026#34;Languages\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;version\u0026#34; type=\u0026#34;xs:integer\u0026#34; use=\u0026#34;optional\u0026#34;/\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;/xs:element\u0026gt; \u0026lt;/xs:sequence\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;/xs:element\u0026gt; \u0026lt;xs:element name=\u0026#34;PurgeMissingTransfers\u0026#34; minOccurs=\u0026#34;0\u0026#34;\u0026gt; \u0026lt;xs:complexType name=\u0026#34;\u0026#34;\u0026gt; \u0026lt;xs:attribute name=\u0026#34;value\u0026#34; type=\u0026#34;xs:string\u0026#34; use=\u0026#34;optional\u0026#34;/\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;/xs:element\u0026gt; \u0026lt;/xs:sequence\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;/xs:element\u0026gt; \u0026lt;xs:element name=\u0026#34;Rules\u0026#34;\u0026gt; \u0026lt;xs:complexType\u0026gt; \u0026lt;xs:sequence\u0026gt; \u0026lt;xs:element name=\u0026#34;Rule\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34;\u0026gt; \u0026lt;xs:complexType\u0026gt; \u0026lt;xs:sequence\u0026gt; \u0026lt;xs:element name=\u0026#34;Source\u0026#34; minOccurs=\u0026#34;0\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34;\u0026gt; \u0026lt;xs:complexType\u0026gt; \u0026lt;xs:attribute name=\u0026#34;form\u0026#34; type=\u0026#34;xs:integer\u0026#34; use=\u0026#34;optional\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;field\u0026#34; type=\u0026#34;xs:string\u0026#34; use=\u0026#34;optional\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;addFields\u0026#34; type=\u0026#34;xs:string\u0026#34; use=\u0026#34;optional\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;subtractFields\u0026#34; type=\u0026#34;xs:string\u0026#34; use=\u0026#34;optional\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;sumRecurringFields\u0026#34; type=\u0026#34;xs:boolean\u0026#34; use=\u0026#34;optional\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;multiple\u0026#34; type=\u0026#34;xs:boolean\u0026#34; use=\u0026#34;optional\u0026#34;/\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;/xs:element\u0026gt; \u0026lt;xs:element name=\u0026#34;Target\u0026#34; minOccurs=\u0026#34;0\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34;\u0026gt; \u0026lt;xs:complexType\u0026gt; \u0026lt;xs:attribute name=\u0026#34;form\u0026#34; type=\u0026#34;xs:integer\u0026#34; use=\u0026#34;optional\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;field\u0026#34; type=\u0026#34;xs:string\u0026#34; use=\u0026#34;optional\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;index\u0026#34; type=\u0026#34;xs:integer\u0026#34; use=\u0026#34;optional\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;value\u0026#34; type=\u0026#34;xs:string\u0026#34; use=\u0026#34;optional\u0026#34;/\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;/xs:element\u0026gt; \u0026lt;xs:element name=\u0026#34;Param\u0026#34; minOccurs=\u0026#34;0\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34;\u0026gt; \u0026lt;xs:complexType\u0026gt; \u0026lt;xs:attribute name=\u0026#34;name\u0026#34; use=\u0026#34;required\u0026#34;\u0026gt; \u0026lt;xs:simpleType\u0026gt; \u0026lt;xs:restriction base=\u0026#34;xs:string\u0026#34;\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;AlwaysRun\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;BaseRate\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;CalculationType\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;CheckCount\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;Deductible\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;DoNotIgnoreZeroValue\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;IgnoreGUID\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;IgnorePrefill\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;IndustryTypes\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;InsertEmptyIfNotCalculated\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;MaxDeduction\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;MaxDistance\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;MinimumTollAndFerryDeduction\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;NormalRate\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;OverMaxDistanceRate\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;PercentageField\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;PercentageTransfer\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;RemoveDirtyField\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;RemoveFieldIfConditionsFail\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;RemoveOnMismatch\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;SetNillable\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;SignStorageHint\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;TransferRecurringFields\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;TransferType\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;USField\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;USField1\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;USField2\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;UtbytteFeltHS\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;UtbytteFeltUS\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;ValidationType\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;ValueType\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;XPath\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;xPathsToValidate\u0026#34;/\u0026gt; \u0026lt;/xs:restriction\u0026gt; \u0026lt;/xs:simpleType\u0026gt; \u0026lt;/xs:attribute\u0026gt; \u0026lt;xs:attribute name=\u0026#34;value\u0026#34; type=\u0026#34;xs:string\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;/xs:element\u0026gt; \u0026lt;xs:element name=\u0026#34;Condition\u0026#34; type=\u0026#34;Conditions\u0026#34; minOccurs=\u0026#34;0\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34;/\u0026gt; \u0026lt;xs:element name=\u0026#34;ErrorTextValueFields\u0026#34; minOccurs=\u0026#34;0\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34;\u0026gt; \u0026lt;xs:complexType\u0026gt; \u0026lt;xs:attribute name=\u0026#34;fields\u0026#34; type=\u0026#34;xs:string\u0026#34; use=\u0026#34;optional\u0026#34;/\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;/xs:element\u0026gt; \u0026lt;xs:element name=\u0026#34;caption\u0026#34; type=\u0026#34;Texts\u0026#34; minOccurs=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;xs:element name=\u0026#34;Texts\u0026#34; type=\u0026#34;Texts\u0026#34; minOccurs=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;/xs:sequence\u0026gt; \u0026lt;xs:attribute name=\u0026#34;type\u0026#34; use=\u0026#34;required\u0026#34;\u0026gt; \u0026lt;xs:simpleType\u0026gt; \u0026lt;xs:restriction base=\u0026#34;xs:string\u0026#34;\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;CalculateRF1086\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;RemoveFieldElement\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;RemoveParentPost\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;SetFieldValue\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;SimpleValidation\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;TransferResult\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;TransferValue\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;ValidateRF1086\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;websa:InternalRF1224Calculations\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;websa:TransferFromNO1ToRF1224\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;websa:TransferFromRF1084ToRF1030\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;websa:TransferFromRF1084ToRF1175\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;websa:TransferFromRF1125ToRF1030\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;websa:TransferSumFrom0402\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;websa:TransferSumToChildcare\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;websa:TransferSumToTravelDeduction\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;websa:TransferSumToWizard\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;websa:ValidatePost337StandardDeductionTempStay\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;websa:ValidateRF1219TransferToWizard\u0026#34;/\u0026gt; \u0026lt;xs:enumeration\tvalue=\u0026#34;websa:ValidateRF1224BelongsToPost0402\u0026#34;/\u0026gt; \u0026lt;/xs:restriction\u0026gt; \u0026lt;/xs:simpleType\u0026gt; \u0026lt;/xs:attribute\u0026gt; \u0026lt;xs:attribute name=\u0026#34;description\u0026#34; type=\u0026#34;xs:string\u0026#34; use=\u0026#34;optional\u0026#34;/\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;/xs:element\u0026gt; \u0026lt;/xs:sequence\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;/xs:element\u0026gt; \u0026lt;/xs:sequence\u0026gt; \u0026lt;xs:attribute name=\u0026#34;version\u0026#34; type=\u0026#34;xs:string\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;name\u0026#34; type=\u0026#34;xs:string\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;!-- Keys --\u0026gt; \u0026lt;xs:key name=\u0026#34;dataFormatId\u0026#34;\u0026gt; \u0026lt;xs:selector xpath=\u0026#34;Configuration/Forms/Form\u0026#34;/\u0026gt; \u0026lt;xs:field xpath=\u0026#34;@dataFormatId\u0026#34;/\u0026gt; \u0026lt;/xs:key\u0026gt; \u0026lt;xs:key name=\u0026#34;codelist\u0026#34;\u0026gt; \u0026lt;xs:selector xpath=\u0026#34;Configuration/Codelists/Codelist\u0026#34;/\u0026gt; \u0026lt;xs:field xpath=\u0026#34;@name\u0026#34;/\u0026gt; \u0026lt;/xs:key\u0026gt; \u0026lt;!-- Keyrefs --\u0026gt; \u0026lt;xs:keyref name=\u0026#34;SourceFormRef\u0026#34; refer=\u0026#34;dataFormatId\u0026#34;\u0026gt; \u0026lt;xs:selector xpath=\u0026#34;Rules/Rule/Source\u0026#34;/\u0026gt; \u0026lt;xs:field xpath=\u0026#34;@form\u0026#34;/\u0026gt; \u0026lt;/xs:keyref\u0026gt; \u0026lt;xs:keyref name=\u0026#34;TargetFormRef\u0026#34; refer=\u0026#34;dataFormatId\u0026#34;\u0026gt; \u0026lt;xs:selector xpath=\u0026#34;Rules/Rule/Target\u0026#34;/\u0026gt; \u0026lt;xs:field xpath=\u0026#34;@form\u0026#34;/\u0026gt; \u0026lt;/xs:keyref\u0026gt; \u0026lt;xs:keyref name=\u0026#34;ConditionCodelistRef\u0026#34; refer=\u0026#34;codelist\u0026#34;\u0026gt; \u0026lt;xs:selector xpath=\u0026#34;Rules/Rule/Condition\u0026#34;/\u0026gt; \u0026lt;xs:field xpath=\u0026#34;@codelist\u0026#34;/\u0026gt; \u0026lt;/xs:keyref\u0026gt; \u0026lt;/xs:element\u0026gt; \u0026lt;xs:simpleType name=\u0026#34;Languages\u0026#34;\u0026gt; \u0026lt;xs:restriction base=\u0026#34;xs:string\u0026#34;\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;1033\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;1044\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;2068\u0026#34;/\u0026gt; \u0026lt;/xs:restriction\u0026gt; \u0026lt;/xs:simpleType\u0026gt; \u0026lt;xs:complexType name=\u0026#34;Texts\u0026#34;\u0026gt; \u0026lt;xs:sequence\u0026gt; \u0026lt;xs:element name=\u0026#34;Text\u0026#34; maxOccurs=\u0026#34;3\u0026#34;\u0026gt; \u0026lt;xs:complexType\u0026gt; \u0026lt;xs:simpleContent\u0026gt; \u0026lt;xs:extension base=\u0026#34;xs:string\u0026#34;\u0026gt; \u0026lt;xs:attribute name=\u0026#34;lang\u0026#34; type=\u0026#34;Languages\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;/xs:extension\u0026gt; \u0026lt;/xs:simpleContent\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;/xs:element\u0026gt; \u0026lt;/xs:sequence\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;xs:complexType name=\u0026#34;Conditions\u0026#34;\u0026gt; \u0026lt;xs:attribute name=\u0026#34;type\u0026#34; use=\u0026#34;required\u0026#34;\u0026gt; \u0026lt;xs:simpleType\u0026gt; \u0026lt;xs:restriction base=\u0026#34;xs:string\u0026#34;\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;AnyFieldEquals\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;AnyFieldExists\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;AnyFieldHasValue\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;AnyFieldHasValueIgnoreZero\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;AnyFieldIsEmpty\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;AnyFieldIsMissing\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;AnyFieldIsPositive\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;AnyFieldNotEquals\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;CodeExistsInCodeList\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;CodeNotInCodeList\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;ContainsAny\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;DoesNotMatchPattern\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;Equals\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;Exists\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;GreaterThan\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;HasAnyForm\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;HasForm\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;HasValue\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;HasValueIgnoreZero\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;IsEmpty\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;IsEmptyWithZeroValue\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;IsMissing\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;IsNegative\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;IsNonValidEmail\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;IsNonValidOrgNr\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;IsNonValidSSN\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;IsPositive\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;IsPositiveIncludingZero\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;IsPrefilled\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;IsValidOrgNr\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;IsValidSSN\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;LessThan\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;MatchPattern\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;MissingForm\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;NoneFieldHasValue\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;NotEqualAcrossMultipleForms\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;NotEquals\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;NotExists\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;NotPrefilled\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;SumEquals\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;SumNotEquals\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;SumNotEqualsWithRange\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;ValueFoundMoreThanOnceInFields\u0026#34;/\u0026gt; \u0026lt;xs:enumeration value=\u0026#34;ValueNotInCodeList\u0026#34;/\u0026gt; \u0026lt;/xs:restriction\u0026gt; \u0026lt;/xs:simpleType\u0026gt; \u0026lt;/xs:attribute\u0026gt; \u0026lt;xs:attribute name=\u0026#34;check\u0026#34; type=\u0026#34;xs:string\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;value\u0026#34; type=\u0026#34;xs:string\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;valuesourceform\u0026#34; type=\u0026#34;xs:string\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;valuefieldindex\u0026#34; type=\u0026#34;xs:integer\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;codelist\u0026#34; type=\u0026#34;xs:string\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;form\u0026#34; type=\u0026#34;xs:string\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;fieldindex\u0026#34; type=\u0026#34;xs:integer\u0026#34;/\u0026gt; \u0026lt;xs:attribute name=\u0026#34;donotignorezero\u0026#34; type=\u0026#34;xs:boolean\u0026#34;/\u0026gt; \u0026lt;/xs:complexType\u0026gt; \u0026lt;/xs:schema\u0026gt; "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/intro-slide/",
	"title": "Samtykke (slide)",
	"tags": [],
	"description": "Slide som beskriver samtykke-løsningen i Altinn.",
	"content": "\r# Samtykkeløsningen\r---\rSamtykkeløsningen i Altinn gjør det mulig at sluttbruker kan samtykke til at data om dem kan deles mellom en datakilde (tjenesteeier) og en datakonsument (den som trenger data). ___\r- Tidsbegrenset\r- Leserettighet\r- Kan trekkes / En gangs bruk\r- Oversikt\r___\r- Ble introdusert i Altinn 16.1\r- Benyttes i dag for tilgang til skattedata\r- ca 50.000 personer ga samtykke til bankene i løpet av høsten\r- Kan benyttes til en rekke scenario. ---\r## Arkitektur\r___\r- Bygger på Altinns autorisasjonsmodell\r- Enkeltrettigheter med tidsbegrensning\r- Lenktetjeneste eller innsynstjeneste\r- JSON Web Token\r___\r![Autorisasjonsregler](authorization-rule.png)\r---\r## Hvordan fungerer det\r___\r![Samtykkesiden](../sluttbruker/samtykkesiden/samtykkeside.png)\r___\r- Blir registrert som rettighet i Altinn\r- Generes et Access Token\r___\r### 4 arbeidsflyter\r- Selfcontained token utenfor Altinn\r- Dataflyt gjennom Altinn\r- Dataflyt utenom Altinn\r- Dataflyt utenom Altinn med reference token\r___\r![Prosess](../prosess.png)\r___\r![Samtykkeprosess i Altinn](consent-process-througaltinn.png)\r___\r![Samtykkeprosess utenfor Altinn](consent-process-outsidealtinn.png)\r___\r![Samtykkeprosess utenfor Altinn](consent-process-outsidealtinn-reference.png)\r---\r## Hva må til\r___\r### Tjenesteeier\r- Tjeneste må defineres i Altinn (Lenke eller innsynstjeneste)\r- Tjeneste må lages med samtykketekst som beskriver hva man samtykker\r- Man må definere eventuelle parametre\r- Man må definere hvem som kan be om samtykke og hvilken URL som er lovlig (SRR)\r- Man må eksponere en tjeneste for å hente data\r- Man må validere samtykke\r___\r### Datakilde\r- Typisk tjenesteeier, men kan være annen aktør som tjenesteeier har avtale med\r- Etablere grensesnitt for uthenting av data\r- Validere token\r___\r### Datakonsument\r- Etablere prosess hvor bruker blir sendt til samtykkeside med korrekt parametre\r- Motta autorisasjonskode når bruker kommer i retur\r- Veksle inn autorisasjonskode i token\r- Kalle tjeneste hos tjenesteeier for å hente ut data. ___\r### Sluttbruker\r- Logge inn på Altinn\r- Akseptere samtykke\r----\r## Grensesnitt i Altinn\r___\r- XACML Grensesnitt (Web service)\r- Token grensesnitt (REST)\r- Innsyn (REST, WebService og Web)\r- Samtykkesiden (Web)\r- Føderering (For offentlige etater)\r---\r## The End\r[Tilbake](../)\r\r\r\r\r\r\rfunction initSlides() {\rReveal.initialize({\rembedded : true,\rcontrols : \"true\", center: \"true\" ,\thistory: \"true\" ,\rprogress: \"true\" ,\rtransition: \"convex\",\rdependencies: [\r{ src: '\\/docs\\/revealjs\\/lib\\/js\\/classList.js\"', condition: function() { return !document.body.classList; } },\r{ src: '\\/docs\\/revealjs\\/plugin\\/markdown\\/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },\r{ src: '\\/docs\\/revealjs\\/plugin\\/markdown\\/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },\r{ src: '\\/docs\\/revealjs\\/plugin\\/highlight\\/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },\r{ src: '\\/docs\\/revealjs\\/plugin\\/zoom-js\\/zoom.js', async: true, condition: function() { return !!document.body.classList; } },\r{ src: '\\/docs\\/revealjs\\/plugin\\/notes\\/notes.js', async: true, condition: function() { return !!document.body.classList; } }\r]\r});\r}\r\r\rSee it fullscreen\r\rvar toto = document.getElementById('slideContent').innerHTML\rdocument.getElementById('slideFrame').contentWindow.document.write(document.getElementById('slideContent').innerHTML); document.getElementById('slideContent').remove();\rdocument.addEventListener(\"DOMContentLoaded\",function(){\rsetTimeout(function () {\rdocument.getElementById('slideFrame').contentWindow.initSlides() ;\r}, 2000);\r});\rfunction slideFullScreen() {\rdocument.open();\rdocument.write(toto);\rdocument.close();\rinitSlides()\r}\r "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/datakilde/opprett-tjeneste/maler/",
	"title": "Samtykke/fullmaktsmaler",
	"tags": [],
	"description": "Samtykke- og fullmaktsmaler som er definert i løsningen. Disse kan benyttes på hvilken som helst lenke- eller innsynstjeneste som er definert som en samtykketjeneste.",
	"content": "Introduksjon Maler definerer hvordan brukerdialogen presenteres, både i forbindelse med å gi et samtykke, se/trekke et eksisterende samtykke og hvordan logginnslagene ser ut i Avtaleloggen.\nMalegenskaper Det finnes to typer maler, samtykke og fullmakt. Disse er teknisk identiske, men påvirker ordlyden i dialogene og i loggene. På denne måten har du som datatilbyder stor fleksibilitet til å kunne sikre at brukerne blir tilstrekkelig informert før de inngår avtalen.\nEn mal kan også definere en overstyrt melding, som i utgangspunktet kan styres av konsumenten (dette feltet kalles requestMessage i den nye samtykkeløsningen, og DelegationContext i den gamle lenkebaserte samtykkeløsningen). Når en tjeneste benytter en mal med overstyrt melding, vil ikke konsumenter kunne oppgi denne selv - i stedet vil meldingen definert i malen alltid benyttes.\nBruk av maler på tjenester Samtykkeforespørsler kan omfatte flere tjenester. Det er imidlertid ikke mulig å oppgi tjenester i én og samme samtykkeforespørsler som bruker ulike maler. Hvis dette forsøkes av konsument, vil dette gi en feilmelding og forespørsel vil ikke bli opprettet.\nHvis en tjeneste endrer mal og publiseres på nytt, vil dette ikke ha tilbakevirkende kraft. Eksisterende samtykke/fullmaktsdelegeringer vil altså ikke påvirkes, og vil fortsatt referere malen som var i bruk da samtykket ble gitt. Det samme gjelder om selve malen blir endret. Dette sikrer at eksisterende samtykker aldri vil kunne endres i forhold til hva brukeren så da han eller hun ga samtykket.\nDefinerte maler Under er malene som for øyeblikket er definert og kan tas i bruk:\nSamtykke til å hente data (standard) Mal for samtykke til hente data. Dette er standardmalen, og slik samtykkedialogen opprinnelig ble utformet.\n Type dialog: Samtykke Overstyrt melding? Nei  Samtykkebasert lånesøknad Som standardmal, men med overstyrt melding som brukt i samtykkebasert lånesøknad.\n Type dialog: Samtykke Overstyrt melding? Ja  Samtykke til å dele data Mal for samtykke til å dele data. Brukes i sammenhenger hvor samtykket gis til datakilden til å kunne dele med andre (potensielt flere) på dine vegne\n Type dialog: Samtykke Overstyrt melding? Nei  Fullmakt til å utføre en tjeneste Generisk mal for fullmaktsforespørsler.\n Type dialog: Fullmakt Overstyrt melding? Nei  "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/anbefalinger/eksempler/sbl/",
	"title": "Samtykkebasert lånesøknad",
	"tags": [],
	"description": "Samtykkebasert lånesøknad er et samarbeid mellom flere offentlige og private aktører i DSOP-samarbeidet (Digital Samhandling Offentlig Privat). Tjenesten gjør det mulig å hente skattegrunnlag og inntektsdata hos Skatteetaten med samtykkeløsningen fra Altinn.",
	"content": "Brukerstyrt samtykke i Altinn   Bruk av \u0026ldquo;Self-contained OAuth 2.0 token\u0026rdquo; Metoden som brukes i Samtykkebasert lånesøknad til å sende data er Self-contained OAuth-token. Det betyr at tokenet i seg selv inneholder all informasjon om rettigheten(e) som er blitt delegert fra sluttbruker til datakonsumenten.\nFiguren under viser prosessen med bruk av self-contained OAuth token i en tjeneste hvor brukeren søker om lån i banken. Her er “bank” datakonsumenten og “Skatteetaten” er datakilden:\nSlik ser typisk prosessen ut:  Lånesøker går inn på bankens nettside for å søke om lån. Lånesøker bekrefter i søknadsprosessen at han ønsker å gi banken samtykke til å innhente ligningsopplysninger og blir sendt til Altinn for å gi samtykke. Lånesøker logger inn i Altinn og gir samtykke. Altinn registrerer samtykket og delegerer rettighet. Rettighetsdelegering er utført og det sendes en autorisasjonskode tilbake. Lånesøker sendes tilbake til siden som er angitt av banken i redirect-Url. I Url sendes autorisasjonskoden samt en status som forteller om samtykke ble gitt. Ved bruk av forhåndsregistrerte samtykkeforespørsler vil banken kunne sjekke status på samtykket uavhengig av redirect. Autorisasjonskoden benyttes av banken mot Altinn for å få tak i Altinn-signert self-contained OAuth token. Altinn sender signert token til banken. Banken benytter signert token mot datakilden (f.eks. Skatteetaten). Tokenet verifiseres av Skatteetaten for å sjekke at innhold stemmer med ønsket utført operasjon og data returneres til banken.  Ta i bruk Samtykkebasert lånesøknad? Hvis du jobber for en bank, forsikringsselskap eller lignende og ønsker å hente inn skattegrunnlag og inntektsdata hos Skatteetaten, kan du følge BITS guide til samtykkebasert lånesøknad.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/datakonsument/komme-i-gang/samtykkebasert-lanesoknad/",
	"title": "Samtykkebasert lånesøknad",
	"tags": [],
	"description": "Informasjon om Samtykkebasert lånesøknad",
	"content": "Bits ivaretar ansvaret for utvikling og forvaltning av Samtykkebasert lånesøknad (SBL) mot Skatteetaten og Brønnøysundregistrene og styrer også onboardingen av bankene. Bits har sendt ut et rundskriv til bankene med informasjon om SBL og hvordan man kan koble seg på løsningen.\nSkatteetaten sin dokumentasjon finnes her.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/prosjekter/tjenester30/slide/",
	"title": "Slide",
	"tags": [],
	"description": "En presentasjon om målsettinger og konsepter for tjenester 3.0",
	"content": "Tjenester 3.0  Status Se siste status her.\n Hva er tjenester 3.0? 4 overordnede målsettinger\u0026hellip;\n Moderne tjenester  Brukervennlige og effektive tjenester Responsivt design Universell utforming God ytelse og lav responstid Basert på moderne og åpne web-standarder   Effektiv tjenesteutvikling  100% selvbetjening Effektiv og automatisert testing Parallell utvikling (basert på Git) Enkel datamodellering Åpen plattform med API\u0026rsquo;er   Enkelt for fagperson, fleksibelt for utvikler  Fagpersoner benytter nettleser Utviklere kan også bruke kode-editor Kan utvides av andre systemer   Åpen kildekode, cross-platform  Basert på åpen kildekode Deles som åpen kildekode Alle kan gjenbruke, og bidra til forbedringer Raskere videreutvikling Støtter Windows, macOS og Linux   Konsepter 6 konsepter\u0026hellip;\n Git som back-end  Alt som utvikles får full versjonshistorikk Enkel og rask deploy Ekte distribuert og parallell utvikling Back-end både for nettleser og kode-editor Git støttes av veldig mange verktøy    Nærhet til web-teknologi  Alt er basert på standard web-teknologi Verktøy blir aldri \u0026ldquo;i veien\u0026rdquo; eller utdatert Standard utviklerkompetanse Ingen proprietære verktøy som må læres   Effektiv testing  Støtte for automatisert testing Behøver ikke migrere for å få reell test Gjenbruker gjennomtestede komponenter Endringer i plattform gjøres kun ett sted   Enkelt å tilpasse  Alle deler av løsningen skal kunne \u0026ldquo;byttes ut\u0026rdquo; Kan utvides med egne widgets, maler, stilark, etc. Gjenbruk og overstyrbare defaults på alle nivåer API\u0026rsquo;er og Git som back-end gjør det enkelt å integrere andre systemer   Åpen kildekode  Tjenester 3.0 skal være åpen kildekode Vi skal benytte programvare med fri lisensiering, type MIT, Apache 2 eller BSD Vi skal bidra tilbake til prosjekter som vi benytter Ingen lisensutgifter   Cross-platform  Kan kjøre på både Windows, Linux og macOS Unngår låsing mot en enkelt plattform Kan kjøre lokalt på en laptop Muliggjør distribuert lokal utvikling og testing   Motivasjon Se Archimate arkitekturmodell.\n The End Tilbake\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/betaling/sp%C3%B8rsm%C3%A5l-og-svar/",
	"title": "Spørsmål og svar om Betaling",
	"tags": [],
	"description": "Ofte stilte spørsmål om Betaling.",
	"content": " Kan man benytte benytte Altinns betalingsløsning med Vipps? Ja. Men det er utfordringer med noen browsere på mobil som Vipps jobber med å rette. Hva er fordelen med å bruke Altinn sin løsning ifht å bygge fra bunnen selv? Altinn sin løsning er velprøvd mot de 3 største betalingsleverandørene og fungerer rett ut av boksen. Kan betalingsløsning brukes utenom Altinns portal? Ja, betaling kan brukes via Altinns REST-API  "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/digital-post-til-virksomheter/sp%C3%B8rsm%C3%A5l-og-svar/",
	"title": "Spørsmål og svar om DPV",
	"tags": [],
	"description": "Ofte stilte spørsmål om DPV",
	"content": " Kan man benytte de generelle meldingstjenestene til å sende Meldinger til privatpersoner?  Ja. Men vær OBS på vurderinger mht at privatpersoner i utgangspunktet skal ha sin post i DPI   Hvordan kan jeg benytte Altinn til å sende både til virksomheter og privatpersoner?  Du kan benytt de samme meldingstjeneste som for DPV, men må angi personnr som mottager.   Hva med DPI?  Hvis du benytter Difis IP (Integrasjonspunkt) til å integrere ditt IKT system til Altinn DPV, vil IP automatisk rute post til virksomheter og privatpersoner (DPV og DPI). Hvis du benytter Altinns API direkte, kan du benytte Altinns Videresendingsfunksjonalitet, som videresender Post til DPI. Det er det samme grensesnittet som benyttes for DPV, men parameterstyrt. Se dokumentasjon på \u0026ldquo;Videresending av Post til Innbygger via Altinn\u0026rdquo; Kommuner som benytter SvarUt ruter automatisk post til virksomheter og privatpersoner (DPV og DPI) Å sende Post til DPI forutsetter uansett at Avsender har avtale med Difi om bruk av DPI   Hvis man bruker KS SvarUt, trenger man da egen avtale om bruk av Altinn DPV?  Ja, hvis de er en offentlig etat (kommunene er unntatt) og bruker KS SvarUt, så må de uansett ha en DPV avtale med oss. Nei, hvis de er en kommune. Det er en egen avtale mellom Altinn og KS som håndterer dette for kommuner i Norge    "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/ux/ui-editor/layout-style/",
	"title": "Styling av skjema",
	"tags": [],
	"description": "Hvordan styre stylingen på skjema",
	"content": "Dette er helt ny funksjonalitet. Oppsett må gjøres manuelt inntil videre. Støtte for oppsett via Altinn Studio kommer snart.\nMERK: for å benytte denne funksjonaliteten må man ha app-frontend versjon 3. Se denne lenken om endringer som må til i appen.\n\rSidestilte komponenter Det er mulig å sidestille komponenter i skjema. Denne funksjonaliteten baserer seg på grid systemet til Material-UI, og vil også være kjent om man er kjent med grid-systemet til boostrap. Grid systemet baserer seg på en oppbygning av containere i 12 deler, hvor man så kan tildele barn (items) av en grid-container en gitt andel av denne bredden. Material-UI tilbyr også muligheten til å dynamisk endre hvor stor andel av skjermen man ønsker å oppta basert på hvilken skjermstørrelse sluttbrukeren har. Følgende størrelser med tilhørende breakpoints er definert:\n xs: 0px sm: 600px md: 1024px lg: 1440px xl: 1920px  For å sidestille komponenter horisontalt må man gjøre noen små endringer i formlayout. Det er definert en egen property grid som man kan fylle inn bredde ønsket på de ulik størrelsene. Her er et eksempel hvor to input-felt har blitt satt til å ta halve skjermen (enkelte props er fjernet for lesbarhet):\n{ { \u0026#34;id\u0026#34;: \u0026#34;input-felt-1\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Input\u0026#34;, ... \u0026#34;grid\u0026#34;: { \u0026#34;xs\u0026#34;: 6, } }, { \u0026#34;id\u0026#34;: \u0026#34;input-felt-2\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Input\u0026#34;, ... \u0026#34;grid\u0026#34;: { \u0026#34;xs\u0026#34;: 6 } } } I komponentene over er størrelsen satt til 6 (altså halv bredde) for størrelse xs. Siden xs er den minste størrelsen tilgjengelig vil dette gjelde fra størrelse xs og opp, altså fra xs til xl. Oppsettet over vil gi følgende resultat:\nSiden man har 12 inndelinger tilgjengelig i sidebredden er det opp til apputvikler å tildele hvor stor andel komponenten skal ha. Om man ønsker at en komponent skal ta 2/12, en annen 6/12 og siste 4/12 så er det mulig. Det er viktig å tenke på brukeropplevelsen når man gjør slike endringer, og sidestilling av komponenter bør gjøres med omhu. Komponenter med lengre tekster og beskrivelser blir også fort små og uoversiktelige om disse sidestilles. Skal det benyttes lengre tekster og beskrivelser anbefales det at disse benytter full bredde av skjema.\nOm man i eksemepelet over hadde ønsket at komponentene skulle ta hele bredden frem til skjermen ble større enn 960px så kunne man satt opp følgende layout:\n{ { \u0026#34;id\u0026#34;: \u0026#34;input-felt-1\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Input\u0026#34;, ... \u0026#34;grid\u0026#34;: { \u0026#34;xs\u0026#34;: 12, \u0026#34;sm\u0026#34;: 12, \u0026#34;md\u0026#34;: 6 } }, { \u0026#34;id\u0026#34;: \u0026#34;input-felt-2\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Input\u0026#34;, ... \u0026#34;grid\u0026#34;: { \u0026#34;xs\u0026#34;: 12, \u0026#34;sm\u0026#34;: 12, \u0026#34;md\u0026#34;: 6 } } } Da ville komponentene først legge seg sidestilt i det sluttbruker faktisk sitter på en skjerm som oppfyller kravet stilt.\nInnerGrid Utover det å sette bredde på grid i komponenten har vi også lagt til mulighet til å styre innerGrid. Å overstyre denne bredden vil typisk være for caser hvor man ønsker at teksten til en komponent skal oppta en større bredde enn input-feltet. Du kan tenke på komponenten på denne måten:\n\u0026lt;Grid id=\u0026#34;grid\u0026#34;\u0026gt; \u0026lt;div\u0026gt; Komponentens tekster \u0026lt;/div\u0026gt; \u0026lt;Grid id=\u0026#34;innerGrid\u0026#34;\u0026gt; Komponentens input \u0026lt;/Grid\u0026gt; \u0026lt;/Grid\u0026gt; Her vil det da være mulig å styre bredden til både ytterste grid og den innerste griden. Eksempel:\n{ { \u0026#34;id\u0026#34;: \u0026#34;input-felt-1\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Input\u0026#34;, ... \u0026#34;grid\u0026#34;: { \u0026#34;xs\u0026#34;: 12, \u0026#34;innerGrid\u0026#34;: { \u0026#34;xs\u0026#34;: 6 } } } } Her har man satt at komponent griden skal ta hele bredden, mens man begrenser komponentens input til å kun ta halve bredden. InnerGrid vil kunne styres for komponentene:\n Kort svar (Input) Langt svar (TextArea) Filopplaster (FileUpload) Nedtrekksliste (Dropdown) Datovelger (Datepicker)  Eksempelet over vil gi følgende output:\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/tjenester/tilsynsdata/",
	"title": "Tilda",
	"tags": [],
	"description": "Deling av data mellom tilsynsmyndigheter",
	"content": "Beviskoder \r\r\r\r\n\rTilgang\rAsynkron\rMaks tilgjengelighet\rHar parametre\r\rParametere\rDette er parametere som kan eller må oppgis i forespørselen\n\r\rParameter\rType\rPåkrevd\r\r\r\r\r\r \r\r\r\rVerdier i retur\rDette er feltene som ligger i svaret\n\r\rParameter\rType\rKilde\r\r\r\r\r\r \r\r\rEksempel på forespørsel\r\r\r\r\r\r\r\r\r\r\r"
},
{
	"uri": "https://altinn.github.io/docs/tul/tjenestetyper/",
	"title": "Tjenestetyper",
	"tags": [],
	"description": "Beskrivelse av de ulike tjenestetypene i Altinn og hvordan man oppretter og utvikler dem.",
	"content": "\rNy tjeneste og utgave\rHvordan opprette nye tjenester og utgaver.\n\r\r\r\rFelles\rFunksjonalitet som er felles for alle eller flere av tjenestetypene.\n\r\r\r\rFormidling\rFormidlingstjenesten bruker Altinn til å overføre (store) filer fra en avsender til en eller flere mottakere.\n\r\r\r\rInnsending\rInnendingstjenester brukes til å sende data fra Sluttbrukerløsningen eller fra sluttbrukersystemer til en etat/tjenesteeier.\n\r\r\r\rInnsyn\rInnsynstjenester brukes til å hente data ved å kalle en eller flere web services.\n\r\r\r\rLenke\rEn lenketjeneste er en lenke fra Altinn til en tjeneste som ligger hos tjenesteeieren.\n\r\r\r\rMelding\rMeldingstjenester definerer meldinger som kan sendes fra tjenesteeier til bruker.\n\r\r\r\rSamhandling\rEn samhandlingstjeneste grupperer enkelttjenester og presentere dem for sluttbruker i en prosess.\n\r\r\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/",
	"title": "Utviklingsguider",
	"tags": [],
	"description": "For å ta i bruk Altinns produkter, kan du følge en av våre utviklingsguider. Digital post kan du ta i bruk uten å være tjenesteeier i Altinn, mens resten av produktene krever at du er tjenesteeier.",
	"content": "\rDigital dialog\rMed digital dialog kan du lage alt fra enkle til avanserte skjemaer.\n\r\rDigital Post til Virksomheter\rAltinn er valgt som løsning for å sende digital post fra det offentlige til virksomheter. Vi har utviklet et ferdig sett med tjenester til dette formålet slik at du skal slippe å utvikle dem selv.\n\r\rSamtykke\rMed samtykke/fullmakt kan du be om lov til å hente/dele data det offentlige har om en innbygger eller virksomhet, eller utføre noe på vegne av dem. Du får da midlertidig innsyns- eller handlingsrett på et spesifikt sett med opplysninger eller tjenester fra brukeren. Dette kan for eksempel være ligningsdata fra Skatteetaten.\n\r\rVarsling\rVarsling er til for å minne brukerne på at det er kommet viktige ting de må se eller handle på. Når du som avsender skal varsle, tilrettelegger du dine systemer for å sende ut varsler og benytter en varslingsmal.\n\r\rAutorisasjon\rAltinn kan benyttes til autorisasjon og tilgangskontroll for eksterne tjenester, altså tjenester på andre nettsteder.\n\r\rDelegering av API-tilgang\rAltinn kan benyttes for å videredelegere tilgang til API-er sikret med Maskinporten\n\r\rSending av dokumenter: Formidlingstjenesten\rProduktet kan brukes til å sende dokumenter eller store datamengder mellom offentlige virksomheter eller mellom offentlige og private virksomheter.\n\r\rHente data fra register\rTjenesten gir brukerne tilgang til opplysninger som allerede finnes om dem i dine systemer.\n\r\rdata.altinn.no\rBeskrivelse av Altinns datadelingskomponent\n\r\rBetaling\rBetaling i Altinn kan tas i bruk frittstående eller som del av en innsendingstjeneste.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/ux/ui-editor/widgets/",
	"title": "Widgets",
	"tags": [],
	"description": "Hvordan bruke sammensatte komponenter (widgets)",
	"content": "Hva er en widget? En widget er en kompleks komponent, sammensatt av en eller flere enkle skjemakomponenter - de skjemakomponentene som er tilgjengelige for bruk i Altinn Studio i dag. En widget er et verktøy i Altinn Studio som gjør det lettere å lage og gjenbruke layouts.\nHvordan bruke widgets Widgets er tilgjengelige i venstre-menyen i skjemaeditoren i Altinn Studio. Den kan dras inn i skjemasiden på samme måte som andre skjemakomponenter. Når en widget dras inn i skjema i Altinn Studio, legges de skjemakomponentene som er definert som del av widget\u0026rsquo;en til i layouten, sammen med ev. standard oppsett som knytning til datamodell, tekster, osv. Når en widget er dratt inn i skjema, vil man kun se de skjemakomponentene som den er laget av. Disse kan redigeres som normalt i skjemaeditoren. Dersom det er tekster definert for widget\u0026rsquo;en, disse legges til i ressursfilene for tekster automatisk.\nEksempel: Meldings-widget Tilgjengelige widgets Standard widgets Vi vil etter hvert kunne tilby en samling av forskjellige widgets, disse vil dukke opp automatisk i venstre-menyen i skjemaeditoren i Altinn Studio. Listen oppdateres etter hvert som nye widgets legges til. Per nå. er følgende widgets tilgjengelig:\n   Navn Beskrivelse Skjermbilde     Melding Inneholder komponentene som utgjør en standard melding:\n tittel\nmeldingstekst\nvedlegg\nnavigasjonsknapp\nTekstene er satt opp med referanse til felt i standard melding datamodell. Se her for mer info om meldinger.     Egendefinerte widgets I tillegg til standard widgets som kommer opp automatisk i Altinn Studio, er det også mulig å definere sine egne widgets. En widget består av 3 deler:\n Komponenter: Dette er liste over komponentene som skal inngå, inkl. definisjon av disse komponentene. Dette settes opp på samme måte som i layout-filene, man kan f.eks. kopiere ut komponenter direkte fra en layout-fil. Visnings-navn: Dette er teksten som vises i Altinn Studio, i menyen der widget\u0026rsquo;en ligger. Tekstressurser: Dette er valgfritt, og er en liste over tekstressurser på de språk som man ønsker å ha med. Nyttig om komponentene f.eks. skal ha noen standard tekster de bruker.  Se oppsett for meldings-widget for et konkret eksempel. Det fins også en widget-mal som kan lastes ned for å komme i gang.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2018/18-2/",
	"title": "18.2",
	"tags": [],
	"description": "Diverse forbedringer relatert til skattemeldingen.",
	"content": "Endringer i webSA Årsrevisjon (9811) Hvert år gjøres det oppdateringer og endringer i RF-1030 (skattemeldingen/webSA), f.eks. nye poster, endring i eksisterende poster, sletting av utgåtte poster. Disse oppdateringene gjøres i RF-1030 datamodellen, som tas inn i nye utgaver av tjenestene \u0026ldquo;RF-1030PSA\u0026rdquo; og \u0026ldquo;RF-1030PSAN\u0026rdquo;. I tillegg oppdateres en rekke tekster og det gjøres også endringer på bl.a. overførings- og valideringsregler.\nEndringer knyttet til årsrevisjon  Rekkelfølge på felter i XSD (8067) Overførigsregler knyttet til Saldogruppe C er oppdatert (8411) Overstyring av tekster - webSA 2018 (14578) Obligatorisk felt i XSD og fjerne regler i regelfil (8057) Lenke til ELSA oppdateres (8115) Arvet bolig (8065) Endre valideringstekst - Val_54, Val_21, Val_58 og Val_59 (15592)  Ny skatteberegningsmodul (8117) Tidligere tjeneste for skatteberegning var en COBOL-modul som måtte vedlikeholdes hvert år ifm årsrevisjon. Det er nå implementert støtte for ny og mer moderne tjeneste for skatteberegning som er utviklet av Skatteetaten, og gammel modul fjernes derfor.\nEndringer i skattemeldings-menyen Det er åpnet for at brukere som kommer til skattemeldingen fra skattetaten.no skal få mulighet til å se lenken \u0026ldquo;til innboks\u0026rdquo; i menyen. Denne lenken har tidligere vært skjult for disse brukerne. Lenken Se informasjon om hvordan skattepengene brukes fjernes fra menyen, da siden som lenkes til ikke lenger vedlikeholdes. I tillegg blir meldingen RF-1088 synlig under \u0026ldquo;Årets skattedokumenter\u0026rdquo;, og lenke til meldiger under \u0026ldquo;Årets skattedokumenter\u0026rdquo; er oppdatert til å peke på ny meldingsvisning.\n Årets skattedokumenter (13539) Tilgang til skattemeldingen til skatteetaten.no (15852) Fjerne lenke \u0026ldquo;Se informasjon om hvordan skattepengene brukes\u0026rdquo; (16972)  Tekstendringer Det er gjort noen tekstendringer i løsningen for å forbedre brukskvalitet, bl.a. på hjelpesidene til webSA.\n Opplasting av fil og feilmelding (8113) Hjelpedokument del 1 og 2 (14841) RF-1030 PSA/PSAN - Tekstendring på nynorsk \u0026ldquo;Eigarpart\u0026rdquo; bør endres til \u0026ldquo;eigardel\u0026rdquo; (8091) RF-1030 PSAN m/RF-1175 - RF-1175 Mangler lenke i hjelpetekster til postene 7080 og 7099 (8081) Utrekk av siste webSA tekster (8095) Visning av hjelpetekst mangler (13404)  Diverse endringer i webSA-løsningen Det er flere mindre endringer i webSA-løsningen, både i portalen og på selve tjenesten. Bl.a. er \u0026ldquo;forenklet signeringsvisning\u0026rdquo; tatt bort som valg for RF-1030PSA i TUL. Øvrige endringer i selve tjenesten er primært i metadata. Blant endringer i webSA-løsningen i portal er flere sider oppdatert og regler i regelmotor som er spesifikke for webSA er oppdatert.\n RF-1030 - PSAN - KS/ANS, felles bedrift med ektefelle: Felt i RF-1219 skal være låst til poster i Skattemeldingen (8051) RF-1030 - PSAN - KS/ANS, felles bedrift med ektefelle: Felt i RF-1125 \u0026ldquo;Bruk av bil\u0026rdquo; skal være låst til poster i Skattemeldingen (8053) RF-1030 PSAN Endring vedrørende poster med overføring fra RF-1177 Landbruk. (8055) RF-1030 PSA/PSAN Post 2.2.3 Pensjon fra annen EØS-stat\u0026hellip; - Fra dato/Til dato må endre rekkefølge i regnearket (8071) Uttrekk av Hjelpetekst i RF-1175 webSA (8077) Svalbard US via RF-1175 fordeling? (8083) PSA - visning av signeringssteg (8093) RF-1030 Post 3.2.8. Reise mellom hjem og fast arbeidssted (8099) RF-1030 med næringsrapport skatt (8109) RF-1030 PSAN under start tjeneste mangler RF-nr for næringsrapport skatt (8123) RF-1030 . PSA/PSAN - Endring av maksgrense for fradrag for reise mellom hjem og arbeid/besøksreiser, post 3.2.8/3.2.9 (8127) Fjern valget \u0026ldquo;Tillat at virksomhetsbrukere kan benytte tjenesten\u0026rdquo; (8129) RF-1030 - PSA/PSAN - Feil overføring av beløpet null fra post 3.2.8/3.2.9 til nivå 2 og overstryking av prefill på nivå 1 (8131) Validering for NRS sammen med andre Næringsoppgaver/modus (8143) Dersom andre signerer for deg, synes ikke dette. (8374) Endring av regel VO_349 (8376) TJ05 - Næringsoppgave 1 og familiebarnehage - webSA (8391) Nedtrekksliste på post 3.1 / 4.1 / 4.5 - endre rekkefølge (8399) Ny ordning for skattefavorisert individuell sparing til pensjon (10974) Datovalidering på felt (11137) Tillate innsending fra SBS for orid 37266 (11491) Slette felt fra HTML (12156) Dynamikk i portal - SFU (12350) Oppdatering av design på post 3.2.10 Foreldrefradrag (kostnader til barnehage mv.) (12518) påkrevde felt i webSA (12733) Endre format på 1000 skille for engelsk - html (13070) Oppdatering av VAL_64 (13074) Ny ordning for Skattefavorisert individuell pensjonsordning i en annen EØS-stat (13234) VO endring for RF-1098 (13244) Oppdatert betingelse på overføring fra RF-1177 (13363) Justering av nettleservindu som åpnes via lenker (13371) Post 3.3.5 Dato for oppstart av pensjonsordningen i EØS-staten - Visning (13394) Fjering av custom signering og kvitteringssider for PSA og PSAN (13859) Popup til orid 37375 - skattebegrensning § 17-4 (14118)  Rettinger av feil som er funnet i tidligere releaser Flere feil som har blitt oppdaget i løsningen i tidligere releaser har blitt rettet. Disse omfatter endringer i både sider i webSA-løsningen og i metadata på tjenesten.\n RF-1030 PSAN m/1175, Opplysninger henger igjen i 9910 generelle oppl. når vi lager ny kopi og endrer (8047) RF-1030 PSA og PSAN Post 3.2.13 Særskilt fradrag for sjøfolk. Ikke mulig å lese hjelpetekst til posten dersom denne ikke er pre utfylt (8049) RF-1030 PSAN alle modus Feil tekst på VOI-siden (8059) RF-1030 PSAN Post 2.7.3 (orid 21704) mangler i nedtrekkslista under sumpost 2.7 (8061) Feil tekst på kvitteringssiden RF-1030 PSAN og Nynorsk og Engelsk versjon av PSA (8069) RF-1030 - PSAN m/RF-1175: Navnet på RF-1224 vises på bokmål i html med engelsk som språkvalg (8105) RF-1030 PSA/PSAN post 4.6.1 Fast eiendom i utlandet html - Kjøpsdato vises i feil format bokmål/nynorsk/engelsk (8073) RF-1030 PSA/PSAN Innlagte verdier i boligpostene mangler tusenskille i html. (8075) RF-1030 PSA og PSAN, post 2.1.9 og 2.1.2, Beløp mangler tusenskille og er venstrestilt (8119) RF-1030 PSA/PSAN - Post 3.5.1 Særfradrag for enslige forsørgere vises ikke på print (8137) WebSAMenuAvailableDate og feilmeldinger (8133) Tekst forsvinner på 1175 fordelingssiden (1250) orid 36583 skal ikke være synlig ved legg til (8373) Utbedre feil lenking - delegert rettighet og komplett innsending fra SBS (1273) Sjekkbokser er redigerbare på 4.3.2 bolig og Boenhet i boligselskap (1433) Redigerbare prefill felt blir slettet (8139) Håndtering av prefiks 00/+ for landkode på varslingsinfo fra Kofuvi (17048)  Plattformendringer Kan ikke printe WebSA dersom mer enn 50 underskjema (9044) Det ligger en begrensning inne på signerings- og kvitteringssiden som gjør at man ikke kan \u0026ldquo;Print all\u0026rdquo; hovedskjema og underskjema dersom bruker har fler enn 50 underskjema. Det er unødvendig at WebSA er omfattet av denne begrendningen, da WebSA bruker en egen print-visning som uansett ikke tillatter at PDF for alle underskjema genereres på en gang. Derfor unntas WebSA (PSA/PSAN) fra denne begrensingen.\nDobbelt kommategn i utskriften til RF1030 i navnet på RF-skjema i tjenesteeiers arkiv (8085) Basert på en feil relatert til WebSA print-visning fra tjenesteeiers arkiv som ble oppdaget i en tidligere release. I tilfeller der underskjema har presentasjonsfelter vises lenke til underskjema i print-visning med dobbelt kommategn foran presentasjonsfeltet.\nTilbake til innboks fra PSA arkiv print (8107) Når PSA bruker går til kvitteringssiden fra arkiv, vises lenke øverst i venstre hjørne som \u0026ldquo;Tilbake\u0026rdquo; og sender bruker til PSA-menyen. Dette er endret sånn at lenke viser \u0026ldquo;Til innboks\u0026rdquo; og bruker kommer tilbake til innboksen. Dette gjelder også når bruker er på kvitteringssiden etter å ha sendt inn PSA. Når bruker kommer til kvitterinssiden via \u0026ldquo;Årets skattedokumenter\u0026rdquo; på PSA-menyen viser lenke \u0026ldquo;Tilbake\u0026rdquo; og går til PSA-menyen som før.\nSvakhet i regelmotor (8121) Det er en svakhet i regelmotoren når man overfører repeterende poster/felter , med \u0026lt;Param name=\u0026quot;TransferRecurringFields\u0026quot; value=\u0026quot;true\u0026quot;/\u0026gt; Når dette gjøres henter koden ut verdien i feltet som et tall. Dersom den faktiske verdien i feltet ikke er et tall (som oppstår i noen tilfeller for WebSA) så blir tallverdien 0. Altså overføres verdien 0 i stedet for den faktiske verdien i feltet.\nDette løses ved å oppdatere metoden i regelmotoren for overføring av repeterende felter, TransferRecurringFields slik at den også håndtererå kunne overføre string-verdier. Dette er gjort ved å innføre en ny parameter StringTransfer som settes opp på de aktuelle overføringsreglene i regelfil. På den måten unngår man i så stor grad som mulig å berøre eksisterende regler som bruker \u0026ldquo;TransferRecurringFields\u0026rdquo;.\nSkatteetaten eller Skattedirektoratet (8135) Når Skatteetaten som tjenesteeier sender meldinger blir MessageSender satt til \u0026ldquo;Skattedirektoratet\u0026rdquo;. Dette er fordi det er beskrivelses-feltet fra tjenesteeiertabellen som brukes, og dette står som \u0026ldquo;Skattedirektoratet\u0026rdquo; i alle miljøer (bortsett fra utviklingsmiljø). Det er opprettet databasescript for å oppdatere dette til \u0026ldquo;Skatteetaten\u0026rdquo;.\nNy avgivertype i TUL (14767) Det er innført nytt avgiverkrav i TUL, \u0026ldquo;Konkursbo og juridisk enhet\u0026rdquo;. SBL er oppdatert til å håndtere det nye avgiverkravet.\nEndring decision point (14809) I sammenheng med 18.1 ble muligheten til å sperre (deny) tilgang til et element fjernet. For å ferdigstille denne endringen, og forbedre ytelsen i Altinn, så har vi nå fjernet noen unødvendige kall til databasen.\nInnføre SoftDueDate for RF-1088K (16171) Tjenesten RF-1088K legges inn i listen over tjenester som benytter soft due date funksjonaliteten som ble innført i 17.3.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2019/19-2/",
	"title": "19.2",
	"tags": [],
	"description": "Endringer i webSA, utvidet samtykketoken, mindre forbedringer og feilrettinger",
	"content": "Endringer i skattemeldingen Generelt om årets revisjon av skattemeldingen i Altinn Hvert år gjøres det oppdateringer og endringer i RF-1030 (skattemeldingen), f.eks. nye poster og underskjema, endring i eksisterende poster, sletting av utgåtte poster og underskjema. Disse oppdateringene gjøres i RF-1030 datamodellen, som tas inn i nye utgaver av tjenestene “RF-1030PSA” og “RF-1030PSAN”. I tillegg oppdateres en rekke tekster og det gjøres også endringer på bl.a. overførings- og valideringsregler. Nyheter om skattemeldingen vil fremover bli publisere på skatteetaten.no.\nSammendrag på signeringsside for Skattemelding for formue- og inntektsskatt – personlig næringsdrivende mv Tidligere endringer har resulterte i en uheldig visning av signeringssiden på Skattemelding for formue- og inntektsskatt – personlig næringsdrivende mv. Dette er nå utbedret, dersom bruker sender med underskjema som hadde egendefinerte signeringssider (f.eks RF-1175).\nStart skatteberegning i skattemeldingen Det er nå mulig å starte skatteberegning fra kvitteringssiden for Skattemelding for formue- og inntektsskatt - lønnstakere og pensjonister mv.\nSkattemelding for formue- og inntektsskatt – personlig næringsdrivende mv. og rød markering etter frist Næringsdrivende sender inn Skattemelding for formue- og inntektsskatt – personlig næringsdrivende mv. etter frist selv om denne tidligere har blitt sendt inn. Det er da i utgangspunktet ikke behov for ny innsending, med mindre det er nye endringer. Dette skjer spesielt med brukere som sender inn via SBS.\nI dag blir Skattemelding for formue- og inntektsskatt – personlig næringsdrivende mv. markert som rød i innboks dersom fristen har gått ut. Det er lagt inn kode som fjerner DueDate når fristen er utløpt for et element. DueDate fjernes hvis det allerede finnes en annen arkivert instans av samme tjenestetype. Fjerningen av duedate skjer når brukeren går til Innboksen. Rødmarkering vil nå ikke vises dersom tjenesten allerede er sendt til arkivet.\nEndringer i Portal Legge til vedlegg fra signeringssiden Når man fra signering og innsendingssiden trykker “Tilbake til utfylling” er tanken at alle vedlegg som har blitt lagt til under signeringssiden ikke lenger skal være synlig. En feil gjorde imidlertid at vedleggene var synlig for brukeren. Dette er nå rettet.\nHovedenheten er ikke lenger klikkbar i lite aktørvalg hvis man bare har tilgang til underenhet Tidligere var det mulig å klikke på hovedenheten som man ikke hadde tilgang til, noe som medførte at man kom til en side med en 403 feilmelding. Denne endringen fjernet muligheten for å klikke på en hovedenhet som man ikke har tilgang til via den lille avgiverlisten (i header). Dette gjør at aktørlisten i header har lik oppførsel som i den store aktørlisten.\nEndringer i REST API Individuelle skjema i PDF Tidligere lagret Altinn hele skjemasett i PDF formatet. Nå er de separert ut slik at man eksempelvis kan hente ned kun ett underskjema.\nAndre endringer Utvidet samtykketoken til å innholde informasjon om hvem som henter data (HandledBy) I en normal dialog hvor samtykke brukes for å hente data fra en datakilde så består denne av 3 parter:\n Den som gir samtykke (offeredBy) Den som får samtykke og som trenger data, datakonsumenten (coveredBy) Den som sitter på data som skal utveksles, datakilden  I noen tilfeller så er det mest hensiktsmessig at uthenting av data fra datakilden gjøres av en fjerde aktør som kan behandle samtykket på vegne av mottaker (datahåndterer). Dette kan f eks være i tilfelle hvor datakilden ikke har mulighet/ønske om å forholde seg til mange datakonsumenter. Datahåndterer vil da ha ansvar for at data kun formidles videre til datakonsument når det foreligger et gyldig samtykke i altinn. I token angis den som opptrer som datahåndterer som «HandledBy», se her for mer informasjon.\nUtsending av varsel til organisasjoner vil kreve tjenesteinformasjon for å sende varsel til personer rundt organisasjonen Dette er en endring i logikken som identifiserer de som skal ha varsel når tjenesteeier ønsker å sende varsel til en organisasjon. Endringen innebærer at de som har registrert personlig kontaktinformasjon for virksomheten ikke vil bli sendtvarsel hvis tjenesteeier ikke oppgir tjenesteinformasjon: ServiceCode og ServiceEdition.\nTjenesteinformasjonen brukes til å autorisere hver enkelt person slik at det kun er de med leserettigheter på tjenesten som får varsel. Hvis det ikke blir oppgitt noe tjenesteinformasjon kan ikke Altinn autorisere tilgang og derfor heller ikke sende varsel. I praksis gjelder denne endringen kun tjenesten for å sende uavhengig varsel SendStandAloneNotification. De andre tjenestene med varsel mekanismer har tjenesteinformasjon som obligatorisk input. I tidligere versjoner ville alle bli varslet.\nMaskering av fødselsnummer i kvitteringer og varsler sendt pr e-post og SMS Samtlige meldinger som blir sendt fra løsningen blir nå scannet for fødselsnummer og de siste fem sifrene sladdes før SMS eller e-post sendes ut.\nBetinget lagring av meldinger i tjenesteeiers arkiv Når en tjenesteeier sender inn en melding vil denne ikke lenger legges inn i tjenesteeiers arkiv hvis lagringsperioden for Tjenesteeiers arkiv er satt til 0 i TUL.\nFeilrettinger Avgiverliste for inaktive enheter fungerte ikke for underenheter via REST Det var en feil når man ønsket å hente ut avgiverlisten via REST der man ikke ønsket å se inaktive enheter. Inaktive underenheter ble da ikke filtrert riktig. Dette er nå rettet slik at også underenheter blir filtrert korrekt.\nHjelp på signeringssiden fungerte ikke Man fikk bare en feilmelding når det ble trykket på \u0026ldquo;Hjelp\u0026rdquo; knappen/lenken som kommer opp på signeringssiden. Dette er nå rettet.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2020/20-3/",
	"title": "20.3",
	"tags": [],
	"description": "Visning av samtykkeforespørsler, EKTJ rolle og feilrettinger",
	"content": "Endringer i Portal Visning av Samtykkeforespørsler i samtykkepanelet Samtykkepanelet er utvidet slik at det er synlig når brukeren har innkomende forespørsler. Innkommende samtykkeforespørsler kommer nå opp som forespørsler i “Samtykker og fullmakter”-panelet. Det er nå mulig for den innloggede brukeren å gå inn på forespørselen for å godta eller slette denne. Dersom forespørselen ikke er gyldig lengre kan den fjernes.\nEndringer i Autorisasjon Ny rolle opprettet slik at tilgang til lenketjeneste (eller annen ekstern tjeneste) kun kan gis eksplisitt Det er opprettet en rolle som heter EKTJ (eksplisitt tjeneste delegering). Denne rollen er ikke delegerbar og det er ingen som arver den. Tjenester knyttet til rollen vil da bare være tilgjengelig gjennom direkte delegeringer gjort av brukere med Hovedadministrator.\nEndringer i REST-API Hente liste over samtykkeforespørsler for en datakonsument via REST - for sluttbruker system API Diverse bugfix Forbedret feilmelding i forbindelse med vedleggstype Tidligere fikk man beskjed i feilmelding om at 30MB var grensen for vedlegg uansett hva grensen var satt til. Nå vises den grensen som faktisk gjelder for størrelse i feilmeldingen.\nEgenregistrert bruker fikk e-post uten innhold etter opprettelse av bruker Teksten som skal vises i e-posten forsvant etter en endring som ble gjort i 20.2 versjonen av Altinn. Teksten er nå lagt inn igjen.\nYtelsesproblemer i DownloadQueue Det har vært høyt CPU forbruk i forbindelse med bruk av DownloadQueue. Optimalisering er derfor utført.\n"
},
{
	"uri": "https://altinn.github.io/docs/seres/brukerveiledninger/administrasjonsklient/",
	"title": "Brukerveiledning for SERES Administrasjonsklient",
	"tags": [],
	"description": "Hvordan logge inn og bruke Administrasjonsklienten.",
	"content": " Innledning SERES Administrasjonsklient er en webklient for administrasjon av brukere, kataloger og miljøer i SERES Repository. Opplysningene brukes av Domeneklienten for autentisering og autorisasjon av brukere, og for visning av oversikten over tilgjengelige kataloger. Endringer i nivåene under en katalog gjøres direkte i Domeneklienten.\nDet finnes tre brukerrettigheter i klienten, «Bruker», «Katalogadministrator» og «Systemadministrator». Brukerrettighetene er beskrevet lenger ned i dokumentet.\nSpørsmål angående SERES Administrasjonsklient kan sendes på e-post til Digitalisering Servicedesk.\nInnlogging Etter å ha startet SERES Administrasjonsklient gjennom https://brukeradmin.seres.no/login får du opp en innloggingsside:\nOppgi ditt brukernavn og passord. Hvis du har glemt passordet ditt, kan du bruke «Glemt passord» - funksjonen som finnes i innloggingsvinduet til Domeneklienten.\nEtter at du har logget inn kommer du til «Min side» som er en oversikt over hvilke opplysninger som er registrert på din bruker:\nDenne siden er lik for alle uavhengig av hvilke rettigheter man har. Her kan man endre sine personlige opplysninger som navn, passord, e-postadresse og mobilnummer. Dette gjør man ved å klikke i det aktuelle feltet, endre opplysningen og så trykke på «Lagre». Vær oppmerksom på at hvis du kjører Domeneklienten i vår VMware-løsning så må også endring av mobilnummer meldes til Digitalisering Servicedesk eller Brønnøysundregistrene sin IT support. Dette er nødvendig for at vi skal få oppdatert mobilnummeret i engangskodegeneratoren.\nEndre passord For å endre sitt eget passord må man først klikke i feltet «Nytt passord» og så skrive inn et gyldig passord. Etterpå klikker man i feltet «Bekreft passord» og gjentar det samme passordet. Når man er ferdig klikker man på «Lagre».\nMan vil få feilmelding hvis det ikke er samsvar mellom passordene eller at passordet ikke er gyldig. For brukere med rettigheten «Bruker» eller «Katalogadministrator» er kravet til passordet at det skal bestå av minimum 10 tegn og ha en kombinasjon av store og små bokstaver, tall og spesialtegn. Passordet til brukere med rollen «Systemadministrator» skal være på minimum 15 tegn.\nBruker Rettigheten «Bruker» gis til alle som skal ha tilgang til SERES Domeneklienten. En bruker med denne rettigheten vil alltid ha lesetilgang til alle aktive modeller i Domeneklienten som har status publisert og historisk. I tillegg vil brukeren som hovedregel ha skrivetilgang til minst en katalog. Å ha skrivetilgang til en katalog innebærer at man kan opprette nye modeller og versjoner av modeller i domene(r) som ligger i katalogen. I SERES Administrasjonsklient vil \u0026ldquo;Bruker\u0026rdquo; medføre få rettigheter. De vil ha tilgang til «Min side» slik at de kan endre sine personlig opplysninger, og lesetilgang til egne opplysninger på siden «Brukere».\nØverst på siden i klienten er det arkfaner som viser hvilke sider som finnes og hvilke som er tilgjengelig, og når du er innlogget med kun rettigheten «Bruker» vil arkfanene se slik ut:\nDen siden som er åpnet vil ha en arkfane som er omrammet og siden vil ha grått navn. Sider som du har tilgang til vil ha blått navn og de vil bli markert når du holder musepekeren over dem. Mens sider som du ikke har tilgang til vil ha grått navn uten omramming, og de vil ikke bli marker når du holder musepekeren over dem.\nKlikk på arkfanen «Brukere» slik at siden vises:\nHva du kan se og gjøre på denne siden er avhengig av hvilke rettigheter du har. En bruker som kun har rettigheten «Bruker» får kun se en oversikt over egen tilgang(er).\nKatalogadministrator En som har rettigheten «Bruker» kan i tillegg gis rettigheten «Katalogadministrator» til en katalog. Det er eieren av katalogen som bestemmer hvem som skal ha denne rettigheten. I Domeneklienten vil den som har denne rettigheten i tillegg til å ha skrivetilgang til katalogen, ha rettigheter til å opprette nye domener og å endre opplysninger på eksisterende domener under katalogen. I SERES Administrasjonsklient vil brukere med denne rettigheten, i tillegg til å ha de samme rettighetene som en «Bruker», kunne se og endre hvem som skal ha skrivetilgang og «Katalogadministrator»-rettighet til katalogen på siden «Brukere», samt se organisasjonsnummer og se/oppdatere navn til katalogen på siden «Organisasjoner». Øverst på siden i klienten er det arkfaner som viser hvilke sider som finnes og hvilke som er tilgjengelig:\nØverst på siden i klienten er det arkfaner som viser hvilke sider som finnes og hvilke som er tilgjengelig, og når du er innlogget med rettighetene «Bruker» og «Katalogadministrator» vil arkfanene se slik ut:\nDen siden som er åpnet vil ha en arkfane som er omrammet og siden vil ha grått navn. Sider som du har tilgang til vil ha blått navn og de vil bli markert når du holder musepekeren over dem. Mens sider som du ikke har tilgang til vil ha grått navn uten omramming, og de vil ikke bli markert når du holder musepekeren over dem.\nBrukere Klikk på arkfanen «Brukere» slik at siden vises:\nHva du kan se og gjøre på denne siden er avhengig av hvilke rettigheter du har. En bruker som har rettigheten «KatalogAdministrator» får se en oversikt over alle brukere som har skrivetilgang til katalogen(e) brukeren administrerer. I tillegg kan denne brukeren gi og fjerne andre brukeres skrivetilgang og «KatalogAdministrator»-rettighet til katalogen(e).\nGi en bruker skrivetilgang til katalog For å kunne gi en bruker skrivetilgang til en katalog må brukeren først være opprettet av «Systemadministrator» med rettigheten «Bruker», og du må kjenne brukerens brukernavn.\nDu er innlogget og siden «Brukere» er valgt:\nKlikk på «Knytt bruker til katalog».\nDialogvinduet «Velg bruker» åpnes:\nBegynn med å velge katalog i nedtrekkslisten «Katalog». Hvis du kun har KatalogAdministrator-rettighet til en katalog vil katalogen automatisk være valgt for deg. I feltet «Brukernavn» skriver du brukernavnet til brukeren. Klikk så på «Legg til».\nBrukeren har fått skrivetilgang til katalogen:\nHvis det er oppgitt et brukernavn som ikke finnes vil du få en feilmelding:\nFjerne en brukers skrivetilgang til en katalog Du er innlogget og siden «Brukere» er valgt:\nFinn brukeren som ikke lenger skal ha skrivetilgang. Dobbeltklikk på cellen som viser hvilke(n) katalog(er) brukeren har skrivetilgang til. Fjern avkryssingen for den aktuelle katalogen. Etter at du har fjernet avkryssingen vil brukerne være borte fra oversikten din når siden oppdateres (ved f.eks. å trykke på F5-tasten). Vær oppmerksom på at hvis brukeren også har rettigheten «Katalogadministrator» til katalogen så må denne rettigheten fjernes først.\nGi en bruker rettigheten KatalogAdministrator For å kunne gi en bruker rettigheten «KatalogAdministrator» til en katalog må brukeren først ha fått skrivetilgang til katalogen.\nDu er innlogget og siden «Brukere» er valgt:\nFinn brukeren som skal gis rettigheten «KatalogAdministrator». Dobbeltklikk på cellen som viser hvilke(n) katalog(er) brukeren er «KatalogAdministrator» for. Kryss av for den aktuelle katalogen.\nEtter at siden er oppdatert kan du se at brukeren er blitt «KatalogAdministrator» for katalogen:\nFjerne en brukers rettighet som KatalogAdministrator Du er innlogget og siden «Brukere» er valgt:\nFinn brukeren som ikke lenger skal være «KatalogAdministrator». Dobbeltklikk på cellen som viser hvilke(n) katalog(er) brukeren er «KatalogAdministrator» for. Fjern avkryssingen for den aktuelle katalogen. Etter at du har fjernet avkryssingen vil brukerens «KatalogAdministrator»-rettighet være borte fra oversikten din når siden oppdateres (ved f.eks. å trykke på F5-tasten).\nOrganisasjon Klikk på arkfanen «Organisasjoner» slik at siden vises:\nHva du kan se og gjøre på denne siden er avhengig av hvilke rettigheter du har. En bruker som har rettigheten «KatalogAdministrator» får se en oversikt over organisasjonsnummer og navn til de som eier katalogen(e) du er «KatalogAdministrator» for. Navnet på eier vil være det samme som katalogens navn. I tillegg kan denne brukeren oppdatere navnet til eier/katalogen mot Enhetsregisteret.\nOppdatere navn til katalog Du er innlogget og siden «Organisasjoner» er valgt:\nFinn katalogen/enheten som du ønsker å oppdatere navnet på og dobbeltklikk på navnet til katalogen/enheten.\nNavnet til katalogen/enheten er erstattet med knappen «Oppdater fra Enhetsregisteret»:\nKlikk på knappen «Oppdater fra Enhetsregisteret». Navnet til katalogen/enheten blir endret til det nye navnet som enheten har i Enhetsregisteret.\nSystemadministrator Rettigheten «Systemadministrator» gis kun til personer hos Digitaliseringsdirektoratet som har forvaltningsansvar for SERES-løsningen.\nI Domeneklienten vil den som har denne rettigheten ha skrivetilgang og «Katalogadministrator»-rettighet til alle katalogene.\nI SERES Administrasjonsklient vil brukere med denne rettigheten ha de samme rettighetene som en «Katalogadministrator» for alle katalogene. I tillegg vil de kunne opprette nye brukere, slette/aktivere/deaktivere brukere og kunne se og endre hvem som skal ha «Systemadministrator»-rettighet på siden «Brukere». På siden «Organisasjoner» kan de legge til og slette organisasjoner og på siden «Miljøer» kan de administrere hvilke miljøer som skal vises i «Domeneklienten» og «Administrasjonsklienten».\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2018/18-1/",
	"title": "18.1",
	"tags": [],
	"description": "Del tilgang, slette delegeringer på instans-nivå, diverse bugfix ...",
	"content": "Portal Del og gi tilgang Skjema under utfylling og meldinger med sensitivt innhold kan ikke videresendes på epost fra Altinn til en ekstern mottaker. Disse må istedet deles med å sende en lenke til skjema/meldingen som ligger i Altinn og som mottaker da må få tilgang til og logge på for å se.\n![Lenke til \u0026ldquo;Del og gi tilgang\u0026rdquo;](del-gi-tilgang.png?width=600 \u0026ldquo;Lenke til \u0026ldquo;Del og gi tilgang\u0026rdquo;\u0026quot;)\nHvis du har delegerbare rettigheter på den instans du ønsker å dele kan du dele skjemaet med andre som ikke allerede har tilgang til det\nDet er mulig å skrive personlig melding til den som mottar epost-varsle. Denne er begrenset til 5000 tegn.\nHva som er delt med hvem vil vises i Altinn slik at det er enklere for evt flere å se hva som er delt. Det er kun den som sender/mottar meldingen som ser teksten som ble utformet.\nDet spores også i aktivitetsloggen hva som er delegert og videresendt.\nSe og slette delegeringer gjort til andre og meg selv på instans-nivå Det er nå lettere å se hvem som har fått delegert tilgang på enkeltinstanser av skjema og meldinger. Alle kan slette delegeringer gjort til seg selv og tilgangstyrer har også mulighet for å slette delegeringer som er gjort på andre på instansnivå som er gjort til andre under \u0026ldquo;andre med rettigheter\u0026rdquo; i profil. Det blir ikke anledning til å slette delegeringer gjort i forbindelse med paralellsignering.\nBedre løsning for oppdatering av varslingsadresser i Altinn for regnskapsfører og revisor Det er nå mulig via klientdelegeringsfunksjonalitet å oppdatere kontaktinformasjon for revisor eller regnskapsfører som får tildelt en klientdelegeringsrolle. Løsningen støtter å laste opp en fil som inneholder informasjon om rolle, klient og hvem som er mottaker av rollen. Samme fil kan brukes til å settes epost og telefonnr slik at man kan bruke funksjonaliteten til å sette kontaktinformasjon på brukerne for en gitt klient. Det skal være mulig å sette nye adresser eller endre adresser. Filen man laster ned med rolleoversikt inneholder epost og sms satt for bruker/klient. Dette gir en oversikt over kontaktadressene for sine ansatte/klienter.\nAndre mindre forbedringer av innboks  Vise hele tittel i meldingsboks (14038) Endret tilbakemelding ved bestilling av kodebrev (13557) Bedre løsning for oppdatering av varslingsadresser i Altinn for regnskapsfører og revisor (12503) Meldinger som er lest og/eller bekreftede meldinger ut av gruppen haster i innboksen (15063)  Melding med frist uten bekreftelse skal forsvinne fra listen haster i innboksen når den er lest. Meldng med bekreftelse og frist skal forsvinne fra gruppen haster i innboksen når den er bekreftet mottatt. Det betyr at det ikke er tilstrekkelig at disse bare er lest.   For brukere med mange meldinger i innboks er det nå mulighet for å sortere på leste elementer i avansert søk (14951)  Diverse bugfix  Mangler oversettelse i avansert innstillinger når pålogget med nivå 1 (12197) Firmanavn beskjæres i aktivitetesloggen (12687) Korrigere lenke som peker henviser til aktørvalg når man kommer til tom boks (13240) Gi bedre feilmelding når bruker forsøker å vidresende melding med for stort innhold (13488) Lange utskrifter knuttes og kun første side blir med (printfunksjon i IE, Edge og firefox) (13533) AdvancedSearch - for 14\u0026rdquo; screen or less button is misplaced (13655) Videresend: Lenke til element i epost tar ikke brukeren til elementet (13734) Stort Aktørvalg: Lagt til funksjon som starter søk automatisk når siden lastes med tekst i søkefeltet (13816) Økt innrykk for underenheter i liste over aktører som vises i søk på tvers slik at det er enklere å se at de tilhører hovedenhet over (13998) Aktørvalg: inaktivere sjekkbokser for underenhet/sletta enheter når bruker starter å skrive noe i søkefelet (14077) Korrigert tekst for når samtykke (fjernet sekunder og oppdatert tekst) (14091) Vsert ansatt listes opp med rettighet på klient uten at det er tilfelle (usikker) (14260) Feil med paralellsignering HELFO-04 (etter 17.2 deploy?) (usikker) (14387) Lange navn i rettighetsknapper får scrollbar (14451) Ved valg av \u0026ldquo;alle, inkludert underenheter\u0026rdquo; i søk på tvers skjules aktørlisten (14418) Samtykke: manglende sjekk for unicode script tags (usikker) (14641) Økt innrykk for underenheter i liste over aktører som vises i søk på tvers slik at det er enklere å se at de tilhører hovedenhet over (13998) Ved valget \u0026ldquo;alle, inkludert underhenther\u0026rdquo; i søk på tvers skal aktørlisten skjules (14418) Sjekk for metadataparametre til samtykke (usikker) (14641) Archive - link to \u0026ldquo;chosen the right party\u0026rdquo; is linking to loginpage not select reportee (14691) Validring av valgt avgiver for søk på tvers (14720) Forbedret visning av knapp i avansert søk (14958) Fjernet overflødig lenke til utskriftsversjon fra visning av correspondence på egen url (15050) Enkeltrettigheter til virksomheter med virksomhetsbruker skal vises (den vises ikke) (15871) Endret timeout fra 5 til 15 minutter samt optimalisert GetRolesForDownload. Denne funksjon blir benyttet ved nedlasting av fil med klientdelegeringer. (Retting i PROD 23. januar) (16364) Tillate søk på tvers I ARKIVET når en velger «alle jeg kan rapportere for» der en har flere enn 100 avgivere (Retting i PROD 23. januar) (16353) Vise navn på klienter ved klientdelegering (Retting i PROD 23. januar) (16464)  Eksterne grensesnitt Tillate sletting av melding via web service ved å utnytte papirkurv funksjonaliteten (14388) Som representant for en organisasjon ønsker jeg å kunne slette aktive meldinger ved hjelp av et sluttbrukersystem Det er lagt til logikk i DeleteCorrespondence som gjør at en melding til en organisasjon flyttes til papirkurv istedenfor at det gis feilmelding om at elementet ikke kan slettes.\nDet er fortsatt sperret for å permanent slette meldinger hvor avgiver er en organisasjon. Endringen skal ikke påvirke funksjonalitet relatert til personer eller elementer i arkiv.\nHente ut pdf av spesifikke skjema via DQ (12621)  Det blir nå mulig å hente ut pdf av spesifikke skjema i et skjemasett via DQ og REST API. Ved å legge til parameteren dataFormatId og dataFormatVersion kan man filtrere bort uønskede skjemasett. For REST API, se /api/Help/Api/GET-who-Messages-messageId-Print_language For DQ, se /ArchiveExternal/DownloadQueueExternalBasic.svc  Støtte for reserverte brukere i instansiering av prefill (12617) Tjenesteeier har nå støtte for å hensynta reserverte brukere i instansiering av prefill fra eksterne systemer Det er blitt lagt inn logikk som gjør det mulig for tjenesteeier å angi at Altinn skal respektere en persons reservasjon mot elektronisk kommunikasjon. Altinn benytter i denne sammenheng kontakt- og reservasjonsregisteret. Default oppførsel er at Altinn ikke tar hensyn til en persons reservasjon. Dette for å opprettholde dagens funksjonalitet for de tjenesteeiere som ikke har implementert støtte for ny funksjonalitet. Logikken understøttes av et nytt input parameter i operasjonene SubmitPrefilledFormTasks og SubmitAndInstantiatePrefilledFormTask på prefill tjenesten mot tjenesteeier. Feltet ligger på PrefillFormTask entiteten og heter IsReservable. Hvis verdien ikke blir satt av tjenesteeier vil logikken behandle den som false. Hvis verdien settes til true og sluttbruker er reservert vil Altinn ikke legge inn prefill på personen. I responsen til tjenesten vil en kvittering indikere at prefill ikke kunne legges inn fordi personen er reservert.\nHente ut created date via REST API (872) Som bruker av REST API kan man nå få utskrift av created date for elementer i meldingsboksen. Det er lagt til et felt kalt CreateDate i alle \u0026ldquo;message\u0026rdquo;-ressurser i REST APIet.\nSe f.eks. /api/my/messages?$orderby=CreatedDate\nBekrefte mottatt correspondence via REST API (869) Som bruker av REST API kan man nå få bekrefte mottatt correspondence. PUT of correspondence message with parameter confirm eq true gives \u0026ldquo;204 - Message has been confirmed\u0026rdquo;\nIndeksering av tabell for BrokerService og endring på prosedyre (14873) Forbedring av ytelse knyttet til tjenesten GetAvailableFiles på Brokerservice (formidlingstjenesten)\nKontakt og fullmaktsregister for virksomheter - første versjon (13455) Tilpasning består av å:\n lage løsning for lesing av data fra KoFuVi batch som henter data tilpasning i GUI for Felles kontaktinformasjon for virksomheten  Infoportal 18 mindre forbedringer og bugfix i informasjonportalen (de sidene som er tilgjengelige uten pålogging).\nYtelsesoptimalisering av forside (14717) Google PageSpeed ble brukt for å validere forsidens fart. Ble gjort mange små grep for å få forsiden til å bli mindre og svare raskere\n SVG kompremering Egen forside css/js som har kuttet vekk det unødvendige små justeringer i head for bedre score gjennom ytelseverktøy som Google PageSpeed  Dagens forside er på 441kb og har blitt redusert ned til 377kb, 15% redusering.\nSøk i skjemakatalogen skal også gi treff på etatsnavnet (13248) Søkeindeksen ble utvidet med felt for kategori, subkategori og etatsnavn. Feltene kan justeres av redaktørene i søkeadmin. Feltene må bli lagt inn i søkeadmin for at de skal kunne være relevante i et søk.\nForbedringer av nyhetsbrevfunksjonalitet - tømming av mottakerliste + retting av autogenering av internlenker (14346) Det ble lagt inn en slette knapp for alle brukere av en liste (nyhetsbrev eller driftsmeldinger) for å unngå at abonnenter fra Prod ble liggende i testmiljøene. Nyhetsbrevet konverte ikke interne lenker til absolutt lenker, og ville dermed ikke ledet noe skulle en bruker trykket inn på den.\nForbedring av sjekk av innloggingsstatus (UU-forbedring) (13349) Brukeren vil nå bli varslet om inaktivitet på over 30 min ved innlogging, som vil resultere i en refresh for å unngå at brukere blir logget av backend men ikke frontend.\nBugfixer infoportal  UU-forbedring på kode for varselbokser/driftsmeldinger (13770) Benytte npm-versjonering for å hente CSS og JS filer inn i epi-løsningen (teknisk forbedring - ikke merkbar) (13397) Fargekode-felt i Episerver ved opplasting av hovedillustrasjon til «Starte og drive» / forsideillustrasjon (13398) Alt-tekst på de fire ikonene på hjelpesenter (13399) Autogenererte nedtrekksfelter på Om skjema med samme titler som ved import (13691) Ferdigstilling av rapporten \u0026ldquo;Artikkel generator\u0026rdquo; (redaktør-funksjonalitet - ikke merkbart for sluttbruker) (14344) Innføre begrensning i mulige blokktyper i driftsmeldingsarkivet (kun merkbart for redaktør) (11212) Åpne for lenker i driftsmeldingsfeltet på Om skjema-siden (13341) Mulighet for tastatur-navigasjon mellom nivåer i skjemaoversikten (13348) Automatisk lukking av sticky-hjelp ved åpning av kontaktskjema (13353) Fjerne ekstern lenke-ikon når lenka er et bilde (14346) Endre filtype for bilde som brukes ved deling av innhold i Facebook/Twitter (14822)  "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2019/19-1/",
	"title": "19.1",
	"tags": [],
	"description": "Samtykke utvidelse NADOBE, filtrere bort slettede virksomheter, mindre endringer og feilrettinger",
	"content": "Endringer i Service Rights Registry (SRR) og samtykke Autorisering av tredjepart for behandling av samtykker på vegne av datakonsument Det er introdusert mulighet til å registrere organisasjon som tredjepart i tjenesteeierstyrt rettighetsregister (SRR). Det er utført en utvidelse av autorisasjonskomponenten i Altinn for å autorisere denne tilgangen. Samtykkesiden er også endret slik at teksten der gjenspeiler endringen. Dette er en tilpasning til NADOBE.\nEndringer i REST API REST grensesnittet utvidet for å kunne filtrere på slettede virksomheter Ved henting av avgivere er det lagt til et filter å kunne filtrere bort slettede selskap.\nReplyoptions er synlig for alle Replyoptions er nå synlig for alle (uavhengig av accept header) for messages av typen Correspondence.\nVisning av organisasjonsform og foreldreorganisasjon for Reportees i REST API for tjenesteeiere Organisasjonformen til hvert selskap vises nå slik at man kan filtrere bort indre selskap og underenheter. Denne er forøvrig en videreføring av en endring som kom i 18.12 hvor man så et behov for å synliggjøre organisasjonsform og foreldreorganisasjonen til en underenhet.\nShipmentMetadata Tjenesteeiere kan nå få metadata om en skjemaforsendelse i DownloadQueue uten å måtte parse skjema xml Dersom tjenesteutvikler har lagt til et eller flere metadatafelt i et skjema i TUL, vil disse bli populert når utfylt skjema blir signert/arkivert av skjemamottaker. Ved kall til webservicemetoden GetDownloadQueueItems, vil ShipmentMetadataList bli returnert som ny property i hvert DownloadQueueItem i returen, med Key (metadatafeltnavn) og Value for hvert metadatafelt. Dersom et skjema ikke har metadatafelt, vil ShipmentMetadataList være NULL. Metadataverdiene kan for eksempel brukes av tjenesteeier til å kategorisere en skjemaretur før selve skjemaet blir lastet ned. Dette reduserer behovet for å laste ned og parse hvert enkelt skjema for å avgjøre videre behandling. For tjenesteeiere som ikke ønsker å ta denne funksjonaliteten i bruk, kreves ingen endringer. Merk også at ShipmentMetadata kun er tilgjengeliggjort via GetDownloadQueueItems og ikke via GetArchivedFormtaskDQ.\nAndre endringer Ny tjenesteeier i SBL - Enova SF Ressursfiler er oppdatert med beskrivelse av koden til Enova SF på bokmål, nynorsk og engelsk.\nFeilrettinger Aktivitetsloggen - Hendelser registrert på samme tidspunkt ble vist i feil rekkefølge En feil gorde at det kunne se ut som signering ble utført etter innsending i Aktivitetslogg. Dette er nå rettet opp.\nProfilsiden - Virksomheter med virksomhetsbrukere fikk feil visning under “Andre med rettigheter til virksomheten” Feilen oppsto når det var virksomhetsbrukere registrert på selskapet og denne virksomhetsbrukeren hadde roller. I disse tilfellene vistes også virksomheten. Dette er nå rettet opp.\nReporteeType i REST blir feil for AAFY-underenheter AAFY (ikke næringsdrivende enhet) ble ikke med som underenhet. Dette er nå rettet opp.\nHyppige feil ved SOAP overføringene fra Enhetsregisteret til Altinn Hasteoverføringene via SOAP har inneholdt personstatus med feil lengde. Dette medførte at hjelpetabellen ikke kunne lagre informasjonen og innlesingen feilet. Det sendes derfor nå ‘null’ som verdi på personsatus til databasen. Dette kan gjøres fordi verdien i dag ikke blir lagret hos Altinn.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2020/20-2/",
	"title": "20.2",
	"tags": [],
	"description": "Endringer i skattemeldingen. Mindre forbedringer og feilrettinger",
	"content": "Endringer i Autorisasjon Håndtere nøkkelrotering i Maskinporten-autentisering Dette implementerer støtte for flere nøkler signering av access_tokens oppgitt i OIDC-JWK endepunktet til Maskinporten.\nEndringer i skattemeldingen Generelt om årets revisjon av skattemeldingen i Altinn Hvert år gjøres det oppdateringer og endringer i RF-1030 (skattemeldingen), f.eks. nye poster og underskjema, endring i eksisterende poster, sletting av utgåtte poster og underskjema. Disse oppdateringene gjøres i RF-1030 datamodellen, som tas inn i nye utgaver av tjenestene “RF-1030PSA” og “RF-1030PSAN”. I tillegg oppdateres en rekke tekster og det gjøres også endringer på bl.a. overførings- og valideringsregler. Nyheter om skattemeldingen vil bli publisere på skatteetaten.no.\nBedre feilmelding til sluttbrukersystem ved mangler i forhåndsutfylt data Tidligere har en vist en liste i feilmelding over manglende orid dersom det sendes for lite prefill data. Dette blir nå også vist dersom en sender for mye prefill data.\nStart skatteberegning i skattemeldingen Det er nå mulig å starte skatteberegning på vegne av andre dersom en representerer andre aktører i RF-1030 Skattemelding for formues- og inntektsskatt – lønnstakere og pensjonister mv. Dette kan utføres via webSA meny.\nEgen kommuneliste pr inntektsår Fra inntektsår 2019 og frem er det satt opp egne kommunelister pr inntektsår. For inntektsår 2019 vil kommunene som er gyldige i 2019 være tilgjengelige. Dette vil også gjelde for inntektsår 2020 og fremover.\nNaN verdi i RF-1030 er utbedret I inntektsår 2018 ble det oppdaget NaN som lagringsverdi i enkelte felt i RF-1030. Dette skyldtes feilverdi i underskjema f. eks bokstaver i tall felt som videre ble overført til RF-1030. Det blir nå foretatt sjekk av verdi fra flere av underskjemaene på om disse er gyldige, før verdioverføring utføres til RF-1030.\nTilsendte meldinger fra ny skattemelding gir informasjon i webSA meny Skatteetaten utvikler og leverer ny løsning for skattemeldingen formues- og inntektsskatt – lønnstakere og pensjonister mv, ved SIRIUS prosjektet. I den forbindelse vil personer som kan benytte den nye løsningen motta informasjon om dette i både tilsendtmelding og videre i webSAmeny dersom melding er mottatt.\nNy rolle A0282 – Skatteforhold for privatpersoner Ny rolle gjøres tilgjengelig som tillegg for skattemeldingen formues- og inntektsskatt og tjenester tilknyttet denne. Rollen er tenkt kun benyttet av skatteetaten og tjenester knyttet til skattemeldingen.\nEndringer i REST API Ny Postman-collection med endepunkte i REST APIet Det er oppettet en Postman collection med endepunktene og eksempler som nå et tilgjengelig på GitHub. Se [https://github.com/Altinn/postman-examples] for hvordan å ta denne collectionen i bruk.\nNytt endepunkt for å hente ut Reportee basert på SSN og LastName, eller OrgNo og OrgName via REST Denne endringen legger til et nytt endepunkt /reportees/ReporteeConversion i REST API. Gjennom dette endepunktet kan man nå hente ut et Reportee-objekt dersom man vet SSN og LastName, eller OrgNo og OrgName, og at den personen eller organisasjonen ligger i brukerens avgiverliste.\nSe [https://altinn.no/api/help] for mer informasjon.\nNytt endpunkt for å hente ut samtykker for en tjeneste via REST på Tjenesteeier APIet Det er lagt til et nytt endpunkt /serviceowner/Consents i REST API. Dette returnerer alle samtykker som har blitt gitt på en tjenesteeiers tjeneste. Samtykkeinformasjonen inneholder Reportee informasjon om partene, tidspunkt, og status på samtykke.\nDet er lagt ut en ny hjelpeside for /serviceowner/Consents. Se også [https://altinn.no/api/serviceowner/help] for mer informasjon.\nGUI-url på /consentRequest via REST Det er innført en ny verdi i ‘_links’-listen på endepuntet /api/consentRequest. Det anbefales å bruke denne veriden i en ekstern integrasjon mot dette endepunktet dersom man skal sende en bruker til samtykkesiden i Altinn. Se også endringer som er gjort i Portal på endepunktet /ui/AccessConsent/{GUID} som nå har blitt endret.\nAdvarsel ved tildeling av tilgang til taushetsbelagt post Rollene \u0026ldquo;Taushetsbelagt post - helse, sosial og omsorg\u0026rdquo;, \u0026ldquo;Taushetsbelagt post - oppvekst og utdanning\u0026rdquo; og \u0026ldquo;Taushetsbelagt post - administrasjon\u0026rdquo; får nå den samme advarsel ved tildeling som rollen \u0026ldquo;Taushetsbelagt post fra kommunen\u0026rdquo; har hatt.\nEndringer i SOAP API Ny operasjon i Formidlingstjenesten Ny operasjon CheckIfAvailableFiles. Input: Liste med ssn/orgnr. Metoden returnerer true/false i forhold til om det finnes nye filer for mottakerne i input lista. Aktører som \u0026ldquo;poller\u0026rdquo;, dvs har behov for å sjekke hyppig om det har kommet en forsendelse i Formidlingstjenesten, uten at de vet \u0026ldquo;at\u0026rdquo; det er kommet bør utføre disse spørringene med den nye metoden i stedet for GetAvailableFiles. GetaAvailableFiles bør kun kalles etter at CheckIfAvailableFiles har returnert true.\nEndringer i portal Nytt endepunkt for forhåndsregistrerte samtykkeforespørsler Endepunktet for å laste samtykkesiden er nå endret fra /ui/AccessConsent/{GUID}?languageCode={en|nn-NO|nb-NO} til /ui/AccessConsent/request?id={GUID}\u0026amp;languageCode={en|nn-NO|nb-NO}. Det anbefales å benytte seg av gui-lenken som er implementert på GET /api/consentRequest/{GUID} i sin implementasjon da endeputet i fremtiden kan endre seg. Det er lagt inn en redirect til det nye endepunktet inntil videre, men det gamle endepunktet vil bli fjernet i en senere release.\nFeilrettinger E-post ved klientdelegering Ved klientdelegering fikk ikke bruker e-post etter delegeringen når personen hadde kontaktinformasjon registrert i Kontakt- og reservasjonsregisteret. Dette er nå rettet.\nYtelsesoptimalisering av filtert uthenting av avgiverliste i REST Det er utført ytelsesoptimalisering ved bruk av filtert uthenting av avgiverliste i REST\nFjernet visning av panel for søk og “Legge til ny person eller virksomhet” knapp under “Andre med rettigheter” ved for lavt sikkerhetsnivå Listevisning “Andre med rettigheter” viser “Legg til” knapp selv med for lavt sikkerhetsnivå.\nGammel visning\nNy visning\nFikk ikke valgt underenhet (BEDR) i A-meldingen (A01) Databaseprosedyren som hentet underenheter gikk mot en foreldet databasetabell. Dette er nå rettet opp.\n"
},
{
	"uri": "https://altinn.github.io/docs/seres/brukerveiledninger/domeneklient-via-vmware/",
	"title": "Brukerveiledning for innlogging på Domeneklienten via VMware Horizon Client",
	"tags": [],
	"description": "Hvordan logge inn på Domeneklienten ved å bruke VMware Horizon Client.",
	"content": "VMware Horizon Client må være installert på din pc før du kan fortsette. Se avsnitt Installasjon av VMware Horizon Client.\nLogge inn på VMware Horizon Client Start VMware Horizon Client på din pc ved å dobbeltklikke på ikonet:\nFigur 1 - Ikon for å starte VMware Horizon Client\nEtter at VMware Horizon Client er startet må du gjennom en innloggingssekvens på fire trinn.\nFigur 2 - Valg av server\nDobbeltklikk på ikonet til «vdi1.brreg.no» og klikk på «Connect».\nHvis ikonet ikke finnes, klikk på knappen «New Server». Oppgi «vdi1.brreg.no» i feltet for Connection Server og klikk på «Connect».\nFigur 3 - Innloggingsbilde VMware Horizon Client\nI feltene «User name» og «Password» skriver du brukernavnet og passordet som du har fått tilsendt per e-post fra Brønnøysundregistrene sin Servicedesk. Brukernavnet vil bestå av 3 til 5 bokstaver. Velg så «Login».\nVær oppmerksom på at brukeren automatisk blir låst i 15 minutter etter 3 feilaktige innloggingsforsøk.\nDu vil nå få tilsendt en sms med engangskode fra nummer BRREG (27734) på din mobiltelefon. Meldingen vil være: «Passcode: «sekssifret kode».\nFigur 4 - Legge inn engangskode\nSkriv inn den mottatte engangskoden i feltet «Passcode» og klikk på «Login».\nEtter at du har klikket på knappen «Login» får du opp et vindu med oversikt over de virtuelle maskinene du har tilgang til via «remote desktop» (de fleste har bare en):\nFigur 5 - Valg av remote desktop\nDobbeltklikk på ikonet til «SERES-desktop». Du vil da bli koblet til en virtuell maskin (Innholdet på skrivebordet kan avvike fra bildet.).\nFigur 6 - Skrivebordet til SERES-desktop\nLogge inn på Domeneklient For å logge på Domeneklienten må du dobbeltklikke på ikonet til Domeneklienten:\nFigur 7 - Ikon for å starte Domeneklient\nDu vil da få opp følgende innloggingsbilde:\nFigur 8 - Innloggingsbildet til Domeneklienten\nI feltene Brukernavn og passord skriver du inn det brukernavnet og passordet du har fått tildelt fra Digitalisering Servicedesk. Brukernavnet vil som regel være navnet ditt. Brukernavn og passord vil ikke være det samme som du brukte ved innloggingen til VMware.\nVi anbefaler at du endrer passordet du fikk tildelt til klienten(e) så snart som mulig. For å endre passordet se avsnittet Veiledning for endring av passord.\nHvis du også har tilgang til kursmiljøet vil du få spørsmål om å velge miljø:\nFigur 9 - Velge miljø ved innlogging til Domeneklient\nVelg ønsket brukermiljø. Vær oppmerksom på at produksjon av tjenester skjer i produksjonsmiljøet, mens egentrening skjer i kursmiljøet.\n\rVis/skjul innhold\r\rInstallasjon av VMware Horizon Client\r\r\rFor å laste ned klienten følg denne lenken:\nDownload VMware Horizon Clients \nKlikk på «Go to Downloads» for den versjonen av VMware-klienten som passer til ditt operativsystem.\nI denne veiledningen er det valgt VMware Horizon Client for Windows:\nVelg nyeste versjon og klikk på «Download».\nKlikk på «Open file».\nKlikk på «Agree \u0026amp; Install»\nKlikk på «Finish».\nKlikk på «Restart Now» slik at pc-en blir restartet og endringene blir aktivisert.\nEtter restart vil du kunne se dette ikonet på skjermen din. Dobbeltklikk på ikonet slik at VMware starter.\nKlikk på «New Server», ev. dobbeltklikk på «Add Server».\nSkriv inn «vdi1.brreg.no» i feltet «Enter the name of the Connection Server» og klikk på «Connect».\nKlikk på knappen «Cancel» hvis du ikke ønsker å logge deg inn nå.\nLøsningen er klar til bruk.\n\r\r \rVis/skjul innhold\r\rInnstillinger i brannmur\r\r\rHvis det oppleves problemer med innloggingen på VMware Horizon Client, kan årsaken være at det ikke er åpnet for de nødvendige portene i brannmuren i det nettverket du bruker. De viktigste portene det må være åpnet for er disse:\n   Kilde Port Mål Port Protokoll Beskrivelse     Security server (vdesk.brreg.no) 4172 View Client 4172 UDP PCoIP (AES-128-GCM only) if PCoIP Secure Gateway is used.   View Client * View Connection Server or security server (vdesk.brreg.no) 80 TCP HTTP access if SSL is disabled for client connections.   View Client * View Connection Server or security server (vdesk.brreg.no) 443 TCP HTTPS access if SSL is enabled for client connections.   View Client * View Connection Server or security server (vdesk.brreg.no 4172 TCP PCoIP (HTTPS) if PCoIP Secure Gateway is used.   View Client 4172 View Connection Server or security server (vdesk.brreg.no) 4172 UDP PCoIP (AES-128-GCM only) if PCoIP Secure Gateway is used.    Konfigurasjonen gjelder bare mot vdesk.brreg.no ved bruk av PCoIP-protokollen.\nKilde: https://kb.vmware.com/s/article/1027217\n\r\r \rVis/skjul innhold\r\rVeiledning for endring av passord til Domeneklienten\r\r\rDet brukes samme brukernavn og passord på Domeneklienten og Administratorklienten. Men endring av passord kan kun gjøres i Administratorklienten.\nÅpne innloggingsbildet til Domeneklienten.\nKlikk på lenken «Endre passord».\nLogg på med det brukernavnet og passordet du bruker for å logge på Domeneklienten. Vær oppmerksom på at Administrasjonsklienten ikke fungerer i nettleseren Microsoft Internet Explorer. Den fungerer best i nettleseren Google Chrome.\nSkriv inn det nye passordet to ganger. Passordet må være på minst 10 tegn og inneholde store og små bokstaver, tall og spesialtegn. Når nytt passord er lagt inn, trykker du på knappen «Lagre».\nDitt nye passord gjelder fra neste gang du logger deg på Domeneklienten.\nMerk at det også er mulig å angi nytt passordet gjennom funksjonen \u0026ldquo;Glemt passord\u0026rdquo; i Domeneklienten.\n\r\r \rVis/skjul innhold\r\rVeiledning for endring av passord til VMware Horizon Client\r\r\rBrukernavn og passord til VMware Horizon Client forvaltes av Brønnøysundregistrene da løsningen kjører hos dem og bruker deres autentisering- og autorisasjonsløsning.\nBytte av passord utføres på følgende adresse: https://fs.brreg.no/adfs/portal/updatepassword\nEtter at du har klikket på lenken vil du få opp følgende side:\nI feltene «Brukernavn» og «Gammelt passord» skriver du brukernavnet og passordet som du tidligere har fått tilsendt per e-post fra Brønnøysundregistrene sin Servicedesk. (Brukernavnet vil bestå av 3 til 5 bokstaver.)\nI feltene «Nytt passord» og «Bekreft nytt passord» skriver du inn det nye passordet du ønsker. Passordkravene for det nye passordet er som følger:\n Passord skal inneholde 3 av følgende kategorier:  Små bokstaver Store bokstaver Tall Spesialtegn   Passord skal inneholde minst 12 tegn Det er ikke mulig å gjenbruke passord  Etter at du har fylt ut feltene klikker du på knappen «Send». Hvis endringen av passordet ble gjennomført vil du få denne bekreftelsen:\n Vær oppmerksom på at passord skal byttes hver 12. måned.\nHvis du får problemer med å bytte passord tar du kontakt med Brønnøysundregistrenes sin: Servicedesk\n\r\r "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2020/20-1/",
	"title": "20.1",
	"tags": [],
	"description": "Mindre forbedringer og feilrettinger",
	"content": "Endringer i Portal Visning av rettigheter via samtykke under \u0026ldquo;Andre med rettigheter til skjema og tjenester\u0026rdquo; er fjernet Tidligere kunne man feilaktig se og slette rettigheter man hadde fått via samtykke ved å gå inn på \u0026ldquo;Andre med rettigheter til skjema og tjenester\u0026rdquo;. Dette er nå fjernet.\nVirksomhetsbruker med ECKEYROLE fikk opp alle aktører som hadde gitt sammtykke til enheten Aktører som hadde gitt samtykke kom opp under \u0026ldquo;Alle dine aktører\u0026rdquo; for virksomhetsbruker med ECKEYROLE. Dette trenger ikke å ligge i aktørlisten og er derfor tatt bort.\nEndret tekst på delegeringssøkefeltets nedtrekksfelt Tidligere viste nedtrekksfeltet kun “X treff”, men teksten er nå “Mest brukte tjenester” når man ikke har skrevet noe i søkefeltet. Så snart man har skrevet noe i søkefeltet vil det stå “X treff” igjen.\nVed \u0026ldquo;be om tilgangs-forespørsler\u0026rdquo; der det mangler e-post i kontakt- og reservasjonsregisteret er det gjort endringer Ved be om og gi tilgang og varslingsadresse ikke finnes i KRR kommer kommer det nå opp dialogboks for å legge inn e-postadresse.\nStøtte for meldinger og skjema med taushetsbelagt og sensitivt innhold I dag må alle tjenester knyttes til roller som daglig leder i virksomheten har. Dette resulterer i at daglig leder får automatisk innsyn i alle meldinger som sendes virksomheten. Det er nå mulig å sende meldinger/opprette skjema til virksomheter som ingen i utgangspunktet får innsyn i. Daglig leder eller hovedadministrator kan fortsatt gi tilgang til disse meldingene til utvalgt medarbeider eller seg selv.\nTjeneste med taushetsbelagt innhold må knyttes til en \u0026ldquo;sensitiv rolle\u0026rdquo;. Utbredelse av funksjonaliteten forutsetter at tjenesteeiere utvikler tjenester som knyttes til sensitive roller. Intensjonen er at det ikke er mange i hver organisasjon som skal ha de sensitive tjenesterollene, men at det skal delegeres på enkelttjenester eller instanser ved behov til de som faktisk skal ha tilgang\nFeilrettinger Get reportee henter info med feil appid Tidligere ble personer lagt til i lista av avgivere uten å faktisk sjekke om vedkommende hadde tilganger. Dette er forandret slik at sjekk nå blir gjort. I tillegg var det slik at hvis man satte en ugyldig tjenestekode fikk man denne lite informative feilmeldingen: \u0026ldquo;500- Object cannot be cast from DBNull to other types\u0026rdquo;. Denne er nå endret til: \u0026ldquo;400 The ServiceCode … are either invalid or non-existing\u0026rdquo;.\nByttet ikon for virksomhetsbrukere i Profil siden Det var feil ikon for virksomhetsbruker i \u0026ldquo;Andre med rettigheter\u0026rdquo; og “Gi og fjerne rettigheter”. Dette er nå utbedret ved å bytte fra det normale person/bruker ikonet til ai-server ikonet.\nGammelt ikon Gammelt ikon Nytt ikon\nFjernet unødvendige null sjekker på autentiseringsparametere i eksterne SOAP kall til DeleteReporteeElement Både DeleteReporteeElementExternal og DeleteReporteeElementBasic var satt opp med null/tom string sjekk for alle input parameterene: userSSN, userPinCode, userPassword og authMethod. Dette førte til at passord (som ikke er nødvendig å oppgi ved pin autentisering) likevel trigget feilmelding, og tvang konsumentene til å oppgi en verdi. Disse sjekkene er nå fjernet.\nVirksomhetssertifikat - melding om feil passord for virksomhetsbruker Når man slettet et virksomhetssertifikat for å laste opp nytt fikk man \u0026ldquo;ugyldig brukernavn/passord\u0026rdquo; ved innlogging med virksomhetsbruker. Dette er nå rettet.\nYtelsesforbedring i Maskinporten Det er utført optimalisering og opprettet indeks for å forbedre ytelsen.\nCoveredBy og OfferedBy kan ikke være like på ConsentRequest via REST Tidligere fikk man server error når disse var like. Nå får man en beskrivende feilmelding.\n"
},
{
	"uri": "https://altinn.github.io/docs/seres/brukerveiledninger/domeneklient-installasjon/",
	"title": "Brukerveiledning for lokal installasjon av Domeneklienten",
	"tags": [],
	"description": "Hvordan installere Domeneklienten lokalt på egen PC.",
	"content": " For å installere Domeneklienten må du gjøre følgende:\nLogg deg på https://download.brreg.no/seres/. Hvis du ikke vet brukernavn og passord så kan du få det tilsendt ved å sende en forespørsel til Digitalisering Servicedesk.\nDet finnes to versjoner av Domeneklienten. En for 32 bit Java og en for 64 bit Java. Klikk på lenken til den versjonen av Domeneklienten som passer for din PC. Åpne filen og pakk ut filen til for eksempel «C:\\Domeneklient» med programmet WinZip eller tilsvarende.\nFiguren nedenfor viser hvordan det ser ut med WinZip:\nDobbeltklikk på filen domeneklient.exe for å starte klienten. (Evt. kan du legge den på Oppgavelinjen eller Start-menyen.)\nLogg på med ditt brukernavn og passord.\nHvis du også har tilgang til kursmiljøet vil du få spørsmål om å velge miljø:\nVelg ønsket brukermiljø. Vær oppmerksom på at produksjonsmiljøet benyttes til å lage de offisielle metadataene til katalogen og domene/ne som skal brukes til bl.a. tjenesteutviklingsløsningen (TUL) til Altinn. Mens kursmiljøet brukes til demonstrasjon og opplæring/praktisk trening.\nNB: Hvis du har eller har hatt en annen versjon av Domeneklienten installert på PC-en må du slette konfigurasjonsmappen «.metadata» før du starter ny versjon av Domeneklienten. Dette for at den nye Domeneklientversjonen skal fungere problemfritt. Denne mappen vil som regel ligge under C:\\User\\«brukernavn»\\Application Data\\SERES Repository.\n"
},
{
	"uri": "https://altinn.github.io/docs/seres/brukerveiledninger/domeneklient/",
	"title": "Brukerveiledning for SERES Domeneklienten",
	"tags": [],
	"description": "Hvordan bruke Domeneklienten for å modellere tjenestemodeller og generer XSD-er.",
	"content": " Innledning Domeneklienten er en modelleringsklient som primært brukes i forbindelse med tjenesteutviklingen i Altinn. Modelldataene blir lagret til en Elasticsearch dokumentdatabase gjennom rest-tjenester. Lagringsløsningen blir i resten av dokumentet kalt SERES repository.\nInnholdet i Domeneklienten er delt inn i kataloger og underliggende domener. For hver tjenesteeier med informasjonsmodeller i løsningen vil det være en katalog og minst ett domene. Alle tjenesteeiernes brukere har lesetilgang til alle kataloger og mulighet for redigering i de katalogene de har skrivetilgang til.\nI Domeneklienten er alle endringer tilgjengelig for alle som har skrivetilgang til katalogen med det samme en har lagret. Og man kan enkelt fortsette å jobbe på en arbeidsversjon noen andre har opprettet ved bare å åpne arbeidsversjonen (og så begynne å arbeide). Merk at det er viktig med dialog hvis flere skal jobbe på samme arbeidsversjon for å unngå at man skriver over hverandres data. Og gjennom versjonsinformasjon kan man se når og hvem som har oppdatert en versjon.\nDomeneklienten inneholder funksjonalitet for validering av alle typer data i domenet. Feil som blir identifisert blir listet opp i en tabell, og for at rettingen skal bli enklere vil programmet navigere til der feilen i edisjonen er når du dobbeltklikker på den aktuelle tabell-linjen. I klienten er det også funksjonalitet for parameterstyrt generering av XSD-er.\nI Domeneklienten finnes det ellers en funksjon som gir tilgang til hjelpetekster som har enda flere detaljer om klienten enn man finnes i dette dokumentet. Det finnes også et menyvalg for å sende en e-post til Digitalisering Servicedesk.\nInstallasjon og oppstart På Altinn Digitalisering - utvikling finnes informasjon om SERES-løsningen og oversikt over de ulike verktøyene (klientene): https://altinn.github.io/docs/seres/\nLokal installasjon Det er mulig å installere Domeneklienten på brukerens egen PC. Det finnes en egen veiledning «Lokal installasjon av Domeneklienten som du finner her: Brukerveiledning for lokal installasjon av Domeneklienten.\nInstallasjon i VMware Hvis man ikke har Domeneklienten lokalt installert, kan man i stedet kjøre Domeneklienten i vår VMware-løsning med betegnelsen «SERES Desktop». Da kjører Domeneklienten på en virtuell maskin hos oss. Fremgangsmåten for hvordan VMwareklienten installeres og hvordan man logger på klienten er beskrevet i dokumentet Brukerveiledning for innlogging på Domeneklienten via VMware Horizon Client.\nDet vil være noen små forskjeller i løsningen ved å kjøre Domeneklienten i VMware kontra å kjøre Domeneklienten som en lokalt installert klient. En av forskjellene er at hvis du bruker VMware så vil all lokal lagring bli lagret til et område på en server hos oss som du disponerer, og det blir tatt backup automatisk en gang i døgnet. Mens ved lokal installasjon så lagres lokal lagring på pc-en klienten er installert, og eventuell backup må håndteres av bruker. En annen forskjell er at det kun er mulig å angi at en XSD skal lagres lokalt ved XSD-genereringen når klienten er lokalt installert.\nInnlogging Når Domeneklienten startes, må brukeren først oppgi brukernavn og passord og så trykk på «Logg inn»-knappen.\nHvis brukeren har tilgang til flere brukermiljø så vil brukeren nå få spørsmål om å velge brukermiljø før de blir logget inn. Mens de som kun har tilgang til ett brukermiljø vil bli logget inn på rett miljø. Tjenester utvikles i Produksjonsmiljøet, mens egentrening utføres i Kursmiljøet. Testmiljøet er forbeholdt forvaltere av SERES-løsningen.\nDet finnes lenker i innloggingsdialogen for å tilbakestille passord og endre passord.\nBrukergrensesnitt Brukergrensesnittet for Domeneklienten består av følgende fire paneler (sidestilte vinduer) der to av disse hver har to varianter basert på faner: «Domenepanelet», «Arbeidspanelet», «Egenskapspanelet», «Valideringspanelet», «Søkpanelet» og «Konsollpanelet».\nDomeneklienten benytter, som Windows-programmer flest, mange funksjoner som aktiveres gjennom hovedmenyen, kontekstmenyer («popup menus») eller hurtigtaster.\nDomenepanelet Domenepanelet inneholder alle kataloger og underliggende domener som finnes i det aktuelle brukermiljøet. Under hvert domene finnes det modeller og hver av disse kan ha flere versjoner. En modellversjon vil ha en status som sier noe om kvalitets-/bruksstatus. Eksempel på status er «iarbeid» som forteller at modellen er en arbeidsversjon.\nFor å finne en modellversjon må man klikke seg nedover i nodetreet under riktig katalog til man finner den ønskede modellversjonen. En modellversjon blir tilgjengelig i Arbeidspanelet ved at man dobbeltklikker på den eller høyreklikker og velger «Åpne».\nArbeidspanelet Arbeidspanelet, plassert i midten av Domeneklienten, viser frem alle metadataelementene i den valgte tjenestemodellen som noder organisert i et hierarki basert på eierskapsrelasjoner (komposisjoner i metamodellen). Øverst i hierarkiet finner vi noder for de tre modellnivåene Begrepsnivå, Strukturnivå og Implementasjonsnivå. Disse nodene og underliggende modeller, med unntak av tjenestemodell, er opprinnelig kopiert fra «Fellesmodell» når tjenestemodellen ble opprettet. «Fellesmodell» inneholder et sett med gjenbrukbare modellelementer og den blir lagt til domenet når domenet opprettes. Tanken er at man legger til nye gjenbrukbare modellelementer i modellene til «Fellesmodell» etter hvert som man modellerer. Dette for at man skal spare arbeid når man lager nye tjenestemodeller og bidra til at et modellelement ikke blir opprettet flere ganger med forskjellige identifikatorer, med de utfordringer det kan ha for f.eks. tjenesteeiers datamottak.\nKontekstmenyer for elementer SERES Metamodell angir hvordan elementer av ulike metaklasser kan ha eierskap til hverandre. På denne basis vil funksjonaliteten for å opprette nye elementer være spesifisert. Figuren under viser kontekstmenyen knyttet til en datamodell som igjen har to submenyer \u0026ldquo;Nytt barn\u0026rdquo; og \u0026ldquo;Nytt søsken\u0026rdquo; for opprettelse av et element som vil ligge under / eies av datamodellen:\nDe to første submenyelementene «Forvaltningselement» og «Dokumentasjon» er standard for de fleste metaklassene. De siste ni er spesifikke for hva som kan ligge under aktuell metaklasse, i dette tilfellet en Datamodell. Et eksisterende element kan slettes (ett og ett) med høyreklikk og valg av «Slett» i kontekstmenyen. Det er også mulig å markere flere elementer i sekvens med klikk på første og «Shift» + klikk på siste. Bruk deretter «Delete»-knappen eller høyreklikk + «Slett» for å slette alle disse. Spredte elementer kan markeres med «Ctrl» + klikk og slettes på samme måte.\nElementene kan flyttes eller kopieres med «dra-og-slipp»-operasjoner. Alternativt kan en bruke høyreklikk + «Klipp ut» eller høyreklikk + «Kopi» for samme formål. Vi anbefaler den første varianten, både fordi den er raskere og fordi den er mer komplett i utførelsen.\nEt element med ev. subelementer (subhierarki) kan modellvalideres med høyreklikk + «Valider», se detaljer under avsnittet «Valideringspanelet».\n«Oppdater» gir en oppfrisking av element-visningen.\nKopiere elementer mellom modeller Det er fullt mulig å kopiere elementer fra en modell til en annen modell i et domene eller en modell i et domene til en modell i et annet domene. Dette gjøres ved å åpne begge modellversjonene, der modellversjonen det skal kopieres til må ha status «iarbeid». Når du drar fra den ene fanen og slipper den i nedre del av den andre oppstår det et delt Arbeidspanel. Så kan en anvende dra-og-slipp elementer mellom modellversjonene.\nVær oppmerksom på at denne type kopiering er mangelfull slik at typereferanser ikke alltid blir med. Men det kan en fort ordne i etterkant gjennom lokal dra-og-slipp.\nLøselementer Det blir kontrollert om alle elementer som inngår i tjenestespesifikke datamodeller er med i den samlede meldingsmodellen når denne visualiseres eller brukes for generering av XSD-er. Elementer som ikke er med blir markert med rød farge i Arbeidspanelet:\nSlike rødmarkerte «løselementer», har ingen aktiv funksjon og er derfor i prinsippet overflødige. Det kan også indikere at det er en feil eller mangel i modelleringen, og det bør sjekkes ut først. Eventuelt kan de vurderes slettet eller flyttet til en felles datamodell under «Fellesmodell».\nEgenskapspanelet Egenskapspanelet viser samlingen av egenskaper for det valgte elementet i Arbeidspanelet. Egenskapspanelet har to faner Normale og Spesielle. Den første er standard og viser frem de mest brukte egenskapene, se figuren øverst. Den siste viser egenskaper som er aktuelle å bruke i spesialtilfeller.\nNormale egenskaper Egenskapspanelet, som vi finner ytterst til høyre i Domeneklienten, kan brukes til å se på og endre egenskapene for et valgt element i Arbeidspanelet.\nSlik kan panelet se ut:\nPanelet inneholder et antall felt- og listetyper med tilhørende knapper:\n Inndatafelt vises som: Her kan du legge inn en enkeltverdi som f.eks. navn. Flerlinjefelt vises som: Denne kan du bruke for tekst over flere linjer, som f. eks. beskrivelser. Her kan det være aktuelt med formatering, f.eks. i form av HTML. Enkeltvalgliste åpnes med: Her kan du velge ett element fra en liste, f.eks. en type for en egenskap. Enkeltvalgsletting aktiveres med: Her kan du fjerne tidligere valg fra en liste. Flervalgliste åpnes med: Her kan du velge null til mange elementer fra en liste, f.eks. realisering av et strukturelement. Nedtrekksliste angis med: Her kan du velge ett element fra en fast kodeliste, f.eks. teksttype eller språkkode for et Dokumentasjon-element.  De viste knappene står til høyre for feltet som viser verdiene som ev. er satt, se figuren øverst på siden.\nI tillegg finnes det felter som er skrivebeskyttet. Disse blir vist som: Slike felter har gråfarget tekst og bakgrunn og brukt f.eks. for guid-verdier.\nSpesielle egenskaper Denne fanen viser de mer særegne egenskapene, slike som kategoritilknytning, abstraktangivelse, arverelasjon/er, annoterende elementer, verdirestriksjon, alternativ identifikator, navigeringshierarki (Kodebiblioteket). I tillegg angis metaklasse og navn også her.\nModellering av relasjoner Modellering innebærer blant annet å sette relasjoner mellom par av metadataelementer. Dette gjøres i Egenskapspanelet.\nRelasjonene kan ofte betraktes å være rettet oppover eller nedover:\n Oppover betyr f. eks. at en fra en tjenestemodell refererer elementer i felles datamodell (gjenbruk), og fra felles datamodell refererer til elementer på strukturnivå (realisering) og fra strukturnivå refererer begreper (annotering). Nedover er de samme relasjonene sett motsatt vei, f. eks. at en velger et begrep i Arbeidspanelet og så i Egenskapspanelet velger hvilke elementer som annoterer til begrepet.  Med basis i dette bildet, anbefales det å modellere relasjoner oppover. Det betyr at en bruker enkeltvalglistene og ikke flervalgslistene.\n«Modellering oppover/nedover» må ikke forveksles med «bottom-up/-down»-modellering.\nValideringspanelet Valideringspanelet er et panel nederst på skjermen som viser resultatet av modellvalidering.\nValideringselementene er fordelt på fire kolonner:\n Beskrivelse: Tekst som forteller hvilket elementnavn som er berørt og hva som er feilen. Versjon: Navnet til versjon, modell, domene og versjonsnummer der feilen er funnet. Metaklasse: Metaklasse for element som har feil. Regel: Navnet på regel som er brutt som refererer til modellvalideringsreglene som en finner i Domeneklientens hjelpetekster.  Ved å dobbeltklikke på en valideringsfeil får en merket det elementet i Arbeidspanelet som har utløst feilen.\nSøkpanelet For å finne et bestemt element basert på navnet, bruker du Søkpanelet til venstre i Domeneklienten:\nPanelet deler plass med Domenepanelet og aktiviseres ved å trykke fanen \u0026ldquo;Søk\u0026rdquo;. Du skriver så inn søkeordet ditt og klikker på Søk eller trykker Enter.\nDet søkes i utgangspunktet etter hele navnet på elementene, og det skilles ikke på store og små bokstaver, f. eks. «RF-1086». Hvis du er usikker på navnet, kan du søke på deler av dette ved å bruke jokertegnet * foran og/eller bak, f. eks. «RF-10*».\nSøkefunksjonen er absolutt, dvs. når du søker etter elementer basert på et søkeord, så genereres det et utvalg basert på hele innholdet i domenet eller domeneedisjonen i søkeresultatlisten. Når du så søker på nytt med et alternativt søkeord, lages et nytt utvalg fra hele innholdet.\nDu får tilbake hele hierarkiet ved å trykke på Nullstill-knappen (som kan være skjult slik at du må dra Arbeidspanelet i midten mot høyre).\nDet er mulig å trykke inn/ut en eller flere av modellnivå-knappene (Begrep, Struktur, Implementasjon). Når knapp-konturene er borte med bare teksten tilbake, vil ingen elementer fra tilhørende modellnivå tas med.\nHvis du har funnet et element du ønsker å jobbe med, dobbeltklikker du på dette. Det blir da merket i Arbeidspanelet med tilhørende egenskaper vist i Egenskapspanelet.\nKonsollpanelet Konsollpanelet er et panel nederst på skjermen som deler plass med Valideringspanelet. Panelet viser «det indre liv» (backend) for Domeneklienten i pålogget utgave av SERES Repository.\nBåde normale operasjoner og kritiske feil som oppstår vil angis her.\nVisualisering av meldingsmodell Brukeren kan visualisere en meldingsmodell i en nettleser:\n I Arbeidspanelet velger du den meldingsmodellen du vil visualisere. (For elementer av andre metamodeller vil valget ikke være til stede.) Høyreklikk og velg Visualiser i nettleser. Du får da opp en tre-basert grafikk som viser en meldingsmodell med alle subelementene som inngår.  Grafikken viser akkurat det som vil inngå i XSD-en generert fra samme meldingsmodell. Det er også mulig å generere en grafikkfil av type \u0026ldquo;png\u0026rdquo; med samme innhold.\nNedenfor er et utsnitt av samme der detaljene trer bedre frem. Vi ser at hver elementnode er representert med navnet og metaklasseikonet samt et minus- eller plusstegn og ev. multiplisitet:\n Et plusstegn forteller at detaljene er \u0026ldquo;gjemt/kollapset\u0026rdquo; i noden. Dette er standard når detaljene er representert et annet sted i grafikken for å unngå rekursjon og spare plass. De skjulte detaljene under plusstegnet kan vises frem (ekspanderes). Et minustegn sier at alle detaljene er vist frem (ekspandert node). Detaljene etter minustegnet kan kollapses. Dersom uendelig-symbolet (∞) er angitt, betyr det at modellen i denne noden inngår i en potensialt ikke-terminert rekursjon (syklisk modellstruktur). Dette betyr at modellen inneholder typereferanser som går tilbake til utgangspunktet, umiddelbart eller via en eller flere mellomliggende elementer. Eksempel på det første er Dataobjekttype «Person» som kan ha Dataegenskapen «barn» av type «Person». Det er da essensielt at en slik Dataegenskap har minimum multiplisitet 0 slik at slektskapstreet av personer kan termineres. For egenskaper er multiplisitetsparet angitt, f. eks. [0..*], se eget avsnitt om multiplisitet.  Brukeren kan:\n Lukke og åpne et element ved å trykke på \u0026ldquo;+/-\u0026rdquo; eller dobbeltklikke på elementet Velge et element (som markeres med grønn tekst) og se mer informasjon i egen visning nederst på siden. Forvaltingselementer og dokumentasjon vises her i tillegg til de andre egenskapene for elementet. Flytte rundt i treet ved å klikke på bakgrunnen, holde museknapp inne og så dra bildet i ønsket retning.  Generere grafikkfil Den samme grafikken som kan genereres i en nettleser kan også legges ut på en grafikkfil av type \u0026ldquo;png\u0026rdquo;. Denne egner seg godt til å tas inn i dokumenter som beskriver modelleringen. Filen tas ut ved å høyreklikke på en meldingsmodell Arbeidspanelet og velge \u0026ldquo;Visualiser som bildefil\u0026rdquo;. Den lagres på brukerens lokalfilområde under mappen \u0026ldquo;bilder\u0026rdquo;. Dersom \u0026ldquo;png\u0026rdquo;-filer er knyttet til et grafikkvisningsprogram, vil dette starte og vise grafikken. Her kan brukeren ev. lagre grafikkfilen til en annen mappe.\nGrafikken er basert på JavaScript-biblioteket \u0026ldquo;Data-Driven Documents\u0026rdquo; (D3.js) sin visning \u0026ldquo;Collapsible Tree\u0026rdquo;.\nHåndtere grafikkfil Hvis en ønsker å lage en utskrift, kan en bruke «Paint» som alltid er til stede i Windows. Velg \u0026ldquo;Skriv Ut\u0026rdquo; + \u0026ldquo;Utskriftsformat\u0026rdquo;, og så \u0026ldquo;Skalering\u0026rdquo; + \u0026ldquo;Tilpass til\u0026rdquo;, f.eks. 3 x 1 sider.\nDersom grafikken overskrider 16384×16384 piksler, vil ikke Paint kunne åpne den. Det er da mulig å bruke andre bildeprogrammer eller konvertere bildefilen til en oppløsning som Paint klarer. Det finnes også mange open source- og gratisprogrammer til dette formålet. Man kan f.eks. bruke «ImageMagick» til å konvertere til et annet format eller redusere størrelsen. Så kan man bruke «PosteRazor» til å klippe opp bildet i flere sider, skrive det ut og så lime disse sammen til en stor «poster».\nRammeverk for modellering Forbindelsen mellom SERES Repository og Domeneklienten er toveis. Gjeldende data kan hentes fra repository og senere kan brukerens endringer av modelldataene utført i klienten lagres til repository.\nEtter pålogging får brukeren se listen over alle katalogene som finnes i det innloggede brukermiljøet. De katalogene som brukeren har skrivetilgang til vil være øverst og ha uthevet skrift. Under katalogen vil det minst finnes et domene, og under hvert domene vil det finnes modeller. Modellene vil være «Fellesmodell», som inneholder et sett med modellelementer som gjenbrukes i tjenestemodellene, og tjenestemodeller. En modell kan ha mange versjoner og hver versjon vil ha en status.\nBrukeren kan laste ned, åpne og lese innholdet i alle modellversjoner som finnes under alle katalogene, med unntak av modellversjoner som er arbeidsversjoner eller forkastet og som ligger under en katalog som brukeren kun har lesetilgang til. For å kunne endre/bearbeide en modellversjon, må brukeren opprette en arbeidsversjon av den modellversjonen som skal være utgangspunktet til en ny godkjent modellversjon.\nEn arbeidsversjon som ikke er verdt å tas vare på, kan forkastes (se figurene nedenfor). Denne blir da lagt under noden «Forkastede versjoner» og blir ikke lenger tilgjengelig for videre bearbeidelse. Men det er fremdeles mulig å åpne den forkastede versjonen, og det kan lages ny arbeidsversjon eller helt ny tjenestemodell basert på denne.\nFør arbeidsversjonen blir forkastet, får brukeren en mulighet til å angre:\nNy tjenestemodell - fra opprettelse til ferdigstillelse En tjenestemodell kan opprettes på flere måter. Enten fra et domene, fra en publisert versjon av «Fellesmodell» eller fra en hvilken som helst tjenestemodellversjon. Tjenestemodeller som opprettes fra domenet vil få modellelementer fra den siste godkjente versjonen av «Fellesmodell», mens tjenestemodeller som opprettes fra en «Fellesmodell» eller tjenestemodellversjon vil få de samme modellelementene som modellen den opprettes fra.\nHøyreklikk på domenet den nye tjenestemodellen skal ligge under og velg «Opprett ny tjenestemodell». Valget er kun tilgjengelig hvis du har skrivetilgang til katalogen.\nTilsvarende kan du også gjøre på en publisert versjon av «Fellesmodell» eller en tjenestemodellversjon. Men fra en tjenestemodellversjon vil du også kopiere selve tjenestemodellen.\nEtter at du har valgt «Opprett ny tjenestemodell» får du opp dialogvinduet «Opprett ny modell». I feltet «Navn» angir du navnet til den nye tjenestemodellen. «Kildemodell» opplyser om hvilken versjon av «Fellesmodell» som vil blir brukt. Hvis du ønsker å bruke en annen versjon av «Fellesmodell» enn det som vises, må du opprette tjenestemodellen direkte fra ønsket versjon av «Fellesmodell». (Og) «Målorganisasjon» og «Måldomene» angir hvor den nye tjenestemodellen vil bli lagret, og er mulig å endre. Hvis du har skrivetilgang til flere målorganisasjoner (kataloger) kan du f. eks. opprette en tjenestemodell i et domene som tilhører tjenesteeier A som bruker fellesmodellen som tilhører tjenesteeier B.\nEtter at du har trykket «Opprett ny modell» har du fått opprettet en arbeidsversjon som du kan begynne å jobbe med.\nLagring av arbeidet Domeneklienten vil automatisk lagre edisjonen hvert 15. minutt, men du kan også bidra selv til dette ved å trykke «Ctrl-S» eller høyreklikke på arbeidsversjonen og velge «Lagre». Lagring skjer både til SERES Repository og til brukerens område på «SERES Desktop» (en samling virtuelle datamaskiner) eller til tilsvarende på brukerens datamaskin hvis Domeneklienten er lokalt installert.\nDet anbefales at man jevnlig lagrer endringene sine. Og for å få satt GUID-er på alle elementene i datamodellen og gjøre disse tilgjengelig i grensesnittet, må man lagre endringene til repository. GUID for valgt element i Arbeidspanelet sees i Egenskapspanelet til høyre.\nHvis arbeidsversjonen godkjennes vil endringer som er gjort siden forrige lagring bli automatisk lagret før den blir publisert. Ved generering av en XSD, vil du få spørsmål om å lagre dersom det er gjort endringer siden forrige lagring.\nValidering av modellene Før en arbeidsversjon godkjennes bør alle elementer som er tilføyd eller endret valideres. Det er innført et antall regler som skal, bør eller kan oppfylles for at modellene som inngår skal ha god kvalitet for den videre bruk.\nValidering kan skje på alle nivåer i domenet. Høyreklikk på et nivå, en modell eller et element i en modell, for eksempel en Tjenestemodell og velg Valider.\nHvis modellen er uten mangler, vil du få en bekreftelse etter valideringen:\nEtter validering av en modell kan man se om det er mangler i modellen, for eksempel at Dataegenskapstype mangler type, eller har feil i multiplisitet. Er det mangler i modellen, får en et varsel i Valideringspanelet som ligger nederst i visningen for Domeneklienten, se nærmere detaljer i eget avsnitt Valideringspanelet lenger opp i dokumentet.\nNår arbeidsversjonen er ferdig Når arbeidsversjonen er ferdig bearbeidet og validert, må den godkjennes for at den skal få endret status til «Publisert» og således også bli tilgjengelig for de som kun har lesetilgang til katalogen/domenet. Arbeidsversjonen kan godkjennes av den samme som har jobbet med denne, men det anbefales at man får noen andre i sin organisasjon til å kvalitetssikre og godkjenne arbeidsversjonen.\nHøyreklikk på arbeidsversjonen i Domenepanelet og velge «Godkjenn».\nFør arbeidsversjonen endrer status til «Publisert», får brukeren en mulighet til å angre:\nVær oppmerksom på at det ikke er mulig å endre en publisert versjon tilbake til en arbeidsversjon. Det man kan gjøre er å opprette en ny arbeidsversjon basert på den publiserte versjonen og så endre status til den publiserte versjonen til «Historisk» og eventuelt endre versjonsnavn og/eller versjonsinformasjon.\nEtter at arbeidsversjonen er godkjent etter status blitt endret til «Publisert».\nAvslutte Domeneklienten For å avslutte Domeneklienten, velg «Fil + Avslutt» fra filmenyen øverst til venstre eller klikk på krysset øverst til høyre.\nGjenoppta arbeid på en arbeidsversjon etter ny innlogging Når du logger på Domeneklienten igjen for å fortsette arbeidet på en arbeidsversjon vil Arbeidspanelet være tomt. For å få åpnet arbeidsversjonen må man enten dobbeltklikke på arbeidsversjonen eller høyreklikke på arbeidsversjonen velge «Åpne».\nLage en ny versjon av en modell En ny versjon av en modell vil som regel baseres på den siste publiserte versjonen av modellen, men den kan også baseres på historiske versjoner, forkastede versjoner eller arbeidsversjoner.\nHøyreklikk på den versjonen som skal være utgangspunktet for den nye versjonen og velg «Opprett ny arbeidsversjon». Valget er kun tilgjengelig hvis du har skrivetilgang til katalogen.\nEtter at du har trykket «Opprett ny arbeidsversjon» har du fått opprettet en arbeidsversjon som du kan begynne å jobbe med.\nVersjonsinformasjon Det blir registrert endringshistorikk på alle modellversjonene slik at man kan se når og hvem som har opprettet, oppdatert eller endret status på en versjon. Versjonen kan i tillegg gis et eget navn og det kan legges til informasjon eller forklaringer, f.eks. om hvilke endringer/oppdateringer den inneholder.\nOppbygging av domene med ulike modeller Et domene (for en etat eller et fagområde) er delt inn i tre modellnivåer. Nivåene bør relateres til hverandre slik at man bygger opp et hierarki der etaten får en god oversikt over sitt domene.\nAnbefalte arbeidsmåter Vi anbefaler å begynne med å opprette innhold på «Fellesmodell». Denne inneholder et sett med gjenbrukbare modellelementer allerede fra starten av, men den må utvides og tilpasses til det enkelte domene. For eksempel kan en starte med Begrepsnivået. Da kan man opprette de begreper som skal til, gi definisjoner og ev. opprette relasjoner og Begrepskategorier. Når man har fått opp en del begreper kan man starte å jobbe på Strukturnivået.\nVed å bruke noe tid på Strukturnivået vil dette være besparende i det videre arbeid, spesielt hvis det skal opprettes flere tjenestemodeller. Ofte vil en Objekttype eller en Kodeliste benyttes i flere tjenester, kanskje også i samme tjeneste. Hvis en har et Strukturnivå med innhold som kan gjenbrukes, er «dra-og-slipp»-funksjonalitet en effektiv måte å jobbe på, dvs. at en benytter disse diverse steder. Dra elementer fra Strukturnivået og slipp dem på de respektive Datamodell-elementer.\nNeste skritt kan være å lage felles datamodeller under Implementasjonsnivået. Dette kan f.eks. være datamodeller for bl.a. dataenkelttyper, kodelister og meldingsdeler som skal brukes i flere tjenestemodeller.\nEtter at man har fått godkjent en oppdatert versjon av «Fellesmodell» er det klart for å jobbe med tjenestemodeller. Når man oppretter en tjenestemodell vil den, hvis den opprettes fra domene, få en kopi av siste godkjente versjon av «Fellesmodell».\nBegrepsnivå Her oppretter man begreper som man ønsker å knytte til øvrige elementer. For eksempel begrepet «Person». I dette tilfellet har den roller som «Kunde» og «Saksbehandler».\nMan bør etablere og ajourholde domenets Begrepsnivå. Dette er blant annet med på å øke søkbarheten i domenet og gi en bedre oversikt over domenets begreper og strukturer. For å se bruken av begrepene bør man lage relasjoner til Struktur- og Implementasjonsnivå.\nDet er også viktig å legge inn definisjoner for de enkelte begrepene. For eksempel kan «Bil» ha definisjon «Motorkjøretøy beregnet til transport av gods eller et mindre antall personer». Du skal kunne danne ei naturlig setning fra «\u0026lt;begrepsnavn\u0026gt; er \u0026lt;definisjon\u0026gt;». I tillegg kan begrepene relateres til hverandre med fire ulike begrepsrelasjonstyper.\nStrukturnivå Strukturnivået er \u0026ldquo;gjenbruksnivået\u0026rdquo;. Alt man ønsker å bruke flere ganger bør opprettes på dette nivået for senere å kunne gjenbrukes i ulike datamodeller på Implementasjonsnivået gjennom en slags «kloning». Innholdet på Strukturnivået skal være generelt og navngivingen og struktur bør gjenspeile dette.\nFra figuren ser vi eksempler på elementtyper (metaklasser) på dette nivået:\n Strukturmodeller som «Enkeltyper», «Kodelister», «Objekttyper» og «Komplekstyper» Enkeltyper som «Dato», «Navn» og «Tall» Kodeliste som «Organisasjonsform» med Kodelisteelementer «aksjeselskap», «enkeltpersonforetak» og «borettslag» Objekttype som «Person» med Egenskaper «navn», «fødselsdato», «fødselsnummer», «bostedsadresse» og «telefonnummer» samt assosiasjonsende «arbeidsgiver» Komplekstype som «Adresse» med Typeegenskaper «adresse», «postnummer» og «poststed»  Figuren viser innenfor hakeparenteser minimum og maksimum multiplisitet (nedre og øvre mulige antall forekomster), se eget avsnitt under om multiplisitet. Vi ser også i rundparenteser antall realiseringer av hvert av elementene på Implementasjonsnivå. Når det opprettes objekter på Strukturnivå, bør man annotere disse opp til Begrepsnivået. Marker først Strukturelementet i Arbeidspanelet. I Egenskapspanelet velger man riktig begrep fra listen over mulige annoteringer. Alle begreper i domenet ligger i listen. Dersom begrepet ikke finnes i listen må dette opprettes på Begrepsnivå.\nMultiplisitet Multiplisitet er to tall som settes på egenskaper generelt. Dette er en nedre verdi (minimum multiplisitet) og en øvre verdi (maksimum multiplisitet). Dette tallparet angis i Domeneklienten slik det også angis i UML (Unified Modeling Language) innenfor klammeparenteser og angitt for egenskap av gitt type, her på Strukturnivå:\n\u0026lt;Egenskap\u0026gt;: \u0026lt;Enkeltype\u0026gt; [\u0026lt;min\u0026gt;..\u0026lt;maks\u0026gt;]\nf. eks. for Objekttype «Person» sin Egenskap «medlemskap» av Enkeltype «Organisasjonsnavn»:\n Person  medlemskap: Organisasjonsnavn [0..5]    Dette angir at Person kan registreres å ha et medlemskap i 0 til 5 organisasjoner.\nImplementasjonsnivå Implementasjonsnivå er et modellnivå som inneholder metadataelementer med nødvendige detaljer for implementasjon av tjenester. Dette kan for eksempel være en innsendingstjeneste i Altinn.\nElementtypene (metaklassene) som dette nivået består av er beskrevet i de påfølgende avsnittene.\nI disse kan man legge alle de elementene som har potensial for å brukes i flere tjenester, typisk Dataenkelttyper, Datakodelister og Datakomplekstyper. Når de er lagt inn i en felles eller delt datamodell, kan man bruke dem på tvers av alle Tjenestemodeller. Det bør opprettes relasjoner fra disse elementene til tilsvarende elementer på Strukturnivå (realiseringsrelasjoner). Antall felles datamodeller er fra null til mange.\nLager man typen/kodelisten basert på tilsvarende fra Strukturnivå ved å dra den ned til en Datamodell, opprettes koblingen automatisk. I eksempelet under ser vi Datakomplekstype «Adresse» på Implementasjonsnivå som realiserer Komplekstype «Adresse» på Strukturnivå:\nFra figuren på forrige side ser vi eksempler på noen av elementtypene (metaklassene) på dette nivået:\n To felles Datamodeller «FellesDatamodell» og «UDIdata» Dataenkeltyper som «Tekst», «Tall», «Postnummer» og «Dato» Datakodelister som «Allergi» og «Adressetype» Datakodeelementene «bosted», «post» og «jobb» under «Adressetype» Datakomplekstype «Tidsrom» DataTypeegenskapene «fra» og «til» under «Tidsrom» ORDataenkeltype som «EnhetOrganisasjonsnummer» ORDatakodeliste som «PasientKjønn» Tallrestriksjon som «TallrestriksjonKroppshøyde» «TallrestriksjonKroppshøyde» Verdiområde 0.10 – 2.80 under «TallrestriksjonKroppshøyde» Tegnrestriksjon som «TegnrestriksjonNavn» og «TegnrestriksjonFnr» Verdirestriksjon som «VerdirestriksjonFnr» Dataobjekttyper som «Person» og «Enhet» Dataegenskap for Dataegenskap «type» under «Person.adresse» Meldingsdel som «Informasjon» «Dokumentasjon» under Fødselsnummer  Tjenestemodell Tjenestemodell er innrammingen av den enkelte tjenesten. Hver tjeneste knyttes altså til en egen Tjenestemodell. Denne opprettes direkte under Implementasjonsnivået. En Tjenestemodell har en Meldingsmodell og kan ha en til mange Datamodeller og en til mange Presentasjonsmodeller. Ved opprettelse av en Tjenestemodell, opprettes det automatisk en Meldingsmodell og en Datamodell med navn som bygger på Tjenestemodellnavnet.\nTjenestespesifikk datamodell De tjenestespesifikke elementene med ev. restriksjoner som skal være med i tjenesten spesifiseres i en tjenestespesifikk Datamodell, ikke i en felles Datamodell. Navngivning av elementene her bør være beskrivende i henhold til tjenesten som skal opprettes. Elementer med gjenbrukspotensial legges derimot i en felles datamodell.\nMeldingsmodell En meldingsmodell er grunnlaget for en meldingsspesifikasjon (XSD) som beskriver innholdet og strukturen i en melding. Modellen består av meldingsdeler som fungerer som meldingens innholdsfortegnelse. Vi opererer vanligvis med én meldingsdel som beskriver den som rapporterer inn i tjenesten, for eksempel en «Søker». Saksinnholdet i tjenesten inngår i en eller flere andre meldingsdeler. Meldingsdelene består i sin tur av Dataegenskaper og Relasjonsegenskaper som igjen er relatert til Dataenkeltyper, Datakodelister og Dataobjekttyper osv.\nNår man oppretter elementer på Implementasjonsnivå via dra-og-slipp-operasjoner fra Strukturnivået, vil elementtypene (metaklassene) korrespondere på følgende måte:\n   Strukturnivå Impementasjonsnivå Kommentar     Objekttype Dataobjekttype Sammensatte typer med identitet   Egenskap Dataegenskap Egenskap til (Data)Objekttype   Enkelttype Dataenkelttype Type til (Data)Egenskap   Kodeliste Datakodeliste Type til (Data)Egenskap   Kodelisteelement Datakodeelement Kodeelement til (Data)Kodeliste   Komplekstype Datakomplekstype Sammensatte typer uten identitet   Typeegenskap DataTypeegenskap Egenskap til (Data)Komplekstype    Elementer som datamodellen består av er beskrevet i de påfølgende avsnittene.\nPrimitivtyper Primitivtyper er de innebygde datatypene for den Plattform modellene transformeres til. Primitivtypene har alle forskjellige egenskaper og er en «startrestriksjon» for en Dataenkeltype. Benytter man gode Primitivtyper, er det ikke alltid nødvendig å definere Verdirestriksjoner og Verdiområder på Dataenkeltypene.\nEksempel på Primitivtype: decimal - Alle reelle tall (som inkluderer heltall):\n-1035, -3.7, 1.45, 40, 12456.4567\nMerk at dersom Primitivtypene ligger i flere utgaver av XSD-plattformen, må Plattformene slås sammen gjennom å slippe den/de Plattformen/e som skal fjernes på den ene Plattformen som skal beholdes.\nDisse knyttes til i Egenskapsvinduet, her til Dataenkeltype «Beløp»:\nFor eksempel:\n alternativ: representasjon boolean beløp: representasjon decimal heltall: representasjon integer  Primitivtype skal også knyttes til Datakodeliste slik at kodeverdiene kan valideres i XSD-ene. Klikk på en Datakodeliste og knytt til representasjon i Egenskapspanelet.\nRelasjonsegenskap Når en Dataobjekttype inneholder en Relasjonsegenskap, benyttes (normalt) en annen Dataobjekttype som type. I eksemplet under er «Søknad» en Dataobjekttype som brukes som type til Relasjonsegenskapen «søknad» i Dataobjekttypen «Klage»:\n Relasjonsegenskap: Når en Dataobjekttype benyttes som egenskapens type. Egenskapstypen kan være den samme som modertypen og da kalles dette en «egenreferanse». Et typisk eksempel er Dataobjekttype «Person» sin Relasjonsegenskap «barn» av type «Person». Dataegenskap: Dersom en Dataenkeltype, Datakomplekstype eller Datakodeliste benyttes som type, opprettes det en vanlig Dataegenskap.  Datakodeliste Datakodelister har samme struktur som Kodelister fra Strukturnivå:\n   Datakodeliste Sivilstand     Datakodelement «ugift»   Datakodelement «gift»   Datakodelement «partnerskap»   Datakodelement «separert»    Datakomplekstyper Datakomplekstyper har samme struktur som Komplekstyper fra Strukturnivå:\n   Datakomplekstype «Adresse»     DataTypeegenskap «gateadresse»: tekst [muliplisitet]   DataTypeegenskap «postnummer»: tall [multiplisitet]   DataTypeegenskap «poststed»: tekst [multiplisitet]    Generering av XSD Når tjenestemodellen er ferdig utviklet, kan man generere XSD-er som blant annet kan brukes som datakilder i tjenesteutviklingen for Altinn.\nHøyreklikk på en Meldingsmodell og velg «Generer XSD».\nDet kommer da opp en XSD-genereringsassistent (wizard) som består av 2 til 4 sider.\nHovedvalg  Her er følgende informasjon låst:\n Domenenavn Tjenestenavn Modellnavn  Her spesifiseres følgende:\n Tjenesteversjon: Brukervalgt identifikator for den tjenesteutgaven en har som mål å utvikle Dokumentasjonsspråk: Språkkode som bestemmer hvilke elementer av type Dokumentasjon som blir lagt ut i generert XSD Justere XSD-parametre: Åpner opp side for setting av parametre for å velge detaljer i utforming av XSD. Generere for Kodebibliotek: Åpner opp side for setting av detaljer i XSD for bruk mot Kodebibliotek.  Se videre detaljer om bruk av XSD-genereringsassistenten under avsnittet Parametre for XSD-generering.\nLagring og publisering  Lagre lokalt? Her velger du om XSD-en skal lagres på din lokale PC der du i neste felt kan angi «mappe». Dernest kan du angi «filnavn», dvs. den delen av filnavnet som i utgangspunktet forteller om modellgrunnlaget for XSD-en. I tillegg får filnavnet datostempel og identifikatorinformasjon om modell og XSD.\nOBS: Slik lokal lagring er bare tilgjengelig om en kjører en lokal installasjon, dvs. ikke ved kjøring i VMware. Denne lagringen kommer i tillegg til at XSD-en alltid lastes opp til SERES Produktforvaltning.\nXSD-status Her angir du om denne XSD-en ved opplasting til SERES Produktforvaltning skal karakteriseres med statusverdien «utkast» eller «kandidat» der «utkast» er standardverdi. Totalt finnes følgende verdier, men de øvrige må settes etter pålogging i Produktforvaltningen:\n utkast: De første XSD-variantene som genereres fra en modell før en har sjekket at de inneholder de elementene og har den strukturen de skal. kandidat: XSD-en er sjekket, validert og klar for å tas inn i en tjenesteutviklingsløsning, f.eks. Altinn TUL. produksjon: XSD-en er tatt i bruk i en løsning, f. eks. Altinn SBL. terminert: XSD-en har vært i bruk, men er tatt ut av produksjon. forkastet: XSD-en har aldri vært i bruk og ikke aktuell for senere bruk.  Endring av statusverdi for tidligere opplastede XSD-er gjøres i SERES Produktforvaltning etter innlogging. XSD-er som er gitt statusverdi «utkast» eller «forkastet», kan kun lastes ned av brukere som er innlogget i denne løsningen, mens XSD-er med statusverdi «kandidat», «produksjon» og «terminert» kan alle laste ned.\nSend til e-postadresse/r Her kan du angi en eller flere e-postadresser (med ‘;’ som skilletegn) hvor XSD-en vil sendes i form av et vedlegg.\nDetaljer ved modellering og XSD-generering Primitivtypers verdiområder Dersom en benytter velvalgte Primitivtyper, kan en slippe unna å definere Verdirestriksjoner ev. Verdiområder for Dataenkeltyper:\n   Primitivtype Brukes for Eksempler på bruk     decimal Alle reelle tall også kalt flyttall (inkluderer heltall). -1035, -3.7, 1.45, 40, 2456.4567   integer Alle heltall. Alle positive og negative heltall.   gYear Årstall -0550 (550 år f. Kr.), 1814, 2011   date Datoer -0500-03-31 (31. mars 500 år f. Kr), 0872-01-01, 2011-01-01   time Klokkeslett 05:10:05, 13:40:00   dateTime Dato og klokkeslett. 2011-08-01T12:00:00 (1. august kl. 12)   anyURI Tekststreng som representerer en nettadresse for et dokument eller annen nettressurs (URN eller URL). https://digdir.no/   string Tekststreng som tillater multiple blanke, innledende og terminerende blanke samt spesialtegn som linjeskift, tab-tegn m.m.    normalizedString Samme som over, men uten spesialtegn som linjeskift, tab-tegn m.m.    token Tekststreng som bare tillater enkle blanke, og ikke blanke i starten og slutten av strengen.    hexBinary Binære data kodet heksadesimalt.    base64Binary Tekststreng kodet i Base64-format aktuell for representasjon av vedlegg til et skjema for robust og effektiv transport.     Kommentar: Det anbefales bruk av token eller normalizedString istedenfor string for de fleste strenger, noe som gir en strammere validering.\nAnbefalt bruk av Dataenkeltype-navn til Primitivtyper Primitivtyper er engelskspråklige og tekniske i navngivningen. Vi anbefaler derfor norske termer i form av Dataenkeltyper som uttrykker betydningen av de mest aktuelle Primitivtypene. Denne anbefalingen inngår i domenemalen som legges inn for nye domener.\n   Dataenkelttype Primitivtype     Nummer positiveInteger   Antall nonNegativeInteger   Heltall integer   Tall decimal   Beløp decimal   Tidspunkt dateTime   Klokkeslett time   Dato date   Årstall gYear   ÅrOgMåned gYearMonth   Måned gMonth   MånedOgDag gMonthDay   DagIMåned gDay   Alternativ boolean   Navn token   Tekst string   Identifikator NMTOKEN   HexInnhold hexBinary   Base64Innhold base64Binary   URI anyURI   Fødselsnummer token med restriksjon [0-9]{11}   Organisasjonsnummer token med restriksjon [0-9]{9}    Ved innføring av nye domener i SERES Repository blir disse instansiert via en domenemal som inneholder disse Dataenkeltypene.\nNår så disse Dataenkeltypene brukes som typer for Dataegenskaper i en Datamodell, kan egenskapsnavnene forenkles uten å miste semantikken:\n ansatte: Antall født: Dato lån: Beløp oppstart: Tidspunkt vekt: Tall åpning: Klokkeslett (butikk- og kontoråpningstid) lønning: DagIMåned (utbetaling av lønn)  En slik forenkling må selvsagt vurderes opp mot konteksten navnene inngår i ved videre bruk av modellene.\nModellering i relasjon til ønsket grensesnitt  Parametre for XSD-generering Tjenesteversjon Tjenesteversjon er en brukervalgt identifikator for den tjenesteutgaven en har som mål å utvikle basert på en valgt meldings- eller presentasjonsmodell. På denne måten kan en beholde modellnavnene uendret over tid selv om innholdet i modellene forandres etterhvert. Hver tjenesteversjon identifiserer et \u0026ldquo;snapshot\u0026rdquo; av en modell som kan bevares i XSD-format over lang tid. Mange parallelle øyeblikksutgaver av modellen kan eksistere parallelt.\nEn typisk verdi for tjenesteversjon kan være årstallet tjenesten skal tas i bruk, f. eks. «2016», eller det formelle navnet på hovedversjonen for en gruppe tjenester som samtidig skal driftsettes, f. eks. «2.09». Vær obs. på at om tjenesteversjon endres for en eksisterende tjeneste pga. modelljustering, vil tjenesten måtte reetableres i Altinn TUL. Dette er fordi tjenesteversjon inngår i navnet på XSD-navnerommet (\u0026ldquo;target namespace\u0026rdquo;). Eksempel på navnromsnavn: \u0026quot;http://seres.no/xsd/Testetaten/Lånesøknad_M/2016\u0026quot;\nHer inngår domenenavn \u0026ldquo;Testetaten\u0026rdquo;, modellnavn \u0026ldquo;Lånesøknad_M\u0026rdquo; og tjenesteversjon \u0026ldquo;2016\u0026rdquo;.\nEksempler på fullstendige XPath-uttrykk (\u0026ldquo;Node expanded names\u0026rdquo;) som henter ut enkeltverdier fra en melding:\n http://seres.no/xsd/Testetaten/Lånesøknad_M/2016/melding/ Innsender/soeker/foedselsnummer http://seres.no/xsd/Testetaten/Lånesøknad_M/2016/melding InnrapporterteData/boliglaan/laanebeloep  Dokumentasjonsspråk Dokumentasjonsspråk er en språkkode som bestemmer hvilke elementer av type Dokumentasjon som blir lagt ut i generert XSD knyttet til det elementet som «eier» dokumentasjonen.\nFor hvert metadataelement kan det opprettes et antall slike Dokumentasjonelementer ved å høyreklikke på metadataelementet i Arbeidspanelet, velge Nytt barn og i Egenskapspanelet velge type og språk samt angi selve dokumentasjonsteksten. Hvilket dokumentasjonsspråk som er valgt avgjør da om teksten blir med ut i XSD-en. Dersom det velges et språk det ikke er opprettet Dokumentasjonelementer for eller ingen språk angis (standardverdi), kommer ingen slike med i XSD-en.\nFølgende språkkoder er tilgjengelige i brukergrensesnittet:\n nb: Bokmål nn: Nynorsk se: Nordsamisk en: Engelsk de: Tysk fr: Fransk es: Spansk ru: Russisk pl: Polsk ur: Urdu  Følgende Dokumentasjonstyper legges ut med tilhørende XSD-attributt:\n beskrivelse (ikke for begrep) - seres:beskrivelse kommentar - seres:kommentar definisjon (bare for Begrep) - seres:definisjon alternativ term (bare for Begrep) - seres:alternativTerm \u0026ldquo;alle andre typer\u0026rdquo; - seres:dokumentasjon  Det valgte språket angis i schema-elementet:\n\u0026lt;xsd:schema ... xml:lang=\u0026#34;nb\u0026#34; /\u0026gt; For hvert metadataelement kan en opprette mange Dokumentasjon-elementer, ett for hver kombinasjon av type og språk.\nJustere genereringsparametre Det er mulig å påvirke innholdet i XSD-en gjennom avkrysning av boksen «Justere XSD-parametre»:\nTillat typegjenbruk? Dersom avkrysset, vil XSD-en gjenbruke typedeklarasjoner på samme måte som i modellen som XSD-en er basert på. Hvis ikke avkrysset, vil det bli generert duplikate typedeklarasjoner om typer (dvs. Dataenkeltyper, Datakodelister, Datakomplekstyper og Dataobjekttyper) er referert flere steder.\nNB! Hvis du genererer en XSD basert på en presentasjonsmodell hvor OR-spesifikke datatyper er brukt (dvs. ORDataenkeltyper og ORDatakodeliste), kan det være nyttig å ha denne parameteren avslått for å avsløre multippel bruk av disse OR-spesifikke datatypene fordi hver av disse bare skal brukes ett sted i modellen.\nHvis vi tenker oss to Dataegenskaper «Beskrivelse» og «Stedsnavn» som begge bruker Dataenkeltypen «Tekst», får vi følgende:\n Påslått: «Tekst» representeres bare en gang i XSD-en selv om den er referert to ganger. Avslått: «Tekst» representeres to ganger i XSD-en fordi den er referert to ganger i modellen, og XSD-en vil ikke validere.  Tillat særnorske bokstaver i element- og attributtnavn? Dersom denne er avkrysset, vil de særnorske bokstavene ‘æ’, ‘ø’, ‘å’, ‘Æ’, ‘Ø’ og ‘Å’ som inngår i navn på modellelementer og attributter i annotation-delen beholdes uendret i XSD-en. Hvis parameteren ikke er satt, vil disse særnorske bokstavene bli omgjort (translitterert) til henholdsvis «ae», «oe», «aa», «AE», «OE» og «AA». Dette kan gjøres for å forhindre problemer i XML-verktøy som ikke fullt ut støtter tegnkodingen «UTF-8».\nMerk at følgende ikke blir omgjort:\n GUID-strenger der domenenavn og/eller elementnavn inneholder særnorske bokstaver Dokumentasjon-tekster XML-kommentarer  GUID-er som XSD-attributter? Dersom avkrysset, vil GUID-verdier for hvert av modellelementene bli tatt med som XSD-attributter knyttet til tilhørende typer eller elementer i XSD-en. En GUID er en unik identifikator som knyttes til hvert av metadataelementene som lagres i SERES Repository.\nEksempel på hvordan denne legges ut i XSD-en når parameteren er påslått:\n\u0026lt;xsd:simpleType name=\u0026#34;Epost\u0026#34; type=\u0026#34;xsd:token\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Testetaten/Dataenkeltype/EPost/1135632\u0026#34;\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; Merk at det avsluttende tallet i GUID-ene er unikt for hvert metadataelement slik at en kan nøye seg med å bruke dette for identifikasjon av et element.\nGUID-er som meldingsattributter via datasimpeltyper? Dersom avkrysset, vil GUID-verdier for datasimpeltyper legges ut som validerende meldingsattributter for alle elementer som kommer fra en egenskap som har den tilhørende datasimpeltypen.\nDatasimpeltype er en fellesbetegnelse (abstrakt super-metaklasse) for Dataenkeltype, Datakodeliste, ORDataenkeltype og ORDatakodeliste som er de metaklassene hvor dette ev. kommer til anvendelse.\nÅrsaken til at det er (OR)Dataenkeltypen eller (OR)Datakodelisten sin GUID som skal brukes og ikke Dataegenskapens, som hadde vært mest naturlig, er at opplegget skal svare til tilsvarende validering basert på ORid-er fra ORDataenkeltyper eller ORDatakodelister.\nEksempel på hvordan denne legges ut i XSD-en uten Altinn-tilpasning:\n\u0026lt;xsd:complexType name=\u0026#34;Dato\u0026#34; seres:elementtype=\u0026#34;Dataenkeltype\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Testetaten/Dataenkeltype/Dato/1135634\u0026#34;\u0026gt; \u0026lt;xsd:simpleContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;xsd:date\u0026#34;\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:guid\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;http://seres.no/guid/Testetaten/Dataenkeltype/Dato/1135634\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:simpleContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; Tilsvarende med Altinn-tilpasning:\n\u0026lt;xsd:complexType name=\u0026#34;Dato\u0026#34; seres:elementtype=\u0026#34;Dataenkeltype\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Testetaten/Dataenkeltype/Dato/1135634\u0026#34;\u0026gt; \u0026lt;xsd:simpleContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;xsd:date\u0026#34;\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;guid\u0026#34; type=\u0026#34;xsd:string\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;http://seres.no/guid/Testetaten/Dataenkeltype/Dato/1135634\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:simpleContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; For ORDataenkeltyper og ORDatakodelister vil validerende attributter basert på ORid (Oppgaveregisterets «datadefinisjon») og GUID ligge parallelt.\nReferanser til begrepets GUID? Dersom avkrysset, vil alle elementer som har annotering til et begrep få et eget XSD-attributt «semRef» som peker til GUID-en for tilhørende begrep.\nMerk at denne GUID-en kommer i tillegg til elementets egen GUID om den er valgt lagt ut.\nUnder vises et eksempel på Dataobjekttypen «Pasient» med annotering til Begrepet «Pasient»:\n\u0026lt;xsd:complexType name=\u0026#34;Pasient\u0026#34; seres:semRef=\u0026#34;http://seres.no/guid/Testetaten/Begrep/Pasient/1168667\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;navn\u0026#34; minOccurs=\u0026#34;0\u0026#34; type=\u0026#34;Navn\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;foedselsnummer\u0026#34; type=\u0026#34;Foedselsnummer\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;pasienttype\u0026#34; minOccurs=\u0026#34;0\u0026#34; type=\u0026#34;Pasienttype\u0026#34;/\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;/xsd:complexType\u0026gt; ORid-er som meldingsattributter? Dersom denne er avkrysset, skal meldinger inneholde attributter med navn orid som forutsetter riktig ORid-verdi. (Dette er det samme som gjelder for meldinger basert på ORxsd-er). Gjelder modeller som bruker ORDataenkeltyper og/eller ORDatakodeliste (OR = Oppgaveregisteret)\nEksempel på hvordan denne legges ut i XSD-en når parameteren er påslått og uten Altinn-tilpasning:\n\u0026lt;xsd:complexType name=\u0026#34;EnhetOrganisasjonsnummer\u0026#34; seres:orid=\u0026#34;18\u0026#34; seres:elementtype=\u0026#34;ORDataenkeltype\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Testetaten/ORDataenkeltype/Organisasjonsnummer/1168010\u0026#34;\u0026gt; \u0026lt;xsd:simpleContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;xsd:string\u0026#34;\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:orid\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;18\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:simpleContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; Tilsvarende med Altinn-tilpasning:\n\u0026lt;xsd:complexType name=\u0026#34;EnhetOrganisasjonsnummer\u0026#34; seres:orid=\u0026#34;18\u0026#34; seres:elementtype=\u0026#34;ORDataenkeltype\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Testetaten/ORDataenkeltype/Organisasjonsnummer/1168010\u0026#34;\u0026gt; \u0026lt;xsd:simpleContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;xsd:string\u0026#34;\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;orid\u0026#34; type=\u0026#34;xsd:string\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;18\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:simpleContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; Metaklasser som XSD-attributter? Dersom denne er avkrysset, vil attributter med navn «elementtype» angi hvilken «metaklasse» det modellelementet tilhører som er basis for typen eller elementet i XSD-en.\nEksempel på hvordan denne legges ut i XSD-en når parameteren er påslått:\n\u0026lt;xsd:simpleType name=\u0026#34;Poststed\u0026#34; seres:elementtype=\u0026#34;Dataenkeltype\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;xsd:string\u0026#34;/\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; Merk at ved Altinn-tilpasning må denne være avkrysset for å få xsd:anyAttribute i aktuelle XSD-komponenter.\nForvaltningsdata som XSD-attributter? Dersom avkrysset, vil forvaltningsdata av bestemte typer for modellelementene bli inkludert i XSD-en som validerende attributter.\nDette gjelder p.t. Altinn-parametrene:\n dataFormatProvider dataFormatId dataFormatVersion  Her er hvordan disse inngår i XSD-en når parameteren \u0026ldquo;Spesialtilpasning til Altinn?\u0026rdquo; er valgt:\n\u0026lt;xsd:complexType name=\u0026#34;Innleggelse_M\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;Avsender\u0026#34; type=\u0026#34;Avsender\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;Informasjon\u0026#34; type=\u0026#34;Informasjon\u0026#34;/\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;dataFormatProvider\u0026#34; fixed=\u0026#34;SERES\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;dataFormatId\u0026#34; fixed=\u0026#34;3783\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;dataFormatVersion\u0026#34; fixed=\u0026#34;32980\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;xsd:anyAttribute/\u0026gt; \u0026lt;/xsd:complexType\u0026gt; Dersom \u0026ldquo;Spesialtilpasning til Altinn?\u0026rdquo; ikke er valgt, vil attributtene ligge i \u0026ldquo;seres\u0026rdquo;-navnerommet:\n\u0026lt;xsd:complexType name=\u0026#34;Innleggelse_M\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;Avsender\u0026#34; type=\u0026#34;Avsender\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;Informasjon\u0026#34; type=\u0026#34;Informasjon\u0026#34;/\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:dataFormatProvider\u0026#34; fixed=\u0026#34;SERES\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:dataFormatId\u0026#34; fixed=\u0026#34;3783\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:dataFormatVersion\u0026#34; fixed=\u0026#34;32980\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;xsd:anyAttribute/\u0026gt; \u0026lt;/xsd:complexType\u0026gt; Der en genererer XSD-en fra en Presentasjonsmodell, blir sekvensnumrene for Presentasjonsfelter lagt ut (med attributtnavn \u0026ldquo;seres:feltnummer\u0026rdquo;).\nEksempel:\n\u0026lt;xsd:complexType name=\u0026#34;Bakgrunnsinformasjon\u0026#34; seres:elementtype=\u0026#34;Presentasjonsdel\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;Enhetsopplysninger_organisasjonsnummer\u0026#34; type=\u0026#34;Organisasjonsnummer\u0026#34; seres:feltnummer=\u0026#34;1\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;Enhetsopplysninger_navn\u0026#34; type=\u0026#34;Navn\u0026#34; seres:feltnummer=\u0026#34;2\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;Adresse_adresse\u0026#34; type=\u0026#34;Tekst105-9\u0026#34; minOccurs=\u0026#34;0\u0026#34; seres:feltnummer=\u0026#34;3\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;Adresse_postnummer\u0026#34; type=\u0026#34;Postnummer\u0026#34; minOccurs=\u0026#34;0\u0026#34; seres:feltnummer=\u0026#34;4\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;Adresse_poststed\u0026#34; type=\u0026#34;Poststed\u0026#34; minOccurs=\u0026#34;0\u0026#34; seres:feltnummer=\u0026#34;5\u0026#34;/\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;/xsd:complexType\u0026gt; Valgfrie egenskaper får xsd:nillable som XSD-attributter? Nillable-attributtet i en XSD spesifiserer om tilhørende element i en melding kan settes til \u0026ldquo;xsi:nil\u0026rdquo; som forteller at elementet er udefinert. Disse har primært mening for verdi-elementer og ikke strenger de de kan angis som tom streng.\nDersom denne er avkrysset, vil alle elementer med minimum multiplisitet 0 forsynes med et nillable-attributt med verdi \u0026ldquo;true\u0026rdquo;.\nDersom denne ikke er avkrysset, vil attributtet ikke være med i XSD-en ettersom standardverdi for nillable-attributter er \u0026ldquo;false\u0026rdquo;.\nEksempel på bruk:\n\u0026lt;xsd:complexType name=\u0026#34;Person\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;navn\u0026#34; type=\u0026#34;Navn\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;fødselsnummer\u0026#34; type=\u0026#34;Fødselsnummer\u0026#34; minOccurs=\u0026#34;0\u0026#34; nillable=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;adresse\u0026#34; type=\u0026#34;Adresse\u0026#34; minOccurs=\u0026#34;0\u0026#34; nillable=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;/xsd:complexType\u0026gt; Her er \u0026ldquo;navn\u0026rdquo; påkrevd, mens \u0026ldquo;fødselsnummer\u0026rdquo; og \u0026ldquo;adresse\u0026rdquo; er frivillige data. Meldingene kan da se slik ut der data er tilgjengelig:\n\u0026lt;person\u0026gt; \u0026lt;navn\u0026gt;Ola Nordmann\u0026lt;/navn\u0026gt; \u0026lt;fødselsnummer\u0026gt;11111111111\u0026lt;/fødselsnummer\u0026gt; \u0026lt;adresse\u0026gt; \u0026lt;adresse\u0026gt;Storgata 10\u0026lt;/adresse\u0026gt; \u0026lt;postnummer\u0026gt;9999\u0026lt;/postnummer\u0026gt; \u0026lt;poststed\u0026gt;Utnes\u0026lt;/poststed\u0026gt; \u0026lt;/adresse\u0026gt; \u0026lt;/person\u0026gt; Dersom de frivillige data mangler, skal dette angis slik:\n\u0026lt;person\u0026gt; \u0026lt;navn\u0026gt;Ola Nordmann\u0026lt;/navn\u0026gt; \u0026lt;fødselsnummer xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;adresse xsi:nil=\u0026#34;true\u0026#34; /\u0026gt; \u0026lt;/person\u0026gt; Teknisk kommentar: Denne mekanismen er strengt tatt ikke nødvendig dersom elementet er av type xsd:string eller subtyper av denne. I disse tilfelle kunne en ha fjernet xsd:nillable og brukt tomme strenger istedenfor xsd:nil=\u0026ldquo;true\u0026rdquo;. Denne mekanismen er imidlertid av ryddighetshensyn anvendt på alle typer.\nSpesialtilpasning til Altinn? Avkrysning av denne genererer en XSD som vil være spesialtilpasset tjenesteutviklingen i Altinn, og er spesielt gunstig dersom det legges opp til preutfylling i sluttbrukerløsningen. Dette innebærer følgende:\nValiderende attributter flyttes ut fra eget navnerom for SERES-forvaltningsdata (seres) og Kodebiblioteket (kodebib) og inn i targetNamespace. Standard SERESxsd-er har to navnerom for henholdsvis SERES-forvaltningsdata (der validerende attributter er deklarert) og Kodebibliotek-typer og -attributter:\n\u0026lt;xsd:import namespace=http://seres.no/xsd/forvaltningsdata schemaLocation=\u0026#34;http://seres.no/xsd/seres.xsd\u0026#34;/\u0026gt; \u0026lt;xsd:import namespace=http://kodebibliotek.brreg.no/xsd/kodebibliotek schemaLocation=\u0026#34;http://www.seres.no/xsd/kodebibliotek.xsd\u0026#34;/\u0026gt; Disse import-deklarasjonene fjernes ved spesialtilpasningen og attributtene defineres \u0026ldquo;inline\u0026rdquo; som del av modellnavnerommet. Dersom det er krysset av for bruk av Kodebiblioteket, blir følgende lagt inn globalt:\n\u0026lt;xsd:attribute name=\u0026#34;CodeID-PH\u0026#34; type=\u0026#34;xsd:anyURI\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;NodeID-PH\u0026#34; type=\u0026#34;xsd:anyURI\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;CodeText-PH\u0026#34; type=\u0026#34;xsd:string\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;NodeText-PH\u0026#34; type=\u0026#34;xsd:string\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;PathText-PH\u0026#34; type=\u0026#34;xsd:string\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;NodeName-PH\u0026#34; type=\u0026#34;xsd:string\u0026#34;/\u0026gt; \u0026lt;xsd:attributeGroup name=\u0026#34;PlaceholderAttributes\u0026#34;\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;CodeID-PH\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;NodeID-PH\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;CodeText-PH\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;NodeText-PH\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;PathText-PH\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;NodeName-PH\u0026#34;/\u0026gt; \u0026lt;/xsd:attributeGroup\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;NavigationHierarchyID\u0026#34; type=\u0026#34;xsd:anyURI\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;NodeListID\u0026#34; type=\u0026#34;xsd:anyURI\u0026#34;/\u0026gt; \u0026lt;xsd:complexType name=\u0026#34;Code\u0026#34; abstract=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;xsd:simpleContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;xsd:string\u0026#34;\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;NodeListID\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;xsd:attributeGroup ref=\u0026#34;PlaceholderAttributes\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:simpleContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;CodeTypeID\u0026#34; type=\u0026#34;xsd:anyURI\u0026#34;/\u0026gt; \u0026lt;xsd:attributeGroup name=\u0026#34;PlaceholderAttributesCodeType\u0026#34;\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;CodeID-PH\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;CodeText-PH\u0026#34;/\u0026gt; \u0026lt;/xsd:attributeGroup\u0026gt; \u0026lt;xsd:complexType name=\u0026#34;ExternalCode\u0026#34;\u0026gt; \u0026lt;xsd:simpleContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;xsd:string\u0026#34;\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;CodeTypeID\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;xsd:attributeGroup ref=\u0026#34;PlaceholderAttributesCodeType\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:simpleContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026ldquo;Target namespace\u0026rdquo; er default namespace:\n\u0026lt;xsd:schema xmlns=http://seres.no/xsd/Testetaten/Innleggelse_M/2016 targetNamespace=http://seres.no/xsd/Testetaten/Innleggelse_M/2016 xmlns:seres=http://seres.no/xsd/forvaltningsdata xmlns:xsd=http://www.w3.org/2001/XMLSchema xmlns:xsi=http://www.w3.org/2001/XMLSchema-instance elementFormDefault=\u0026#34;qualified\u0026#34; attributeFormDefault=\u0026#34;unqualified\u0026#34;\u0026gt; \u0026ldquo;xsi\u0026rdquo;-navnerommet deklarert selv om det ikke brukes i XSD-en, ref. punkt 2:\n\u0026lt;xsd:schema xmlns=\u0026#34;http://seres.no/xsd/Testetaten/Innleggelse_M/2016\u0026#34; targetNamespace=\u0026#34;http://seres.no/xsd/Testetaten/Innleggelse_M/2016\u0026#34; xmlns:seres=\u0026#34;http://seres.no/xsd/forvaltningsdata\u0026#34; xmlns:xsd=\u0026#34;http://www.w3.org/2001/XMLSchema\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; elementFormDefault=\u0026#34;qualified\u0026#34; attributeFormDefault=\u0026#34;unqualified\u0026#34;\u0026gt; Modellerte attributter Dataegenskaper, DataTypeegenskaper og Relasjonsegenskaper kan utstyres med beskrivende subegenskaper gjennom mekanismen egenskap for egenskap (attributt på attributt). Subegenskapene legges ut som attributter under elementet som representerer superegenskapen.\nHer er et eksempel der Person har egenskapen adresse av type Adresse der denne egenskapen beskrives av subegenskapen type av type Adressetype.\n\u0026lt;xsd:complexType name=\u0026#34;Person\u0026#34; seres:elementtype=\u0026#34;Dataobjekttype\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;adresse\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34; seres:elementtype=\u0026#34;Dataegenskap\u0026#34;\u0026gt; \u0026lt;xsd:complexType\u0026gt; \u0026lt;xsd:complexContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;Adresse\u0026#34;\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;type\u0026#34; type=\u0026#34;Adressetype\u0026#34; seres:elementtype=\u0026#34;Dataegenskap\u0026#34;\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:complexContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;/xsd:element\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;/xsd:complexType\u0026gt; anyAttribute ved multiple Relasjonsegenskaper? Dersom denne er avkrysset og en Relasjonsegenskap har maksimum multiplisitet \u0026ldquo;*\u0026rdquo; (ubegrenset), legges det ut en xsd:anyAttribute i tilhørende element. Disse fri attributtene kommer da i tillegg til ev. modellerte attributter via \u0026ldquo;egenskap for egenskap\u0026rdquo; beskrevet over.\nMekanismen er illustrert i eksempelet under der Person kan ha 0 til mange barn (av type Person):\n\u0026lt;xsd:complexType name=\u0026#34;Person\u0026#34; seres:elementtype=\u0026#34;Dataobjekttype\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;barn\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34; seres:elementtype=\u0026#34;Relasjonsegenskap\u0026#34;\u0026gt; \u0026lt;xsd:complexType\u0026gt; \u0026lt;xsd:complexContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;Person\u0026#34;\u0026gt; \u0026lt;xsd:anyAttribute/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:complexContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;/xsd:element\u0026gt;\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;/xsd:complexType\u0026gt;  Kodebibliotek Tjenesteadresse URL til Kodebibliotekets tjeneste som leverer informasjon om kodelister til XSD-generatoren. Standardverdien er adressen til produksjonsmiljøet. Gjelder kun SSB.\nBrukernavn Brukernavn for å logge på Kodebibliotekets tjeneste. Gjelder kun SSB.\nPassord Passord for å logge på Kodebibliotekets tjeneste. Gjelder kun SSB.\n"
},
{
	"uri": "https://altinn.github.io/docs/seres/brukerveiledninger/domeneklient-a-til-aa/",
	"title": "Domeneklient fra A til Å",
	"tags": [],
	"description": "Hvordan modellere en tjeneste i Domeneklienten fra A til Å basert på tjenesten RF-1241.",
	"content": " Utgangspunkt for A-Å løp RF-1241 Det benyttes RF-1241 - Oppgave over betaling for pass og stell av barn, skjema i Skattedirektoratet, som utgangspunkt for gjennomgangen nedenfor.\nSkjema RF-1241 i Altinn  Skjema RF-1241 papirutgave  Starte Domeneklienten Logg inn i Domeneklient.\n Åpningsbilde i Domeneklienten For nærmere beskrivelse av åpningsbilde, se «Hjelp» i menylinjen.\n Lag ny tjenestemodell Høyreklikk på ønsket domene under valgt katalog (Kurs) og velg «Opprett ny tjenestemodell». I dette tilfellet ønsker vi å lage en tjenestemodell i «Kursdomene».\nGi tjenestemodellen navn og klikk på «Opprett ny modell».\n► Tjenestemodellen opprettes og legger seg under valgt «Domene»:\n► Nyopprettet tjenestemodell vises med navn, versjon og domene i Arbeidspanelet:\n Lag grunnstruktur for skjema Ny tjenestemodell Ved opprettelse av en tjenestemodell blir det automatisk opprettet en datamodell og en meldingsmodell under tjenestemodellen:\n Opprett meldingsdeler (blir automatisk plassert i datamodell) Høyreklikk på Testmodell_RF-141_M og velg «Ny meldingsdel».\nLegg inn Navn: «Innrapportør» i navnefeltet og velg «Opprett».\n► Ny meldingsdel vises under datamodell:\nVi ser at meldingsdelen er knyttet til korrekt meldingsmodell i egenskapsvinduet:\nVi må gjøre tilsvarende for meldingsdelen InnrapporterteData.\n Høyreklikk på Testmodell_RF-1241_M og velg «Ny meldingsdel» Legg inn Navn: InnrapporterteData i navnefeltet og velg \u0026ldquo;Opprett\u0026rdquo;.  ► Ny meldingsdel vises under datamodell. Nytt navn er lagt til:\nI Egenskapspanelet for meldingsmodellen ser vi at det er knyttet til to meldingsdeler:\nDet kan om ønskelig legges til flere meldingsdeler (for eksempel hvis det er et stort skjema).\nLag skjemainnhold Datamodellen skal beskrive innholdet i skjemaet. Datamodellen består av modellelementer som tilsvarer metadata i skjemaet. Modellelementene kan opprettes fra bunnen av eller de kan være basert på gjenbrukbare strukturer.\nLag dataobjekttype – GenerellInformasjon Høyreklikk på Testmodell_RF-1241_D og velg «Nytt Barn» → Dataobjekttype.\nNavngi dataobjekt GenerellInformasjon i egenskapsvinduet.\n► Ny dataobjekttype vises under datamodell:\n Lag dataegenskap – inntektsår Høyreklikk på GenerellInformasjon og velg «Nytt Barn» → Dataegenskap.\n Navngi dataegenskap inntektsår i egenskapsvinduet. Sett multiplisitet lik 1..1 (obligatorisk å fylle ut feltet). Velg «Type» ved å klikke knappen med tre prikker til høyre, og velg dataenkeltype «År» i dialogvinduet som åpnes. Dataegenskapstypene blir hentet fra en felles datamodell, derfor blir den hetende «Delt.FellesDatamodell.År». Det samme gjelder for de andre dataegenskapstypene.  ► Opprettet dataegenskap vises i egenskapsvinduet:\n Lag Datakodeliste - Oppgavetype  Se om det finnes en gjenbrukbar struktur (kodeliste). Endre til Søk-fane i vinduet til venstre. Bruk søkefeltet – skriv inn Oppgavetype og klikk på «Søk».  ► Søkets resultat vises. Vi skal ha en kodeliste.\n Dra kodelisten Oppgavetype under Strukturnivå og slipp på datamodell Testmodell_RF-1241_D. Åpne den nye Datakodelisten Oppgavetype. Marker de uønskede datakodeelementene (alle unntatt endringsoppgave og ordinæroppgave). Hold nede CTRL-tasten for å merke flere. Trykk på knappen «Delete» på tastaturet eller høyreklikk og velg «Slett».  ► To datakodeelementer vises: endringsoppgave og ordinæroppgave.\nVelg «Representasjon» ved å klikke knappen med tre prikker til høyre, og velg primitivtypen «string» i dialogvinduet som åpnes.\n► Datakodeliste med representasjon «string» vises i egenskapsvinduet.\n Koble Datakodeliste Oppgavetype til dataobjektet GenerellInformasjon Dra Datakodelisten Oppgavetype og slipp på dataobjektet GenerellInformasjon som vi opprettet tidligere.\n► Det opprettes en ny dataegenskap. Sett multiplisiteten til 1..1 i Egenskapspanelet.\n Lag dataobjekttype – Oppgavegiver Dra inn Objekttypen Enhet fra strukturnivået til datamodellen.\nEndre navn fra «Enhet» til «Oppgavegiver» og modellen skal nå se slik ut (typene vi har laget er markert i rød, da de ikke er transitivt (via meldingsdel og ev. flere elementer) knyttet til meldingsmodellen):\n Gjenbruk fra andre datamodeller Gjenbruk fra andre datamodeller gjøres med «Dra-og-slipp». Da beholdes alle koblingene til dataenkelttyper og relasjoner til andre nivåene. Man har likevel bare en kopi av den opprinnelige slik at man kan endre den uten at originalen endres.\nDersom dataobjekttypen inneholder relasjonsegenskaper til andre dataobjekttyper, vil også disse følge med så fremt de ikke ligger i FellesDatamodell.\nLag dataobjekttype – Betaler ► Se Lag dataobjekttype - Generellinformasjon\nLag dataegenskaper for dataobjekttype – Betaler ► Se Lag dataegenskap - inntektsår\nFra en felles datamodell, i dette tilfellet FellesDatamodell som ligger rett under Implementasjonsnivået, kan man dra inn de ønskede dataenkelttyper. Det opprettes automatisk en dataegenskap med tilhørende dataenkelttype og multiplisitet 0..1.\nDette gjøres enklest fra Søkvinduet. Fjern tidligere søk for å få opp hele domenet. Lukk begreps- og strukturnivå for å få en bedre oversikt.\nOpprett følgende dataegenskaper, ved dra-og-slipp fra Søkvinduet, til dataobjekttypen Betaler:\n Lag dataobjekttype – Betalingsoversikt Se om det finnes en gjenbrukbar struktur (objekttyper på strukturnivå).\nSøk opp objekttype Betalingsoversikt i Søkvinduet.\nDra objekttypen Betalingsoversikt fra strukturnivå og slipp på datamodell Testmodell_RF-1241_D.\nSlett dataegenskap betaling.\nEndre navn på de andre dataegenskapene:\n betalere endres til totaltAntallBetalere total skal være totaltPåløptBeløp.    Lag relasjonsegenskap – Betaler Dra dataobjektet Betaler (fra datamodellen) og slipp det på dataobjektet Betalingsoversikt. Det opprettes automatisk en relasjonsegenskap.\nEndre multiplisitet til: 0..* (* = -1)\n Koble datamodell til meldingsmodell Meldingsdel Innrapportør Koble dataobjekttypen GenerellInformasjon til meldingsdelen Innrapportør med «Dra-og-slipp». Gjør det samme med Oppgavegiver. Sett multiplisitet til 1..1.\n► Meldingsdel Innrapportør med relasjonsegenskaper generellInformasjon og oppgavegiver.\n Meldingsdel InnrapporterteData Koble dataobjektet Betalingsoversikt til meldingsdelen InnrapporterteData med «Dra-og-slipp».\n► Meldingsdel InnrapporterteData med relasjonsegenskap betalingsoversikt.\nNå er datamodellen koblet til meldingsmodellen, og det er klart for å generere XSD.\nValider tjenestemodell Høyreklikk på tjenestemodell og velg «Valider» i menyen.\nDet kommer opp et visningsbilde som bekrefter om tjenestemodellen er gyldig. Det vil si at alle elementer som ligger under denne modellen validerer.\nDersom det er feil i en av modellene, vil det komme en beskjed om dette. Ved å dobbeltklikke på elementet i feilmeldingen flyttes visningen til der hvor feilen ligger. Rett opp og valider på nytt.\nVisualiser i nettleser For å få en bedre oversikt over tjenesten du modellerer, kan du velge å visualisere tjenesten i en nettleser. Dette gjøres ved å høyreklikke meldingsmodellen og velge «Visualiser i nettleser»:\nValgt modell åpnes i en nettleser:\nDet er også mulig å få denne visualisering som en bildefil, da velger du «Visualiser som bildefil».\nGenerer XSD Høyreklikk Meldingsmodell og velg «Generer XSD»:\nVinduet «Hovedoppsett av generering» åpnes:\nMan trenger ikke gjøre noe annet her enn å trykke neste. Innstillingene for XSD-parametre er tilpasset tjenesteutvikling i Altinn. Dersom det er andre behov, er det mulig å justere XSD-parametre ved å huke av for dette.\nDet genereres automatisk inneværende år som Tjenesteversjon. Dette kan endres hvis det ønskes et annet årstall, for eksempel ved årsrevisjon av et gammelt skjema.\nNeste vil ta deg til «Lagring og publisering».\nI dette vinduet kan det velges hvilken status XSD-en skal ha når den publiseres på SERES Produktforvaltning og det kan oppgis en eller flere e-postadresser som XSD-en automatisk blir sendt til etter at den er generert. Hvis man bruker en lokal installasjon av Domeneklienten kan en i tillegg velge at den genererte xsd-en også skal lagres lokalt på egen PC.\nKlikk på «Fullfør» for å generere XSD-en.\nMelding fra systemet om at XSD er vellykket opplastet til SERES Produktforvaltning:\nXSD-en bør nå hentes opp i Altova XMLSpy for å kontrollere at den er gyldig i henhold til XML-syntaks. XMLSpy finnes på SERES Desktop (VMware).\n Godkjenning av modeller Når modeller i SERES endres må de godkjennes for at de skal bli publiserte versjoner. Mens modellen er under arbeid er den tilgjengelig for andre i din virksomhet. Det betyr for eksempel at ved sykdom kan en kollega ta over arbeidet. Først etter godkjenning vil modellen være tilgjengelig som en godkjent publisert versjon og den vil ikke lenger være mulig å endre.\nTjenestemodell under arbeid Når bruker oppretter en ny tjenestemodell får den status som arbeidsversjon. Så lenge tjenestemodellen er under arbeid vil den ikke være synlig for øvrige brukere av SERES.\nFør tjenestemodellen kan sendes til godkjenning bør den valideres og det bør sjekkes at XSD-en har riktig innhold. Etter at dette er gjort kan tjenestemodell sendes til godkjenning. Dette gjøres på følgende måte i Domeneklienten:\nHøyreklikk på tjenestemodellen i Domenepanelet til venstre og velg «Godkjenn».\nVed Godkjenn får man dette varselet:\n Publisert versjon Etter at arbeidsversjonen er godkjent, blir den tilgjengelig som en publisert versjon.\n "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/getting-started/create-app/",
	"title": "Opprette app i Altinn Studio",
	"tags": [],
	"description": "Slik oppretter man en ny applikasjon i Altinn Studio.",
	"content": "Altinn Studio brukes til å opprette applikasjoner (apps). En app kan være alt fra enkle skjemaer til større applikasjoner med både API-er og UI, og alt derimellom.\nDu lager en ny app fra dashboardet i Altinn Studio.\n Klikk på \u0026ldquo;ny app\u0026quot;-knappen i det øvre høyre hjørnet av dashboardet. Velg hvem som skal være eier av appen. Hvis du ikke har tilgang for noen organisasjoner, må du velge deg selv så du lager appen i din sandkasse. Legg inn navnet på appen. Dette navnet brukes til å identifisere appen, og brukes også som navn på repository, og i URL-er og API-er. Navnet bør være kort og beskrivende som for eksempel \u0026ldquo;sykmelding\u0026rdquo; eller \u0026ldquo;lokalvalg-2019\u0026rdquo;.\nNavnet kan ikke endres etter at appen er gått i produksjon. Opprett appen ved å klikke \u0026ldquo;Opprett\u0026rdquo;.  Når apppen er opprettet vil du videresendes til den nyopprettede appen.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2021/21-4/",
	"title": "21.4",
	"tags": [],
	"description": "Forbedringer og feilrettinger",
	"content": "Dette er en kommende endring. Gjeldende endring ligger her.\nEndringer i Portal Brukere blir nå sendt til dyplenken i stedet for å få meldingsboksvalg etter pålogging Det er sesjonsobjektet som frem til nå har blitt brukt til å ta vare på informasjon om hvilken del av løsningen brukeren forsøkte å nå. Relevante verdier er nå flyttet ut av sesjonsobjektet og inn i kryptert AltinnContext cookie med SameSite property satt til None. Dette skal gi bedre brukeropplevelse dersom bruker blir flyttet fra en portal server til en annen.\nNytt løp for delegering av rettigheter til enkelttjenester Delegering av rettigheter til enkelttjenester vil nå gå gjennom en ny flyt hvor det er mulig å delegere rettigheter til flere tjenester samtidig. Den nye flyten ligner på dagens flyt for å be om tilgang til enkelttjenester. En velger først tjenester, dernest i neste trinn velges rettigheter man ønsker og delegere. I tidligere løsning har en måttet søke opp én tjeneste om gangen for å delegere rettigheter.\nFjernet lenke til gammel meldingsboks fra søk på tvers Under Søk på tvers har det tidligere vært en gul informasjonsboks med lenke til gammel meldingsboks. Denne er nå fjernet. Det er ikke lenger mulig å nå gammel meldingsboks.\nEndringer i sluttbrukerløsnigen Oppgradering av skjemapakker med Infopath 2010 kompatibilitet Sharepoint 2019 støtter ikke skjemapakker (Infopath xsn-filer) med Infopath 2007 kompatibilitet. For at det skal være mulig å flytte skjemaene (xsn-filene) på eksisterende plattform over på Sharepoint 2019 plattform må xsn-filene oppgraderes. Det er laget en komponent som automatiserer oppgradering av xsn-filer. Komponenten er integrert i to moduler:\n Import fra TUL til SBL Console app som oppdaterer en xsn-fil direkte. Denne appen vil benyttes ved eksport/import når man skal senere skal oppgradere til Sharepoint 2019 Komponenten gjør altså at tjenesteeierne ikke trenger å gjøre en manuell konvertering fra Infopath 2007 til Infopat2010 i TUL før oppgradering til Sharepoint 2019. Tjenesteeierne oppfordres likevel til å oppgradere skjemaer til å bruke Infopath 2010 kompatibilitet når man likevel gjør endringer på en tjeneste.  I V21.4 er integrasjonen i “Import til SBL fra TUL” skrudd av. Fra versjon V21.5 skal denne integrasjonen (konverteringen fra Infopath 2007 til Infopath 2010) default være på.\nOppdatering av DotNetZip DotNetZip brukes for å håndtere zip filer i SBL og TUL. Dette biblioteket er oppdatert til siste versjon. DotNetZip refereres nå via nuget pakke.\nBootstrap er oppgradert Bootstrap er et front-end produkt som anvendes til design og tilpasning av responsive sider. Bootstrap er oppgradert til 4.6.0 i de deler av Mvc portalen som ikke benytter Altinn designsystemet.\nEndringer i Autorisasjon Database prosedyrer for å fjerne delegeringer og samtykker og logge til Aktivitetsloggen når et selskap slettes Det er laget to prosedyrer som sletter delegeringer når et selskap slettes:\n Alle delegeringer som går på Samtykker, delegation scheme og enkeltelement delegeringer. (ServDev.AuthorizationRule) Alle delegeringer av Altinn og Lokale roller (Authz.Role)  Endringer i REST API Nytt endepunkt for oppdatering av DelegationScheme i Maskinporten API Implementert endepunkt for å oppdatere et eksisterende DelegationScheme i Maskinportens API. Tidligere har det bare vært mulig å oppdatere scopes på et DelegationScheme, men med denne oppdateringen vil man nå ha mulighet å oppdatere alle felter i et DelegationScheme.\nOppdatere jquery i REST jQuery er et JavaScript-bibliotek utviklet for å forenkle klientskripting av HTML. Dette biblioteket er oppdatert for hjelpesidene til REST.\nMasseinnsending av fødselsnummer og etternavn knyttet til skjema for Kompensasjonsordningen (KFI) Det var behov for en bulk variant av GetPersonRegisterData i forbindelse med det nye skjemaet til Kompensasjonsordningen (KFI). Vi har derfor opprettet RegisterDSFInfoPathSF.\nEndringer i Tjenesteutviklingsløsningen (TUL) Ny samtykkemal for generisk samtykke Det er lagt til en generisk samtykkemal med generell ordlyd som skal benyttes i DSB sin samtykketjeneste.\nDiverse feilrettinger Feil med tilgang til parallell signering når man har rollen PASIG for flere organisasjoner Det er blitt rettet en feil som gjorde at hvis man hadde rollen PASIG for flere organisasjoner så fikk man kun “tilgang til” rollen for den første organisasjonen man hadde rollen for.\nDet er mulig å endre aktør mens man har åpnet en Altinn 3 instans Det er rettet en feil som gjorde det mulig å endre aktør mens man hadde åpnet et enkelt Altinn 3 element i portalen. Når man nå åpner et Altinn 3 element fra “søk på tvers” vil eieren av elementet bli valgt aktør. Dette er samme logikk som om man åpner et Altinn 2 element.\nSøk på AR-referanse fungerer ikke hvis man har veldig gamle data i meldingsboksen Det er rettet en feil som gjorde at AR-referanse som søkenøkkel kun ble benyttes ved søk blant data i de to siste år. Eldre data ble søkt uten noen begrensende søkekriterier.\nFeil ikon på Rettigheter virksomheten har hos andre panelet Det er rettet en feil der ikonene ble speilvendt.\nHåndtere teknisk feil ved avansert søk på dato større enn 31.12.9999 og mindre en 01.01.1753 Det ble gitt teknisk feil hvis dato i avansert søk på dato større enn 31.12.9999 og mindre en 01.01.1753. Dette er nå rettet.\nTrykking på Avbryt i \u0026ldquo;Fjern rettigheter\u0026rdquo; side feilet Tilbake-knappen er fjernet i \u0026ldquo;skjema og tjenester du har rettigheter til\u0026rdquo;.\nPUT av Message med complete=false kunne gi valideringsfeil Oppdatering av et skjema gjennom PUT operasjonen på message med complete=false kunne gi valideringsfeil. Dette er nå rettet.\n"
},
{
	"uri": "https://altinn.github.io/docs/seres/brukerveiledninger/produktforvaltning/",
	"title": "Brukerveiledning for SERES Produktforvaltning",
	"tags": [],
	"description": "Hvordan bruke Produktforvaltning for å finne og laste ned XSD-er som er generert fra Domeneklienten.",
	"content": " Innledning SERES Produktforvaltning er en web-klient primært for å gi tilgang til XSD-er generert fra SERES. Det er slik at alle XSD-er som genereres fra SERES Domeneklient blir automatisk lastet opp til SERES Produktforvaltning og kan gjenfinnes der. Tilgjengelighet av XSD-ene avhenger av eierskap og status. Alle kan laste ned XSD-er som har status «kandidat», «produksjon» eller «terminert». Men for også å kunne laste ned XSD-er med status «utkast» eller «forkastet», må brukeren være innlogget og ha redigeringsrettigheter til domenet/domeneedisjonen som XSD-en er generert fra.\nDet er tre moduser i klienten, «Navigering», «Søk» og «Administrasjon». Den siste gir brukere med administratorrolle funksjonalitet for brukerforvaltning.\nNavigering etter XSD-er Navigering betyr å søke etter modeller og XSD-er ved å gjøre valg i nedtrekkslister samt utføre «scrolling» og fritekstsøk i nettleseren.\nUten innlogging Etter å ha startet SERES Produktforvaltning gjennom https://app.seres.no/forvaltning/ (produksjonsmiljøet) eller https://app-kurs.seres.no/forvaltning/ (kursmiljøet) får en opp følgende grensesnitt:\nI nedtrekkslisten kan en nå se alle lesbare domener:\nEttersom brukeren på dette punktet ikke har autentisert seg, ligger alle domenene i gruppen «Domener med lesetilgang». Det finnes en «?»-knapp som beskriver innholdet i listen og hvordan den skal brukes.\nEtter valg av et domene («Sjøfartsdirektoratet») kan det se slik ut:\nI tabellen listes det opp alle modeller (meldingsmodeller eller presentasjonsmodeller) som er brukt fra domenet for å generere en XSD.\nOBS! I Altinn-sammenheng skal en bruke meldingsmodeller.\nSammen med hver modell angis det i tillegg følgende:\n «Tjenestemodell» som den aktuelle modellen hører inn under «dataFormatId» som er en unik identifikator for hver meldingsmodell eller presentasjonsmodell som det er generert XSD-er fra «Opprettet» som er tidspunktet modellen første ble brukt for XSD-generering  Brukeren kan så velge en av modellene ved å klikke i modellens tabell-linje, her «Fartstid_M»:\nAlle XSD-utgavene som er generert fra valgt modell, listes opp i den nedre tabellen. Her angis følgende informasjon for hver av disse:\n «Domene/Edisjon»: Domene eller domeneedisjon som modellinnholdet er hentet fra «Tjenesteversjon»: Tekststreng som er angitt av brukeren i Domeneklienten i forkant av genereringen «dataFormatVersion»: En unik identifikator for hver XSD som er generert fra Domeneklienten «Opprettet»: Tidspunkt for når XSD-en ble generert «Status»: Kvalitetsgrad som kan ha følgende verdier:  utkast: De første XSD-variantene som genereres fra en modell før en har sjekket at de inneholder de elementene og har den strukturen de skal. kandidat: XSD-en er sjekket, validert og klar for å tas inn i en tjenesteutviklingsløsning, f. eks. Altinn TUL. produksjon: XSD-en er tatt i bruk i en løsning, f. eks. Altinn SBL. forkastet: XSD-en har aldri vært i bruk og er ikke aktuell for senere bruk. terminert: XSD-en har vært i bruk, men er tatt ut av produksjon.   Siste tabellkolonne er en knapp for mulig nedlasting av XSD-en. Dersom brukeren ikke har rettigheter for å laste ned XSD-en, er knappen deaktivert (grå).  Med innlogging For å logge inn trykker brukeren på «Logg inn» slik at innloggingsdialogen vises:\nBrukeren logger inn med BR-signatur og tilhørende passord som autentiseres mot BRs Active Directory. Normalt vil ett eller et fåtall domener gjøres tilgjengelig i den skrivbare delen av nedtrekkslisten, mens resten av domenene er gruppert under den lesbare delen.\nOm en så velger et domene med skrivetilgang, vil en nå se at alle XSD-er som er generert fra dette domenet, dvs. også dem med status «utkast» og «forkastet» kan lastes ned. En vil også kunne endre status gjennom valg i en nedtrekksliste som viser alle mulige statusverdier.\nSortering og blaing I tabellene er det mulig å sortere på de fleste kolonnene. Her er det sortert på «Opprettet»-tidspunkt av meldingsmodell.\nEn kan også bla i en tabellvisning om tabellen inneholder flere enn det antall linjer visningen er satt opp med ved å trykke på knappene med tekst «1», «2» osv. eller frem- og tilbakeknappene «←» (forrige side), «|←» (første side), «→» (neste side), «→|» (siste side):\nHvis en foretrekker å scrolle fremfor å bla, kan en øke antall visninger pr. side til 25, 50 eller 100. Dette gir også mulighet for fritekstsøk over et antall på inntil 100 XSD-er som et alternativ til den strukturerte søkefunksjonaliteten som blir beskrevet i neste kapittel. Tittelfeltet viser antallet XSD-er som kan hentes frem i tabellen.\nSøk etter XSD-er Istedenfor å navigere for å finne en XSD kan en utføre et strukturert søk. Brukeren går over til søkemodus ved å trykke på «Gå til søk»-knappen:\nSøkegrensesnitt En kommer først til enkel søkefunksjonalitet:\nDette er antatt å dekke det brukeren trenger oftest. Hvis en vil gjøre et søk med flere detaljer, trykker en på lenken «Bytt til avansert søk»:\nFelter i avansert søk Søket kan utføres ved å fylle ut et eller flere av de 11 feltene. Her er beskrivelse av hvert av feltene med tilhørende søk-kriterier (dvs. utvalgte egenskapsverdier for XSD-ene) angitt i kursiv:\nDomene: Søker på navn eller deler av navn på domener. Får ut en tabell over alle XSD-er som tilhører de domener/edisjoner som gir treff på søket.\nModellnavn: Søker på navn eller deler av navn på modeller. Får ut en tabell over alle XSD-er som er generert fra modeller som gir treff på søket.\nTjenesteversjon: Søker på navn eller deler av navn på tjenesteversjon som angis i forkant av XSD-genereringen. Får ut en tabell over alle XSD-er som er generert fra tjenesteversjoner som gir treff på søket.\nBruker: Søker på navn eller deler av navn på SERES-brukere. Får ut en tabell over alle XSD-er som er generert fra edisjoner opprettet av brukere som gir treff på søket. XSD-er fra domener blir ikke med her.\nDataFormatId: Søker på tallstreng eller deler av denne for DataFormatId. Får ut en tabell over alle XSD-er som har DataFormatId-verdier som gir treff på søket.\nDataFormatVersion: Søker på tallstreng eller deler av denne for DataFormatVersion som er autogenerert og unik for hver XSD. Får ut en tabell over alle XSD-er som har DataFormatVersion-verdier som gir treff på søket.\nStatus: Søker på XSD-status. Får ut en tabell over alle XSD-er som har angitt status-verdi.\nOpprettet i tidsrommet: Søker på tiden mellom to tidspunkter (tidsrom) angitt av et feltpar. Får ut en tabell over alle XSD-er som ble opprettet innenfor tidsrommet.\nEndret i tidsrommet: Søker på tiden mellom to tidspunkter (tidsrom) angitt av et feltpar. Får ut en tabell over alle XSD-er som hadde sin siste endring innenfor tidsrommet. Per dato er det bare endring av status som påvirker denne datoen.\nHvert av feltene kan kombineres til et samlet søk der XSD-ene i tabellen har søk-kriterier som tilfredsstiller alle feltene som brukeren har anvendt i søket. I tillegg kan en ta i bruk jokertegn (wildcards) for å utvide/justere søket der prinsippene er:\n Søket skiller ikke på store og små bokstaver i søk-kriteriet. Søket gir treff på alle søk-kriterier som starter med søketeksten. Jokertegnet «*» settes foran søketeksten for å få treff på alle søk-kriterier som inneholder søketeksten. For å søke etter en eksakt verdi brukes det anførselstegn «\u0026quot;» foran og bak. Settes «$» som siste tegn, vil søket begrenses til søk-kriterier som avsluttes med søketeksten.  Eksempler basert på domenenavn:\n «staten» vil gi treff på «Statens lånekasse», «StatensInnkrevingssentral» osv., men ikke «Fristaten Christiania». «\u0026ldquo;Difi\u0026rdquo;» eller «Difi$» vil bare gi treff på «Difi». «*komm» vil gi treff som «KSKommIT», «SkedsmoKommune», «Kommunenes Sentralforbund» osv. «*tilsynet$» vil gi treff som «Luftfartstilsynet», «Helsetilsynet» osv., men ikke «Tilsynet for høy moral».  Feltvalidering Når brukeren trykker på «Søk»-knappen, blir feltene validert på innholdet. Det sjekkes på antall tegn, type tegn, størrelsen på heltall som representerer identifikatorer, datoer og e-postadresser. Merk at datoer kan angis med en datovelger. Mange av feltene har en begrensning på 256 tegn. Hvis et felt ikke validerer, kommer det en feiltekst øverst på skjermen innledet med feltnavn, f. eks.:\nAndre typer tilbakemeldinger Hvis et søk ikke finner noen XSD-er fås en tilbakemelding om det:\nEnkle og avanserte søk Her er et enkelt søk etter alle XSD-er som kommer fra et domene med navn som begynner med «A» eller «a» og der det er bladd frem til side 6 som svarer til numrene 51-60 av de angitte 104 XSD-ene:\nHer er et avansert søk der alle søkefeltene er tatt i bruk, bortsett fra Endret i tidsrommet:\nHer kan brukeren verken endre på status eller laste ned XSD-en, dette fordi han/hun enten mangler skrivetilgang til det aktuelle domenet («NAV») eller ikke er innlogget.\nXSD-er med skrivetilgang Dersom brukeren er innlogget og har skrivetilgang til domenet som XSD-ene tilhører, vil disse kunne endre status og lastes ned uansett status-verdi:\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2021/21-3/",
	"title": "21.3",
	"tags": [],
	"description": "Forbedringer og feilrettinger",
	"content": "Vi minner også om endringer i Altinn 3.0.\nEndringer i Portal Man kan nå velge om samtykkeforespørsler skal vises i portalen Det er innført en endring der samtykke forespørsler som opprettes med PortalViewMode.Show vises på profil siden under ubehandlede samtykke forespørsler. PortalViewMode.Hide er default og gjør at forespørselen ikke vises.\nEksportere søkeresultat under søk på flere aktører til en CSV-fil I gammel meldingsboksvisning (legacy portal) kan man eksportere resultatet av et søk på tvers av flere aktører til fil. Dette er nå også mulig i ny meldingsboks (mvc).\nYtelsesforbedringer for søk etter tjeneste i “Be om tilgang”-visningen I miljøer med mange tjenester ble det observert en treghet i søkefunksjonaliteten i “Be om tilgang”. Dette medførte at siden sluttet å svare i noen sekunder før søkeresultatet ble listet ut. For å unngå denne tregheten er følgende endringer gjort på søkefunksjonaliteten:\n Det er lagt til krav om at søket ikke utføres før man har skrevet inn minimum 3 tegn i søkefeltet Kall til to eksterne kalkulerings-metoder er cachet lokalt i javascript slik at disse kjøres før operasjonene på hvert element i resultatlisten. Tegningen av viewet ved lasting av modalen er også korrigert for å sikre at den er oppdatert i det den vises.  Arkivereferanse søk Arkivreferanse-søk er nå flyttet fra gammel meldingsboks (legacy portal) til ny meldingsboks (mvc).\nNy beskrivelse for meldingsbokselementer i stegene \u0026ldquo;Feedback\u0026rdquo; og \u0026ldquo;Confirmation\u0026rdquo; Denne endringen gjelder kun instanser av Altinn Apps og berører de applikasjonene som benytter stegtypene Feedback og Confirmation. Det er nå innført mer beskrivende tekster for apper i disse stegene som vil vises til sluttbruker i meldingsboksen.\nScroll forsvinner når man klikker på den Hvis man i forbindelse med rolledelegering går inn på “Alternativ tildeling: Velg å gi rollene som tjenesten krever”, så kan man trykke på en hjelpeknapp for å få opp alle tjenestene en gitt rolle gir tilgang til. Når det er mye innhold på denne popupen så vises en scrollbar. Det var en feil i koden som gjorde at når man klikket på scrollbaren så lukket hele popupen seg. Dette er rettet.\nImplementere nytt panel med liste over de aktører som har gitt virksomheten rettigheter Siden det introduseres støtte for å kunne opprette forespørsler på vegne av en avgiver trenger man et sted å kunne se mulige aktører.\nDet er innført ett nytt panel i Profil-siden “Rettigheter virksomheten har hos andre”. Når man klikker på en av disse skal det vises hvilke rettigheter virksomheten har fått. Man kan i tillegg be om flere rettigheter.\nNy aktivitetslogg for innkommende delegeringer til virksomheten I panelet som lister aktører som har gitt virksomheten rettigheter er det innført en ny aktivitetslogg. Den nye aktivitetsloggen er implementert på samme lest som den eksisterende aktivitetslogg under “Andre med rettigheter for virksomheten”. Den eksisterende aktivitetslogg viser delegeringer gjort fra virksomheten til andre. Den nye aktivitetsloggen viser delegeringer av roller og enkelttjenesterettigheter fra andre til virksomheten. Den nye aktivitetsloggen finner en i topp menyen av det nye panelet. Denne er i utgangspunktet bare tilgjengelig for tilgangsstyrere for virksomheten som historisk har mottatt minst en rolle eller rettighet fra noen.\nEndre tekst i e-post varsel for tilgangsforespørsler Teksten i e-posten som sendes til tilgangsstyrer når man ber om tilgang er nå oppdatert slik at den refererer til det nye panelet “Virksomheten sine forespørsler” i Profil.\nEkstra tekst i Panelet for mine/virksomheten sine forespørsler Det er lagt til en tekst i visningen av sendte “be om tilgang” for ubehandlede - og behandlede forespørsler. Denne teksten presiserer at rettighetene som vises på forespørselen er det som orginalt ble bedt om, men ikke nødvendigvis de rettighetene som faktisk blir/ble gitt av tilgangsstyrer.\nStøtte for søk på tvers av aktører for Altinn Apps Det er nå lagt til støtte for søk på tvers av aktører for Altinn Apps. Tidligere har ikke Altinn Apps instanser vært inkludert i søkeresultater, men fra og med denne releasen vil app instanser også inkluderes i listen.\nEndringer i Legacy Bruke favoritter / alfabetisk visning i legacy aktørvalg Legacy aktørvalg brukt fra StartService bruker fremdeles MostUsedReportee-mekanismen\nVisning av favoritter har frem til nå bare vært aktuelt i aktørvalget MVC-delen av altinn.no. Denne endringen viderefører favoritter-konseptet fra det store aktørvalget i MVC og muliggjør fjerning av MostUsedReportee fra Legacy-løsningen til Altinn. Nedtrekkslisten over tilgjengelige avgivere i Legacy er endret til å vise favoritter øverst, og resterende i alfabetisk rekkefølge under en skillestrek.\nDet er også gjort en maskering av fødselsnummer til privatpersoner som den innloggede brukeren kan representere.\nDet er lagt på logikk slik at valgt avgiver alltid vil være med i nedtrekkslisten.\nFjerne økt timeout tid for ValidateForm Som en midlertidig løsning ble timeout tiden til ValidateForm utvidet til 1 minutt. Dette er nå rullet tilbake.\nEndringer i SBL Varslinger til underenheter vil nå gå til hovedenhetens varslingsadresse hvis underenheten ikke har adresse registrert Denne endringen ble rullet tilbake 30 mars pga stor pågang fra virksomheter som fikk utfordringer med varsler som ble sendt for underenheter. Før funksjonalitet kan innføres må man se på regler for hvem som kan endre varslingsadresse for virksomheter samt informere virksomheter om endringen i forkan slik at de kan oppdatere sine kontaktpunkt.\nMålet er at denne endringen skal innføres i 21.5 releasen.\n\rTidligere har ikke varsler blitt sendt hvis en underenhet ikke har registrert varslingsadresse. Med denne oppdateringen vil varsler bli sendt til hovedenhetens registrerte varslingsadresse hvis underenheten mangler adresse.\nNy OED batch for grensesnitt mot Domstolene Ny OED batch for grensesnitt mot Domstolene er lagt ut. Denne batchen skal ikke i benyttes før i 2023.\nFjerne kode for MostUsedReportee Fjernet kode slik at det ikke lenger er tjenester for å hente opp og oppdatere MostUsedReportee. Denne er erstattet med Favoritter alle steder i løsningen.\nEndringer i Autorisasjon Tilganger gitt på enkelt meldinger (correspondence) i meldingsboksen gjennom “Del og gi tilgang” blir nå videreført til arkiv ved arkivering Dersom man benytter “Del og gi tilgang” funksjonen på aktive enkeltmeldinger (correspondence) i meldingsboksen vil disse element-tilgangene nå bli videreført til arkiv når meldingen arkiveres. Når det gis tilgang før arkivering er det Les og Skriv tilgang til elementet som blir gitt. Ved arkivering blir disse rettighetene overført til det arkiverte elementet med LesArkiv og SlettArkiv tilganger. Eksempel er videredelegering av melding i meldingsboks\nEndringer i REST Implementere flagg for å kontrollere visning av consentrequests fra portal-visning Det er innført et valgfritt flagg for å bestemme om en Samtykke forespørsel skal vises i portalen under ubehandlede forespørsler. Når man oppretter en slik forespørsel med REST er standardverdien satt til Hide slik at disse skjules.\nLagt til Atlinn3 tokens som autentiseringsmekanisme Det har i tidligere releaser blitt implementert støtte for ID-porten- og Maskinporten-token som autentiseringsmekanisme på REST-API i Altinn. Endringen i denne releasen er en videreføring av token-autentisering på REST-API hvor vi nå også støtter Altinn3 tokens.\nRettet feil med nøsting av innehavere i REST reportees med tjeneste/app/rolle-filtrering Vi har gjort endringer i REST-endepunktet slik at samme logikk som brukes av portalen også benyttes av REST reportees-endepunktet. Dette medfører at man ikke lenger opplever denne feilen med nøstingen.\nLagt til ServiceEditionName i api/metadata Utvidet api/metadata til å returnere ServiceEditionName i tillegg til eksisterende felter.\nEndringer i TUL Feil i oversettingsmodulen i TUL når tekst har betinget formatering som medfører sjekk mot function-available(‘xdXDocument:GetDOM’) Hvis man i et InfoPath skjema hadde en betinget formatering av en ExpressionBox som medførte at xsl:value-of elementet som inneholdt teksten fikk et ekstra “nivå” så ville ikke teksten bli oversatt i InfoPath skjema selv om den lå i oversettingsmodulen. Dette er nå rettet slik at teksten blir oversatt uansett hvilket “nivå” xsl:value-of elementet ligger på innenfor ExpressionBox elementet.\nEndringer i Inforportal Forbedringer for e-guider E-guider kan nå startes som egne sider slik at de får egen URL. Dette gjør det enklere å dele lenke til en e-guide, samt at det blir enklere å spore antall treff en e-guide får.\nDiverse bugfix Artikkelrapport - utvalg matcher mot feil dato Artikkelrapporten benytter nå korrekt dato-felt for når artikkelen var sist oppdatert\n404 for infoportal gir generisk tilbakemelding i stedet for korrekt 404-side Dette er nå rettet.\nManglende validering av metadataparametre i oversatte tjenestebeskrivelser i ConsentRequest Tidligere har bare metadataparametere for tjenestens hovedpråk blitt validert. Dette ledet til feilmelding for sluttbrukeren hvis metadata for sluttbrukerens språk mangler. Denne endringen validerer at alle samtykkesforespørseler har alle nødvendige metadataparametere, også på oversatte tjenestebeskrivelser.\nMetadata for samtykke ble ikke lagret basert på det språk samtykket ble gitt Lagring av Consent-metadata lagrer feil språk (ConsentRequest). Denne endringen gjør at vi alltid lagrer metadata knyttet til det språk samtykke er gitt.\nSkjule visning av gul melding på elementer som er videresendt uten melding Det er valgfritt å oppgi en melding ved bruk av videresending på epost eller “Del og gi tilgang” på elementer i meldingsboks og arkiv. Selv om man ikke oppgir en melding ble det før vist en gul melding med “Fra” og “Til” spesifisert, men med tom melding. Dette er nå endret slik at det ikke lenger blir vist på selve elementet når det ikke er spesifisert en melding. Det blir fortsatt logget og vises innslag i Aktivitetsloggen på elementet at dette er delt.\nFragment i RedirectURL i “Be om tilgang” ble ikke hensyntatt Denne fixen ble rullet tilbake 22 mars pga feil som oppstod. Målet er at fix skal komme på plass i 21.5 releasen.\rSiden lanseringen av “Be om tilgang” opprettet av en Tjenesteeier har det eksistert en feil som gjorde at RedirectUrl-er som inneholdt #fragments i URL-en ikke ble populert korrekt. Dette medførte at en RedirectURL som var definert på følgende måte: https://example.com/?query#fragment ble beriket til https://example.com/?query#fragment\u0026amp;DelegationRequestId=…\u0026amp;Status=OK. Dette er nå korrigert til at eventuelle #fragments kommer til slutt i URL-en slik at brukeren nå blir redirectet til https://example.com/?query\u0026amp;DelegationRequestId=…\u0026amp;Status=OK#fragment.\nManglende støtte for Altinn Apps instanser på resultatsiden for søk på tvers av aktører Det er nå lagt inn støtte for å kunne vise fram Altinn Apps instanser på resultatsiden til søk på tvers av aktører. Merk at det ikke vil hentes ut Altinn Apps instanser dersom man søker på flere aktører samtidig. Denne funksjonaliteten er planlagt i første halvdel av 2021.\nAPI respons returnerer ikke REGN/REVI’s tilgang til innehavers fnr REST-API-et hadde en bug som gjorde at CoveredByUserId ikke ble satt på subject i søket. Koden er endret til å hente ut CoveredByUserId og sette det på søkeobjektet.\nDAGL/Nøkkelrolle for revisor eller regnskapsfører organisasjon sin tilgang til innehaver av enkeltpersonsforetak vises ikke i portal eller REST I sammenheng med utbedring av endringen over ble det også identifisert en manglende uthenting av REVI/REGN m/barneroller for DAGL eller andre nøkkelrollehavere når det gjøres oppslag av disse sine rettigheter for innehaver av et enkeltpersonsforetak. Feilen ble sporet til en utdatert stored procedure i databasen som nå er skrevet om for å forsikre at man får ut korrekte roller og at det bare er rolletilgang gjennom å ha REVI/REGN forhold (direkte eller gjennom nøkkelrolle) eller mottatt Klientdelegering (barneroller av REVI/REGN) for innehavers enkeltpersonsforetak.\nBrukere som har reservert seg i KRR fikk ikke opprettet BoT forespørsel Det ble meldt inn sak fra en sluttbruker som fikk feilmelding ved forsøk på å sende en “be om tilgang” forespørsel i Altinn. Ved nærmere analyse ble det identifisert at brukeren hadde registrert seg med kontaktinformasjon i kontakt- og reservasjonsregisteret (KRR), men hadde reservert seg mot elektronisk kommunikasjon. Dette ble ikke godt nok behandlet av løsningen og endte med en tekniskfeilmelding. Dette er nå utbedret slik at brukere som er reservert i KRR selv må oppgi e-postadresse ved opprettelse av forespørselen for bruk av varsel om behandling av den ene spesifikke forespørselen.\nManglende info i vannmerke på PDFer hentet fra print ressurs Kall mot “/api/{org_no}/messages/{message_id}/print” returnerte dato/timestamp i vannmerket på høyresiden av PDF-fil i tillegg til AR-referansen. Kall mot “/api/{org_no}/messages/{message_id}/forms/{form_id}/print” returnerte kun AR-referansen. Dette er nå endret slik at dato/timestamp returneres ved begge disse kallene.\nUnngå null exception i GetCorrespondenceListForReporteeBasic Hvis man kaller GetCorrespondenceListForReporteeBasic med et fnr/orgnr som ikke finnes får man en null exception. Dette er nå rettet. Det returneres i stedet en tom liste.\nFeil posisjonering av modal boks for valliderings feil med svært mange feil. Når det beregnes hvor y indexen til den modale boksen for valideringsfeil skulle plaseres så blir den ikke beregnet riktig ved første opptegning. Dette er nå rettet.\nFjerne referanser til Modernizr Java biblioteket Modernizr er fjernet fra hjelpesidene til Rest-API.\nFeil i \u0026ldquo;sett til ulest\u0026rdquo; dersom siden har en tilbakeknapp. Siste oppdatering av JQuery versjon endret kallet som benyttes for å emulere klikk på tilbake lenken til et kall som ikke klikker på lenken. Dette er nå rettet.\nFeil tekst for Altinn Apps instanser til utfylling på engelsk Teksten for å identifisere instanser som er til utfylling har blitt endret fra “Completion” til “For completion”.\nData fra Kontakt- og reservasjonsregisteret er ikke eksponert for Altinn3. Mangler i datamapping mellom Altinn2 sin brukerprofil og datamodellen som sendes til Altinn3 gjorde at epostadresse og telefonnummer fra kontakt- og reservasjonsregisteret ikke ble med i overføringen. Dette er nå rettet.\nBe om tilgang forespørsler for utgått tjeneste feilet både for avsender og mottaker av forespørselen I enkelte tilfeller fikk ikke sluttbrukere åpnet hverken “Skjema og tjenester” panelet eller “Mine forespørsler”/“Virksomheten sine forespørsler” panelet i profilsiden. Dette viste seg å være med bakgrunn i at aktive/ventende forespørsler hvor en eller flere av tjenestene det ble spurt om tilgang til var utgått i etterkant av at forespørslene var blitt sendt.\nDette er nå utbedret ved at utgåtte tjenester knyttet til “Be om tilgang” forespørsler nå vises som utstreket og med dato for når de gikk ut. Dette gjelder i alle visninger av både aktive og behandlede forespørsler samt i behandling av forespørsel hos tilgangsstyrer.\nFooter informasjon er feil på portal Endret den gamle teksten hvor det stod Brønnøysundregistrene til Digitaliseringsdirektoratet\nFjerning av CDN i MVC Portalen Nedlasting for JQuery bibliotek fjernes og budles lokalt for å få bedre ytelse.\nDårlig kjøreplan for Receipt_GetReceipt_SELECT Det er lagt på query hint på denne prosedyren for å forhindre dårlig kjøreplan.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2021/21-2/",
	"title": "21.2",
	"tags": [],
	"description": "Endringer i skattemeldingen. Forbedringer og feilrettinger",
	"content": "Vi minner også om endringer i Altinn 3.0.\nEndringer i Portal Fritekstsøk støtter Altinn App instanser basert på elementtittel Det innført støtte for å inkludere Altinn App instanser i søkeresultater. Fritekstsøk og filtrering på perioder er støttet. Denne endringen inkluderer ikke støtte for å søke på Altinn App instanser på tvers av avgivere.\nKø løsning QueueIT støttes Kø løsning 2021 Det er lagt inn støtte for integrasjon mot kø-løsningen QueueIT. I første omgang er integrasjonen skrudd av. Når den blir skrudd på vil all trafikk mot ID-Porten rutes til kø løsningen.\nEndringer i Legacy Visning av favoritter i aktørliste i Legacy Bruke favoritter / alfabetisk visning i legacy aktørvalg Visning av favoritter har frem til nå bare vært altuelt i aktørvalget MVC-delen av altinn.no. Denne endringen viderefører favoritter-konseptet fra det store aktørvalget i MVC og muliggjør fjerning av MostUsedReportee fra Legacy-løsningen til Altinn. Nedtrekkslisten over tilgjengelige avgivere i Legacy er endret til å vise favoritter øverst, og resterende i alfabetisk rekkefølge under en skillestrek. Fødselsnummer til privatpersoner er maskert for for de som kan representere i aktørene.\nOppdatert jquery versjon i Legacy portal (unntatt Websa) Legacy sider bruker eldre versjoner av jQuery-biblioteker. Nå er det endret til siste versjon av jquery som er 3.5.1. Jquery-UI er også oppdatert til nyeste versjon som er 1.12.1. Websa sider og tilhørende master sider skal oppdateres fortløpende.\nEndringer i SBL SameSite=None for BigIP-cookies BigIP-cookies mangler SameSite-attributt, noe som gjør at disse ikke blir sendt med når brukeren blir sendt tilbake fra ID-porten (som skjer via POST). Dette innebærer at pinningen til rett portalserver faller bort, og eventuell sesjonstilstand som ligger på den portalserveren vil da gå tapt. Denne endringen setter SameSite=None på cookies som kommer fra BigIp. Dette retter opp en feil som noen sluttbrukere opplever ved lasting av samtykkesiden etter login.\nKomprimering av response cookies Komprimering av AltinnContext-cookie over en gitt størrelse Dette er en endring for å støtte innføringen av RedirectURL i cookie for å sikre at brukere etter login blir redirectet til korrekt side i Altinn. Denne endringen ble forsøkt gjort i 21.1, men måtte reverseres da størrelsen på Response-cookiene ble for stor. Gjennom nå å komprimere disse cookiene før man returnerer vil man kunne gjenninføre denne endringen som holder på RedirectURL på nytt. Det er gjort følgende forbedringer:\n Lagt til komprimering av response cookie dersom verdien av cookien er større enn en config-styrt verdi Lagt til summering og kasting av exception dersom summen av alle response-cookiene overstiger en config-styrt verdi  Endringer i REST Oppdatere Knockout til nyere versjon Hjelpesidene til Rest-API har fått siste versjon av javascript rammeverkene Knockout og Modernizr.\nEndringer i Autorisasjon Utvidelse av eksternt Soap grensesnitt for Decision Point Utvidet DecisionPoint for å kunne sjekke både arkiv og serviceengine. Det eksterne Soap grensesnittet for DecisionPoint i Altinn autorisasjon har blitt utvidet med mulighet til å kunne gjøre authorisasjonssjekk på elementnivå også for arkiverte elementer. XACML request schema for grensesnittet utvidet med nytt ressurs attributt: urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:archivereporteeelementid for å kunne spørre om tilganger på arkiv id nivå. Det er også gjort utvidelse slik at dersom det spørres på reportee element id (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reporteeelementid) fra aktivt element i meldingsboksen (dette gjelder også CorrespondenceId) men for en av arkiv operasjonene: ArchiveRead eller ArchiveDelete, vil DecisionPoint selv forsøke å slå opp arkiv id dersom elementet har blitt arkivert og internt authorisere på korrekt arkiv id.\nAlfabetisk sortering av avgiverliste ved opprettelse av \u0026ldquo;be om tilgang\u0026rdquo; forespørsel Listen over de du kan be om tilgang til er ikke alfabetisk. Dersom man starter prosessen om å skulle be om tilgang på vegne av deg selv eller en aktør man er tilgangsstyrer for fra Profilsiden får man som første steg opp avgiverliste for aktøren for å velge hvem forespørselen skal sendes til. Dette er nå utbedret så avgiverne er sortert alfabetisk på navnet de vises med i listen.\nEndringer i skattemeldingen Generelt om årets revisjon av skattemeldingen i Altinn. Hvert år gjøres det oppdateringer og endringer i RF-1030 (skattemeldingen), f.eks. nye poster og underskjema, endring i eksisterende poster, sletting av utgåtte poster og underskjema. Disse oppdateringene gjøres i RF-1030 datamodellen, som tas inn i nye utgaver av tjenestene “RF-1030PSA” og “RF-1030PSAN”. I tillegg oppdateres en rekke tekster og det gjøres også endringer på bl.a. overførings- og valideringsregler. Nyheter om skattemeldingen vil bli publisert på skatteetaten.no.\nHendelsesstyrte dialogbokser med informasjon om ny løsning av skattemeldingen. Oppdatert dialogbokser som vises både i PSA og PSAN meny avhengig av om sluttbruker kan benytte ny løsning av skattemeldingen på skatteetaten.no eller ikke.\nNye poster for kompensasjonsytelse til næringsdrivende utbetalt fra NAV Nye poster for kompensasjonsytelse til næringsdrivende utbetalt fra NAV på 1.6.5, 2.1.3 og 2.7.14. Postene endres via post 1.6.5 Kompensasjonsytelse til næringsdrivende utbetalt fra NAV.\nNye finansprodukter og forvaltningskostnader Ny post 3.3.7 Forvaltningskostnad og utvidelse av post 3.1.15 Annen inntekt, avkastning eller rente finansprodukter.\nFeilmelding ved kontroll av skjema – ta bruker til post Når det vises feilmelding ved kontroll av skjema, så skal sluttbruker blir sendt til posten hvor feilen er, og postens ledetekst eller beløp skal være markert som feil. Når posteditor åpnes skal feltet med feil være markert.\nStart skatteberegning i skattemeldingen Det er nå mulig å starte skatteberegning fra kvitteringssiden for RF-1030 Skattemelding for formues- og inntektsskatt – lønnstakere og pensjonister mv. på vegne av andre dersom en representerer andre aktører.\nEndringer i Infoportal Oppgradert Episerver Oppgradert Episerver CMS til versjon 11.20.00. Mest synlige endringer for redaktør er ny versjon av TinyMCE. I tillegg er behandling av blokker forbedret.\nFeil i filtrering av støtteordninger Utvalget som vises etter å ha valgt formål og bransje for støtteordninger er nå korrigert.\nFeilrettinger Feil linker på /api/delegationrequests Etter innføring av endepunkt for å opprette tilgangsforespørsler på vegne av virksomheter gjennom REST-API i v20.12, ble linkene som leveres ut sammen med resultatet for GET/POST-operasjonene generert feil. Disse linkene refererte alltid til operasjoner på serviceowner-APIet. Dette er nå rettet til å returnere korrekt link for disse operasjonene. Det er også fjernet en “GUI”-link som ved en feiltakelse ble levert ut sammen med Self-linken. Denne endringen filtrerer også ut alle DelegationRequests med status \u0026ldquo;Created\u0026rdquo;. Dette er forespørsler som kan være opprettet av en Tjenesteeier, men ikke faktisk sendt til den delegerende parten (\u0026ldquo;offeredBy\u0026rdquo;). Disse forespørslene er ugyldige for virksomheten i dette stadiet, og har derfor blitt fjernet fra resultatet.\nFeil visning av utropstegn i header Panelet for å vise innkommende tilgangsforespørsler til privatpersoner under profil skal bare vises til personen selv. Denne begrensningen som ble gjort i 21.1 førte til at enkelte tilgangsstyrere for privatpersoner fikk vist et utropstegn over profil-teksten i navigasjonsvisningen. Dette er nå korrigert til å ikke vises til andre enn privatpersonen selv.\nFeil sortering for arkiverte Altinn Apps instanser I stedet for å sortere elementene på arkivertdato er det dato instansen ble opprettet (Created date) som er blitt brukt så langt. Dette er nå rettet.\nManglende invalidering av AltinnPartyId cookie ved utlogging Utdatert cookie ble liggende igjen i nettleser dersom man ikke var innom portalen ved neste innlogging. Feilen har førte til at aktørvalg i en Altinn App var misvisende dersom man brukte samme nettleser for sesjoner med ulike brukere. Dette er nå rettet.\nFeil i setting av utropstegn på profil-siden I v21.1 ble noe av logikken som holder rede på når utropstegnet skal vises i profil-siden endret. Dette medførte at eventuelle endringer i innkommende/utgående forespørsler ikke påvirket varselsikonet på profilsiden før brukeren gjorde en manuell relasting av siden. Dette er nå korrigert, og utropstegnet skal oppføre seg som før v21.1-releasen.\nManglende logging av enkelte feil i SubmitFormTask/InitateFormTask Functional Errors fra InitateFormTask logget ikke underliggende feil. I v20.10 ble SubmitFormTask endret fra Async til Sync. I denne sammenhengen ble feilhåndtering endret, for å sikre at kvittering ble returnert OK. Desverre medførte det at i enkelte tilfeller med tekniske feil ikke blir logget detaljer om feilen. Klienten får en kvittering med status “UnExpectedError” og teksten “Your request suffered from a non-functional error…”, men det finnes ikke informasjon som kan brukes til feilsøkning om hva feilen var. Denne endringen legger til logging når feil av denne typen oppstår slik at det er mulig å feilsøke.\n"
},
{
	"uri": "https://altinn.github.io/docs/seres/brukerveiledninger/seresxsd/",
	"title": "SERESxsd",
	"tags": [],
	"description": "Beskrivelse av hvordan SERESxsd er bygget opp.",
	"content": "Innledning SERESxsd er det XML Schema (XSD)-formatet som genereres fra SERES-modeller. Det finnes to format-varianter der beskrivelsene av de to typene er angitt under egne avsnitt nedenfor:\n Standard: Opprinnelig format knyttet til opprinnelige Altinnkrav. Altinn-tilpasset: Et tilpasset format for Altinn som ikke benytter navnerom, dvs. noNamespace, for SERES-dataene.  Begge formatene er derfor påvirket av Altinn-krav, det første basert på opprinnelig kravspesifikasjon og det siste basert på en tilpasning til den kjørende Altinn II-løsningen.\nDet er SERES Domeneklient som brukes for å generere XSD-ene via den innebygde komponenten SERES Modell-API som igjen inneholder to XSLT-baserte transformasjoner XSD-generator og XSD-transformator. Den første genererer en standard-XSD, men den siste transformerer standard-XSD-en videre til en Altinn-tilpasset XSD.\nHovedprinsipp En meldingsspesifikasjon er en oppskrift på hvordan en XML-basert melding skal bygges opp, både strukturelt og innholdsmessig. Den kan benyttes for å validere at meldingen oppfyller gitte krav.\nSERESxsd-ene er i hovedsak utformet basert på det såkalte Venetian Blind-mønstret hvor alle typer, både complexType or simpleType, gis et navn og legges på øverste nivå, rett under schema-elementet. Referanser mellom elementer gjøres gjennom type-attributter, ref. Mønstre for XML Schema-dokumenter.\nVenetian Blind anses best å reflektere det bærende prinsipp i SERES-modelleringen om objektorientering og en UML-nær metamodell. Metamodellen strukturerer det XMI-formatet som brukes for import til og eksport fra repository.\nFordeler med Venetian Blind:\n Alle typer er navngitt og kan gjenbrukes, noe som passer godt til objektorientert modellering. Bare en XML-variant er en gyldig instans for et gitt datainnhold. Dette gir den standardisering vi ønsker å bidra til.  Ulemper:\n Støtter ikke elementsubstitusjon (gjennom bruk av substitutionGroup-mekanismen), men dette representer uansett en praksis vi ikke ser som ønskelig.  I hovedsak hentes innholdet i SERESxsd-ene fra det vi kaller Implementasjonsnivået og de metadataelementene som hører hjemme her. Det kan genereres en SERESxsd fra både meldingsmodeller og presentasjonsmodeller.\nTilknyttede elementer fra de overliggende nivåene Strukturnivå og Begrepsnivå kan også være aktuelle for utvidet bruk av SERESxsd-ene. Men slike elementer vil ikke innføres før det dekker et behov i Altinn-løsningen eller for andre løsningsplattformer som er besluttet å skulle støtte. Så langt kan brukeren ved generering av en XSD krysse av for Referanser til begrepets GUID som er slik at dersom et metadataelement har en såkalt annotering til et begrep så vil dette begrepets GUID angis som eget XSD-attributt med navn seres:semRef.\nNavnerom Standard navnerom En standard SERESxsd opererer innenfor flere navnerom:\n Et target namespace (default namespace, dvs. uten prefiks) som er navnerommet for de faglige, offentlige metadata (som er hovedfokus). I det \u0026ldquo;Altinn-tilpassede\u0026rdquo; formatet brukes ikke targetNamespace, men et anonymt noNamespace. Et navnerom for modellspråket XML Schema med prefiks xsd Et SERES-spesifikt navnerom for forvaltningsdata med prefiks seres Et kodebibliotek-spesifikt navnerom med prefiks kodebib  SERES-navnerommet tenkes brukt for å gjøre knytninger både mot evt. legacy-type identifikatorer (slike som ORid-er) og mot SERES-relatert informasjon, herunder tilhørighet i SERES Repository. Dette navnerommet brukes teknisk sett først og fremst for å legge ut fremmedattributter i spesifikasjonens elementer og typer, men brukes også for spesielle validerende attributter for meldingene. Og det kan brukes til å legge ut valgfrie eller påkrevde attributter i meldingene.\nFølgende import-deklarasjon angis for å beskrive seres-navnerommet:\n\u0026lt;xsd:import namespace=\u0026#34;http://seres.no/xsd/forvaltningsdata\u0026#34; schemaLocation=\u0026#34;http://seres.no/xsd/seres.xsd\u0026#34;/\u0026gt; Følgende import-deklarasjon angis for beskrive kodebib-navnerommet, men bare dersom XSD-en genereres for bruk mot Kodebiblioteket:\n\u0026lt;xsd:import namespace=\u0026#34;http://kodebibliotek.brreg.no/xsd/kodebibliotek\u0026#34; schemaLocation=\u0026#34;http://www.seres.no/xsd/kodebibliotek.xsd\u0026#34;/\u0026gt; Her er den fulle listen av attributter (hvilke som blir brukt vil delvis kunne avgjøres av brukeren forut for genereringen):\n dataFormatProvider – Hvem som har levert formatet for meldingen (dvs. XSD-en), hvor vi setter verdien \u0026ldquo;SERES\u0026rdquo;. dataFormatId – Samme som skjemanummer der metadata er hentet fra ORdb, eller en SERES-spesifikt id for spesfikasjonen. dataFormatVersion – Samme som spesifikasjonsnummer hvis metadata er hentet direkte fra ORdb, ellers en SERES-spesifikt versjons-id for spesifikasjonen. skjemanummer – OR-spesifikt nummer for XSD-en. spesifikasjonsnummer – OR-spesifikt versjonsnummer for XSD-en. guid – En global identifikator uttrykt som en URI for det metadataelementet i SERES Repository som XSD-elementet/typen er generert fra (ref. GUID). gruppeid – OR-identifikator for gruppen som elementet evt. stammer fra. orid – OR-identfikator for datadefinisjonen som elementet evt. stammer fra. repformatid – OR-identifikator for representasjonsformatet som elementer evt. stammer fra. feltnummer – Feltnummer som en datadefinisjon er tilknyttet i et OR-skjema. tittel – Tittel for OR-skjemaet eller et SERES-spesifikt navn på meldingsmodellen som spesifikasjonen er laget på grunnlag av. beskrivelse – En kort tekstlig beskrivelse av spesifikasjonen. blankettnummer – OR-spesifikt blankettnummer for spesifikasjonen. etatid – Organisasjonsnummer for etaten som er eier av spesifikasjonen. etatnavn – Navn på etaten som er eier av spesifikasjonen.  Eksempler på utlegg av validerende attributter i SERESxsd-er med \u0026ldquo;Standard\u0026rdquo;-utforming:\n\u0026lt;xsd:attribute ref=\u0026#34;seres:guid\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;http://seres.no/guid/ORDataenkeltype/RegnskapAr-17102/400287\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:orid\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;17102\u0026#34;/\u0026gt; Altinn-tilpasset navnerom I det \u0026ldquo;Altinn-tilpassede\u0026rdquo; formatet legges meldingsvaliderende attributter i noNamespace:\n dataFormatProvider – Hvem som har levert formatet for meldingen (dvs. XSD-en), hvor vi setter verdien \u0026ldquo;SERES\u0026rdquo;. dataFormatId – Samme som skjemanummer der metadata er hentet fra ORdb, eller en SERES-spesifikt id for spesfikasjonen. dataFormatVersion – Samme som spesifikasjonsnummer hvis metadata er hentet direkte fra ORdb, ellers en SERES-spesifikt versjons-id for spesifikasjonen. guid – En global identifikator uttrykt som en URI for det metadataelementet i SERES Repository som XSD-elementet/typen er generert fra (ref. GUID). Denne er validerende om dette er spesifikt angitt. orid – OR-identfikator for datadefinisjonen som elementet evt. stammer fra. Denne er validerende om dette er spesifikt angitt.  Format for utlegg av validerende attributter med i SERESxsd-er med \u0026ldquo;Altinn\u0026rdquo;-tilpasning:\n\u0026lt;xsd:attribute name=\u0026#34;dataFormatProvider\u0026#34; type=\u0026#34;xsd:string\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;SERES\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;dataFormatId\u0026#34; type=\u0026#34;xsd:string\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;4564\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;dataFormatVersion\u0026#34; type=\u0026#34;xsd:string\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;36149\u0026#34;/\u0026gt; \u0026lt;xsd:anyAttribute/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;guid\u0026#34; type=\u0026#34;xsd:anyURI\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;http://seres.no/guid/ORDataenkeltype/RegnskapAr-17102/400287\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;orid\u0026#34; type=\u0026#34;xsd:integer\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;17102\u0026#34;/\u0026gt; Eventuelle attributter for kodebiblioteket, der dette skal brukes, legges også ut i noNamespace:\n\u0026lt;xsd:attribute name=\u0026#34;CodeID-PH\u0026#34; type=\u0026#34;xsd:anyURI\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;NodeID-PH\u0026#34; type=\u0026#34;xsd:anyURI\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;CodeText-PH\u0026#34; type=\u0026#34;xsd:string\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;NodeText-PH\u0026#34; type=\u0026#34;xsd:string\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;PathText-PH\u0026#34; type=\u0026#34;xsd:string\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;NodeName-PH\u0026#34; type=\u0026#34;xsd:string\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;NavigationHierarchyID\u0026#34; type=\u0026#34;xsd:anyURI\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;NodeListID\u0026#34; type=\u0026#34;xsd:anyURI\u0026#34;/\u0026gt; \u0026lt;xsd:attributename=\u0026#34;CodeTypeID\u0026#34; type=\u0026#34;xsd:anyURI\u0026#34;/\u0026gt; \u0026lt;xsd:attributeGroup name=\u0026#34;PlaceholderAttributes\u0026#34;\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;CodeID-PH\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;NodeID-PH\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;CodeText-PH\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;NodeText-PH\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;PathText-PH\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;NodeName-PH\u0026#34;/\u0026gt; \u0026lt;/xsd:attributeGroup\u0026gt; \u0026lt;xsd:attributeGroup name=\u0026#34;PlaceholderAttributesCodeType\u0026#34;\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;CodeID-PH\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;CodeText-PH\u0026#34;/\u0026gt; \u0026lt;/xsd:attributeGroup\u0026gt; \u0026lt;xsd:complexType name=\u0026#34;Code\u0026#34;\u0026gt; \u0026lt;xsd:simpleContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;xsd:string\u0026#34;\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;NodeListID\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;xsd:attributeGroup ref=\u0026#34;PlaceholderAttributes\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:simpleContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;xsd:complexType name=\u0026#34;ExternalCode\u0026#34;\u0026gt; \u0026lt;xsd:simpleContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;xsd:string\u0026#34;\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;CodeTypeID\u0026#34; use=\u0026#34;required\u0026#34;/\u0026gt; \u0026lt;xsd:attributeGroup ref=\u0026#34;PlaceholderAttributesCodeType\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:simpleContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; Tegnsett og sett av navnerom Standard tegnsett  \u0026ldquo;Target\u0026rdquo; - navnerom og \u0026ldquo;default\u0026rdquo; navnerom er det samme og utgjøres av innhold fra meldings-eller presentasjonsmodellen og deres relasjoner til andre modeller.  Navnekonvensjon:\nhttp://seres.no/xsd/\u0026lt;domenenavn\u0026gt;/\u0026lt;modellnavn\u0026gt;/\u0026lt;tjenesteversjon\u0026gt;, her http://seres.no/xsd/Domene-A/Meldingsmodell-B/2011, ref. Altinn-krav 2.\nAltinn-tilpasset tegnsett  Modellelementene knyttes ikke til noe navnerom: noNamespace. Andre navnerom er angitt med prefiks:  XML Schema-navnerommet: xsd SERES-type forvaltningsdata: seres Kodebibliotek: kodebib (ikke med i de Altinn-tilpassede dersom XSD-en ikke er laget for bruk sammen med Kodebiblioteket.    Annotation/Documentation-del Det angis hvilken XSD-variant som er generert slik:\nStandard annotation \u0026lt;xsd:attribute name=\u0026#34;XSD-variant\u0026#34; fixed=\u0026#34;Standard\u0026#34;/\u0026gt; Altinn-tilpasset annotation \u0026lt;xsd:attribute name=\u0026#34;XSD-variant\u0026#34; fixed=\u0026#34;Altinn 1.3\u0026#34;/\u0026gt; Modellinnhold og tilhørende XSD-struktur SERES Metamodell Datamodell Meldingsmodell XSD-struktur  XSD-komponentene reflekterer i størst mulig grad hvordan modellelementene i tilhørende Meldingsmodell eller Presentasjonsmodell med innhold fra tilknyttede Datamodeller er bygd opp. De identifiserer også hvert enkelt modellelement med utvalgte forvaltningsdata. Spesifikasjonene kan også angi at selve meldingene kan ha attributter som skal valideres mot tilhørende korrekte forvaltningsdata.  Dersom XSD-en skal brukes i systemer som ikke støtter UTF-8, er det lagt inn funksjonalitet for å generere ASCII-tegn-kombinasjoner for de særnorske bokstavene (translitterasjon):\n æ → ae ø → oe å → aa Æ → AE Ø → OE Å → AA  En meldingsspesifikasjon er bygd opp av komponenter som enten er elementer eller attributter. Komponentene er globale dersom de ligger rett under \u0026lt;xsd:schema\u0026gt;-elementet, som er på øverste nivå. Alle andre komponenter er lokale.\nI SERES brukes ett globalt element (som representerer hele meldingen) og et antall globale, navngitte typer (simpleType og complexType). En slik struktur (mønster) har fått betegnelsen Venetian Blind. Koplingen mellom typene og opp til elementer gjøres gjennom type-referanser med bruk av typenavnene.\nStandard struktur Meldingsspesifikasjonene gis følgende hovedinnhold (merk UTF-8-støtte) for de opprinnelige standard SERESxsd-ene:\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;xsd:schema xmlns=\u0026#34;http://www.seres.no/Domene-A/Modell-B/2011\u0026#34; xmlns:seres=\u0026#34;http://seres.no/xsd/forvaltningsdata\u0026#34; xmlns:xsd=\u0026#34;http://www.w3.org/2001/XMLSchema\u0026#34; targetNamespace=\u0026#34;http://www.seres.no/Domene-A/Modell-B/2011\u0026#34; elementFormDefault=\u0026#34;qualified\u0026#34; attributeFormDefault=\u0026#34;unqualified\u0026#34;\u0026gt; \u0026lt;xsd:import namespace=\u0026#34;http://seres.no/xsd/forvaltningsdata\u0026#34; schemaLocation=\u0026#34;http://seres.no/xsd/seres.xsd\u0026#34;/\u0026gt; \u0026lt;xsd:import namespace=\u0026#34;http://kodebibliotek.brreg.no/xsd/kodebibliotek\u0026#34; schemaLocation=\u0026#34;http://www.seres.no/xsd/kodebibliotek.xsd\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;melding\u0026#34; type=\u0026#34;Modell-B\u0026#34;/\u0026gt;  \u0026lt;xsd:complexType name=\u0026#34;Modell-B\u0026#34; seres:elementtype=\u0026#34;Meldingsmodell\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Brønnøysundregistrene/Meldingsmodell/BestillingEnhetInput_M/5491\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; ... \u0026lt;/xsd:sequence\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:dataFormatProvider\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;SERES\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:dataFormatId\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;3005\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:dataFormatVersion\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;32057\u0026#34;/\u0026gt; \u0026lt;xsd:anyAttribute/\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;xsd:complexType name=\u0026#34;...\u0026#34; seres:elementtype=\u0026#34;...\u0026#34;\u0026gt; ... \u0026lt;/xsd:complexType\u0026gt; ... \u0026lt;xsd:simpleType name=\u0026#34;...\u0026#34; seres:elementtype=\u0026#34;...\u0026#34;\u0026gt; ... \u0026lt;/xsd:simpleType\u0026gt; ... \u0026lt;/xsd:schema\u0026gt; complexType-komponenter og simpleType-komponenter kan komme i vilkårlig rekkefølge.\nAltinn-tilpasset struktur Tilsvarende brukes følgende struktur for de Altinn-tilpassede XSD-er:\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;xsd:schema xmlns:xsd=\u0026#34;http://www.w3.org/2001/XMLSchema\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:seres=\u0026#34;http://seres.no/xsd/forvaltningsdata\u0026#34; elementFormDefault=\u0026#34;qualified\u0026#34; attributeFormDefault=\u0026#34;unqualified\u0026#34;\u0026gt; \u0026lt;xsd:element name=\u0026#34;melding\u0026#34; type=\u0026#34;Modell-B\u0026#34;/\u0026gt;  \u0026lt;xsd:complexType name=\u0026#34;Modell-B\u0026#34; seres:elementtype=\u0026#34;Meldingsmodell\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Brønnøysundregistrene/Meldingsmodell/BestillingEnhetInput_M/5491\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; ... \u0026lt;/xsd:sequence\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;dataFormatProvider\u0026#34; type=\u0026#34;xsd:string\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;SERES\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;dataFormatId\u0026#34; type=\u0026#34;xsd:string\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;3005\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;dataFormatVersion\u0026#34; type=\u0026#34;xsd:string\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;32057\u0026#34;/\u0026gt; \u0026lt;xsd:anyAttribute/\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;xsd:complexType name=\u0026#34;...\u0026#34; seres:elementtype=\u0026#34;...\u0026#34;\u0026gt; ... \u0026lt;/xsd:complexType\u0026gt; ... \u0026lt;xsd:simpleType name=\u0026#34;...\u0026#34; seres:elementtype=\u0026#34;...\u0026#34;\u0026gt; ... \u0026lt;/xsd:simpleType\u0026gt; ... \u0026lt;/xsd:schema\u0026gt; Den siste varianten har ikke et targetNamespace, men opererer i noNamespace.\nI en mellomperiode fra 4. mai 2012 frem til 3. juni 2013 ble det deklarert et navnerom ns1 som ikke kunne brukes direkte:\nxmlns:ns1=\u0026quot;http://www.seres.no/Domene-A/Modell-B/2011\u0026quot;\nSERES Metamodell Utgangspunktet for en SERESxsd er enten et metadataelement av metaklasse Meldingsmodell eller av metaklasse Presentasjonsmodell.\nMeldingsmodell Hver meldingsmodell inneholder minst en meldingsdel av metaklasse Meldingsdel. Meldingsdel er en spesialisering av metaklassen Dataobjekttype (se diagrammet under). Hvert element av type Dataobjekttype eier et antall elementer av som enten er av metaklasse Dataegenskap eller metaklasse Relasjonsegenskap.\nHvert element av metaklasse Dataegenskap er av den abstrakte metaklassen Dataegenskapstype som er spesialisert som enten Dataenkeltype (med spesialiseringen ORDataenkeltype), Datakomplekstype eller Datakodeliste. Elementer av type Dataenkeltype kan angi en kombinasjon av Verdirestriksjon-elementer som igjen kan være spesialisert som type Tegnrestriksjon eller Tallrestriksjon og ha angitt et subelement som representerer et verdiområde av type Verdiområde (åpent, halvåpent eller lukket) samt eventuelt peke til et element av type Primitivtype.\nHvert element av metaklassen Relasjonsegenskap har en relaterende peker dataobjekttypeRelasjonsegenskap til et element av metaklasse Dataobjekttype.\nTransformasjon fra meldingsmodell Et objekt av type Meldingsmodell transformeres til den ytre schema-elementet i SERESxsd-en samt rotelementet med referert type.\nSerialisering av ulike typer metaelementer Metadata av følgende metaklasser er ment å være innholdt i SERESxsd-er:\n Dataenkeltype Datakomplekstype Datakodeliste Datakodeelement Dataobjekttype Relasjonsegenskap Primitivtype (av Plattform XSD) Verdirestriksjon Tegnrestriksjon Tallrestriksjon Verdiområde  Figuren viser et en modell som inneholder alle typer metaklasser som kan brukes for en meldingsmodell. Serialiseringen nedenfor tar utgangspunkt i dette modelleksemplet.\nElementtype og GUID-attributt Serialiseringen inneholder som standard attributter med navn seres:elementtype med angivelse av metaklassen for modellelementet som er grunnlaget for XSD-komponenten (xsd:complexType, xsd:simpleType, xsd:element eller xsd:attribute). Dette er gjort av pedagogiske grunner. Brukeren kan skjule disse attributtene. Det er også standard med attributt-utlegg med navn seres:guid av GUID-verdiene for tilhørende modellelement. Også disse kan skjules.\nEksempel på begge typer attributter:\n\u0026lt;xsd:simpleType name=\u0026#34;Fødselsnummer\u0026#34; seres:elementtype=\u0026#34;Dataenkeltype\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Fødselsnummer/1172528\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;TegnrestriksjonFnr\u0026#34;/\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; Dataenkeltype Dataenkeltype serialiseres som xsd:simpleType med bruk av restriction der base-attributtete settes til Primitivtype, her xsd:nonNegativeInteger.\nDataenkeltype \u0026ldquo;Antall\u0026rdquo; i Domeneklienten.\nDataenkeltype \u0026ldquo;Antall\u0026rdquo; i MagicDraw.\n\u0026lt;xsd:simpleType name=\u0026#34;Antall\u0026#34; seres:elementtype=\u0026#34;Dataenkeltype\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Antall/1172523\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;xsd:nonNegativeInteger\u0026#34;/\u0026gt; \u0026lt;/xsd:simpleType\u0026gt;  Dataenkeltypen dato har primitivtype \u0026ldquo;xsd:date\u0026rdquo;:\n\u0026lt;xsd:simpleType name=\u0026#34;dato\u0026#34; seres:elementtype=\u0026#34;Dataenkeltype\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;xsd:date\u0026#34; /\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; Dataenkeltypen navn har primitivtype \u0026ldquo;xsd:string\u0026rdquo;:\n\u0026lt;xsd:simpleType name=\u0026#34;navn\u0026#34; seres:elementtype=\u0026#34;Dataenkeltype\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;xsd:string\u0026#34; /\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; Dataenkeltypen tall har primitivtype \u0026ldquo;xsd:decimal\u0026rdquo;:\n\u0026lt;xsd:simpleType name=\u0026#34;tall\u0026#34; seres:elementtype=\u0026#34;Dataenkeltype\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;xsd:decimal\u0026#34; /\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; Dersom Primitivtype ikke er satt for Dataenkeltype, settes restriction base til xsd:string.\nArv mellom Dataenkeltyper Arv mellom to Dataenkeltyper slik det angitt i figurene mellom Antall og Kolli legges ut slik:\n\u0026lt;xsd:simpleType name=\u0026#34;Kolli\u0026#34; seres:elementtype=\u0026#34;Dataenkeltype\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Kolli/1172511\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;Antall\u0026#34;/\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; Datakodeliste Datakodeliste serialiseres også som xsd:simpleType med bruk av xsd:restriction basert på xsd:enumeration-komponenter. Restriction base settes til primitivtypen for Datakodelisten. Hvis den ikke er satt, som her, blir xsd:string satt inn.\nDatakodeliste \u0026ldquo;Adressetype\u0026rdquo; i Domeneklienten.\nDatakodeliste \u0026ldquo;Adressetype\u0026rdquo; i MagicDraw.\n\u0026lt;xsd:simpleType name=\u0026#34;Adressetype\u0026#34; seres:elementtype=\u0026#34;Datakodeliste\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Datakodeliste/Adressetype/1224212\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;xsd:string\u0026#34;\u0026gt; \u0026lt;xsd:enumeration value=\u0026#34;bosted\u0026#34; seres:elementtype=\u0026#34;Datakodeelement\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Datakodeelement/bosted/1224211\u0026#34;/\u0026gt; \u0026lt;xsd:enumeration value=\u0026#34;post\u0026#34; seres:elementtype=\u0026#34;Datakodeelement\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Datakodeelement/post/1224210\u0026#34;/\u0026gt; \u0026lt;xsd:enumeration value=\u0026#34;jobb\u0026#34; seres:elementtype=\u0026#34;Datakodeelement\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Datakodeelement/jobb/1224209\u0026#34;/\u0026gt; \u0026lt;/xsd:restriction\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; \u0026lt;xsd:simpleType name=\u0026#34;Allergi\u0026#34; seres:elementtype=\u0026#34;Datakodeliste\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Datakodeliste/Allergi/1172480\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;xsd:string\u0026#34;\u0026gt; \u0026lt;xsd:enumeration value=\u0026#34;pollen\u0026#34; seres:elementtype=\u0026#34;Datakodeelement\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Datakodeelement/pollen/1172479\u0026#34;/\u0026gt; \u0026lt;xsd:enumeration value=\u0026#34;nøtter\u0026#34; seres:elementtype=\u0026#34;Datakodeelement\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Datakodeelement/nøtter/1172478\u0026#34;/\u0026gt; \u0026lt;xsd:enumeration value=\u0026#34;skalldyr\u0026#34; seres:elementtype=\u0026#34;Datakodeelement\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Datakodeelement/skalldyr/1172477\u0026#34;/\u0026gt; \u0026lt;/xsd:restriction\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; Dataobjekttype Dataobjekttype serialiseres som xsd:complexType med bruk av xsd:element for hver av Dataegenskapene som inngår. For normale Dataegenskaper, slik som fødselsdato i eksemplet, legges ut en xsd:type-referanse til tilhørende Dataenkeltype, Datakomplekstype, Datakodeliste eller Dataobjekttype. Dersom Dataegenskapen har en subegenskap (Egenskap for egenskap), legges det ut en xsd:extension av typen med subegenskapen som xsd:attribute.\nHer er et eksempel med en normal Dataegenskap, en normal Relasjonsegenskap og resten med subegenskaper.\nDataobjekttype \u0026ldquo;Person\u0026rdquo; i Domeneklienten.\nDataobjekttype \u0026ldquo;Person\u0026rdquo; i MagicDraw.\n\u0026lt;xsd:complexType name=\u0026#34;Person\u0026#34; seres:elementtype=\u0026#34;Dataobjekttype\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataobjekttype/Person/1172502\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;navn\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34; seres:elementtype=\u0026#34;Dataegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataegenskap/navn/1172498\u0026#34;\u0026gt; \u0026lt;xsd:complexType\u0026gt; \u0026lt;xsd:simpleContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;Navn\u0026#34;\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;godkjent\u0026#34; type=\u0026#34;Alternativ\u0026#34; seres:elementtype=\u0026#34;Dataegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataegenskap/godkjent/1235419\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:simpleContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;/xsd:element\u0026gt; \u0026lt;xsd:element name=\u0026#34;adresse\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34; seres:elementtype=\u0026#34;Dataegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataegenskap/adresse/1172501\u0026#34;\u0026gt; \u0026lt;xsd:complexType\u0026gt; \u0026lt;xsd:complexContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;Adresse\u0026#34;\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;type\u0026#34; type=\u0026#34;Adressetype\u0026#34; seres:elementtype=\u0026#34;Dataegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataegenskap/type/1235331\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:complexContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;/xsd:element\u0026gt; \u0026lt;xsd:element name=\u0026#34;fødselsdato\u0026#34; type=\u0026#34;Dato\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34; seres:elementtype=\u0026#34;Dataegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataegenskap/fødselsdato/1172500\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;fødselsnummer\u0026#34; seres:elementtype=\u0026#34;Dataegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataegenskap/fødselsnummer/1172499\u0026#34;\u0026gt; \u0026lt;xsd:complexType\u0026gt; \u0026lt;xsd:simpleContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;Fødselsnummer\u0026#34;\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;protokollført\u0026#34; type=\u0026#34;Alternativ\u0026#34; use=\u0026#34;required\u0026#34; seres:elementtype=\u0026#34;Dataegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataegenskap/protokollført/1224207\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;datoRegistrert\u0026#34; type=\u0026#34;Dato\u0026#34; seres:elementtype=\u0026#34;Dataegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataegenskap/datoRegistrert/1235332\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:simpleContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;/xsd:element\u0026gt; \u0026lt;xsd:element name=\u0026#34;arbeidsgiver\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34; seres:elementtype=\u0026#34;Relasjonsegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Relasjonsegenskap/arbeidsgiver/1225994\u0026#34;\u0026gt; \u0026lt;xsd:complexType\u0026gt; \u0026lt;xsd:complexContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;Enhet\u0026#34;\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;ansatt\u0026#34; type=\u0026#34;Dato\u0026#34; seres:elementtype=\u0026#34;Dataegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataegenskap/ansatt/1239166\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:complexContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;/xsd:element\u0026gt; \u0026lt;xsd:element name=\u0026#34;barn\u0026#34; type=\u0026#34;Person\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34; seres:elementtype=\u0026#34;Relasjonsegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Relasjonsegenskap/barn/1235885\u0026#34;/\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;/xsd:complexType\u0026gt; Relasjonsegenskap En Relasjonsegenskap med maksimum multiplisitet over 1, legges ut med en ekstra xsd:anyAttribute ved Altinn-tilpasning.\nStandard relasjonsegenskap \u0026lt;xsd:element name=\u0026#34;pasienter\u0026#34; type=\u0026#34;Pasient\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34; seres:elementtype=\u0026#34;Relasjonsegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Relasjonsegenskap/pasienter/1225905\u0026#34;/\u0026gt; Altinn-tilpasset relasjonsegenskap \u0026lt;xsd:element name=\u0026#34;pasienter\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34; seres:elementtype=\u0026#34;Relasjonsegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Relasjonsegenskap/pasienter/1225905\u0026#34;\u0026gt; \u0026lt;xsd:complexType\u0026gt; \u0026lt;xsd:complexContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;Pasient\u0026#34;\u0026gt; \u0026lt;xsd:anyAttribute/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:complexContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;/xsd:element\u0026gt; Arv mellom Dataobjekttyper Dataobjekttype \u0026ldquo;Pasient\u0026rdquo; arver \u0026ldquo;Person\u0026rdquo; i Domeneklienten.\nDataobjekttype \u0026ldquo;Pasient\u0026rdquo; arver \u0026ldquo;Person\u0026rdquo; i MagicDraw.\n\u0026lt;xsd:complexType name=\u0026#34;Pasient\u0026#34; seres:elementtype=\u0026#34;Dataobjekttype\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataobjekttype/Pasient/1172471\u0026#34;\u0026gt; \u0026lt;xsd:complexContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;Person\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;pasientnummer\u0026#34; type=\u0026#34;Nummer\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;innlagt\u0026#34; type=\u0026#34;Tidsrom\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;bagasje\u0026#34; type=\u0026#34;Kolli\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;kjønn\u0026#34; type=\u0026#34;PasientKjønn\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;høyde\u0026#34; type=\u0026#34;Kroppshøyde\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;allergi\u0026#34; type=\u0026#34;Allergi\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;asylsøker\u0026#34;\u0026gt; \u0026lt;xsd:complexType\u0026gt; \u0026lt;xsd:complexContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;Asylsøker\u0026#34;\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;registrert\u0026#34; type=\u0026#34;Dato\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:complexContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;/xsd:element\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:complexContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; Datakomplekstype En Datakomplekstype legges ut på samme måte som en Dataobjekttype, bortsett fra at egenskapene og ev. subegenskaper av disse er av type DataTypeegenskap.\nEksempel:\n\u0026lt;xsd:complexType name=\u0026#34;Adresse\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Datakomplekstype/Adresse/1172521\u0026#34; seres:elementtype=\u0026#34;Datakomplekstype\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;adresse\u0026#34; type=\u0026#34;Tekst\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34; seres:elementtype=\u0026#34;DataTypeegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/DataTypeegenskap/adresse/1172520\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;postnummer\u0026#34; type=\u0026#34;Postnummer\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34; seres:elementtype=\u0026#34;DataTypeegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/DataTypeegenskap/postnummer/1172519\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;poststed\u0026#34; type=\u0026#34;Navn\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34; seres:elementtype=\u0026#34;DataTypeegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/DataTypeegenskap/poststed/1172518\u0026#34;/\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;/xsd:complexType\u0026gt; Verdirestriksjon Verdirestriksjon er en metaklasse i SERES Metamodell med et sett parametre eller et representasjonsmønster av type regulæruttrykk som begrenser verdiområdet eller formatet for et dataelement. Verdirestriksjon kan spesialiseres til Tegnrestriksjon eller Tallrestriksjon.\nTegnrestriksjon En Tegnrestriksjon er en metaklasse i SERES Metamodell som er en spesifikasjon av en fast lengde eller alternativt en minimum og en maksimum lengde av en streng. En kan velge mellom å angi en bestemt lengde eller angi at det tillates å variere strenglengden mellom et mimimum og et maksimum antall tegn. En tegnrestriksjon kombineres med en Primitivtype for å komplettere representasjonsbetingelsene for strengen.\nEksempel basert på Tegnrestriksjonen RestriksjonNavn:\n\u0026lt;xsd:simpleType name=\u0026#34;RestriksjonNavn\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;xsd:token\u0026#34;\u0026gt; \u0026lt;xsd:minLength value=\u0026#34;1\u0026#34;/\u0026gt; \u0026lt;xsd:maxLength value=\u0026#34;35\u0026#34;/\u0026gt; \u0026lt;/xsd:restriction\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; Tallrestriksjon En Tallrestriksjon er en metaklasse i SERES Metamodell som er en spesifikasjon av totalt antall sifre, antall desimaler og ev. et Verdiområde for et tall. Alle feltene er frivillige. En tallrestriksjon kombineres med en Primitivtype for komplettere representasjonsbetingelsene for tallet.\nEksempel basert på Tallrestriksjonen Beløp:\n\u0026lt;xsd:simpleType name=\u0026#34;Beløp\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;xsd:decimal\u0026#34;\u0026gt; \u0026lt;xsd:totalDigits value=\u0026#34;15\u0026#34;/\u0026gt; \u0026lt;xsd:fractionDigits value=\u0026#34;2\u0026#34;/\u0026gt; \u0026lt;/xsd:restriction\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; Verdiområde En Tallrestriksjon kan ha et Verdiområde som kan være lukket, halvåpent eller åpent.\nVi tenker oss at det skal lages en begrrensning til det halvåpne intervallet [0.1, 2,8). Verdiområdet settes med bruk av xsd:minExclusive, xsd:minInclusive, xsd:maxExclusive og xsd:maxInclusive:\n\u0026lt;xsd:simpleType name=\u0026#34;TallrestriksjonKroppshøyde\u0026#34; seres:elementtype=\u0026#34;Tallrestriksjon\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Tallrestriksjon/TallrestriksjonKroppshøyde/1172506\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;xsd:decimal\u0026#34;\u0026gt; \u0026lt;xsd:totalDigits value=\u0026#34;4\u0026#34;/\u0026gt; \u0026lt;xsd:fractionDigits value=\u0026#34;2\u0026#34;/\u0026gt; \u0026lt;xsd:minInclusive value=\u0026#34;0.10\u0026#34;/\u0026gt; \u0026lt;xsd:maxExclusive value=\u0026#34;2.80\u0026#34;/\u0026gt; \u0026lt;/xsd:restriction\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; Knytinger mot verdirestriksjoner Verdirestriksjoner kan ha knytninger fra Dataenkeltyper.\nHer er et eksempel basert på Dataenkeltypen Kroppshøyde som er tilknyttet Tallrestriksjonen TallrestriksjonKroppshøyde:\n\u0026lt;xsd:simpleType name=\u0026#34;Kroppshøyde\u0026#34; seres:elementtype=\u0026#34;Dataenkeltype\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Kroppshøyde/1172524\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;TallrestriksjonKroppshøyde\u0026#34;/\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; Multiplisitet Multiplisitet skal angis for Dataegenskap, Relasjonsegenskap og DataTypeegenskap. Multiplisitetsverdiene videreføres til XSD-en i attributtene minOccurs og/eller maxOccurs for xsd:element.\nDefaultverdier er 1 for både minOccurs og maxOccurs.\nFor et valgfritt element, dvs. minOccurs = \u0026ldquo;0\u0026rdquo;, ledsages dette med nillable=\u0026ldquo;true\u0026rdquo;, ref. Altinn-krav nr. 21.\n\u0026lt;xsd:complexType name=\u0026#34;Pasient\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;navn\u0026#34; type=\u0026#34;personnavn\u0026#34;/\u0026gt; \u0026lt;!--Multiplisitet 1..1: Navn må angis--\u0026gt; \u0026lt;xsd:element name=\u0026#34;kroppshøyde\u0026#34; type=\u0026#34;lengde\u0026#34; nillable=\u0026#34;true\u0026#34; minOccurs=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;!--Multiplisitet 0..1: Trenger ikke angi kroppshøyde--\u0026gt; \u0026lt;xsd:element name=\u0026#34;behandler\u0026#34; type=\u0026#34;Helsearbeider\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34;/\u0026gt; \u0026lt;!-- (Multiplisitet 1..*: Må være minst en, men kan være mange behandlere--\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;/xsd:complexType\u0026gt; Validerende guid-attributter Validerende guid-atributter velges i Domeneklientens assistent for XSD-generering. Merk feltet GUID-er som meldingsattributter via datasimpeltyper. Det vil da genereres attributter som kan brukes for å identifisere/parse og validere elementer i tilhørende meldinger. Når denne mekanismen slås på, vil strukturen av SERESxsd-er påvirkes betydelig.\nDette gjelder elementer av følgende metaklasser som alle er subklasser av den abstrakte metaklassen Datasimpeltype (derav feltteksten):\n Dataenkeltype Datakodeliste ORDataenkeltype ORDatakodeliste  Dataenkeltype med validerende guid-attributt Dersom det skal legges ut et validerende guid-attibutt for en Dataenkeltype, legges denne ut i to trinn via en simpleType-utgave med navn \u0026ldquo;_Verdirestriksjon\u0026rdquo;. Denne bygges så ut til en complexType for Dataenkeltypen der attributtet er med. simpleType-utgaven må brukes som type for egenskap for egenskap der typene med validerende attributter (complexType) ikke skal/kan benyttes. simpleType-utgaven navngis med navnet på Dataenkeltypen og deretter et suffiks \u0026ldquo;_Verdirestriksjon\u0026rdquo; (øverste eksempel).\nDersom Dataenkeltypen har en Verdirestriksjon/Tegnrestriksjon/Tallrestriksjon, brukes et suffiks lik navnet på restriksjonen adskilt med \u0026ldquo;_\u0026rdquo; (nederste eksempel).\n\u0026lt;xsd:complexType name=\u0026#34;Tekst\u0026#34; seres:elementtype=\u0026#34;Dataenkeltype\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Tekst/1172532\u0026#34;\u0026gt; \u0026lt;xsd:simpleContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;Tekst_Verdirestriksjon\u0026#34;\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:guid\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Tekst/1172532\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:simpleContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;xsd:simpleType name=\u0026#34;Tekst_Verdirestriksjon\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;xsd:string\u0026#34;/\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; \u0026lt;xsd:complexType name=\u0026#34;Navn\u0026#34; seres:elementtype=\u0026#34;Dataenkeltype\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Navn/1172526\u0026#34;\u0026gt; \u0026lt;xsd:simpleContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;Navn_TegnrestriksjonNavn\u0026#34;\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:guid\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Navn/1172526\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:simpleContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;xsd:simpleType name=\u0026#34;Navn_TegnrestriksjonNavn\u0026#34; seres:elementtype=\u0026#34;Tegnrestriksjon\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;xsd:token\u0026#34;\u0026gt; \u0026lt;xsd:minLength value=\u0026#34;1\u0026#34;/\u0026gt; \u0026lt;xsd:maxLength value=\u0026#34;35\u0026#34;/\u0026gt; \u0026lt;/xsd:restriction\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; Arv mellom dataenkeltyper med GUID-validering Ved bruk av validerende guid-attributter gjøres utlegg av arv mellom dataenkeltyper med bruk av verdirestriksjons-simpleType-ene. Her er et eksempel der Kolli arver Antall:\n\u0026lt;xsd:complexType name=\u0026#34;Antall\u0026#34; seres:elementtype=\u0026#34;Dataenkeltype\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Antall/1172523\u0026#34;\u0026gt; \u0026lt;xsd:simpleContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;Antall_Verdirestriksjon\u0026#34;\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:guid\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Antall/1172523\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:simpleContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;xsd:simpleType name=\u0026#34;Antall_Verdirestriksjon\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;xsd:nonNegativeInteger\u0026#34;/\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; \u0026lt;xsd:complexType name=\u0026#34;Kolli\u0026#34; seres:elementtype=\u0026#34;Dataenkeltype\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Kolli/1172511\u0026#34;\u0026gt; \u0026lt;xsd:simpleContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;Kolli_Verdirestriksjon\u0026#34;\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:guid\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Kolli/1172511\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:simpleContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;xsd:simpleType name=\u0026#34;Kolli_Verdirestriksjon\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;Antall_Verdirestriksjon\u0026#34;/\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; Eksempel på meldingsfragment med validerende guid-attributter \u0026lt;arbeidsgiver\u0026gt; \u0026lt;orgnr seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataegenskap/orgnr/1225992\u0026#34;\u0026gt;974760673 \u0026lt;/orgnr\u0026gt; \u0026lt;navn seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/navn/1172526\u0026#34;\u0026gt;Registerenheten i Brønnøysund \u0026lt;/navn\u0026gt; \u0026lt;/arbeidsgiver\u0026gt; Arv mellom Dataenkeltyper med validerende guid-attributter Også ved arv mellom Dataenkeltyper, må simpleType-utgavene brukes for arverelasjonen.\nHer er eksempel på utlegg der Dataenkeltype Kolli arver Dataenkeltype Antall:\n\u0026lt;xsd:complexType name=\u0026#34;Antall\u0026#34; seres:elementtype=\u0026#34;Dataenkeltype\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Antall/1172523\u0026#34;\u0026gt; \u0026lt;xsd:simpleContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;Antall_Verdirestriksjon\u0026#34;\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:guid\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Antall/1172523\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:simpleContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;xsd:simpleType name=\u0026#34;Antall_Verdirestriksjon\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;xsd:nonNegativeInteger\u0026#34;/\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; \u0026lt;xsd:complexType name=\u0026#34;Kolli\u0026#34; seres:elementtype=\u0026#34;Dataenkeltype\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Kolli/1172511\u0026#34;\u0026gt; \u0026lt;xsd:simpleContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;Kolli_Verdirestriksjon\u0026#34;\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:guid\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Kolli/1172511\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:simpleContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;xsd:simpleType name=\u0026#34;Kolli_Verdirestriksjon\u0026#34;\u0026gt; \u0026lt;xsd:restriction base=\u0026#34;Antall_Verdirestriksjon\u0026#34;/\u0026gt; \u0026lt;/xsd:simpleType\u0026gt; Egenskap for egenskap med validerende guid-attributt Når det legges ut validerende guid-attributter, må typene for subattributtene bruke simpleType-utgaven av Dataenkeltypene for subegenskapene, i eksemplet Alternativ_Verdirestriksjon og Dato_Verdirestriksjon.\n\u0026lt;xsd:element name=\u0026#34;foedselsnummer\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataegenskap/fødselsnummer/1172499\u0026#34; seres:elementtype=\u0026#34;Dataegenskap\u0026#34;\u0026gt; \u0026lt;xsd:complexType\u0026gt; \u0026lt;xsd:complexContent\u0026gt; \u0026lt;xsd:extension base=\u0026#34;Foedselsnummer\u0026#34;\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;protokollfoert\u0026#34; type=\u0026#34;Alternativ_Verdirestriksjon\u0026#34; seres:elementtype=\u0026#34;Dataegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataegenskap/protokollført/1224207\u0026#34;/\u0026gt; \u0026lt;xsd:attribute name=\u0026#34;datoRegistrert\u0026#34; type=\u0026#34;Dato_Verdirestriksjon\u0026#34; seres:elementtype=\u0026#34;Dataegenskap\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Dataegenskap/datoRegistrert/1235332\u0026#34;/\u0026gt; \u0026lt;/xsd:extension\u0026gt; \u0026lt;/xsd:complexContent\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;/xsd:element\u0026gt; Altinn-tilpasset guid-attributt I en Altinn-tilpasset SERESxsd blir alle deklarasjoner av validerende guid-attributter lagt ut i targetNamespace, ikke i seres-navnerommet:\n\u0026lt;xsd:attribute name=\u0026#34;guid\u0026#34; type=\u0026#34;xsd:string\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;http://seres.no/guid/Komplett/Dataenkeltype/Kolli/1172511\u0026#34;/\u0026gt; Serialisering fra meldingsmodell Når en benytter en Meldingsmodell som grunnlag for en meldingsspesifikasjon, er det en eller flere Meldingsdeler fra meldingsmodellen som er startpunktet. Meldingsdeler er spesialiseringer av Dataobjekttyper og serialiseres på samme måte:\n\u0026lt;xsd:complexType name=\u0026#34;Innleggelse_M\u0026#34; seres:elementtype=\u0026#34;Meldingsmodell\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Meldingsmodell/Innleggelse_M/1172489\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;Avsender\u0026#34; type=\u0026#34;Avsender\u0026#34; seres:elementtype=\u0026#34;Meldingsdel\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Meldingsdel/Avsender/1172475\u0026#34;/\u0026gt; \u0026lt;xsd:element name=\u0026#34;Informasjon\u0026#34; type=\u0026#34;Informasjon\u0026#34; seres:elementtype=\u0026#34;Meldingsdel\u0026#34; seres:guid=\u0026#34;http://seres.no/guid/Komplett/Meldingsdel/Informasjon/1172473\u0026#34;/\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:dataFormatProvider\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;SERES\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:dataFormatId\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;4564\u0026#34;/\u0026gt; \u0026lt;xsd:attribute ref=\u0026#34;seres:dataFormatVersion\u0026#34; use=\u0026#34;required\u0026#34; fixed=\u0026#34;36351\u0026#34;/\u0026gt; \u0026lt;xsd:anyAttribute/\u0026gt; \u0026lt;/xsd:complexType\u0026gt; Denne ytre typen har som standard med xsd:anyAttribute for å tillate fritt valgte attributter inn i tilhørende meldinger.\nSerialisering fra presentasjonsmodell Når en benytter en Presentasjonsmodell som grunnlag for en meldingsspesifikasjon, er det Presentasjonsdelene og Presentasjonsfeltene som er startpunktet.\nMed referanse til modelleksempeldiagrammet over får en følgende serialisering:\n\u0026lt;xsd:complexType name=\u0026#34;Pasientlogg\u0026#34; seres:elementtype=\u0026#34;Presentasjonsmodell\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;Pasientinfo\u0026#34; type=\u0026#34;Pasientinfo\u0026#34; seres:elementtype=\u0026#34;Presentasjonsdel\u0026#34; /\u0026gt; \u0026lt;xsd:element name=\u0026#34;Sykehusinfo\u0026#34; type=\u0026#34;Sykehusinfo\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34; seres:elementtype=\u0026#34;Presentasjonsdel\u0026#34; /\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;xsd:complexType name=\u0026#34;Pasientinfo\u0026#34; seres:elementtype=\u0026#34;Presentasjonsdel\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;Pasientnavn\u0026#34; type=\u0026#34;Pasientnavn\u0026#34; seres:elementtype=\u0026#34;Presentasjonsdel\u0026#34; /\u0026gt; \u0026lt;xsd:element name=\u0026#34;fødselsnummer\u0026#34; type=\u0026#34;fødselsnummer\u0026#34; seres:elementtype=\u0026#34;Presentasjonsfelt\u0026#34; /\u0026gt; \u0026lt;xsd:element name=\u0026#34;type\u0026#34; type=\u0026#34;pasienttype\u0026#34; seres:elementtype=\u0026#34;Presentasjonsfelt\u0026#34; /\u0026gt; \u0026lt;xsd:element name=\u0026#34;høyde\u0026#34; type=\u0026#34;verdi\u0026#34; seres:elementtype=\u0026#34;Presentasjonsfelt\u0026#34; /\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;xsd:complexType name=\u0026#34;Pasientnavn\u0026#34; seres:elementtype=\u0026#34;Presentasjonsdel\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;fornavn\u0026#34; type=\u0026#34;navn\u0026#34; seres:elementtype=\u0026#34;Presentasjonsfelt\u0026#34; /\u0026gt; \u0026lt;xsd:element name=\u0026#34;mellomnavn\u0026#34; type=\u0026#34;navn\u0026#34; seres:elementtype=\u0026#34;Presentasjonsfelt\u0026#34; /\u0026gt; \u0026lt;xsd:element name=\u0026#34;etternavn\u0026#34; type=\u0026#34;navn\u0026#34; seres:elementtype=\u0026#34;Presentasjonsfelt\u0026#34; /\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;xsd:complexType name=\u0026#34;Sykehusinfo\u0026#34; seres:elementtype=\u0026#34;Presentasjonsdel\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;Sykehus\u0026#34; type=\u0026#34;Sykehus\u0026#34; seres:elementtype=\u0026#34;Presentasjonsdel\u0026#34; /\u0026gt; \u0026lt;xsd:element name=\u0026#34;innleggelsestidspunkt\u0026#34; type=\u0026#34;dato\u0026#34; seres:elementtype=\u0026#34;Presentasjonsfelt\u0026#34; /\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;/xsd:complexType\u0026gt; \u0026lt;xsd:complexType name=\u0026#34;Sykehus\u0026#34; seres:elementtype=\u0026#34;Presentasjonsdel\u0026#34;\u0026gt; \u0026lt;xsd:sequence\u0026gt; \u0026lt;xsd:element name=\u0026#34;navn\u0026#34; type=\u0026#34;navn\u0026#34; seres:elementtype=\u0026#34;Presentasjonsfelt\u0026#34; /\u0026gt; \u0026lt;xsd:element name=\u0026#34;organisasjonsnummer\u0026#34; type=\u0026#34;orgnr\u0026#34; seres:elementtype=\u0026#34;Presentasjonsfelt\u0026#34; /\u0026gt; \u0026lt;/xsd:sequence\u0026gt; \u0026lt;/xsd:complexType\u0026gt; Merk at elementer av type Presentasjonsfelt i en Presentasjonsmodell er knyttet til en Dataegenskap eller DataTypeegenskap. I serialiseringen identifiseres likevel ikke Dataegenskap eller DataTypeegenskap, men typene disse er knyttet til.\nMeldingseksempel Her er et eksempel på en melding basert på den meldingsspesifikasjonen som genereres fra meldingsmodellen:\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;Pasienthistorikk xsi:schemaLocation=\u0026#34;http://seres.no/xsd/Dokumentasjon/Pasienthistorikk/1 SERESxsd.xsd\u0026#34; xmlns=\u0026#34;http://seres.no/xsd/Dokumentasjon/Pasienthistorikk/1\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34;\u0026gt; \u0026lt;Pasientinformasjon\u0026gt; \u0026lt;pasient\u0026gt; \u0026lt;fødselsnr\u0026gt;31129912345\u0026lt;/fødselsnr\u0026gt; \u0026lt;navn\u0026gt; \u0026lt;fornavn\u0026gt;Ola\u0026lt;/fornavn\u0026gt; \u0026lt;mellomnavn\u0026gt;Dunk\u0026lt;/mellomnavn\u0026gt; \u0026lt;etternavn\u0026gt;Nordmann\u0026lt;/etternavn\u0026gt; \u0026lt;/navn\u0026gt; \u0026lt;høyde enhet=\u0026#34;cm\u0026#34;\u0026gt;162\u0026lt;/høyde\u0026gt; \u0026lt;type\u0026gt;poliklinisk\u0026lt;/type\u0026gt; \u0026lt;innlagtPå\u0026gt; \u0026lt;navn\u0026gt;St. Olavs Hospital\u0026lt;/navn\u0026gt; \u0026lt;/innlagtPå\u0026gt; \u0026lt;/pasient\u0026gt; \u0026lt;/Pasientinformasjon\u0026gt; \u0026lt;Sykehusinformasjon\u0026gt; \u0026lt;Sykehus\u0026gt; \u0026lt;navn\u0026gt;St. Olavs Hospital\u0026lt;/navn\u0026gt; \u0026lt;/Sykehus\u0026gt; \u0026lt;innleggelsestidspunkt\u0026gt;2010-03-20\u0026lt;/innleggelsestidspunkt\u0026gt; \u0026lt;/Sykehusinformasjon\u0026gt; \u0026lt;Sykehusinformasjon\u0026gt; \u0026lt;Sykehus\u0026gt; \u0026lt;navn\u0026gt;Ullevål Sykehus\u0026lt;/navn\u0026gt; \u0026lt;/Sykehus\u0026gt; \u0026lt;innleggelsestidspunkt\u0026gt;2009-09-30\u0026lt;/innleggelsestidspunkt\u0026gt; \u0026lt;/Sykehusinformasjon\u0026gt; \u0026lt;/Pasienthistorikk\u0026gt; Bruk av SERESxsd-er XSD-ene brukes på ulike måter:\n Grunnlag for å utvikle tjenester i Altinn gjennom at de importeres som datakilde til InfoPath som igjen er grunnlag for generering av en skjemamal serialisert som en InfoPath Filler-fil av type (extension) XSN. Grunnlag for meldingsgenerering (avgivelse, f. eks. innsendingstjenester) og meldingsvalidering (mottak, f. eks. preutfylling til innsendingstjenester) i Altinn. Grunnlag for etaters mottaks- og avgivelsessystemer mot Altinn både for meldingsgenerering (avgivelse) og meldingsvalidering (mottak). Grunnlag for fagsystemer/sluttbrukersystemer fra kommersielle aktører som kan brukes mot Altinn.  "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2015/15-2/",
	"title": "15.2",
	"tags": [],
	"description": "Ny formidlingstjeneste, forenklet registrering av kontaktinformasjon, forbedret parallell signering, delegering via REST API, +++",
	"content": "Denne versjonen inneholder flere store endringer, blant annet en ny tjenestetype, og store forandringer i registrering av kontaktinformasjon.\nEndringene for kontaktinformasjon gjøres for å sikre at Altinn skal være godt egnet for tjenesteeiere som benytter tjenester til virksomheter som krever varsling. Her gjøres det endringer både på brukersiden med et forenklet, moderne design, og mot tjenesteeierne for å sikre kontroll på at varsel sendes ut til de riktige varslingsadressene.\nTjenester Ny tjenestetype for transport av data (16230) Vi gjør det mulig å lage tjenester for utveksling av store datafiler mellom ulike aktører. En avsender vil laste opp data til Altinn, som vil sørge for at dataene blir tilgjengelig for nedlasting for de angitte mottakerne. Det skal være mulig å bruke de nye tjenestene både via webservice og SFTP.\nParallell signering – bedret informasjon ved signering av flere (17528) Justering av hvilken informasjon som vises i situasjoner der man selv har signert, mens man venter på at andre skal signere.\nStyring av parallell signering (18230) Forbedring av funksjonaliteten for parallell signering, slik at det blir mulig å styre hva de ulike signererne skal signere. Dette er nødvendig for den planlagte tjenesten for elektronisk stiftelse av aksjeselskap.\nInstansiering av innsendingstjenester fra dialogsider i samhandlingstjeneste (16151) Det innføres mulighet for eier av samhandlingstjenester å definere at tjenester som startes mens man er inne i samhandlingstjenesten må sendes inn av aktøren som har samhandlingstjenesten.\nFeilretting: Regelmotor og SERES ved like felter (18075) Feilretting for å få regelmotoren til å håndtere at felter som er definert i SERES kan ha samme navn.\nFeilretting: Problem med caching i regelmotor (18442) Regelmotor får støtte for at ulike tjenester/tjenesteutgaver skal kunne bruke ulike versjoner av samme skjema. Dette ble tidligere ikke unikt identifisert ved lasting fra cache.\nTilgangsstyring og kontaktinformasjon Forenklet/forbedret registrering av kontaktinformasjon (17415) Dagens \u0026ldquo;Min profil\u0026rdquo; erstattes med en ny side for registrering av kontaktinformasjon. Denne siden vil ha et mer moderne, responsivt design (som tilpasser seg ulike skjermstørrelser). I tillegg vil det innføres mulighet for personlige varsel for en virksomhet (for tjenester man har tilgang til). Det legges også opp til større grad av validering av kontaktinformasjonen som legges inn.\nOppdatert 19.05.15: Denne endringen leveres med nytt design og funksjonalitet for personlige varsel i versjon 15.2. Det gjøres også relevante endringer i grensesnittet mot tjenesteeierne for å sikre oversikt over hvem som har fått varsel både for meldingstjenester og ved frittstående varsel.\nForenklet/forbedret tilgangsstyringsfunksjonalitet (17593) Dagens \u0026ldquo;Tilgangsstyring\u0026rdquo; integreres med ny side for registrering av kontaktinformasjon. Denne siden vil gjøre det mer intuitivt å finne ut av hvem som har tilgang til hva for en virksomhet, og å delegere disse tilgangene videre. Den vil også ha et mer moderne, responsivt design (som tilpasser seg ulike skjermstørrelser).\nOppdatert 19.05.15: Endringer på tilgangsstyringsområdet vil ikke bli produksjonssatt i versjon 15.2. Det leveres kun et konsept på hvordan dette kan løses.\nVarsler (sms/e-post) Prioritet på varsler (sms/e-post) (17330) Forbedring av funksjonaliteten for å prioritere varsler (sms/e-post) ved utsending av store mengder varsler, slik at ikke en masseutsending av (mindre tidskritiske) varslinger fører til at mer akutte varsel blir liggende lenge i kø i påvente av at massevarslene sendes ut.\nUtvidelse av standardmakroer for varsling (18101) Vi utvider hvilke mulige identifikatorer som kan være del av et varsel, slik at man kan sende ut varsel der det er tydelig hvem varselet gjelder uten at man sender ut for mye identifiserende informasjon i en uegnet kanal.\nEksterne grensesnitt Delegeringsmulighet i REST-grensesnittet (17668) Vi innfører mulighet til å bruke REST-grensesnittet til å hente ut og administrere tilganger/rettigheter i Altinn. Dette gjøres ved først å forbedre autorisasjonskomponenten med mer robuste og gjenbrukbare tjenester, og deretter å implementere dette i REST-grensesnittet. Endringen gjør det mulig for utviklere å inkludere rettighetsstyring i eksterne portaler og applikasjoner.\nIntegrasjonsplattform og grensesnitt Forbedret håndtering av items som feiler i batchinnlesing (17621) Vi innfører mellomlagring, logging til database og automatisk retry-funksjonalitet i batcher som leses inn i Altinn. Dette vil både redusere behovet for manuell oppfølging, og gi bedre oversikt og kontroll over de feilene som krever manuell oppfølging.\nInnfasing av ny CreateShipment-funksjonalitet for immediate-overføringer (17622) I versjon 14.3 tok vi i bruk ny logikk for pakking av forsendelser for batch-overføringer. Nå skal den samme logikken også brukes for grensensitt med umiddelbare overføringer (immediate). Dette vil forbedre ytelse og kapasitet i løsningen, og gi mer konsistent kode av høyere kvalitet.\nOppsplitting av PrepareShipmentPart-orkestrering basert på outbound ShipmentType (17626) Forbedring av orkestrering av forsendelser, slik at ulike typer forsendelser kan behandles ulikt. Dette gjør det mulig å styre ressursbruken for ulike typer forsendelser. I tillegg er det en forenkling av løsningen som gjør den enklere å vedlikeholde.\nStore meldinger og ESB Excetion database (17659) Retting av et problem ved feilhåndteringen i PrepareShipmentPart-orkestreringen. Store meldinger vil ikke lenger legges ved til ESB faults.\nFeilretting: Kolonnenavn i BAM observasjonsmodellen stemmer ikke overens med faktisk verdi (17757) Feilretting for å sørge for bedre datakvalitet fra BAM. Det vil nå være samsvar mellom data i løsning og det som vises i view.\nCustom Pipeline for Inbound Receive Porter (17619) Forbedring av håndtering av inkommende batch-filer for å redusere belastningen på BizTalkmeldingsboksen. Innkommende batch vil nå håndteres mer likt som utgående ved at selve filen skrives til disk, mens det kun er en melding med referanse til filplassering som legges i BizTalkmeldingsboksen.\nNy makro for metadata-informasjon i generic batch (18099) Mulighet for å inkludere informasjon om hvilke sluttbrukersystem som var brukt i de enkelte innsendingene i xml-filene som mottas i batch.\nTeknisk arkitektur Oppgradering av PDF-bibliotek (18216) Mindre teknisk oppgradering i forbindelse med PDF-print.\nTjenesteutviklingsløsning Forbedringer av tjenesteutviklingsløsningen (17778) Rammeendring for forbedringer. Detaljer om endringene som gjøres vil tilgjengeliggjøres når omfanget er avklart.\nOppdatert 19.05.15: Det leveres et nytt, forenklet design for utgaveparameter-siden, preutfylling av bostedsadresse blir mulig (tidligere kun postadresse) og det innføres en automatisk sjekk av om tjenesteeierrolle er satt før migrering av tjeneste (for tilgang til tjenesteeiers arkiv). I tillegg utføres det noe bugfixing, og det gjøres endringer for å forenkle synkronisering mellom TUL- og TUT-miljøer.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2017/17-2/",
	"title": "17.2",
	"tags": [],
	"description": "Nytt design, ny innboks, ny infoportal, nytt søk, papirkurv, klientdelegering, tilpasset hjelp, designsystem, +++",
	"content": "Dette er en stor release, som først og fremst handler om innføring av nytt design.\nNoe funksjonalitet som var lite brukt er dessuten fjernet, og det er fortsatt enkelte områder som ennå ikke har fått nytt design.\nEnklere å velge hvem du representerer Det er laget ny side for valg av hvem man representerer ved pålogging. I tillegg er det laget en ny funksjonalitet fra toppmenyen for å kunne bytte hvem du representerer etter pålogging.\nDette er tilgjengelig uansett hvor du står etter å ha logget på. På den nye siden er det tydeligere hvilket foretak en underenhet hører til.\nNy innboks Grunnleggende forbedringer Den nye innboksen har en rekke forbedringer fra dagens løsning, blant annet:\n Responsivt design som støtter store og små skjermer. Skjema og meldinger grupperes slik at de mest relevante kommer øverst. Tydeligere informasjon om hva som er status/neste steg, som for eksempel \u0026ldquo;til signering\u0026rdquo; eller \u0026ldquo;til betaling\u0026rdquo;. Utseende er tilpasset hvem man representerer - \u0026ldquo;enklere\u0026rdquo; utseende på innboks for privatpersoner.  Ekspandert (inline) visning Meldinger vil nå kunne åpnes direkte (ekspandert) i innboksen, som en utvidet visning av meldingen. Det blir som tidligere mulig å videresende melding på epost, men Altinn inneholder nå informasjon om at dette er gjort.\nNy aktivitetslogg Det er utviklet en ny og bedre aktivitetslogg for meldinger og skjema, som viser tydeligere hvem som har gjort hva.\nPapirkurv for privatpersoner og virksomheter Det har tidligere kun vært mulig å slette elementer i innboks for privatpersoner. Nå har vi laget en papirkurv som gir både private og virksomheter mulighet til å slette tjenester i innboks eller arkiv. Meldinger som kastes i papirkurven kan gjenopprettes (flyttes tilbake til innboks eller arkiv).\nFor privatpersoner er det også mulig å slette elementer permanent fra papirkurven. For virksomheter vil elementer lagt i papirkurv automatisk fjernes etter en gitt periode.\nNytt søk i innboks Grensesnitt for søk er forenklet. I første omgang er det kun mulig å søke på tittelen på meldingen eller skjemaet, og å begrense treffene til en bestemt periode eller status. Det er mulig å lagre søkene man gjør, slik at de lett kan gjentas.\nSeparat arkiv Det er opprettet en egen boks for arkiverte meldinger. Meldinger som er arkivert vil ikke synes i innboksen.\nHjelp tilpasset det du holder på med I hele Altinn ligger det nå et hjelpeikon nederst i høyre hjørne.\nVed å trykke på ikonet, får man opp hjelpeinnhold som skal være tilpasset hvor man er og hva man har klikket på.\nNye sider for klientdelegering Det er nå enklere for regnskapsfører og revisor å delegere rettigheter til ansatte for klienter. Det er innført nye klientdelegeringssider for å gi en ansatt tilganger for flere klienter, og for å gi flere ansatte tilganger for en klient.\nSynlige samtykker Det er laget et eget panel under \u0026ldquo;Profil\u0026rdquo; i portalen som viser hvilke samtykker man har gitt. Det kommer også en logg som viser bruken av samtykket.\nNy informasjonsportal Alle sider i Altinn som man kan nå uten å logge inn har fått nytt design.\nDet nye designet er responsivt, det vil si at utseendet på siden tilpasser seg størrelsen på skjermen man bruker. Vi gjør også strengere prioriteringer i hvilket innhold alle skal se. Det vil være lettere å finne det mange trenger, uten at det noen få trenger har forsvunnet.\nNy skjemaoversikt For å finne fram til riktig skjema, har vi forenklet oversikten over skjema og tjenester. Det vil være tre veier til skjemainformasjonen, via nye kategorier, via etat og via søk.\nBedre innhold under \u0026ldquo;Starte og drive bedrift\u0026rdquo; Informasjonssidene om hvordan man starter og driver bedrift har fått en enklere struktur, med færre klikk før man kommer til innholdet. Vi har også gjort en rekke språklige forenklinger og forbedringer.\nNy søkeløsning i informasjonsportal Å finne informasjon med den gamle søkeløsningen på altinn.no kunne være frustrerende. Vi har derfor lagd en helt ny søkeløsning, basert på ElasticSearch, som gir mer relevante treff når man søker. Det er også tydeligere i søkeresultatet hva slags informasjon man har funnet.\nLøsningen for søk vil etter hvert deles som åpen kildekode på GitHub.\nFunksjonalitet som forsvinner Ikke all funksjonalitet vi lanserer i Altinn slår dessverre like godt an hos brukerne\u0026hellip; 😞\nI forbindelse med overgangen til nytt design, har vi derfor valgt å kutte ut et par funksjoner som var svært lite brukt:\n Samlesider for å gruppere sammen elementer i innboks Mulighet å nekte brukere innsyn på instansnivå  Noe har fortsatt gammelt design Ikke alt får nytt design i 17.2. Utfylling av skjema vil se ut og oppføre seg som før, og vil ikke kunne oppdateres før tjenester 3.0 er realisert.\nDet er også et par funksjonaliteter i innboksen som man inntil videre må bruke gammel meldingsboks for å få:\n Søk på tvers av mange aktører Delegering på instansnivå  "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2016/",
	"title": "2016",
	"tags": [],
	"description": "Endringer innført i 2016.",
	"content": "\r16.1\rSamtykkebasert datadeling, betalingsløsning, nytt design for roller og rettigheter, videresending av post til innbygger, \u0026#43;\u0026#43;\u0026#43;\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2021/21-1/",
	"title": "21.1",
	"tags": [],
	"description": "Mindre forbedringer og feilrettinger",
	"content": "Vi minner også om endringer i Altinn 3.0.\nEndringer i portal \u0026ldquo;Andre med rettigheter\u0026rdquo; panelet Tidligere når en bruker har fått en rettighet eller rolle har vedkommende også hatt mulighet til å se hvilke andre som har rettigheter for denne personen samt hvilke roller og rettigheter de har. Denne muligheten er nå fjernet. Panelet “Andre med rettigheter til skjema og tjenester” for privatpersoner vises bare når innlogget bruker har tilgangsstyringsrettigheter for den valgte avgiveren. Denne endringen er også gjort på REST-API.\nStøtte for \u0026ldquo;be om tilgang\u0026rdquo; for virksomhetsbrukere “Be om tilgang” løsningen i Altinn er nå blitt utvidet med støtte for virksomhetsbrukere. Disse har tidligere fått feilmelding om at virksomhetsbrukere ikke kan be om tilgang.\nNå kan også virksomhetsbrukere be om å få rettigheter fra sin egen virksomhet fra under “Skjema og tjenester” i virksomhetens profilside eller ved at det spesifiseres URL parameter ‘CoveredBy=me’ ved lasting be om tilgangsiden (/ui/DelgationRequest). Det er også åpnet for at virksomhetsbrukere som har en av rollene \u0026ldquo;Tilgangsstyring\u0026rdquo;, \u0026ldquo;Hovedadministrator\u0026rdquo; eller \u0026ldquo;Klientadministrator\u0026rdquo; nå kan sende forespørsler på vegne av virksomheten sin til andre. Man kan også behandle innkommende forespørsler til virksomheten tilsvarende som for vanlige brukere med disse rollene.\nNy knapp under \u0026ldquo;Skjema og tjenester du har rettigheter til\u0026rdquo; panelet Det er nå mulig for den innloggede brukeren å opprette nye tilgangsforespørsler. Disse blir sendt til aktøren man representerer under “Skjema og tjenester du har rettighet til”.\nEndringer i REST-API Man kan nå bruke OData-filtrering på GET consentRequests-endepunktet slik at man enklere kan finne frem til de forespørslene man er interessert i.\nEndring på \u0026ldquo;/api/{who}/authorization/Delegations\u0026rdquo; For å støtte opp om endringen i visning av “Andre med rettigheter” panelet i portal har det blitt lagt til ekstra autorisasjon på dette endepunktet. Nå når man gjør oppslag på /delegations vil det i tilfeller hvor “who” er en privatperson nå også kreves at den autentiserte brukeren også har tilgangsstyring for “who”. Man vil i tilfeller hvor det ikke foreligger tilgangsstyringsrettigheter få returnert en 403-kode tilbake.\nEndringer i Autorisasjon Mulighet for revisor/regnskaps-medarbeidere å parallellsignere på vegne av revisor/regnskapsfører virksomheten Det er åpnet for mulighet til å spesifisere i Altinn (gjennom altinn.config verdi) at for en gitt parallellsigneringstjeneste så skal også ansatte som har mottatt gitte klientdelegeringsroller for en klient kunne utføre parallellsignering på vegne av revisor/regnskapfører virksomhet som de representerer for klienten. Dette krever da at man spesifiserer tjenestekode (vil gjelde alle utgaver) og hvilke klientdelegeringsroller som må være gitt for klienten. Dette må utføres for at ansatt skal få \u0026ldquo;arve\u0026rdquo; parallellsigneringsrettighet som er blitt gitt fra klienten til revisor/regskapsfører virksomheten.\nNy intern API for å tilordne eksterne roller Ny intern API - InsertExternalRole - kan benyttes for å tildele eksterne roller. Dette skal i første omgang benyttes i Oppgjør etter dødsfall (OED) for å tilordne roller for arvinger opp mot avdød.\nEndringer i tjenesteeiers rettighetsregister Utvidet tjenesteeieres rettighetsregister til å støtte ArchiveRead, ArchiveDelete og Sign Pga. måten vi nå legger opp til å gjøre delegeringer i be-om-tilgang og to-kolonne-versjonen, er det behov for å utvide tjenesteeiers rettighetsregister til å støtte alle operasjoner som kan delegeres av sluttbrukere. Tjenesteeiers rettighetsregister har til nå kun støttet Read, Write og Access. Vi derfor lagt til rettighetene Sign, ArchiveRead og ArchiveDelete slik at tilgangsstyrere for avgivere med tilgang til tjenesten kan delegere disse operasjonene videre.\nDiverse feilrettinger Oppdatert Varsling til å ta høyde for re-varsling for varsler levert for SubmitAndInstantiatePrefill Re-varsling for ABO/Prefill SubmitAndInstantiatePrefill kunne levere varsel, men re-varsling ble ikke automatisk resendt. Prosedyre som henter ut re-varsel er oppdatert til å ta høyde for varsler levert for SubmitAndInstantiatePrefill og sender re-varsling basert på skjema status. (Re-varsling blir ikke sendt for skjema som er blitt levert).\nFeil i metadata API for å hente URL Det ble avdekket en feil i metadata API som førte til at det ble lagt til en ekstra URL for hvert kall inntil cachen ble refreshet. Det er blitt lagt til en kontroll på om en “self”-link allerede er lagt til for å forhindre dupliseringer.\nBoT avgiver/avsender får seg selv i OfferedBy valg listen Lagt på filtrering av “OfferedBy valg-listen” slik at valgt avgiver ikke vises i listen.\nBrukere får meldingsboksvalg etter innlogging når bruker skulle blitt sendt rett til samtykkesiden Etter innlogging i Altinn møter man meldingsboksvalg dersom man har flere avgivere og ikke har spesifisert forhåndsvalgt aktør under avanserte innstillinger i profilsiden. For noen dyplenker inn til Altinn er det derimot gjort unntak fra visning av dette meldingsboksvalget. Samtykkeløsningen (alle sider under /ui/AccessConsent) er en av disse untakene. Det har blitt rettet en feil som gjorde at URLer måtte spesifisere / etter /ui/AccessConsent. Altså fikk: /ui/AccessConsent/?UrlParam1=… unntak for meldingsboksvalg, mens: /ui/AccessConsent?UrlParam1=… ikke fikk unntak for meldingsboksvalg.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/getting-started/access-management/apps/",
	"title": "Apps",
	"tags": [],
	"description": "Hvordan bestille tilganger til Altinn Apps",
	"content": "Tilgang til logger og hemmeligheter Det er definert to forskjellige typer roller for tilgang i driftsmiljøene i Altinn Apps.\n Developer gir tilgang til Application Insights der applikasjonslogger samles for tjenesteeier sine applikasjoner i miljøet. Operations gir tilgang til Key Vault for å laste opp hemmeligheter som sertifikater, passord og api-nøkler.  Disse rollene er videre delt opp i tilgang til test (TT02) og produksjon (prod). En bruker kan tildeles en eller flere roller.\nTjenesteeiere kan bestille følgende tilganger for sine ressurser i miljøene TT02 og produksjon:\n Test Developer Test Operations Prod Developer Prod Operations  For å få aksess til disse rollene må autoriserte bestillere hos Tjenesteeier, bestille dette via skjemaet Apps på vår Selvbetjeningsportal under menyvalget Bestilling/tilganger.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/betaling/",
	"title": "Betaling",
	"tags": [],
	"description": "Betaling i Altinn kan tas i bruk frittstående eller som del av en innsendingstjeneste.",
	"content": "En del offentlige tjenester innebærer brukerbetaling som del av saksbehandlingen. Dette kan gjøres enkelt via ny funksjonalitet i Altinn levert med Altinn versjon 16.1.\nAltinn og flere tjenesteeiere i Altinn-samarbeidet, har sett behovet for en betalingsløsning som del av Altinn. En gruppe representanter for flere tjenesteeiere og Altinn har jobbet mot å kunne tilby dette.\nDel av arbeidsflyten Betalingsløsningen kan være del av arbeidsflyten til en innsending på fire ulike måter:\n I parallell med innsendingssteget\nDet vil si at man fyller ut et skjema, og fra siden der man skal bekrefte innsending velger man «Send inn og betal». Man sendes videre til en av betalingsleverandørene, og så snart betaling er utført er man tilbake på kvitteringen på innsending i Altinn.VarselDPVUtenRevarsel Betaling før signering\nDer man etter utfylling først gjennomfører en betaling, og deretter signerer på innsendingen. Betaling etter signering\nDer man får fylle ut og signere en innsending før man sendes videre til betalingsløsningen Forhåndsutfylt betaling\nDet vil si at det ikke kreves noen aktiv utfylling av et skjema. Brukeren sendes direkte til et betalingssteg.  Altinn har støtte for betaling med tre av de største betalingsleverandørene på det norske markedet. Det er opp til tjenesteeier å lage avtale med den leverandøren de ønsker å bruke av alternativene Nets, Payex og DIBS. Altinn vil også ha funksjonalitet for å begrense hvilke betalingsalternativer som er tilgjengelig – for eksempel hvis det er uønsket at betaling skal skje med enkelte typer kort.\nKan være avhengig av utfyllingen Det trenger ikke være et forhåndsbestemt beløp som skal betales per innsending. Tjenester med betaling kan defineres slik at hvor mye som skal betales avhenger av hva som fylles ut i skjemaet. Det går også an å definere at det kun er bestemte data som skal medføre betaling. Utfyllingen trenger ikke skje i Altinn. Betaling er også tilgjengelig til bruk i for eksempel apper eller tjenesteeiernes egne nettsteder via Altinns REST-API. Brukeren trenger med andre ord ikke vite at det er Altinns betalingsløsning som benyttes som del av en tjenesteeier sin tjeneste.\nGjennomgang av oppsett av enkel betalingstjeneste Betalingsleverandøravtale Grunnleggende for å få satt opp en betalingsløsning er at tjenesteeier (TE) har gjort en avtale med betalingsleverandør om bruk av dennes betalingstjenester. Data om denne avtalen må legges inn i TUL for å kunne lage en tjeneste med betaling. Her støtter løsningen avtaler med Nets, Payex og DIBS. Felter for å spesifisere at en tjenesteutgave skal ha betalingsfunksjonalitet vil være skjult inntil minst en betalingsleverandøravtale er lagt inn i TUL. Betalingsavtalen finnes til høyre på tjenesteeierarbeidsflaten under «Felles ressurser for tjenesteeier»\nVed åpning av denne kommer en til side for opprettelse og vedlikehold av betalingsleverandøravtaler\nVed vedlikehold/opprettelse av avtale må betalingsleverandør, merchant-id og nøkler mottatt fra betalingsleverandør legges inn. Videre kan betalingsmåter begrenses ved å sjekke boks for dette valget som vist på bunnen i seksjon «Legg til ny avtale for betalingsleverandør» av betalingsavtalen under.\nMed betalingsavtale på plass kan tjeneste med betaling spesifiseres.\nUtgavespesifikasjon Det er en seksjon under Utgaveparametre nederst på tjenesteutgaven som spesifiserer hvordan betaling skal fungere. Denne blir som tidligere nevnt først synlig når minst en betalingsavtale er registrert:\n Bruk betaling bestemmer om betalingssteg skal aktiveres for denne tjenestutgaven. Ordrenummer genereres i skjema» bestemmer om betalingstransaksjonene skal få unikt ordrenumer automatisk generert fra teller i Altinn eller om tjenesteutvikler skal lage ordrenummer i skjema etter fritt valgt logikk.\nEr dette feltet aktivert så er det da tjenestutvikler som genererer ordrenummer gjennom logikk i skjema. Ordrenummer er et av fire felter som er obligatoriske for betalingen og som sendes i utvekslingen som skjer med betalingsleverandøren. Mer lenger ned om disse 4 feltene (heretter kalt betalingsfelter) Betalingsleverandøravtale angir hvilken avtale som skal brukes for denne tjenesteutgaven. XPath til.. Betalingsfelter som må finnes i meldingsdefinisjonen for skjema (xsd). De sendes i utveksling med betalingsleverandøren.  sum-felt er beløpet som skal betales. Typisk sum av tjenester/artikler i skjema. Dersom sum er null etter endt utfylling av sluttbruker vil ikke steget for betaling bli gjennomført. Tjenesteutvikler kan da gjennom dette feltet styre om sluttbruker skal ledes gjennom betalingssteget og dermed måtte betale. Eksempelvis kan tjenesteutvikler sette feltet til null som følge av valg sluttbruker har tatt og dermed unngå betaling. Skjema sendes inn uavhengig av om betaling utføres. beskrivelse-felt angir tekst som beskriver betalingen. ordrenummer-felt unik alfanumerisk verdi som settes i skjema/av Altinn for å identifisere transaksjonen (se om ordrenummer over). transaksjonsid-felt unik verdi som settes av betalingsleverandør for å identifisere transaksjonen.    Under Prosessflyt er det 4 maler som har med betaling å gjøre:\n Betaling (med innsending). Tjenesteutvikler har definert i skjemadefinisjonen hvilke verdier som skal være i betalingsfeltene. Dvs at sluttbruker har ikke anledning til å fylle ut skjema, bare gjøre selve betalingen. Skjema sendes inn og betalingstransaksjonen utføres. Utfylling og betaling (med innsending). Sluttbruker fyller ut skjema og betaler deretter for skjema. Skjema sendes inn og betalingstransaksjonen utføres. Utfylling, betaling og signering. Sluttbruker fyller ut skjema, betaler og signerer. Utfylling, signering og betaling (med innsending). Sluttbruker fyller ut skjema, signerer og betaler. Skjema sendes inn og betalingstransaksjonen utføres.  Bruk i Sluttbrukerløsningen (SBL) Her er det illustrert hvordan det kan arte seg for sluttbruker når betaling gjennom prosessflyt 2 – Utfylling og betaling (med innsending), brukes.\nFørste steg: Skjema fylles ut. Dette er et test-skjema som bare inkluderer betalingsfeltene.\nAndre steg: Skjema kontrolleres og vises før betaling. Ved å trykke «Betal og send inn» nederst til høyre, så blir bruker ledet til betalingsleverandør sin betalingsterminal.\nBruker velger betalingsform\nBruker legger inn betalingsdetaljer\nBetalingstransaksjon utføres og skjema sendes inn.\nTredje steg: Bruker vises kvitteringsside.\nBetaling kan også brukes via REST-API\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/beviskoder/",
	"title": "Beviskoder/datakilder",
	"tags": [],
	"description": "Oversikt over tilgjengelige beviskoder",
	"content": "Denne listen er bygd dynamisk basert på metadata-API-et i testmiljøet til data.altinn.no.\n\r\r\r\r\n\rTilgang\rAsynkron\rMaks tilgjengelighet\rHar parametre\r\rParametere\rDette er parametere som kan eller må oppgis i forespørselen\n\r\rParameter\rType\rPåkrevd\r\r\r\r\r\r \r\r\r\rVerdier i retur\rDette er feltene som ligger i svaret\n\r\rParameter\rType\rKilde\r\r\r\r\r\r \r\r\rEksempel på forespørsel\r\r\r\r\r\r\r\r\r\r\r\r"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/endepunkt-liste/",
	"title": "Endepunkter",
	"tags": [],
	"description": "Liste over alle webservice endepunkter.",
	"content": "URI til alle Altinn tjenester / aliasoversikt for endepunkter Web servicene beskrevet i dokumentet er angitt uten informasjon om endepunkt. En web service operasjon kan kalles med forskjellige endepunkter ut fra hvilken autentiseringsmetode tjenesteeier ønsker å benytte.\nDet tilbys opp til tre forskjellige endepunkter for hver web service operasjon:\n Basic Http (SOAP 1.1). Tradisjonell interoperabel web service hvor autentiseringsinformasjonen (brukernavn/passord) ligger i meldingen. WS Http (SOAP 1.2 med WS-Security username token). Støtte for nye web standarder WS*, dvs. bl.a. at autentiseringsinformasjonen (brukernavn/passord) ligger i SOAP headeren. WS Http (SOAP 1.2 med WS-Security X.509 token) (markert som EC2). Støtte for ny web standarder WS*, dvs. bl.a. at sertifikat ligger i SOAP headeren mensbrukernavn og passord ligger i meldingen. WS Http (SOAP 1.2 med WS-Security X.509 token) (markert som AEC2). Støtte for ny web standarder WS*, dvs. bl.a. at sertifikat ligger i SOAP headeren. Sertifikatet må være utstedt til en organisasjon som er registrert som tjenesteeier i Altinn.  Utgåtte endepunkt Opprinnelig ble EC grenssnittene satt opp med sesjon på serversiden. Dette var sårbart for klienter som ikke stengte sine sesjoner og endte opp med at serveren til slutt brukte opp alle sine sesjoner derfor ble det laget nye grensesnitt (EC2) der sesjonen holdes av klienten. Desverre var det en del klienter som ikke klarte å bruke de nye grensesnittene derfor ble det opprettet nye grensesnitt (EC2) og ikke bare endret på de eksisterende. Da kan de som ikke kan bruke de nye få mer tid, samtidig som alle som kan går over gjør det umidelbart.\n WS Http (SOAP 1.2 med WS-Security X.509 token) (markert som EC). Støtte for ny web standarder WS*, dvs. bl.a. at sertifikat ligger i SOAP headeren mensbrukernavn og passord ligger i meldingen. WS Http (SOAP 1.2 med WS-Security X.509 token) (markert som AEC). Støtte for ny web standarder WS*, dvs. bl.a. at sertifikat ligger i SOAP headeren. Sertifikatet må være utstedt til en organisasjon som er registrert som tjenesteeier i Altinn.  Eksempel:\nWeb service operasjonen \u0026ldquo;GetReceiptV2\u0026rdquo; kan aksesseres ved å kalle endepunktet \u0026ldquo;ReceiptAgencyExternal\u0026rdquo; hvis man ønsker å bruke/autentisere vha. WS* standarden. Samme operasjon finnes med navn \u0026ldquo;GetReceiptBasicV2\u0026rdquo; på endepunktet \u0026ldquo;ReceiptExternalBasic\u0026rdquo; hvis man ønsker tradisjonell web service aksessering. Tilslutt finnes det en tredje versjon av operasjonen med navn GetReceiptExternalECV2 på endepunktet \u0026ldquo;ReceiptExternalEC2\u0026rdquo; hvis man ønsker å benytte virksomhetssertifikat i autentiseringen.\nHer følger en aliasoversikt som viser kobling mellom operasjon og endepunkt(er) (Se også Tjenestekatalogen (Service Inventory) for informasjon om tjenesten og endepunkt):\nArchiveCommon    Basis Operasjon URI/Endepunkt Endepunkt operasjon     ArchiveCommon     GetServiceOwnerArchiveReporteeElementsV2 WS Http https://www.altinn.no/ArchiveExternal/ArchiveCommonAgencyExternal.svc GetServiceOwnerArchiveReporteeElementsV2   GetServiceOwnerArchiveReporteeElementsV2 Basic Http https://www.altinn.no/ArchiveExternal/ArchiveCommonAgencyExternalBasic.svc GetServiceOwnerArchiveReporteeElementsBasicV2   GetServiceOwnerArchiveReporteeElementsV2 EC2 https://www.altinn.no/ArchiveExternal/ArchiveCommonAgencyExternalEC2.svc GetServiceOwnerArchiveReporteeElementsEC   GetServiceOwnerArchiveReporteeElementsV2 EC https://www.altinn.no/ArchiveExternal/ArchiveCommonAgencyExternalEC.svc GetServiceOwnerArchiveReporteeElementsEC   ServiceOwnerArchive     GetArchivedFormTaskV2 WS Http https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternal.svc GetArchivedFormTaskV2   GetArchivedFormTaskV2 Basic Http https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternalBasic.svc GetArchivedFormTaskBasicV2   GetArchivedFormTaskV2 EC2 https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternalEC2.svc GetArchivedFormTaskEC   GetArchivedFormTaskV2 EC https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternalEC.svc GetArchivedFormTaskEC   GetArchivedFormTaskV2 EC2 https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC2.svc GetCaseListAgencySystemEC   GetArchivedFormTaskV2 EC https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC.svc GetCaseListAgencySystemEC   GetAttachmentDataStreamed WS Http https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternalStreamed.svc GetAttachmentDataExternalStreamed   GetAttachmentDataStreamed Basic Http https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternalStreamedBasic.svc GetAttachmentDataStreamedBasic   GetAttachmentDataStreamed EC2 https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternalStreamedEC2.svc GetAttachmentDataStreamedEC   GetAttachmentDataStreamed EC https://www.altinn.no/ArchiveExternal/ServiceOwnerArchiveExternalStreamedEC.svc GetAttachmentDataStreamedEC    Receipt    Basis operasjon URI/Endepunkt Endepunkt operasjon     GetReceiptV2 WS Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternal.svc GetReceiptV2   GetReceiptV2 Basic Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalBasic.svc GetReceiptBasicV2   GetReceiptV2 EC2 https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalEC2.svc GetReceiptECV2   GetReceiptV2 EC https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalEC.svc GetReceiptECV2   GetReceiptListV2 WS Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternal.svc GetReceiptListV2   GetReceiptListV2 Basic Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalBasic.svc GetReceiptListBasicV2   GetReceiptListV2 EC2 https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalEC2.svc GetReceiptListECV2   GetReceiptListV2 EC https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalEC.svc GetReceiptListECV2   UpdateReceipt WS Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternal.svc UpdateReceipt   UpdateReceipt Basic Http https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalBasic.svc UpdateReceiptBasic   UpdateReceipt EC2 https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalEC2.svc UpdateReceiptEC   UpdateReceipt EC https://www.altinn.no/IntermediaryExternal/ReceiptAgencyExternalEC.svc UpdateReceiptEC    CaseAgencySystem    Basis operasjon URI/Endepunkt Endepunkt operasjon     InstantiateCollaborationAgencySystem WS Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternal.svc InstantiateCollaborationAgencySystemExternal   InstantiateCollaborationAgencySystem Basic Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternalBasic.svc InstantiateCollaborationAgencySystemExternalBasic   InstantiateCollaborationAgencySystem EC2 https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC2.svc InstantiateCollaborationAgencySystemEC   InstantiateCollaborationAgencySystem EC https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC.svc InstantiateCollaborationAgencySystemEC   GetCaseListAgencySystem WS Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternal.svc GetCaseListAgencySystemExternal   GetCaseListAgencySystem Basic Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternalBasic.svc GetCaseListAgencySystemExternalBasic   GetCaseListAgencySystem EC2 https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC2.svc GetCaseListAgencySystemEC   GetCaseListAgencySystem EC https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC.svc GetCaseListAgencySystemEC   NotifyEventAgencySystem WS Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternal.svc NotifyEventAgencySystemExternal   NotifyEventAgencySystem Basic Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternalBasic.svc NotifyEventAgencySystemExternalBasic   NotifyEventAgencySystem EC2 https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC2.svc NotifyEventAgencySystemEC   NotifyEventAgencySystem EC https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC.svc NotifyEventAgencySystemEC   SetNoticeAgencySystem WS Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternal.svc SetNoticeAgencySystemExternal   SetNoticeAgencySystem Basic Http https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemExternalBasic.svc SetNoticeAgencySystemExternalBasic   SetNoticeAgencySystem EC2 https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC2.svc SetNoticeAgencySystemEC   SetNoticeAgencySystem EC https://www.altinn.no/ServiceEngineExternal/CaseAgencySystemEC.svc SetNoticeAgencySystemEC    Correspondence    Basis operasjon URI/Endepunkt Endepunkt operasjon     InsertCorrespondenceV2 WS Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternal.svc InsertCorrespondenceV2   InsertCorrespondenceV2 Basic Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalBasic.svc InsertCorrespondenceBasicV2   InsertCorrespondenceV2 EC2 https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalEC2.svc InsertCorrespondenceEC   InsertCorrespondenceV2 EC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalEC.svc InsertCorrespondenceEC   InsertCorrespondenceV2 AEC2 https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalAEC2.svc InsertCorrespondenceAEC   InsertCorrespondenceV2 AEC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalAEC.svc InsertCorrespondenceAEC   CreateSimpleCorrespondenceService WS Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternal.svc CreateSimpleCorrespondenceService   CreateSimpleCorrespondenceService Basic Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalBasic.svc CreateSimpleCorrespondenceServiceBasic   CreateSimpleCorrespondenceService EC Ikke tilgjengelig på dette grensesnittet    CreateSimpleCorrespondenceService AEC Ikke tilgjengelig på dette grensesnittet    GetCorrespondenceStatusDetailsV3 WS Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternal.svc GetCorrespondenceStatusDetailsV3   GetCorrespondenceStatusDetailsV3 Basic Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalBasic.svc GetCorrespondenceStatusDetailsBasicV3   GetCorrespondenceStatusDetailsV3 EC2 https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalEC2.svc GetCorrespondenceStatusDetailsECV3   GetCorrespondenceStatusDetailsV3 EC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalEC.svc GetCorrespondenceStatusDetailsECV3   GetCorrespondenceStatusDetailsV3 AEC2 https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalAEC2.svc GetCorrespondenceStatusDetailsAECV3   GetCorrespondenceStatusDetailsV3 AEC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalAEC.svc GetCorrespondenceStatusDetailsAECV3   GetCorrespondenceStatusHistory WS Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternal.svc GetCorrespondenceStatusHistory   GetCorrespondenceStatusHistory Basic Http https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalBasic.svc GetCorrespondenceStatusHistoryBasic   GetCorrespondenceStatusHistory EC2 https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalEC2.svc GetCorrespondenceStatusHistoryEC   GetCorrespondenceStatusHistory EC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalEC.svc GetCorrespondenceStatusHistoryEC   GetCorrespondenceStatusHistory AEC2 https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalAEC2.svc GetCorrespondenceStatusHistoryAEC   GetCorrespondenceStatusHistory AEC https://www.altinn.no/ServiceEngineExternal/CorrespondenceAgencyExternalAEC.svc GetCorrespondenceStatusHistoryAEC    AltUt    Basis operasjon URI/Endepunkt Endepunkt operasjon     SubmitAltutMessagePw Basic Http https://www.altinn.no/webservicesAgency/AgencydataExchange.asmx?op=SubmitAltutMessagePw SubmitAltutMessagePw    Prefill    Basis operasjon URI/Endepunkt Endepunkt operasjon     SubmitAndInstantiatePrefilledFormTask WS Http https://www.altinn.no/ServiceEngineExternal/Prefill.svc SubmitAndInstantiatePrefilledFormTask   SubmitAndInstantiatePrefilledFormTask Basic Http https://www.altinn.no/ServiceEngineExternal/PrefillBasic.svc SubmitAndInstantiatePrefilledFormTaskBasic   SubmitAndInstantiatePrefilledFormTask EC2 https://www.altinn.no/ServiceEngineExternal/PreFillAgencyExternalEC2.svc SubmitAndInstantiatePrefilledFormTaskEC   SubmitAndInstantiatePrefilledFormTask EC https://www.altinn.no/ServiceEngineExternal/PreFillAgencyExternalEC.svc SubmitAndInstantiatePrefilledFormTaskEC   SubmitPrefilledFormTasks WS Http https://www.altinn.no/ServiceEngineExternal/Prefill.svc SubmitPrefilledFormTasks   SubmitPrefilledFormTasks Basic Http https://www.altinn.no/ServiceEngineExternal/PrefillBasic.svc SubmitPrefilledFormTasksBasic   SubmitPrefilledFormTasks EC2 https://www.altinn.no/ServiceEngineExternal/PreFillAgencyExternalEC2.svc SubmitPrefilledFormTasksEC   SubmitPrefilledFormTasks EC https://www.altinn.no/ServiceEngineExternal/PreFillAgencyExternalEC.svc SubmitPrefilledFormTasksEC    Subscription    Basis operasjon URI/Endepunkt Endepunkt operasjon     SubmitSubscription WS Http https://www.altinn.no/ServiceEngineExternal/Subscription.svc SubmitSubscription   SubmitSubscription Basic Http https://www.altinn.no/ServiceEngineExternal/SubscriptionBasic.svc SubmitSubscriptionBasic   SubmitSubscription EC2 https://www.altinn.no/ServiceEngineExternal/SubscriptionAgencyExternalEC2.svc SubmitSubscriptionEC   SubmitSubscription EC https://www.altinn.no/ServiceEngineExternal/SubscriptionAgencyExternalEC.svc SubmitSubscriptionEC    NotificationAgencyExternal    Basis operasjon URI/Endepunkt Endepunkt operasjon     SendStandaloneNotification WS Http https://www.altinn.no/ServiceEngineExternal/NotificationAgencyExternal.svc SendStandaloneNotification   SendStandaloneNotification Basic Http https://www.altinn.no/ServiceEngineExternal/NotificationAgencyExternalBasic.svc SendStandaloneNotificationBasic   SendStandaloneNotification EC2 https://www.altinn.no/ServiceEngineExternal/NotificationAgencyExternalEC2.svc SendStandaloneNotificationEC   SendStandaloneNotification EC https://www.altinn.no/ServiceEngineExternal/NotificationAgencyExternalEC.svc SendStandaloneNotificationEC    AuthorizationAdministration    Basis operasjon URI/Endepunkt Endepunkt operasjon     ImportAuthorizationPolicy WS Http https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc ImportAuthorizationPolicy   GetReporteeByTempKey WS Http https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc GetReporteeByTempKey   GetReportees WS Http https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc GetReportees   GetRoles WS Http https://www.altinn.no/AuthorizationExternal/AdministrationExternal.svc GetRoles    AuthorizationDecisionPointExternal    Basis operasjon URI/Endepunkt Endepunkt operasjon     AuthorizeAccessExternal WS Http https://www.altinn.no/AuthorizationExternal/AuthorizationDecisionPointExternal.svc AuthorizeAccessExternal    DownloadQueueExternal    Basis operasjon URI/Endepunkt Endepunkt operasjon     GetDownloadQueueItems WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternal.svc GetDownloadQueueItems   GetDownloadQueueItems Basic Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalBasic.svc GetDownloadQueueItems   GetDownloadQueueItems EC2 Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalEC2.svc GetDownloadQueueItems   GetDownloadQueueItems EC Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalEC.svc GetDownloadQueueItems   PurgeItem WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternal.svc PurgeItem   PurgeItem Basic Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalBasic.svc PurgeItem   PurgeItem EC2 Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalEC2.svc PurgeItem   PurgeItem EC Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalEC.svc PurgeItem   GetArchivedFormTask WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternal.svc GetArchivedFormTaskExternalDQ   GetArchivedFormTask Basic Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalBasic.svc GetArchivedFormTaskBasicDQ   GetArchivedFormTask EC2 Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalEC2.svc GetArchivedFormTaskECDQ   GetArchivedFormTask EC Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalEC.svc GetArchivedFormTaskECDQ   GetFormSetPdf WS Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternal.svc GetFormSetPdf   GetFormSetPdf Basic Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalBasic.svc GetFormSetPdfBasic   GetFormSetPdf EC2 Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalEC2.svc GetFormSetPdfEc   GetFormSetPdf EC Http https://www.altinn.no/ArchiveExternal/DownloadQueueExternalEC.svc GetFormSetPdfEc    ContextHandlerExternal    Basis operasjon URI/Endepunkt Endepunkt operasjon     GetReporteeElementContextExternal WS Http https://www.altinn.no/ServiceEngineExternal/ContextHandlerExternal.svc GetReporteeElementContextExternal   GetReporteeElementContextExternal Basic Http https://www.altinn.no/ServiceEngineExternal/ContextHandlerExternalBasic.svc GetReporteeElementContextExternalBasic   GetReporteeElementContextExternal EC2 https://www.altinn.no/ServiceEngineExternal/ContextHandlerEC2.svc GetReporteeElementContextExternalEC   GetReporteeElementContextExternal EC https://www.altinn.no/ServiceEngineExternal/ContextHandlerEC.svc GetReporteeElementContextExternalEC    RegisterSSRAgencyExternal    Basis operasjon URI/Endepunkt Endepunkt operasjon     GetRights WS Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternal.svc GetRights   GetRights Basic Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalBasic.svc GetRightsBasic   GetRights EC2 https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalEC2.svc GetRightsEC   GetRights EC https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalEC.svc GetRightsEC   AddRights WS Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternal.svc AddRights   AddRights Basic Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalBasic.svc AddRightsBasic   AddRights EC2 https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalEC2.svc AddRightsEC   AddRights EC https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalEC.svc AddRightsEC   DeleteRights WS Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternal.svc DeleteRights   DeleteRights Basic Http https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalBasic.svc DeleteRightsBasic   DeleteRights EC2 https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalEC2.svc DeleteRightsEC   DeleteRights EC https://www.altinn.no/RegisterExternal/RegisterSRRAgencyExternalEC.svc DeleteRightsEC    Alle URI er angitt med produksjonsadresse. Frem til produksjonssetting må https://www.altinn.no erstattes med peker til testmiljø.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/",
	"title": "Altinn endringslogg",
	"tags": [],
	"description": "Oversikt over endringer i Altinn",
	"content": "\r2021\rEndringer innført i 2021.\n\r\r2020\rEndringer innført i 2020.\n\r\r2019\rEndringer innført i 2019.\n\r\r2018\rEndringer innført i 2018.\n\r\r2017\rEndringer innført i 2017.\n\r\r2016\rEndringer innført i 2016.\n\r\r2015\rEndringer innført i 2015.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/seres/endringer/",
	"title": "SERES endringslogg",
	"tags": [],
	"description": "Oversikt over endringer i SERES.",
	"content": "\r2019\rEndringer innført i 2019.\n\r\r2020\rEndringer innført i 2020.\n\r\r2021\rEndringer innført i 2021.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/tul/funksjonalitet/",
	"title": "Felles funksjonalitet",
	"tags": [],
	"description": "Felles funksjonalitet i TUL som understøtter tjenesteutvikling på tvers av alle tjenestetyper.",
	"content": "\rKodelister\rEn kodeliste er en liste med faste verdier som for eksempel postnummer og poststed eller kommuner og landkoder.\n\r\rMigrering\rEn utgave av en tjeneste kan migreres til sluttbrukermiljø når tjenesten er tilstrekkelig definert og utviklet.\n\r\rOversetting\rHvis det er behov for å tilby en tjeneste på flere språk så kan oversettermodulen benyttes.\n\r\rRolleadministrasjon\rOversikt over rolleadministrasjon i TUL, med hovedvekt på definisjon av roller med tilhørende rettigheter.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/getting-started/navigation/",
	"title": "Finne fram i Altinn Studio",
	"tags": [],
	"description": "Slik navigerer du mellom de ulike delene av Altinn Studio.",
	"content": "Som bruker av Altinn Studio kan du bruke ulike verktøy, avhengig av kompetanse, preferanser og kompleksiteten på det du skal utvikle. Hvordan du navigerer er ulikt mellom verktøyene.\n\rDesigner\rSlik navigerer du i Altinn Studio Designer.\n\r\rRepos\rSlik navigerer du i Altinn Studio Repos.\n\r\rCode\rSlik navigerer du i Altinn Studio Code.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/sluttbruker/",
	"title": "For sluttbruker",
	"tags": [],
	"description": "Samtykkeløsningen gir sluttbrukere mulighet til å gi samtykke til innsyn i sine data eller data for organisasjoner sluttbruker har rettighet for.",
	"content": "Samtykke kan gis av sluttbruker når denne er i en prosess eller når andre kan bruke hans data i en prosess. Sluttbruker blir i prosessen presentert for samtykkesiden i Altinn hvor han kan velge å gi samtykke.\nEt samtykke skal for sluttbruker være:\n Informert - du har fått informasjon som gjør at du kan forstå hva du samtykker til Frivillig - du skal kunne velge å ikke samtykke Uttrykkelig - du skal gjøre en aktiv handling for å gi samtykke  Sluttbruker vil i Altinn ha oversikt over hvem som har fått samtykke og en aktivitetslogg viser all aktivitet over samtykker som sluttbruker har gitt eller slettet og samtykker som har opphørt på grunn av at gyldig dato er passert.\n\rInnlogging\rHvordan logge inn for å gi samtykke\n\r\rSamtykkesiden\rPresentasjon av samtykkesiden\n\r\rOversikt samtykker\rSluttbruker kan i Altinn gå inn på siden \u0026#34;Profil\u0026#34; for å få oversikt over hvem man har gitt samtykke til.\n\r\rTrekke samtykke\rHvordan trekke et samtykke som er gitt\n\r\rAvtalelogg\rSluttbruker får tilgang til en avtalelogg på sidene for \u0026#34;Profil\u0026#34; som viser hvilke samtykker/fullmakter brukeren har gitt, når de har utløpt, når data har blitt hentet osv. Ved å klikke på \u0026#34;?\u0026#34; ved et gitt samtykke, kan man se hva samtykket/fullmakten gjelder.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/produktstrategier/autorisasjon/fremtiden/autorisasjon_maal/",
	"title": "Fremtidens mål",
	"tags": [],
	"description": "",
	"content": "Altinn Autorisasjon er en av fem produkter som tilbys gjennom Altinn plattformen. Produktstrategien for Altinn Autorisasjon er delt i 3 deler:\n Hva er Altinn Autorisasjon? Hvilke behov skal Altinn Autorisasjon løse? Hvordan ser fremtidens Altinn Autorisasjon ut?  Fremtidens Altinn Autorisasjon Altinn autorisasjon ble opprinnelig laget for å utøve tilgangskontroll til tjenester i Altinn. For å sikre tilgang til privatpersoner og virksomheter ble Folkeregisteret og Enhetsregisteret tatt i bruk som autoritative kilder. Etterhvert har det vist seg å være et stort behov i offentlig forvaltning for å få bruke Altinn som autorisasjons løsning også for tjenester som ikke utvikles i Altinn.\nSom felles autorisasjonsløsning for hele offentlig og privat sektor ønsker Altinn å være et informasjonspunkt hvor eksterne tjenester henter autorisasjonsinformasjon som danner grunnlag for egen tilgangskontroll til tjenestene. Dette krever nye API-tjenester for bedre å tilby sømløs og effektiv samspill mellom ulike applikasjoner. Det krever også at brukergrensesnittet i Altinn-profil (på Altinn.no) tilpasses et mye større antall tjenester enn det som finnes i dag.\nFor å sikre at Altinn autorisasjon og brukere av autorisasjonsløsningen har tilgjengelig og oppdatert autorisasjonsinformasjon til enhver tid skal det etableres en logg for autorisasjonshendelser som tjenestetilbydere kan abonnere på og få tilgang til.\nMed flere aktører som bruker Altinn som autorisasjonsløsning kreves videreutvikling av løsningen for å sikre kapasitet og ytelse for ulike bruksmønster. I tillegg må Altinn tilby en ny løsning hvor det er enkelt for tjenestetilbydere å definere eksterne tjenester som skal tilgangsstyres i Altinn. Denne vil erstatte “lenketjenester” som i dag brukes som autorisasjonstjenester i Altinn. Det kreves også en rikere og mer strukturert beskrivelse av tjenestene. Dette kan løses ved bedre samspill mellom Altinn Autorisasjon og løsningen Felles Datakatalog hvor beskrivelser at data og tjenester knyttes opp mot rettigheter som styrer tilgangen til de samme data og tjenestene.\nBehovene er beskrevet under Fremtidens behov\nAltinn autorisasjon skal ha sanntidstilgang til komplette grunndataregister Oppdatering av Altinn Autorisasjon sin kopi av Enhetsregisteret og det sentrale folkeregisteret (DSF) skjer i dag hovedsakelig batchvis hver natt. Dette gjør at nyregistreringer og endringer får en forsinkelse fra de blir oppdatert i registrene og til endringen er registrert i Altinn. Det er viktig at endringer i Enhetsregisteret som kan påvirke brukeres tilganger til digitale tjenester, blir registrert så raskt som mulig i Altinn for å unngå misbruk og potensiell feilautorisert tilgang til (sensitiv) informasjon. I forbindelse med etableringen av det nye folkeregisteret er det naturlig at Altinn også får sanntidstilgang til folkeregisteret. Spesielt er dette viktig dersom det nye folkeregisteret også vil inneholde informasjon om vergemål, og andre fullmaktsforhold registrert i registeret som kan utnyttes til autorisasjon for digitale tjenester.\nAltinn autorisasjon har i dag ikke mulighet til å utnytte grunndata fra Arbeidsgiver og Ansattregisteret (AA-registeret) til autorisasjon og tilgangskontroll for digitale tjenester. Det er et stort gevinstpotensial i det å kunne utnytte det forhold at en person er ansatt i en bedrift som grunnlag for tilgangskontroll for digitale tjenester. F.eks. vil en ansatt-relasjon være tilstrekkelig til at den ansatte får tilgang til enkelte tjenester. Opplysninger fra AA-registeret om at ansatte har begynt eller sluttet vil også lette tilgangsstyring for virksomhetene betydelig, f.eks. ved at tilgangstyrer får varsel fra Altinn om at medarbeider som er meldt ut av AA-registeret fortsatt har rettigheter på vegne av virksomheten i Altinn.\nI tillegg vil f.eks. opplysninger om arvinger, fullmakter i eHelse fullmaktsdatabase og informasjon fra Advokatregisteret kunne brukes til å lette arbeid med tilgangsstyring for innbygger og virksomheter. Informasjon om arvinger er en forutsetning for å lage tjenester for oppgjør etter dødsfall, fullmakter registrert hos eHelse kan brukes til å styre tilgang hos enkelte kommunale helsetjenester og med kjennskap til hvem som er godkjente advokater kan disse lettere få rettmessig tilgang til tjenester på vegne av sine klienter\nAltinn skal tilby en komplett autorisasjonsløsning som forenkler tilgangsstyring for virksomheter og privatpersoner og sikrer høy tillit Det er flere aspekter ved dagens autorisasjonsløsning som hindrer at ulike bruksscenarier kan utføres i Altinn, og at behovene for autorisasjon, tilgangsstyring og tilgangskontroll ikke er dekket fullt ut.\nMed økt bruk av Altinn som autorisasjonsløsning er det behov for å forenkle brukerdialogen samt tilby rikere tilgangsstyringsfunskjonalitet. Det er behov for å kunne be om en rettighet, samtykke eller fullmakt slik at det blir enklere å få tilgang til de tjenestene man trenger. Det bør også være mulig å gi tilganger med begrenset varighet, f.eks. når noen som trenger en rettighet kun er ansatt på midlertidig basis. I dagens løsning vil alle som har en nøkkelrolle i en virksomhet (f.eks. daglig leder og styrets leder) få tilgang til alle tjenester og meldinger. For å kunne støtte tjenester med taushetsbelagt innhold skal Altinn Autorisasjon tilby tilgangsstyring til denne typen tjenester uten at nøkkelroller nødvendigvis får tilgang til informasjonen i tjenesten.\nØkt bruk av Altinns autorisasjonsløsning krever også bedre oversikter over rettigheter slik at tilgangsstyring blir enklere og mer presist. Det må være lettere å se hvem som kan utføre en gitt tjeneste i kontekst av den tjenesten en bruker er i. Det er også et behov for å kunne se hvem som kan representerer en organisasjon på tvers av dens tilknyttede virksomheter (underenheter). Autorisasjonsloggen som viser historikk i tilgangsstyring bør gjøres søkbar og det må være mulig å finne ut når en rettighet sist ble brukt.\nAltinn API for autorisasjon og tilgangskontroll har på noen områder begrenset funksjonalitet for å kunne dekke et bredt spekter brukerscenarioer i applikasjoner hos offentlige og private virksomheter. Dette oppleves ofte som hinder for å gi best mulig brukeropplevelse hos eksterne tjenester. For at Altinn autorisasjon fullt ut skal dekke behovene må API-ene videreutvikles slik at bruk av funksjonalitet er mest mulig selvbetjent, forståelig og logisk for utviklere, og gir optimal ytelse på den infrastruktur Altinn autorisasjon kjører på.\nTilgangsstyring i kunde- og leverandørforhold I mange tilfeller benytter innbygger eller virksomhet en ekstern leverandør til å utføre tjenester som krever rettigheter til digitale tjenester. Altinn tilbyr i dag en klientadministrasjonsløsning for rettighetsstyring mellom revisor/regnskapsfører og deres kunder. Regnskapsfører- eller revisorfirma får da rettighet på vegne av kunden og kan deretter administrere denne videre til sine ansatte som faktisk utfører oppdraget. Når kundeforholdet opphører vil også alle rettigheter som leverandørens ansatte har fått på vegne av kunden opphøre. Det er stort behov for å kunne lage en tilsvarende klientadministrasjonsløsning for alle mulige kunde- og leverandørforhold. Kunden må slev peke ut sin leverandør og leverandøren kan deretter administrere denne rettigheten til egne ansatte. Når kunden avslutter sitt forhold til leverandør ved å trekke tilbake rettighet så vil også ansatte hos leverandøren miste sine tilganger.\nVidereutvikle samtykkeløsningen Selv om samtykkefunksjonaliteten, slik den er realisert nå, gir grobunn for mange nye tjenesteordninger som kan gi store gevinster og innsparinger, er det fortsatt en minimumsløsning som er implementert. Gevinstpotensialet og nye samhandlingsmønstre kan økes ytterligere ved å videreutvikle samtykkeløsningen.\nDet er et tydelig behov for å gi bruker bedre oversikt hvilke data som finnes og hvilke samtykker som er brukt til å hente hvilke data. Samtykkeløsningen skal tilby sluttbruker oversikt over hva som deles og på hvilket grunnlag. Samtykkeløsningen skal tilby dette basert på en loggføring av samtykke. Dette må sees i sammenheng med den eksterne løsningen Felles Datakatalog, som gir oversikt over de begreper, data og API-er som det offentlige forvalter og som skal kunne gjenbrukes og deles, f.eks. via samtykke.\nAltinn skal være en fullmaktsløsning for innbyggere Det overordnede behovet er å kunne sørge for en digital, sikker og effektiv kommunikasjon og mellom forvaltningen og innbygger som ivaretar nødvendig rettssikkerhet og personvern - både for innbyggere som representerer seg selv og for dem som representeres av andre. F.eks. er arbeidet for verger svært komplisert fordi offentlige tjenester digitaliseres uten at det tilbys en mulighet for disse å opptre på vegne av de som de er verger for.\nFunksjonaliteten som må utvikles for å tilby en fullmaktsløsning for innbyggere er:\n Hjemmelsbasert fullmakt - Tilgjengeliggjøre opplysninger om representasjonsforhold fra autoritative registre til bruk i tjenester som skal være tilgjengelig for representant (fullmaktshaver, eksempelvis verge). I første omgang vergemål, foreldreansvar fra Folkeregisteret og godkjente advokater fra Advokatregisteret) Brukerstyrt fullmakt - La innbygger legge inn egne fullmakter, dvs. muliggjøre at andre utfører tjenester på egne vegne. Integrasjon med andre samtykke- og fullmaktsregistre som f.eks. fullmaktsforhold hos eHelse og NAV, slik Altinn kan være et fullmaktsnav for offentlig og privat sektor Fellesløsningen skal gi mulighet for bruker å få et totalbilde av representasjonsforhold. Tilby en forenklet brukerflate som gjør det enklere å styre tilganger gjennom mobile brukerflater  En fullmaktsløsning for innbyggere skal utvikles basert på eksisterende funksjonalitet i Altinn Autorisasjon.\nAltinn skal samspille godt med ID-porten og Maskinporten ID-porten er den mest brukt løsningen i offentlig sektor for identifisering og autentisering av personer. Altinn har i dag en integrasjon med ID-porten ved hjelp av den aldrende teknologien SAML. I tillegg forvalter Altinn ulike proprietære mekanismer for autentisering av personer på lavere sikkerhetsnivå. Altinn tilbyr også egenutviklede løsninger for autentisering av systemer hos både sluttbrukere og tjenesteeiere.\nID-porten tilbyr i dag tilsvarende tjenester gjennom de åpne standardene OpenID Connect (OIDC) og OAuth 2.0. Disse rammeverkene har svært stor utbredelse over hele verden og er tatt i bruk i både offentlig og privat sektor. Mens ID-porten tilbyr person-autentisering, tilbyr Maskinporten autentisering av systemer eid av virksomheter, samt en OAuth2-basert løsning for API-sikring.\nAltinn ønsker å utvide og styrke samspillet med ID-porten og Maskinporten i alle scenarioer hvor det kreves en autentisert person, virksomhet eller når det er tilstrekkelig å autentisere systemet. Dette er i tråd med ID-portens produktstrategi som tar sikte på å i større grad benytte seg av autorisasjonsdata fra Altinn for å berike tilgangsforespørsler- og svar mellom tredjeparter.\nDe eksisterende proprietære mekanismene i Altinn for autentisering fases ut, til fordel for løsninger basert på ID-porten og Maskinporten. I tillegg til å bruke disse løsningene for å sikre egne API-er, skal det legges til rette for at ID-porten/Maskinporten skal kunne benytte Altinn Autorisasjon i forbindelse med sikring og delegering av tilganger for tredjeparts API-er utenfor Altinn. Tiltak rundt dette som allerede er igangsatt, videreføres og videreutvikles i tett samarbeid med IDporten/Maskinporten.\nOIDC/OAuth2 tilbyr veletablerte, sikre og både bruker- og utviklervennlige mekanismer for sikker identifikasjon av personer og virksomheter, og finkornet deling av tilganger og data. Dette vil betraktelig forenkle utvikling av nye digitale tjenester både på og utenfor Altinn-plattformen for tjenesteleverandører i både offentlig og privat sektor.\nGevinster Den rike og avanserte funksjonaliteten som tilbys for autorisasjon, tilgangsstyring og tilgangskontroll kan benyttes uavhengig av hvilken plattform, løsning eller prosess den offentlige virksomheten tilbyr sine tjenester i, og tilgangene kan basere seg på grunndata i flere ulike registre som Enhetsregisteret, Folkeregisteret og AA-registeret. Tjenestene Altinn Autorisasjon tilbyr er veldokumenterte og benytter standard grensesnitt og protokoller.\nPrivatpersoner, frivillig sektor og næringsliv bruker i dag mye tid på å oppgi den samme informasjonen til det offentlige flere ganger, og i mange sammenhenger er det nødvendig med manuelle registreringer. Dette unngås med forbedrede autorisasjons-, samtykke- og informasjonsutvekslingsløsninger på tvers av offentlige registre.\nVed at brukerne får kun tilganger de skal ha, og fordi dette oppdateres automatisk økes sikkerheten i offentlige tjenester.\nAltinn Autorisasjon vil med sine egenskaper være en premiss for at digitalisering i forvaltningen skal støtte sammenhengende tjenester og livshendelser overfor sluttbrukere. Produktet vil inngå i et felles økosystem for nasjonal digital samhandling og tjenesteutvikling.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/funksjonelle-scenario/",
	"title": "Funksjonelle scenario",
	"tags": [],
	"description": "Altinn tilbyr flere tjenester innenfor flere funksjonelle områder for tjenesteeiere. Her beskrives hvilken funksjonalitet som finnes med referanser til hvilke grensesnitt som benyttes.",
	"content": "Innsendingstjenester Innsendingstjenester utvikles i tjenesteutviklingsløsningen (TUL) i Altinn, og er en definert innsending av spesifikke skjema/skjemasett med eller uten vedlegg. Fylles ut i Altinn portalen eller i integrert sluttbrukersystem, signeres og sendes inn. Påbegynte og innsendte innsendingstjenester kan oppbevares i sluttbrukers meldingsboks i Altinn.\nSvardata sendes tjenesteeier. Tjenesteeier kan også legge skjemaet klart i den enkeltes brukers arbeidsliste og varsle om frister og lignende.\nFor tjenesteeiere omhandler \u0026ldquo;Innsendingstjenester\u0026rdquo; følgende:\n innsending av prefilldata innsending av abonnementsdata mottak av ferdig utfylte innsendinger fra Altinn uthenting av innsendte data fra tjenesteeiers eget arkiv uthenting av kvittering for status på innsending  Innsending av prefilldata Tjenesteeier kan sende inn prefilldata for en tjeneste i Altinn, og dataene benyttes ved preutfylling. Preutfylling innebærer at en gitt tjeneste (skjema/skjemasett) ved aktivisering i Altinn blir forhåndsutfylt med data mottatt fra tjenesteeiere og nasjonale registre. Prefilldata kan sendes i sanntid eller satsvis (batch).\nDet finnes fem typer data ifbm. preutfylling:\n Sende inn preutfylte skjemasett   Tjenesteeier kan sende inn ett eller flere preutfylte skjemasett for en gitt tjeneste versjon, eller rapporteringsplikt for lagring i database. Benyttes når en avgiver eller abonnementsrutine aktiviserer tilknyttet tjeneste i portalen. Skjemasettet kan inneholde identifiserende felter, for å kunne ha forskjellige preutfylte skjemasett ved rapportering flere ganger i året. Se eget punkt nedenfor om Identifiserende felter for mer info. Kan sendes i sanntid eller satsvis. Ved overføring i sanntid overføres en liste av preutfylte skjemasett asynkront, og kvittering returneres. Kvittering for info om status på asynkron innsending kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt ved innsending benyttes som nøkkel.  Identifiserende felter   Verdier som legges på et preutfylt skjemasett, for å gjøre skjemasettet unikt Verdiene kan være \u0026ldquo;hva som helst\u0026rdquo;, men typisk noe som kan knyttes til det preutfylte skjemasettet, f.eks. \u0026ldquo;rapport X\u0026rdquo;, \u0026ldquo;periode Y\u0026rdquo; (2 verdier). Preutfylte skjemasett uten identifiserende felter benyttes ved aktivisering av tjenester i Altinn portal, og/eller sammen med abonnement. Preutfylte skjemasett med identifiserende felter benyttes kun sammen med abonnement.  Direkte aktivisering av ett preutfylt skjemasett   Tjenesteeier kan sende inn ett preutfylt skjemasett som øyeblikkelig blir tilgjengeliggjort i avgivers arbeidsliste i portalen Med eller uten varsel etter tilgjengeliggjøring i arbeidslisten. Det preutfylte skjemasettet kan lagres til database for senere bruk, som beskrevet i punkt 1. Kan kun sendes i sanntid, synkront. Man vil kunne angi om det instansiert og preutfylt skjema skal knyttes til en samhandlingstjeneste ved å angi referansen i den valgfrie parameteren caseId i operasjonen.  Sende inn feltbasert preutfyllingsdata   Tjenesteeier kan sende inn feltnavn og feltverdi for felter som benyttes i skjemaer. Ingen direkte knytning til tjeneste eller skjema, dvs. feltet kan finnes på flere tjenester for samme avgiver. Benyttes når avgiver aktiviserer tjeneste som inneholder feltet i portalen. Kan kun sendes inn satsvis. Kvittering for status på batch-innsending kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt i xml ved innsending benyttes som nøkkel.  Preutfyllingsdata fra nasjonale registre   Data fra nasjonale registre som f.eks. Folkeregistre og Enhetsregisteret sendes inn til Altinn. Register data knyttes til felter når tjeneste opprettes i Tjenesteutviklingsløsningen (TUL). Benyttes når avgiver aktiviserer tjeneste som inneholder feltet  Da det er flere kilder for preutfyllingsdata blir preutfyllingsdataene benyttet i følgende rekkefølge for å hindre uønskede overskrivelser:\n Preutfylt skjemasett.\nHentes fra Altinn databasen dersom det finnes for gitt tjeneste og avgiver. Feltbasert preutfylling.\nFelter som finnes for gitt avgiver og aktivisert skjema hentes fra Altinn databasen. Overskriver evt. Preutfylt skjemasett. Preutfyllingsdata fra nasjonale registre.\nData fra nasjonale registre er feltbasert og overskriver alle andre preutfyllingsdata typer.  For satsvis overføring kan data hentes fra tjenesteeiers system, eller tjenesteeier kan levere data på et definert Altinn område.\nTjenesten må være opprettet i TUL og eksportert til SBL, for at preutfyllingsdata for den gitte tjenesten skal kunne mottas.\nFor flere detaljer rundt kontrakten for SubmitPrefilledFormTasks og SubmitAndInstantiatePrefilledFormTask vennligst se henholdsvis kapittel 9.6.2 og 9.6.1, Tjenestekatalog og WSDL.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     Prefill SubmitPrefilledFormTasks Basic/WS/EC   Prefill SubmitAndInstantiatePrefilledFormTask Basic/WS/EC   Receipt GetReceipt Basic/WS/EC    Batch grensesnitt som inngår i beskrevet funksjonalitet:\n   Batch Operasjon Type     Preutfylling XML FTP/SFTP    Innsending av abonnementsdata Tjenesteeiere kan opprette abonnement på innsendingstjenester som aktiverer og tilgjengeliggjør innsendingstjenesten i den gitte avgivers arbeidsliste. Kan sendes i sanntid eller satsvis (batch).\nVed overføring i sanntid overføres en liste med abonnement, dvs. ett eller flere asynkron overføringer.\nFor satsvis overføring kan data hentes fra tjenesteeiers system, eller tjenesteeier kan levere data på et definert Altinnområde.\nTjenesten må være opprettet i TUL og eksportert til SBL, for at et abonnement for den gitte tjenesten skal kunne mottas.\nMan kan opprettet følgende abonnementstyper:\n Engangsaktivering For en gitt periode/periodisk rapporteringsplikt I et gitt intervall På gitte tidspunkter med gitte frister  Et abonnement kan være tilknyttet identifiserende felter for å kunne koble et abonnement til et bestemt preutfylt skjemasett for den gitte avgiver. Det preutfylte skjemasettet med de samme identifiserende feltene må finnes i Altinn databasen før abonnementet aktiviseres. Se eget punkt om Identifiserende felter for mer info.\nMottatte abonnementsdata lagres til databasen.\nVed innsending av abonnementsdata vil man kunne angi om skjema skal knyttes til en samhandlingstjeneste ved å angi referansen i den valgfrie parameteren CaseId i SubmitSubscription.\nKvittering for info om status på innsending kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt ved innsending via web service/batch grensesnitt (xml) benyttes som nøkkel.\nEn rutinejobb i Altinn vil med jevne mellom gå igjennom abonnementsdatabasen for å finne abonnement/innsendingstjenester som er klare for instansiering, dvs. den vil aktivisere alle abonnement hvor startdato er mindre enn, eller lik, dagens dato. Startdato er satt av tjenesteeier, og neste aktiviseringsdato kalkuleres automatisk av rutinejobben i Altinn ut fra gitte parametre satt av tjenesteeier. Se parameter detaljer i avsnittet SubmitSubscription (web service) (9.7.1) eller Abonnement (batch) (10.3).\nFor flere detaljer rundt kontrakten for SubmitSubscription vennligst se kapittel 9.7.1, Tjenestekatalog og WSDL.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     Subscription Basic/SubmitSubscription/EC Basic/WS/EC   Receipt GetReceipt Basic/WS/EC    Batch grensesnitt som inngår i beskrevet funksjonalitet:\n   Batch Overføringsformat Protokoll     Abonnement XML FTP/SFTP    Motta data for innsendinger Arkiverte innsendinger i Altinn tilgjengeliggjøres til tjenesteeier for henting/overføring. Kan enten sendes i sanntid per innsending, satsvis (batch), eller ved å bruke DownloadQueue.\n For sanntid, dvs. ved bruk av web service, må tjenesteeier etablere dedikert web service angitt av Altinn på egen plattform, og motta innsendinger automatisk etter hvert som de arkiveres. Se eget avsnitt: 9.15 Online overføring til Tjenesteeier. For satsvis overføring kan data leveres til en tjenesteeiers mottakssystem dersom det er etablert, eller tjenesteeier kan hente data på et definert Altinn område. Tjenesteeier kan velge å bruke DownloadQueue web service, som lar tjenesteeiere hente meta-data fra en kø, som så kan brukes til å hente individuelle arkiverte innsendinger.  Tilgjengeliggjøres i standard Altinn format eller transformeres til tjenesteeiers eget mottaksformat.\nKvittering først opprettet ved innsending fra tjenesteeier oppdateres med informasjon om utsending, dvs. livsløpet til innsendingstjenesten dokumenteres. Kvittering kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt ved innsending benyttes som nøkkel.\nInnsendinger for tjenesteutgaver knyttet til DownloadQueue (konfigureres under utgaveparametere i TUL) vil legge til metadata for innsendinger i DownloadQueue. Tjenesteeier kan hente en liste med disse metadata ved å bruke et web service kall, se kapittel for DownloadQueue (9.16) Metadata kan så benyttes til å hente individuelle arkiverte innsendinger med vedlegg. I tillegg er det en tjenesteoperasjon som gir tilgang å hente ned en PDF versjon av et skjemasett. Denne vil støtte PDFA standarden.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet for overføring i sanntid:\n   Tjeneste Operasjon Type      Basic/ReceiveOnlineBatchExternalAttachment Basic   Receipt GetReceipt Basic/WS/EC    Batch grensesnitt som inngår i beskrevet funksjonalitet:\n   Batch Overføringsformat Protokoll     Innsendingstjenester XML FTP/SFTP    Tjenester og tjenesteoperasjoner som inngår i DownloadQueue:\n   Tjeneste Operasjon Type     DownloadQueue GetDownloadQueueItems Basic/WS/EC   DownloadQueue PurgeItem Basic/WS/EC   DownloadQueue GetArchivedFormtaskDQ Basic/WS/EC   DownloadQueue GetFormSetPdf Basic/WS/EC    Status på sending av innsendte element For arkiverte elementer som blir sendt til tjenesteeier i sanntid eller satsvis beskrevet i 8.1.3 kan tjenesteeier hente status på elementer ved bruk av ArchiveShipmentStatus tjenesten. Ved å bruke ArchiveShipmentStatus webtjenesten kan tjenesteeier hente en enkel oversikt over overførsels-status på individuelle elementer eller for lister av elementer sortert på tjeneste.\nTjenester og tjenesteoperasjoner som inngår i ArchiveShipmentStatus:\n   Tjeneste Operasjon Type     ServiceOwnerArchive GetArchiveShipmentStatus Basic/WS/EC    Dekryptering av sensitive felter data i innsendingstjenesten Altinn støtter funksjonalitet for innsending av sensitive tjenester med sensitive felter. Slike skjema kan sendes inn via portalen eller sluttbrukersystemer. For å kunne lese de sensitive feltene tjenester må tjenesteeier benytte sine egne sertifikater for å dekryptere feltene.\nKrypteringen skjer ved at innsender benytter en symmetrisk nøkkel på 128 bit i en AES algoritme for å kryptere det sensitive feltene i skjemaet. Sluttbrukersystemer må selv generere denne nøkkelen og kryptere det sensitive felteneskjemaet, mens dette vil bli håndtere for bruker i portalen.\nFor at bruker senere skal kunne dekryptere feltene fra skjemaet sendes den symmetriske nøkkelen med forsendelsen, men denne er da kryptert ved et selvvalgt brukerpassord på minst 8 tegn. Bruker kan da hente ut data, dekryptere symmetrisk nøkkel ved hjelp av sitt selvvalgte passord, og bruke denne til å dekryptere den sensitive dataen.\nFor at tjenesteeier skal kunne dekryptere feltene må de også ha krypteringsnøkkelen. Den symmetriske nøkkelen må derfor også krypteres med tjenesteeierens offentlige sertifikat ved hjelp av algoritmen RSA, og lagt ved innsendingen. Når tjenesteeier da mottar sensitiv data vil de først bruke sin private nøkkel til å dekryptere krypteringsnøkkelen, deretter bruke denne nøkkelen til å dekryptere de sensitive feltenedata.\nInnsendinger med av sensitive felt tjenester og vedlegg overføres til etat via batch eller via online oppslag til tjenesteeiers arkiv på samme måte som andre innsendinger for tjenester uten sensitiv informasjon.\nTekniske detaljer Den symmetriske nøkkelen som er brukt til å kryptere de sensitive feltene i et skjema som skal dekrypteres hos tjenesteeier gjøres tilgjengelig i skjema ved hjelp av XML-Enc standarden http://www.w3.org/TR/xmlenc-core/. Den krypterte symmetriske nøkkelen ligger pakket sammen med en referanse til sertifikatet som er brukt på følgende form.\n\u0026lt;my:txtFN\u0026gt; \u0026lt;EncryptedData Type=\u0026#34;http://www.w3.org/2001/04/xmlenc#Content\u0026#34; xmlns=\u0026#34;http://www.w3.org/2001/04/xmlenc#\u0026#34;\u0026gt; \u0026lt;EncryptionMethod Algorithm=\u0026#34;http://www.w3.org/2001/04/xmlenc#aes128-cbc\u0026#34; /\u0026gt; \u0026lt;ds:KeyInfo xmlns:ds=\u0026#34;http://www.w3.org/2000/09/xmldsig#\u0026#34;\u0026gt; \u0026lt;EncryptedKey xmlns=\u0026#34;http://www.w3.org/2001/04/xmlenc#\u0026#34;\u0026gt; \u0026lt;EncryptionMethod Algorithm=\u0026#34;http://www.w3.org/2001/04/xmlenc#rsa-1_5\u0026#34; /\u0026gt; \u0026lt;CipherData\u0026gt; \u0026lt;CipherValue\u0026gt;Ahgw/pNo9fcfUtOr8aTceVkFlCsC58HY0VrQUJW1B/AxMOzYsyKhWRorUViQENqSJabEiwfin4zO2qzRuELwGXBFZ4jtkwlJpnAd+6NuCZ/P0ZsxJG5A8XnALmVCBpIcOPaPUa3Q211Bnu3eCHaMmgw9/itX3g3FPZItkwNEfGg=\u0026lt;/CipherValue\u0026gt; \u0026lt;/CipherData\u0026gt; \u0026lt;/EncryptedKey\u0026gt; \u0026lt;ds:KeyName\u0026gt;CD13AEC20C0564C2B5499630BE478654D3ADD64A\u0026lt;/ds:KeyName\u0026gt; \u0026lt;/ds:KeyInfo\u0026gt; \u0026lt;CipherData\u0026gt; \u0026lt;CipherValue\u0026gt;TJ+KuQDc2ccduVlCIaM9sw==\u0026lt;/CipherValue\u0026gt; \u0026lt;/CipherData\u0026gt; \u0026lt;/EncryptedData\u0026gt; \u0026lt;/my:txtFN\u0026gt; I dette eksempelet er my:txtFN feltet i skjema som inneholder sensitive data. I slike felt vil man finne et EncryptedData element som inneholder følgende 3 viktige elementer\n Symmetrisk nøkkel kryptert med sertifikat. (EncryptedData/KeyInfo/EncryptedKey/Cipherdata) Referanse til sertifikat brukt for å kryptere symmetrisk nøkkel. Dette er en thumbprint av sertifikat for tjenesteier. Den brukes internt hos tjenesteeier til å gjøre oppslag i keystore for å få tak i privat nøkkel og dermed kunne dekryptere den symmetriske nøkkelen. (EncryptedData/KeyInfo/KeyName) Skjemadata kryptert med symmetrisk nøkkel. (EncryptedData/CipherData/CipherValue)  Skjemadata er kryptert ved hjelp av den symmetriske AES algorithmen med en blocksize på 128 bit, ciphermode CBC (Cipher-block chaining, http://en.wikipedia.org/wiki/Block_cipher_modes_of_operation og padding er PKCS7.\nDen symmetriske nøkkelen er kryptert med RSA algoritmen, ECB mode og PKCS1 padding.\nFor tjenester som har krypterte vedlegg og krypterte skjemaer benyttes nøkkelinformasjonen som ligger i GetArchivedFormTaskBasicV2Result eller i data fra fil\n\u0026lt;SOEncryptedSymmetricdKey\u0026gt; \u0026lt;EncryptedKey\u0026gt;u7CPRJ/ZtOoFPU4tkSqBDLW6e0V1Mr92C0oTC7bWztYuCvgl0+R2DUW/8iSSaH3+Wl1vnWTRSnuEDiKBVenfEjQ5j89WHvbA0QO1cMzIpYl53EDBt1tvoVHaJYq+4KJIo2DGNYNHyb2iFIgn39BYo4KpNLW1Yk2k8MegCgnajMnSICSuYuy5sGuBkvytottC0h2KKR7PAZtuuzJ4PRnby2AAMNmSB8VusNctDen/d8nF1Sh1DRcP9pArBvsxEH2A7SwiKS+dRC/J2QK7iM1I6Tphkalsyjmgn03LkJMm/8X9ufp+fN6n8Czg+BsZ1+rw2DD7vgTDGMyn+41gqZW1qg==\u0026lt;/EncryptedKey\u0026gt; \u0026lt;CertificateThumbprint\u0026gt;5D15D6E888632370E0223B779C4E0F0D9D45DED0\u0026lt;/CertificateThumbprint\u0026gt; \u0026lt;/SOEncryptedSymmetricdKey\u0026gt; Se kapittel 14 for kodeeksempler.\nFormDataXml er kryptert ved hjelp av den symmetriske AES algorithmen med en blocksize på 128 bit, ciphermode CBC (Cipher-block chaining, http://en.wikipedia.org/wiki/Block_cipher_modes_of_operation og padding er ISO10126.\nMeldingstjenester Tjenesteeiere kan sende informasjon i form av meldinger til brukere av Altinn, og meldingene støtter HTML og vedlegg. Brukere kan varsles med e-post eller SMS om at informasjon er gjort tilgjengelig, for innsyn eller behandling. Tjenesteeiere får informasjon om hvilke utsendte meldinger som er åpnet, og kan eventuelt kreve at brukeren bekrefter mottaket innen en fastsatt frist. Tjenesteeier kan enkelt sjekke status for innsendte meldinger på en meldingstjeneste ved å benytte eget web service kall med et sett av søkeparametere.\nMeldingene kan oppbevares i sluttbrukers meldingsboks i Altinn i en fastsatt periode, eventuelt slettes av brukeren. Bruker kan også arkivere meldingene til sitt arkiv. Om meldingen krever bekreftelse må dette gjøres før meldingen eventuelt kan arkiveres.\nMeldinger kan også eventuelt sendes til \u0026ldquo;Digital postkasse til innbygger\u0026rdquo; hvis brukeren har registrert en slik postkasse i Kontakt- og reservasjonsregisteret. (Dette gjelder kun personer, ikke organisasjoner.) Digitale brev kan opprettes istedenfor eller i tillegg til en melding i Altinn.\nI sammenheng med opprettelse av digitale brev er det også mulig å bestille varsel fra DPI løsningen. DPI varsel vil bli sendt ut av postkasse leverandøren. Meldingsvarsel og DPI varsel er helt separate og bestilles hver for seg. For varsel fra DPI følger grensesnittet til Altinn i stor grad definisjonene til difi.\nhttp://begrep.difi.no/SikkerDigitalPost/1.2.0/begrep/Varsler\nSende inn meldingstjenester Tjenesteeiere kan sende en melding til en gitt person eller bedrift som tilgjengeliggjøres for lesing/henting via Altinn. Kan enten sendes i sanntid per innsending, eller satsvis (batch).\nMelding kan være:\n Ren tekst. HTML basert (formatert visning i nettleser). XML basert med referanse til tilhørende visningsskjema. (Skjema må defineres på tjenesten i TUL.) PDF. Dette gjelder kun sikker digital post. (Altinn vil selv behandle det som vedlegg.) Kombinasjon av alle over.  Annet:\n Brukere kan reservere seg mot å motta digital korrespondence gjennom kanaler som Altinn og digital postkasse. Tjenesteeiere kan velge å respektere eller ignorere slike reservasjoner. Se IsReservable. Inneholde binære vedlegg (for nedlasting), valgfri parameter DestinationType vil kunne begrense om vedleggene er tilgjengelig i portal eller sluttbrukersystem, eller begge. Om ikke sendt inn blir den satt til standard verdi ShowToAll. Ved videresending til \u0026ldquo;Digital postkasse til innbygger\u0026rdquo; er det obligatorisk med minst ett vedlegg. Dette vil da benyttes som hoveddokument i det som sendes til brukerens digitale postkasse. Varsles til en eller flere brukere på forskjellige kommunikasjonskanaler:  SMS E-post   Tilknyttet en eksisterende samhandlingstjeneste ved å benytte valgfri caseID parameter. Om meldingstjenesten ikke tilhører den angitte samhandlingstjenesten eller denne ikke eksisterer vil operasjonen avbrytes. Mulig å videresende meldingen til en e-post adresse om angitt i valgfri parameter AllowForwarding. Er denne satt til true vil bruker kunne sende meldingen videre som en e-post fra portalen. Om ikke satt settes den til standardverdi som er True. En melding kan kobles til innsending ved å oppgi ArchiveReference. Dette vil da oppfattes som et svar på en innsending. Det er også mulig å gi instrukser for hvordan en bruker kan svare på en melding.  I form av en enkel link brukeren kan åpne: I form av et skjema som bruker må sende inn. I form av en kopi av eksisterende innsending. Brukeren korrigerer og sender inn.    Digital postkasse til innbygger: Løsningen for «Digital postkasse til innbygger» har ikke støtte for all funksjonalitet som finnes i Altinn. Funksjoner som ikke blir brukt hvis det ikke opprettes noen melding i Altinn:\n Opprettelse av kobling mellom melding og en innsending. (Tjenesteeier svar på innsending) Svar på melding. (Sluttbruker svar på melding fra tjenesteeier.) Knyttning mot samhandlingstjenester. Varsel for h.h.v melding og digitalt brev styres med ulike innstillinger.  Ved overføring i sanntid sendes en og en melding av gangen. Synkron overføring.\nFor satsvis overføring kan data hentes fra tjenesteeiers system, eller tjenesteeier kan levere data på et definert Altinn område.\nTjenesten må være opprettet i TUL og eksportert til SBL, for at meldingene skal vises for sluttbrukerne/sluttbrukersystemer.\nKvittering for info om status på innsending kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt ved innsending via web service/batch grensesnitt (xml) benyttes som nøkkel.\nFor flere detaljer rundt kontrakten for InsertCorrespondenceV2 vennligst se kapittel 9.4.1, Tjenestekatalog og WSDL.\nDet tilbys støtte for gammelt AltUt format for eksisterende tjenesteeiere i Altinn.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     Correspondence InsertCorrespondenceV2 Basic/WS/EC   AltUt SubmitAltutMessagePw Basic   Receipt GetReceiptV2 Basic/WS/EC    Batch grensesnitt som inngår i beskrevet funksjonalitet:\n   Batch Overføringsformat Protokoll     Correspondence format XML FTP/SFTP   AltUt Format XML FTP/SFTP    Motta meldingsbekreftelse En meldingstjeneste kan defineres med at tjenesteeier ønsker:\n Åpne bekreftelse Lese bekreftelse  Meldingsbekreftelser tilgjengeliggjøres for overføring / henting:\n Tilgjengeliggjøres i \u0026ldquo;sanntid\u0026rdquo; per innsending Samles opp og tilgjengeliggjøres på gitte intervall eller spesifikt tidspunkt (batch)  Data kan leveres til en tjenesteeiers mottakssystem dersom det er etablert, eller tjenesteeier kan hente data på et definert Altinn område.\nTilgjengeliggjøres i standard Altinn format eller transformeres til tjenesteeiers eget mottaksformat.\nKvittering først opprettet ved innsending fra tjenesteeier oppdateres med informasjon om utsending, dvs. livsløpet til meldingstjenesten dokumenteres. Kvittering kan hentes ut vha. web service kall, se avsnitt Receipt (9.3). Referanse angitt ved innsending benyttes som nøkkel.\nTilbyr støtte for gammelt AltUt format for eksisterende tjenesteeiere i Altinn.\nBatch grensesnitt som inngår i beskrevet funksjonalitet:\n   Batch Overføringsformat Protokoll     CorrespondenceConfirmations XML FTP/SFTP   AltUtConfirmationBatch XML FTP/SFTP    Det tilbys også egen funksjonalitet for rapportering av en samlet meldingstjeneste hvor tjenesteeier vil motta informasjon om status for alle brukere etter et gitt antall dager definert for tjenesten i TUL. Status for hver bruker her vil kunne være ikke lest, lest, og bekreftet. Data leveres til tjenesteeiers mottakssystem dersom det er etablert.\n   Batch Overføringsformat Protokoll     CorrespondenceUsageData XML FTP/SFTP    Sjekke status på meldingstjenester Tjenesteeier kan enkelt sjekke status på meldinger de har sendt inn på en tjeneste ved å benytte egen web service for dette. Resultatsettet fra tjenesten vil være avhengig av søkeparameterne som tjenesteeier sender inn. Tjenestekode (ServiceCode) og tjenesteutgavekode (ServiceEditionCode) er pålagte parametere i spørringen, mens det videre kan filtreres ved å sende inn SendersReference, avgiver (Reportee), til og fra dato (CreatedAfterDate og CreatedBeforeDate), konkrete meldingsstatuser (CurrentStatus), samt hvorvidt det har blitt sendt varsel (NotificationSent).\nFor hver enkelt melding som passer til søkekriteriene tjenesteeier angir vil man få returnert følgende informasjon:\n ID for meldingen Når meldingen ble opprettet Avgiver meldingen tilhører Avsenders referanse (satt av tjenesteeier) Liste over statusendringer med tidspunkt Liste med varsler knyttet til meldingen, inkludert mottaker, tidspunkt for når varselet er sendt (om sendt) og varselskanal.  Statussjekk operasjonen kan også returnere status på det som er blitt forsøkt videresendt til Digital postkasse til innbygger. Statusinformasjon for post som er videresendt inneholder:\n ID for sikkert brev slik det er registrert i Altinn Unik ID for brevet slik det fremkommer i sikker digital post systemet. Når brevet ble opprettet Når status for brevet ble sist endret Avgiver brevet tilhører Avsenders referanse List med alle statusene brevet har hatt.  I tillegg til denne informasjonen returneres også tjenestekode og tjenesteversjonskode tilbake, samt en parameteren som angir om en grense for antall returmeldinger er nådd (LimitReached). Er grensen nådd må tjenesteeier spisse søket sitt, f.eks. ved å begrense tidsrommet, for å få hentet ut status for alle meldingene.\nFor flere detaljer rundt kontrakten for GetCorrespondenceStatusDetails vennligst se kapittel 9.4.5.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     Correspondence GetCorrespondenceStatusDetails Basic/WS/EC    Lenketjeneste Formålet med en lenketjeneste er å overføre en bruker i Altinn til en annen nettside og er derfor alltid assosiert med en URL. Lenketjenester blir ikke instansiert i Altinn og er derfor ikke å finne i min meldingsboks i Altinn. For å kunne identifisere hvilken avgiver brukeren valgte å starte tjenesten med, sendes det med en nøkkel som den eksterne tjenesteportalen kan benytte for å spørre Altinn om informasjon om valgt avgiver. Det er også mulig å etterspørre informasjon om hvilke avgivere en bruker kan representere ved å benytte web service metoden GetReportees.\nLenketjenester defineres i TUL som de andre tjenestetypene slik at man kan sette autentiseringsnivå og autorisasjonsregler for start av tjenesten. Ekstern portal må verifisere at bruker faktisk skal ha tilgang til tjenestene portalen tilbyr, ved å benytte seg av Altinns XACML grensesnitt for ekstern autorisasjon.\nFor flere detaljer rundt kontrakten for GetReporteeByTempKey og GetReportees vennligst se henholdsvis kapittel 9.8.4 og 9.8.3. For mer informasjon om ekstern autorisasjon se kapittel 8.9.2 og 9.9.1.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     AuthorizationAdministration GetReporteeByTempKey WS/EC   AuthorizationAdministration GetReportees WS/EC   AuthorizationDecisionPointExternal AuthorizeAccessExternal WS    Formidlingstjenester Formidlingstjenester handler om å transportere data fra en eller flere avgivere til en eller flere mottakere, hvor Altinn fungerer som mellommann som sørger for transport og infrastruktur. Altinn er sådan en passiv part i prosessen, og både avsender og mottaker må benytte grensesnitt tilgjengeliggjort av Altinn.\nInnholdet i en formidlingstjeneste er data som er bestemt mellom aktørene som inngår i en formidlingstjeneste, og er ikke kjent av Altinn.\nFormidlingstjenesten overføres fra avsender til mottaker, og tjenesteeiere benytter derfor ikke egne grensesnitt kun for tjenesteeiere for formidlingstjenesten, men benytter i stedet de samme grensesnitt som er tilgjengelig for alle brukere av Altinn. Se derfor Implementasjonsguide for sluttbrukersystemer for mer informasjon om hvordan disse grensesnittene skal benyttes.\nTransport av data i en formidlingstjeneste kan gå via web service og SFTP kanal, både for opp- og nedlasting. Ved bruk av web service vil det være en funksjonell begrensning i størrelsen på filer som kan lastes opp og ned, satt til 1GB, mens grensen for SFTP-kanalen vil ligge på i underkant av 2GB.\nData som skal overføres over SFTP kanalen pakkes i en ZIP-fil med to forhåndsdefinerte Altinn XML filer for å definere metadata (manifest.xml) og mottakere (recipients.xml). Ved bruk av web service sendes først metadata og mottaker liste, før selve dataen overføres i en egen operasjon. Utover dette kan ZIP-filen i prinsippet inneholde hva som helst av data som må overføres til en eller flere aktører. Utover viruskontroll gjør ikke Altinn noen form for validering eller prosessering av denne dataen som forsendes, men sørger for at oppgitt metadata og mottakerinformasjon er korrekt og validerer, samt holder orden på kvitteringer og sporingsinformasjon om forsendelsen.\nFormidlingstjenester er tenkt brukt primært for formidlinger:\n B2B (Business-to-Business), B2G (Business-to-Government), G2B (Government-to-Business), eller G2G(Government-To-Government)  Når en avsender laster opp en formidlingstjeneste vil Altinn verifisere metadata og mottakere. Når dette er gjort vil forsendelsen gjøres tilgjengelig for mottakere for nedlasting. Samtidig vil Altinn opprette en kvitteringshierarki med en hovedkvittering tilhørende avsender, samt en underkvittering per mottaker. Hver underkvittering vil inneholde status på nedlastingen for denne mottakeren. Alle kvitteringer vil være knyttet til referanse satt av avsender. Avsender og mottaker kan også utveksle ytterligere statustekst på disse kvitteringene gjennom web service. På denne måten kan avsender følge opp status for hver enkelt mottaker.\nTiden en formidlingstjeneste vil være tilgjengelig for nedlasting i Altinn vil kunne variere fra tjeneste til tjeneste og styres av tjenesteeier. Dette betyr at filene etter en viss tidsperiode vil bli slettet selv om filene ikke er lastet ned av en eller flere av mottakerne.\nFormidlingstjenesten kan av tjenesteeier også settes opp til å benytte seg av et tjenesteeierstyrt rettighetsregister. Dette registeret kan begrense hvem som har tilgang til opp- og nedlasting av spesifikke tjenester, og styres av tjenesteeier. Se kapittel 8.12 for mer informasjon om dette registeret og hvordan dette styres. For formidlingstjenesten er det tjenesteeierstyrte rettighetsregisteret definert med følgende grunnleggende regler:\n For å kunne laste opp en formidlingstjeneste må avsender inneha «write»-rettigheten for formidlingstjenesten. For å kunne laste ned en formidlingstjeneste må mottaker inneha «read»-rettigheten for formidlingstjenesten.  I enkelte brukstilfeller er det i tillegg ønskelig at mottaker også skal kunne sende informasjon tilbake til avsender. For å unngå at alle mottaker da også får «write»-rettigheten, og på den måten kan sende til andre mottakere, benyttes feltet «condition» (betingelse) i det tjenesteeierstyrte rettighetsregisteret. For å støtte brukstilfellet har man derfor også følgende regler:\n  En mottaker som kun skal kunne sende tilbake til en avsender av tjenesten må ha rettigheten «write», men da med «condition» satt til verdien «recipient». Denne betingelsen benyttes så i Altinn til å validere mottakerlisten, og kun brukere som har rettigheten «read» med «condition» satt til «sender» vil være godkjente mottakere. Dette er vist med Org D i figuren under som kun kan sende til Org A.\n  Merk her at avsender med rettigheten «write» uten «condition» kan sende til en mottaker med rettighet «read» med «condition» satt til «sender». Dette er vist med Org B i figuren under som kan sende til samtlige andre mottakere.\n  Ved bruk av tjenestene som tilbys av tjenesteeierstyrt rettighetsregister (9.17) kan det bemerkes at parameteren «Party» ikke benyttes for formidlingstjenesten.\nSe også Vedlegg C: Flytdiagram for formidlingstjeneste for overordnet flyt ved bruk av formidlingstjeneste mellom avsender og mottaker.\nInnsynstjenester Når en tjenesteeier ønsker å tilgjengeliggjøre et register for oppslag for brukere, men uten å ha tilgjengelig presentasjon for dette så kan det realiseres ved hjelp av en innsynstjeneste i Altinn. Konseptuelt kan man se en innsynstjeneste som en kombinasjon av en innsendingstjeneste og en meldingstjeneste der hvor det ikke foregår noen behandling av den innsendte informasjonen.\nEn innsynstjeneste bygger på en Web Service eksponert fra tjenesteeierens side og kan benyttes av både portalbrukere og sluttbrukersystemer via Altinn som et mellomledd.\nInnsynstjenester kan i TUL settes opp slik at tjenesteeier kan motta informasjon om brukere som har aktivert en innsynstjeneste. For dette kreves det at et forsendelsesoppsett settes opp i Altinn mot tjenesteeieren (ShipmentDefinition). Denne vil angi metode og overordnet mal (ShipmentOutboundTemplate) forsendelsen skal sendes på. Hver forsendelse består av den definerte malen, samt en eller flere forsendelses-deler som hver representerer en åpnet innsynstjeneste. En forsendelses-del følger et gitt format:\nInnsynstjeneste forsendelses-del (LookupServiceUseConfirmation)\n\u0026lt;LookupServiceUseConfirmation\u0026gt; \u0026lt;ServiceCode\u0026gt; \u0026lt;!--Angir innsynstjenestens tjeneste kode--\u0026gt; \u0026lt;/ServiceCode\u0026gt; \u0026lt;ServiceEdition\u0026gt; \u0026lt;!--Angir innsynstjenestens tjeneste versjon kode--\u0026gt; \u0026lt;/ServiceEdition\u0026gt; \u0026lt;ReporteeNumber\u0026gt; \u0026lt;!--Angir aktuell avgiver som aktiverer innsynstjenesten, fødselsnummer eller organisasjonsnummer--\u0026gt; \u0026lt;/ReporteeNumber\u0026gt; \u0026lt;ReadDateTime\u0026gt; \u0026lt;!--Angir dato og tid når innsynstjenesten ble aktivert--\u0026gt; \u0026lt;/ReadDateTime\u0026gt; \u0026lt;/LookupServiceUseConfirmation\u0026gt; For mer informasjon om hvordan en innsendingstjeneste tilgjengeliggjøres i portal og for sluttbrukersystemer, se TR435 Brukerdokumentasjon for tjenesteutvikling.\nSamhandlingstjenester En samhandlingstjeneste er ikke som andre tjenestetyper i Altinn da oppgaven til denne er å sette sammen flere andre tjenestetyper til én logisk prosess for brukeren. Dette er uavhengig av om de underliggende tjenestetypene er rettet mot én eller flere tjenesteeiere.\nEt eksempel på en samhandlingstjeneste kan være Skattedialog. Her kan man ha flere underliggende innsendingstjenester, meldingstjenester og innsynstjenester ovenfor Skatteetaten som knyttes sammen til én logisk forretningsprosess. Et annet eksempel vil kunne være Navnedialog. En samhandlingstjeneste som kan knytte sammen innsendingstjenester og meldingstjenester mot flere tjenesteeiere.\nSamhandlingstjenester kan være definert av sluttbrukere (brukerdefinert samhandlingstjeneste – en samleside) eller av tjenesteeiere (tjenesteeierdefinert samhandlingstjeneste – en e-dialog). Den brukerdefinerte samhandlingstjenesten er predefinert i TUL av en tjenesteutvikler. Denne kan instansieres og til en viss grad tilpasses av sluttbruker i SBL. Tjenesteeiere definerer i sin helhet egne samhandlingstjenester ved hjelp av TUL. Disse blir deretter migrert til SBL i likhet med andre tjenestetyper. I integrasjonssammenheng er det de tjenesteeierdefinert samhandlingstjenestene som er interessante.\nEn instans av en samhandlingstjeneste har en unik Case ID tilknyttet – en saks id. Når det da refereres til en instans av en samhandlingstjeneste, beskrives det ved bruk av Case ID.\nFølgende illustrerer mulighetsrommet for Samhandlingstjenester og en typisk kronologisk rekkefølge:\nTUL:\n Definisjon av Altinn-tjenester med tjenestetype “Samhandlingstjeneste\u0026quot;. Definisjon av tjenestesammensetning. Tjenester som kan velges til å inngå i en samhandlingstjeneste må være av typen innsynstjeneste, meldingstjeneste eller innsendingstjeneste. Definisjon av gjenbruk av data mellom deltakende tjenester i samhandlingstjenesten. Produsent og konsument av data settes opp. Merk at kun innsendingstjenester kan settes opp som konsument. Definisjon av en tilstandsmaskin som identifiserer forretningsprosessen som et logisk sett av tilstander sammen med tilhørende presentasjon i form av dialogsider (se punkt 5). Definisjon av hendelser som kan medføre en tilstandsovergang for samhandlingstjenesten. Betingelser kan knyttes til hendelsene slik at de må oppfylles før en tilstandsovergang kan skje. Hendelsene er typisk knyttet til stadier for de underliggende tjenestene som inngår i samhandlingstjenesten. Hendelser deles inn i forhåndsdefinerte og skreddersydde hendelser. De forhåndsdefinerte hendelse trigges automatisk i Altinn og består av følgende:     Hendelses Navn Tjenestetype Portal Sluttbrukersystem Etatssystem     Instantiated Innsendingstjeneste, Innsynstjeneste ✅ ✅    Instantiated Innsendingstjeneste, Meldingstjeneste   ✅   Submitted Innsendingstjeneste ✅ ✅    Archived Alle ✅ ✅    Opened Meldingstjeneste, Innsynstjeneste ✅ ✅    Confirmed Meldingstjeneste ✅ ✅     Tabellen viser de forhåndsdefinerte hendelsene, hvilken tjenestetype de er relatert til, samt om de trigges fra portal, sluttbrukersystem eller etatssystem. For eksempel kan etatssystem instansiere innsendingstjenester eller meldingstjenester, og dermed kun trigge hendelsen Instantiated for disse. Skreddersydde hendelser er hendelser definert av etat. Navn på disse hendelsene må defineres inn i tilstandsmaskinen (se punkt 3). Etaten kan kalle web service med hendelsen, både de forhåndsdefinerte og de skreddersydde, for å trigge en tilstandsovergang (se 8.6.1.6).\nOpplasting av grafikkfiler til bruk i forhåndsdefinert dialogkomponent Definisjon av dialogsider for samhandlingstjenesten basert på et sett av 6 forhåndsdefinerte maler og 10 forhåndsdefinerte dialogkomponenter. Definisjon av merknadsmaler for samhandlingstjenesten. Etaten kan ved bruk av et eksternt grensesnitt (se 8.6.1.5) sette predefinert merknad på samhandlingstjenesten eller tilhørende underliggende tjenester. Oversettelse til flere språk (engelsk, bokmål og nynorsk) for språkstøttet tekst i samhandlingstjenesten. Migrering av samhandlingstjeneste til SBL. Alle underliggende tjenesteutgaver som inngår i samhandlingstjenesten må være migrert før selve samhandlingstjenesten kan migreres.  For mer informasjon om oppsett av en samhandlingstjeneste i TUL, vennligst se Brukerveiledning for TUL.\nSBL:\n Opprettelse av en sak (instansiering av en spesifikk utgave og versjon av samhandlingstjenesten definert i TUL og migrert til SBL) Presentasjon av en sak til sluttbrukeren i et arbeidsområde i SBL, modellert for å gi støtte i prosessen relatert til samhandlingstjenesten med enkel tilgang til de underliggende tjenestene. Muliggjøre for sluttbruker og sluttbrukersystemer å interagere med de underliggende tjenestene gjennom henholdsvis dialogsidene for samhandlingstjenesten eller ved hjelp av de eksterne grensesnittene. Starte en tjeneste fra tjenestekatalogen som inngår som underliggende tjeneste til en samhandlingstjeneste, og deretter bli presentert med valget om man i stedet skal starte en ny eller åpne en eksisterende samhandlingstjeneste. Forårsake tilstandsoverganger som følge av de definerte hendelsene for tilstandsmaskinen. Muliggjøre at tjenesteeierssystemer kan sende merknader til saken og underliggende forekomster av tjenesteutgavene som inngår i sakens samhandlingstjeneste. Muliggjøre at tjenesteeierssystemer kan sende hendelser til den bestemte saken, eller til alle saker for en bestemt utgave og versjon av samhandlingstjenesten, gjennom eksternt grensesnitt.  Merk at en arkivert samhandlingstjeneste ikke vil være tilgjengelig i tjenesteeiers arkiv, kun i brukers arkiv.\nTjenester i forhold til bruk av samhandlingstjenester Nedenfor beskrives funksjonalitet for samhandlingstjenester som kan benyttes av tjenesteeiere.\nInstansier en samhandlingstjeneste I de tilfellene en tjenesteeier ønsker å instansiere en samhandlingstjeneste (typisk knyttet til abonnementsinstanseriering) så kan en velge å instansiere en samhandlingstjeneste for en bruker/kunde.\n   Tjeneste Operasjon Type     CaseAgencySystem InstantiateCollaborationAgencySystem Basic/WS/EC    Samtlige parametere i operasjonen unntatt visibleDateTime og dueDate må sendes inn for å få opprette en sak. visibleDateTime kan benyttes for å sette når samhandlingstjenesten vil være synlig for brukeren frem i tid, om denne ikke angis vil tjenesten være synlig umiddelbart.\nFunksjonelt vil InstantiateCollaborationAgencySystem returnere en referanse til instansen som ble opprettet, caseID. Denne caseID må benyttes av tjenesteeieren på andre tjenester som ønsker å kommunisere med den opprettede instansen. Skulle en time-out oppstå vil ikke samhandlingstjenesten instansieres siden tjenesten er transaksjonshåndtert.\nFor flere detaljer rundt kontrakten vennligst se kapittel 9.10.1, Tjenestekatalog og WSDL.\nHente ut kjørende instanser av samhandlingstjenester Hvis en tjenesteeier har valgt å ikke lagre case ID fra et tidligere grensesnitt (mottatt innsendingstjeneste eller instansiert samhandlingstjeneste) og mottar oppgaver på papir, så kan den utføre oppslag mot Altinn for å finne eventuelle saker (samhandlingstjenesteinstanser). Andre tilfeller der dette kan være aktuelt er hvis en annen tjenesteeier, eller brukeren selv, har instansiert samhandlingstjenesten.\n   Tjeneste Operasjon Type     CaseAgencySystem GetCaseListAgencySystem Basic/WS/EC    GetCaseListAgencySystem kan brukes til to formål:\n Hente ut caseID, tilstand og merknad for kjørende instanser av samhandlingstjenester for bestemt fødselsnummer/organisasjonsnummer (reporteeNumber), tjeneste (externalServiceCode) og tjenesteutgave (externalServiceEditionCode). Hente ut caseID, tilstand og merknad for kjørende instanser av bestemt type samhandlingstjeneste basert på tjeneste (externalServiceCode) og tjenesteutgave (externalServiceEditionCode). Hente ut tilstand og merknad for bestemt sak basert på fødselsnummer/organisasjonsnummer (reporteeNumber) og CaseID (caseID) For punkt 1 og 2 må parametrene externalServiceCode og externalServiceEditionCode angis, mens parameter caseID må benyttes for punkt 3. Om parameter languageID ikke angis, eller forespurt språk ikke støttes vil språkavhengige returverdier returneres på tjenestens satte standardspråk. Alle andre parametere er obligatoriske og må angis.  Operasjonen returnerer informasjon om samhandlingstjenestens unike identifikator, CaseID, navnet på tjenesten, CaseName, og eventuelt om det er satt noen merknader på samhandlingstjenesten ved å returnere den unike identifikatoren, NoticeTemplateID. I tillegg returneres det informasjon om samhandlingstjenestens tilstand i form av visningsvennlig navn basert på språkparameter, CurrentStateFriendlyName, unik identifikator for tilstanden, CurrentStateID, og tilstandens navn, CurrentStateName. Alle disse er definert for tjenesten i TUL.\nCaseID vil kunne benyttes i andre operasjoner mot Altinn, enten alene som for eksempel ved å instansiere en innsendingstjeneste som skal knyttes til samhandlingstjenesten via operasjonen SubmitAndInstantiatePrefilledFormTask (se 8.1.1 og 9.6.1), eller sammen med informasjon om tilstand til å registrere en hendelse for samhandlingstjenesten via operasjonen NotifyEventAgencySystem (se 8.6.1.6 og 9.10.3).\nVennligst observer at hvis en bruker har instansiert flere forekomster av samme samhandlingstjeneste så vil ikke bare én forekomst returneres og derfor må tjenesteeieren basert på tilstand og merknad kunne identifisere den riktige instansen. Rent teknisk kan også tjenesteeiere ha opprettet flere instanser av samme tjenesteutgave om ønskelig. For flere detaljer rundt kontrakten vennligst se kapittel 9.10.2, Tjenestekatalog og WSDL.\nKnytte innsendingstjeneste til sak En tjenesteeier kan forhåndsinstansiere en innsendingstjeneste for en bruker og samtidig knyttet denne til en løpende sak. Dette gjøres ved å sende med den valgfrie parameteren Case ID i operasjonskallet for operasjonen SubmitAndInstantiatePrefilledFormTask. For mer informasjon se Innsendingstjenester (8.1) og operasjonen SubmitAndInstantiatePrefilledFormTask (9.6.1).\nKnytte meldingstjeneste til sak En tjenesteeier kan velge å knytte en meldingsatjeneste til en løpende sak. Dette gjøres ved at den valgfrie parameteren Case ID benyttes i operasjonskallet for meldingstjenesten. For mer informasjon se Meldingstjenester (8.2) og operasjonen InsertCorrespondenceV2 (9.4.1).\nSett merknad på sak eller underliggende tjeneste Ved å sette merknader på tjenester, kan tjenesteeier formidle informasjon til sluttbruker om samhandlingstjenester. Tjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     CaseAgencySystem SetNoticeAgencySystem Basic/WS/EC    Obligatorisk parameter reporteeElementID angir hvilken sak (Case ID), eller tilordnet tjeneste (innsendingstjeneste, meldingstjeneste, innsynstjeneste (kun arkivert)) merknaden skal settes på. Settes merknad på en tilordnet tjeneste som er arkivert (innsendingstjeneste, meldingstjeneste eller innsynstjeneste) må identifikatoren prefikses med AR. Identifikatoren for samhandlingstjenesten kan ha blitt mottatt fra InstantiateCollaborationAgencySystem, en arkivert innsendingstjeneste, eller den kan hentes ved bruk av GetCaseListAgencySystem.\nAlle maler (templates) for merknader må forhåndsdefineres av tjenesteeier på samhandlingstjenesten i tjenesteutviklingsløsningen og refereres til i kallet sammen med key-value par for variabler til merknaden. Mal defineres gjennom obligatorisk parameter NoticeTemplateID. Angis det feil mal eller nøkkel for samhandlingstjenesten vil feilmelding returneres. For flere detaljer rundt kontrakten vennligst se kapittel 9.10.4, Tjenestekatalog og WSDL.\nSende hendelse til sak Tjenesteeier kan påvirke tilstanden for en samhandlingstjeneste ved å registrere en ny hendelse (Event). Et eksempel hvor dette er nyttig er dersom tjenesteeier har mottatt informasjon via en annen kanal enn Altinn (f.eks. ved papirbasert innrapportering), og derfor ønsker å flytte samhandlingstjenesten til neste tilstand.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     CaseAgencySystem NotifyEventAgencySystem Basic/WS/EC    Denne operasjonen tar en entitet av typen StateMachineEventNotificationBE som input. Denne inneholder som de fleste andre for samhandlingstjenester CaseID parameteren som da unikt identifiserer en samhandlingsinstans hendelsen gjelder. Alternativt kan tjenesteeier velge å heller spesifisere tjeneste og tjenesteutgave, via parametrene ExternalServiceCode og ExternalServiceEditionCode. I det tilfellet vil hendelsen internt i Altinn bli kommunisert til alle kjørende instanser for kombinasjonen av nevnte tjeneste og tjenesteutgave. Til sammenligning vil hendelser som skjer innad i Altinn-løsningen kun kommuniseres til den saken som trigget hendelsen.\nI de tilfellene saken er opprettet av bruker selv eller av annen tjenesteeier vil man kunne hente saks id for bestemt samhandlingstjeneste (tjeneste og tjenesteutgave) vha GetCaseListAgencySystem som beskrevet i 8.6.1.2, eller eventuelt fra en allerede innsendt innsendingstjeneste knyttet til saken.\nEvent er obligatorisk parameter for operasjonen som angir hendelsen, mens ReporteeElementID er valgfri og benyttes kun i loggsammenheng i Altinn for å knytte hendelsen opp mot et subelement (dette kan for eksempel være en identifikator for en arkivert innsendingstjeneste tilknyttet samhandlingstjenesten). Hendelsen som skal sendes bør sees i sammenheng med tilstandsmaskinen for den aktuelle samhandlingstjenesten, og de hendelser som er definert der. Merk at en hendelse ikke nødvendigvis vil trigge en tilstandsendring; følgende vil være avgjørende:\n Er hendelsen aktuell for samhandlingstjenestens nåværende tilstand? og, finnes betingelser knyttet til hendelsen som ikke er oppfylt?  Om 1. eller 2. blir evaluert til false vil det ikke skje en tilstandsendring. Tilstander, hendelser og eventuelle betingelser er alle definert i TUL for samhandlingstjenesten.\nOperasjonen returnerer en liste av StateMachineNotificationResultBE. En liste returneres om hendelsen blir sendt til flere samhandlingsinstanser basert på parametrene ExternalServiceCode og ExternalServiceEditionCode. Om hendelsen kun sendes til en samhandlingstinstans vil kun en entitet returneres. StateMachineNotificationResultBE angir identifikator for samhandlingstjenesten resultatet gjelder for (CaseID), hvorvidt det skjedde en tilstandsendring (IsStateChanged) og dens navn (CurrentStateName). I tillegg angis evt betingelse (ConditionName) og evalueringen av betingelsen (ConditionEvaluationResult). Om det skulle oppstå en feilsituasjon i tilstandsmaskinen vil parameteren HasException være angit som true. Feilinformasjon og feilkode vil da ligge i henholdsvis ExceptionDetail og ErrorCode.\nFor flere detaljer rundt kontrakten vennligst se kapittel 9.10.2, Tjenestekatalog og WSDL.\nEksempler på bruk av tjenestegrensesnitt for samhandlingstjenester De påfølgende avsnittene viser eksempler på bruka av samhandlingstjenester.\nBrukerinstansiert samhandlingstjeneste med én etat Dette eksempelet viser en enkel samhandlingstjeneste som er definert i TUL og som blir instansiert av brukeren.\nTilstandsmaskinen består av to tilstander og det er definert gjenbruk av data mellom en meldingstjeneste og siste innsendingstjeneste. Selve kopieringen av data foregår idet innsendingstjenesten instansieres.\nEtatsinstansiert samhandlingstjeneste med én etat. Dette scenarioet beskriver en samhandlingstjeneste som Skattedialogen hvor etat tar initiativ og instansierer første innsendingstjeneste for brukeren.\nI forhold til forrige eksempel så er eneste forskjellen de to første kallene. Deretter fungerer systemdialogen på samme måte. I tillegg bør det nevnes at gjenbruk av data ikke kan benyttes når etaten instansierer innsendingstjeneste. Dette må i stedet løses på etatens side før innsendingstjeneste instansieres.\nBrukerinstansiert samhandlingstjeneste med to etater med kanaluavhengighet I dette eksempelet så vil en bruker velge å sende inn på papir mens selve samhandlingstjenesten er blitt startet i Altinn.\nI dette eksempelet starter samhandlingstjenesten som i første scenario, men deretter velger en bruker å sende inn på papir. Etat 2 vil da bruke oppslagstjenesten knyttet til samhandlingstjenesten og deretter finne riktig samhandlingstjeneste. Deretter vil tilstandsmaskinen bli \u0026ldquo;oppdatert\u0026rdquo; med at oppgave er innsendt og fortsette som før.\nKvitteringer For alle forsendelser inn og ut av Altinn skapes eller oppdateres en kvittering. Kvitteringer bidrar til at tjenesteeier kan får større innsikt i livsløpet fra f.eks. opprettelse av innsending til mottak av arkivert innsendingstjeneste. Kvitteringene skaper også bedre sporbarhet i Altinn løsningen.\nFor formidlingstjenester vil det lages en hovedkvittering for den som laster opp en fil og en underkvittering for hver mottaker av filen. Hovedkvittering med underkvittering kan på den måten brukes til å danne et komplett bilde av opplasting og nedlastinger.Dette kan også benyttes som en enkel kommunikasjonskanal ved at deltakere på forsendelsen kan oppdatere kvitteringen de har fått tildelt med en ny tekst og status.\nFor samhandlingstjenester vil det ikke bli generert kvitteringer da disse ikke arkiveres til tjenesteeiers arkiv. Frittstående varsel vil heller ikke generere kvitteringer. For innsynstjenester vil tjenesteeier kunne motta kvittering for bruk av tjenesten og arkivering av tjenesten. Tjenesteutvikler vil kunne velge om det skal sendes kvittering i disse to tilfellene.\nFor å muliggjøre dette kreves det at tjenesteeier markerer sine forsendelser inn til Altinn med referanser som lagres på kvitteringen. Samme referanse benyttes ved oppslag/kvittering.\nEksempler\na) Ved satsvis innsending av abonnementsdata benyttes xml elementet ServiceOwner/Subscription/ExternalShipmentReference for angivelse av referanse.\nb) Ved sanntid overføring av abonnementsdata benyttes parameteren externalBatchId i web service metoden SubmitSubscription for angivelse av referanse.\nSe xsd referanse for aktuell dataoverføring i kapittelet om Grensesnitt – batch til Altinn, for detaljer om plassering av referanse ved satsvis overføring. For overføring i sanntid henvises det til den aktuelle web service i kapittelet om Grensesnitt – web services.\nMulige kvitteringsoperasjoner:\n Hente kvitteringer for innsendte data Kvittere for mottak av data Hente lister med kvitteringer  Kvitteringsinformasjon kan kun hentes i sanntid. For å søke opp kvitteringer brukes GetReceiptList. Har mann SendersReference evt ExternalShipmentReference vil dette spisse søket. De fleste referanser vil fungere i søkefunksjonaliteten.\nFor flere detaljer rundt kontrakten for GetReceipt, GetReceiptList og SaveReceipt vennligst se henholdsvis kapittel 9.3.1, 9.3.2 og 9.3.3, Tjenestekatalog og WSDL.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     Receipt GetReceipt Basic/WS/EC   Receipt GetReceiptList Basic/WS/EC   Receipt UpdateReceipt Basic/WS/EC    Frittstående varsel Tjenesteeier kan velge å sende frittstående varsler til personer og enheter i Altinn. Dette er varsler som kan sendes til fødselsnummer eller organisasjonsnummer uten at varselet trenger å være tilknyttet et spesifikt element (melding eller skjema).\n   Tjeneste Operasjon Type     NotificationAgencyExternal SendStandaloneNotification Basic/WS/EC   NotificationAgencyExternal SendStandaloneNotificationV2 Basic/WS/EC   NotificationAgencyExternal SendStandaloneNotificationV3 Basic/WS/EC    Operasjonen SendStandaloneNotification benyttes for å sende de frittstående varslene. Operasjonen har støtte for en liste med varsel med helt forskjellige mottakere og formål. For hvert varsel må følgende angis:\n  ReporteeNumber angir fødselsnummer eller organisasjonsnummer varselet skal sendes til, den kan brukes til å slå opp mottakeradresse for varselet i brukerens kontaktprofil i tilfelle fødselsnummer, eller angitte kontaktpersoner på enhetsprofilen i tilfelle organisasjonsnummer. For underenheter uten angitte varslingsadresser vil hovedenhetens adresser bli benyttet.\n  Service med parameterene ServiceCode og ServiceEdition fungerer som et mottaker filter hvis ReporteeNumber er et organisasjonsnummer. Organisasjonen vil uansett få varsel på sine registrerte varslingsadresser, men listen med personer som har registrert personlig kontaktinformasjon for virksomheten vil bli filtrert. Listen filtreres først basert på personens preferanser. Det vil si listen med tjenester de har registrert at de er interesert i. Neste filtrering er basert på autorisasjon. Personen må ha lesetilgang til tjenesten (Service) på veiene av organisasjonen. Hvis det ikke er angitt noen tjeneste så vil ingen personer få varsel da det blir umulig å autorisere. Service blir ikke benyttet til noe hvis ReporteeNumber er et fødselsnummer.\n  ReceiverEndPoints benyttes til å angi om varselet skal sendes som SMS eller epost. Hvis det ikke blir oppgit noe mobilnummer eller epostadresse så vil Altinn forsøke identifisere dette selv. Altinn vil da gjøre oppslag i registre for henholdsvis person og organisasjon basert på angitt avgiver. Hvis avgiver er en person vil Altinn gjøre oppslag i kontakt- og reservasjonsregisteret til Difi og for organisasjoner vil det gjøres oppslag i Kontakt og fullmaktsregisteret for virksomheter knyttet til enhetsregisteret.\n  LanguageID og NotificationType vil sammen definere hvilken mal som skal benyttes for varselet. Denne må være forhåndsdefinert i databasen.\n  TextTokens med parameteren TokenValue kan benyttes hvis valgt mal har substitusjoner definert. Substitusjoner blir gjort basert på rekkefølgen TokenValue blir angitt i forespørselen. Substitusjonene som varselsmalen har må begynne på 0 og fortsette oppover. Parameteren TokenNum har for tiden ingen funksjon og kan utelates.\n  UseServiceOwnerShortNameAsSenderOfSms angir om tjenesteeier selv skal stå som avsender av SMS varsel i stedet for Altinn. For at tjenesteeier skal kunne stå som avsender må tjenesteeier på forhånd bestille registrering av ShortName (maks 11 alfanumeriske tegn) for tjenesteier i Altinn.\n  FromAddress strengen angir fra adresse når transport type er e-post (må være på gyldig e-post format). Denne er valgfri, og hvis ikke angitt vil det for e-post varsler bli brukt en standard Altinn e-post adresse. ShipmentDateTime parameteren kan benyttes hvis varselet ønskes sendt på et senere tidspunkt, hvis ikke angis vil varselet sendes umiddelbart.\nSendStandaloneNotification tjenesten finnes i tre versjoner. Funksjonelt er de identiske, men det er variasjon in responsen:\nVersjon 1; Operasjonen returnerer ingen verdi, kun feilmeldinger.\nVersjon 2; Operasjonen returnerer en streng med mottakere som var reservert mot varsel, med enten en «varsel feilet» eller «varsel feilet delvis» melding. Varsel vil ses på som feilet dersom alle mottakere var reservert og delvis feilet dersom noen, men ikke alle, mottakere var reservert mot varsel.\nVersjon 3; Operasjonen returnerer et resultat-objekt SendStandAloneNotificationResult som inneholder samme return melding som fra Versjon 2, og en liste med resultater for de varsler som ble levert. I disse resultatene er følgende angitt:\n  NotificationType inneholder NotificationType fra det originale varselet som ble levert. Brukes til å identifisere hvilket levert varsel resultatet tilhører.\n  ReporteeNumber inneholder ReporteeNumber fra det originale varselet som ble levert. Brukes til å identifisere hvilket levert varsel resultatet tilhører.\n  EndPoints er en liste med mottakere som mottok varsel. Hvert mottakker objekt inneholder følgende verdier:\n Name er navn på mottaker der dette er tilgjengelig. ReceiverAddress er addressen varselet vil leveres til. TransportType er hva slags transport varsel levers på. RetrieveFromProfile beskriver om mottakker ble hentet fra en organisasjon eller brukers profil.    Det anbefales å bruke kun versjon 3. For flere detaljer rundt kontrakten se kapittel Varseltjeneste\nAutorisasjonsfunksjonalitet for tjenesteeiere Altinn 2 versjon 2 tilbyr at eksterne løsninger kan benytte Altinn som autorisasjons komponent. Dette betyr at eksterne system kan definere eksterne ressurser og regler tilknyttet disse. Deretter kan eksterne systemer verifisere at bruker har tilgang til ressurs. Tjenestene kan aksesseres fra tjenesteeierssystem fra gyldig ip-adresse.\nVerifiseringstjenesten kan også benyttes til å autentisere en brukers tilgang til tjenesteeiers tjenester. Denne typen verifisering benytter de autorisasjonsregler som er definert på tjenesten i TUL.\nImportere eksterne regler Tjenesteeiere har mulighet til å importere eksterne ressurser og regler som senere kan benyttes eksternt til å avgjøre tilgang ved hjelp av tilgangsmekanismenen i Altinn.\n   Tjeneste Operasjon Type     AdministrationExternal ImportAuthorizationPolicy WS    ImportAuthorizationPolicy er operasjonen som tjenesteeiers system kan benytte for å importere de eksterne policyene. Operasjonen tar en XML streng som input parameter. Denne XML strengen må følge det standardiserte formatet XACML For flere detaljer rundt kontrakten vennligst se kapittel 9.8.1, Tjenestekatalog og WSDL.\nEkstern autorisasjon Tjenesteeierne har etter å ha importert eksterne regler muligheten for å gjøre kall mot Altinn for å benytte Altinns autorisasjonskomponent for autorisasjonsavgjørelser. Altinn vil motta forespørsel og ta en avgjørelse basert på de eksterne reglene og ressursene som er lagt inn. Regler som er satt i TUL på en tjeneste er også tilgjengelig for tilsvarende verifisering for å sjekke en brukers tilgang til tjenesten.\nAuthorizationDecisionPointExternal er tjenesten i Altinn II som har ansvaret for alle avgjørelser rundt autorisasjon basert på regler og roller i Altinns autorisasjonskomponent. Operasjonen AuthorizeAccessExternal tar imot en forespørsel på XACML format.\n   Tjeneste Operasjon Type     AuthorizationDecisionPointExternal AuthorizeAccessExternal WS    For flere detaljer rundt kontrakten vennligst se kapittel 9.9.1, Tjenestekatalog og WSDL.\nHente roller GetRoles er tjenesten i Altinn II som tjenesteeiere kan bruke til å hente ut roller etter angitte søkekriterier i søkeobjektet.\n   Tjeneste Operasjon Type     AdministrationExternal GetRoles WS    For flere detaljer rundt kontrakten vennligst se kapittel 9.8.2, Tjenestekatalog og WSDL.\nUthenting av tiltrodd tredjeparts logg Tjenesteeiere vil ha muligheten til å hente ut logg over alle hendelser for innsendte innsendingstjenester.\n   Tjeneste Operasjon Type     TTPArchiveAgencyExternalBasic GetAuditTrailBasic Basic    Operasjonen GetAuditTrailBasic benytter enten parameteren ReporteeNumber eller Username for å identifisere for hvilken bruker eller organisasjon det skal hentes ut for. Reportee parameteren kan da enten være et fødselsnummer eller et organisasjonsnummer, avhengig av hva man ønsker. Parameter Username brukes når man vil angi hente basert på brukervalgt brukernavn.\nVidere må parametrene FromDate og ToDate benyttes for å begrense søket – begge er obligatoriske. For å snevre søket ytterligere kan eventuelt parametrene ExternalServiceCode og ExternalServiceEditionCode benyttes.\nOperasjonen vil returnere en eller flere elementer (TTPElementBE) som angir den interne ReporteeElementID’en, resultat av integritetssjekk (IntegrirtyCheck), samt et XML element (TTPData) som vil inneholde log dataen som er registrert for den aktuelle innsendingen.\nFor flere detaljer rundt kontrakten vennligst se kapittel 9.12.1, Tjenestekatalog og WSDL.\nSluttbrukers meldingsboks En sluttbruker som logger inn i Altinn, vil kunne se en liste med sine tjenesteelementer på siden Min meldingsboks. Det er mange muligheter for å filtrere innholdet i listen, og hvert element kan åpnes på en separat side.\nEn tjenesteeier har mulighet til å presentere innholdet i sluttbrukers meldingsboks i sin egen portal/selvbetjeningsløsning. Forutsetningen er at sluttbrukeren er autentisert og føderert fra IDPorten. Uthenting av sluttbrukers meldingsboks fra Altinn kan være aktuelt for tjenesteeiere som ønsker å tilby et \u0026ldquo;min side\u0026rdquo;-konsept i sin egen løsning, uten å synliggjøre at tjenestene er implementert i Altinn.\nPresenter innhold i sluttbrukers meldingsboks – Altinn API For detaljer om hvordan innhold i sluttbrukers meldingsboks i Altinn kan presenteres i tjenesteeieres egen selvbetjeningsløsning/portal henvises det til detaljert informasjon om Altinn API som finnes på Altinnett:https://altinnett.brreg.no/Altinn-API\nTjenesteeierstyrt rettighetsregister Tjenesteeierstyrt rettighetsregister er innført som en ytterligere mulighet for tjenesteeiere å spesifisere hvem som skal ha tilgang til ulike tjenester i Altinn. Registeret vil kunne benyttes på toppen av eksisterende rolle- og rettighetsfunksjonalitet. Registeret benyttes i dag for formidlingstjenester og samtykketjenester, men er designet til å kunne håndtere andre tjenestetyper også.\nBruk av registeret vil introdusere en ekstra sjekk på hvorvidt en konkret bruker har mottatt nødvendige rettigheter av tjenesteeieren til å benytte seg av en spesifikk tjeneste. Informasjon som legges inn i registeret er nøkkelinformasjon om brukeren, tjenestekoder, og rettighet. Konkret funksjonalitet og effekt av operasjoner i registeret vil være avhengig av tjenestetype.\nRegisteret kan benyttes både ved bruk av REST og SOAP.\nNår det gjelder SOAP, tilbyr registeret 3 operasjoner for å hente ut, legge til og slette regler. GetRights operasjonen vil returnere hvilke regler som ligger i registeret, AddRights og DeleteRights er operasjoner for å henholdsvis legge til nye og slette eksisterende regler. Begge de to sistnevnte operasjonen vil returnere en liste med reglene som kom inn sammen med en status for resultatet av endringen for hver regel.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     RegisterSSRAgencyExternal GetRights Basic/WS/EC   RegisterSSRAgencyExternal AddRights Basic/WS/EC   RegisterSSRAgencyExternal DeleteRights Basic/WS/EC    Når det gjelder REST, har vi 4 operasjoner (GET, POST, DELETE og PUT) for å henholdsvis lese, legge til, slette og oppdatere regler.\nVi har laget en utviklingsguide som viser bruk av både SOAP og REST. Guiden er laget for samtykketjenester, men eksemplene der kan også benyttes for formidlingstjenester.\nBatchLogging Tjenesteeiere som har levert inn data filer-til behandling har mulighet til å sjekke status og historikk ved å bruke BatchLogging tjenesten i Intermediary.\n   Tjeneste Operasjon Type     BatchLoggingAgencyExternal GetStatusOverview Basic/WS/EC   BatchLoggingAgencyExternal GetDetailedStatus Basic/WS/EC   BatchLoggingAgencyExternal GetDataItem Basic/WS/EC    Status henting er delt opp i 3 nivåer.\nGetStatusOverview henter ut en liste med alle DataBatcher (en levert fil er en DataBatch) som er behandlet basert på søke-kriteria som Tjenesteeier leverer. Denne listen inneholder metadata for filen, og antall feil som er opplevd under behandling av filen.\nGetDetailedStatus henter ut tre lister. Listen med DataBatcher som er blitt behandlet, en liste med de DataItems (Xml objektene som filen består av) som har opplevd feil under behandling og en liste med Issues som er opplevd under behandling. Et Issue refererer til DataItem og DataBatch med en Id verdier, som kan brukes til å referere mellom listene. DataItem listen vil ikke inneholde rå Xml-data.\nGetDataItem henter ut et enkelt DataItem basert på Id. DataItem inneholder metadata og rå Xml-data.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/datasystem/faq_datasystem/funksjonelt/",
	"title": "Funksjonelt",
	"tags": [],
	"description": "Spørsmål og svar som gjelder det funksjonelle rundt implementasjon",
	"content": " Bør SystemID registreres på fødselsnummer eller organisasjonsnummer? Svar: Når du sender inn et skjema via Webservice (submitFormTask), der SystemID er registrert på fødselsnummer og reportee er et org.nr, vil bare den originale brukeren (fødselsnummer) som bruker sin originale SystemID kunne hente tilbakemeldingen fra Tjenesteeier.\nDersom det er ønskelig at alle med de nødvendige roller/rettigheter på organisasjonsnummer (reportee) skal kunne hente tilbakemeldingen, så må systemID som benyttes i innsendingen være registrert på organisasjonsnummeret.\n Hvordan får jeg ID? (Fagsystem-ID / Sluttbrukersystem-ID)? Svar:\n Logg inn i portalen Velg å representere avgiveren det skal sendes inn data for. Velg «profil» i toppmenyen. Gå til «Avanserte innstillinger» Gå ned til «Registrer datasystem» Fyll inn feltene og klikk på «legg til». Du vil nå få en ID som tilhører ditt sluttbrukersystem. Dette vil være SystemUserName i requesten din, og passordet du velger blir systemPassword.  Passordet du registrerer i steg 6 må bestå av minimum 7 tegn, og inneholde både tall og bokstaver. NB! Husk at systemID vil ha rettighet til å rapportere for den avgiveren du representerer i det du oppretter systemet.\n Hvorfor er det viktig å oppdatere kvitteringen fra Altinn? Svar:\nInnsending til Altinn via webtjeneste:\nDu får returnert en synkron kvittering på at dataene er mottatt og teknisk validert ok mot wsdl. Denne kvitteringen inneholder en referanse til forsendelsen. Det betyr ikke at payload er validert i henhold til XSD eller at de er forretningsmessig validert ok (kalkyler, kryssvalideringer, …).\nAsynkron prosess starter:\nDette skjermiddelbart etter at dataene er mottatt og foretar validering av payload mot XSD og forretningsreglene. For å få oppdatert status på denne valideringen må du etterspørre kvittering basert på referansen i den opprinnelige forsendelsen. Kvitteringen viser deg om valideringen er ferdig og resultatet av valideringen når den er ferdig. Een eventuell feil i valideringen vil komme i kvitteringen som feilmeldinger.\nLastetid:\nDet tar fra noen sekunder til noen minutter (avhengig av last på løsningen) før Altinn har prossesert meldingen.Du trenger derfor ikke etterspørre asynkron kvittering direkte etter du har sendt inn dataene.\nAltinn har registrert at enkelte sluttbrukersystemer etterspør asynkron kvittering i tett løkke for å få en oppdatert kvittering. Dette belaster systemet unødvendig.\n "
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/mappere/generelt/",
	"title": "Generelt om mappere",
	"tags": [],
	"description": "Beskrivelse av hva en mapper er og hvordan man går fram for å lage en.",
	"content": "Bruksområder Tilgjengeliggjøring av data fra tjenesteeier til Altinn gjør det mulig å utvikle mange ulike tjenester som gir brukere tilgang til etatsspesifikk informasjon. En mapper kan tilby sin informasjon til både innsyns-, innsendings-, og samhandlingstjenester. Et vanlig bruksområde er å tilgjengliggjøre etats-registre som innsynstjenester. Dette lar brukeren se informasjon som er registrert om seg selv eller sin virksomhet\nAlternativt kan en mapper benyttes til å hente informasjon som skal benyttes i en innsendingstjeneste slik at brukeren ikke trenger å fylle ut allerede registrert informasjon. Både innsynstjeneste og innsendingstjeneste kan inngå som en del av en større samhandlingstjeneste. En mapper tilbyr to-veis kommunikasjon slik at skjematjenesten kan overføre spørreparametere for å hente ut spesifikk informasjon som så returneres tilbake.\nDet er ikke hensikten at en mapper skal benyttes til å sende inn data. Til dette skal fortsatt innsendingstjenester benyttes slik at sporbarheten og ikke-benekt-funksjonaliteten i Altinn er ivaretatt.\nProsessen Her oppsummeres prosessene rundt utvikling og forvaltning av mappere.\nDesign Første steg i enhver utviklingsprosess er å designe løsningen som skal lages. For en mapper vil det si å identifisere de tjenestene som skal benytte mapperen og hvilke datasett som disse trenger. Her bør både utviklere som skal lage tjenestene i Altinn, mappere og etatstjenestene komme med innspill på dataformat slik at mapperen, og dermed også utviklingsjobben, blir så enkel som mulig.\nUtvikling Når nødvendige forutsetninger er oppfylt logger man på utviklingsserver via TUL og starter Visual Studio Server. Du får da opp en RDP sesjon mot utviklingsserver. På utviklingsserver startes så opp Visual Studio, og man kan så koble seg til TFS på adressen https://tfs.ai-dev.brreg.no. Her er de nødvendige verktøy og versjonskontrollsystem klargjort for utvikleren.\nUtviklingen av en mapper er godt beskrevet, med både bakgrunnsinformasjon om teknologi og beskrivelse av selve utviklingsjobben. En mapper er i all hovedsak en proxy-tjeneste som er skrevet ved bruk av WCF.\nAlternativt kan man sette opp et eget utviklingsmiljø med Visual Studio installert slik at man får bedre ytelse og egne favoritt-verktøy. Lokalt utviklingsmiljø kan medføre noen vanskeligheter knyttet til tilganger dersom etaten begrenser tilgangen til sine tjenester slik at kun Altinn har tilgang. Utviklede mappere må også testes og verifiseres i TUL av tjenesteeier før de kan kvalitetssikres og installeres.\nSe også Bruk av Visual Studio.\nTest Forutsatt at nødvendige brannmuråpninger er på plass hos altinn og tjenesteeier, så skal man kunne kjøre mapper på utviklingsserver, og utføre eventuelle enhetstester.\nTesting av programvare er en svært viktig del i all utviklingsarbeid. Det er av betydning at man har satt seg ned og tenkt over hvilke kriterier man har over alle tjenestene man ønsker å tilby.\nTesting kan innføres i et hvilket som helst tidspunkt under utviklingen av mapperen. Tradisjonelt har man startet med testing etter at kriteriene er satt og kodingen er ferdig. I mer smidige prosjekter er det vanlig å starte med tester parallelt med at man koder. På den måten kan man hele tiden sjekke at koden møter de kriteriene som er satt, og man kan dermed enkelt gjøre endringer og tilpasse seg.\nEnhetstesting er en metode hvor man kan utføre tester på en spesifikk bit av programmeringskoden, og foregår som regel parallelt med at man utvikler koden. Man kan lett kjøre testene, og se om noe feiler i koden, man får også en fin oversikt over at alt er som forventet og kjører feilfritt. Om det i senere tid blir gjort endringer på den utviklede koden, vil man kunne dra nytte av enhetstestene. De vil enten passere eller feile om man ikke møter kriteriene.\nKriteriene kan for eksempel være:\n Data kommer i riktig format. At man får forventet resultat. Håndtering av feilmeldinger. Programmet bør returnere fornuftige meldinger.  Produksjonssetting Når mapper er ferdig testet bestilles produksjonssetting via selvbetjeningsportalen.\nHer benyttes skjema «Produksjonsetting av tjenester, kodelister og mappere».\nI bestilling er det viktig at man angir navn på mapper, hvilket miljø man vil ha mapperen installert i, teknisk kontaktperson med telefonnummer og hvor det er sjekket inn master/ branch, vi henter fra master om ikke annet er angitt.\nMapper blir sjekket ut og bygget, og installasjonsprosjektet blir testkjørt av oss før det oversendes leverandør for installasjon i respektive miljøer. Dette for å unngå åpenbare feilkilder i prodsettingen.\nInstallasjon Når en mapper er kvalitetssikret kan man gå til neste steg som er installasjon. Når man skal installere en mapper i Altinn må man påse at det er åpnet for tilgang til tjenesteeier sitt system gjennom tjenesteeier sin brannmur i forkant av installasjonen.\nAltinn sin driftsleverandør vil verifisere dette under installasjon av mappere. Deretter vil de installere mapperen det spesifiserte miljøet på Altinn. Dersom mapperen skal installeres i produksjonsmiljøet vil den først installeres og verifiseres i et testmiljø.\nDersom det oppstår feil under installasjon vil det kunne måtte være nødvendig med kontakt mellom driftsleverandør og tjenesteeier sine utviklere og driftere. Det er derfor viktig å ha tilgjengelige ressurser på tjenesteeier sin side under installasjonen.\nInstallasjonstest Etter at en mapper er installert må installasjonen verifiseres av tjenesteier. Dette gjøres gjerne ved bruk av en eller flere tjenester som benytter den installerte mapperen. Dette sikrer både at tjenestene får kontakt med mapperen og at mapperen får kontakt med tjenesteeier sitt system.\nForutsetninger For å kunne utvikle en mapper er det en del forutsetninger som ligger til grunn.\n Brukernavn og passord for tilgang til selvbetjeningsportalen for bestilling av brannmuråpninger, produksjonssetting av mapper og andre tilganger. Dersom du ikke har brukernavn på selvbetjeningsportalen, så kan dette bestilles ved å sende e-post til tjenesteeier@altinn.no. Tilgang til utviklingsserver for mapper.\nUtviklere som har gjennomført tjenesteutviklings- eller mapperkurs kan bestille tilgang til utviklingsserver for mappere.  Bestilling gjøres i selvbetjeningsportal via bestillingsskjema \u0026ldquo;Ny henvendelse\u0026rdquo; -\u0026gt; \u0026ldquo;Tilganger\u0026rdquo; -\u0026gt; «Tilgang til TUL og/eller SERES». I skjemaet må det avkrysses for \u0026ldquo;Ønskes det tilgang til avanserte tjenesteutviklingsverktøy (Visual studio og Team Foundation Server)?\u0026rdquo;   Tilgang til TFS.\nAll mapperkode skal sjekkes inn og vedlikeholdes i TFS. Dette betinger at utvikler også har en brukerkonto i Altinns utviklingsmiljø AI-DEV. Bestilling av brukerkonto gjøres i selvbetjeningsportalen via bestillingsskjema \u0026ldquo;Tilgang til Altinns utviklingsmiljø AI-DEV\u0026rdquo;. I feltet «beskrivelse spesielle behov» så må det angis hvilke tjenesteeier(e) man skal utføre utviklingsoppdrag for. Åpning i brannmur hos altinn og tjenesteeier.\nFor å kunne teste og bruke mapper, så må tjenesteeier åpne for trafikk inn fra mapper- og utviklingsserver. Informasjon om hvilke IP-adresser som trafikken vil komme fra, er distribuert til de respektive tjenesteeiere. I tillegg må det bestilles åpning for utgående trafikk fra Altinn til tjenesteeier. Bestilling av åpninger gjøres i selvbetjeningsportalen via bestillingsskjema «Åpning i brannmur». I feltet Miljø anbefaler vi at det velges annet, og at man legger inn «Produksjon, TT02 og TUL» i feltet Spesifisér miljø. Man sikrer da at man får alle nødvendige åpninger på plass i en bestilling. For Tjenesteeiere som skal teste mappere i AT-Miljø, så må man også legge til dette. I feltet «Hva gjelder brannmuråpningen?», velges Mapper/ekstern tjeneste. For å sikre at man også får åpnet fra utviklingsserver bør man spesifisere i Andre opplysninger, at det også skal åpnes for trafikk fra utviklingsserver «VDEV»  "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/rest/autorisasjon/hent_rettighet/",
	"title": "Hente ut liste over rettigheter",
	"tags": [],
	"description": "",
	"content": "Denne siden beskriver hvordan Altinn kan brukes til å hente ut liste over rettigheter en bruker har på vegne av andre\nHente ut rettigheter Hente ut alle rettigheter en person {subject} har for en annen person eller organisasjon {reportee} på tjenester som tilhører autentisert tjenesteeier.\nGET https://www.altinn.no/api/serviceowner/authorization/rights?ForceEIAuthentication\u0026amp;subject={subject}\u0026amp;reportee={reportee} HTTP/1.1 Accept: application/hal+json ApiKey: myKey Eksempel på respons:\n{ \u0026#34;Subject\u0026#34;: { \u0026#34;Name\u0026#34;: \u0026#34;ROLF BJØRN\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;Person\u0026#34;, \u0026#34;SocialSecurityNumber\u0026#34;: \u0026#34;06117701547\u0026#34; }, \u0026#34;Reportee\u0026#34;: { \u0026#34;Name\u0026#34;: \u0026#34;KIRKENES OG AUSTBØ\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;Enterprise\u0026#34;, \u0026#34;OrganizationNumber\u0026#34;: \u0026#34;910021451\u0026#34;, \u0026#34;Status\u0026#34;: \u0026#34;Active\u0026#34; }, \u0026#34;Rights\u0026#34;: [ { \u0026#34;RightID\u0026#34;: 1018549, \u0026#34;RightType\u0026#34;: \u0026#34;Service\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;2480\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 20, \u0026#34;Action\u0026#34;: \u0026#34;Read\u0026#34;, \u0026#34;RightSourceType\u0026#34;: \u0026#34;RoleTypeRights\u0026#34;, \u0026#34;IsDelegatable\u0026#34;: true }, { \u0026#34;RightID\u0026#34;: 1018550, \u0026#34;RightType\u0026#34;: \u0026#34;Service\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;2480\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 20, \u0026#34;Action\u0026#34;: \u0026#34;ArchiveRead\u0026#34;, \u0026#34;RightSourceType\u0026#34;: \u0026#34;RoleTypeRights\u0026#34;, \u0026#34;IsDelegatable\u0026#34;: true }, { \u0026#34;RightID\u0026#34;: 1018551, \u0026#34;RightType\u0026#34;: \u0026#34;Service\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;2480\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 20, \u0026#34;Action\u0026#34;: \u0026#34;ArchiveDelete\u0026#34;, \u0026#34;RightSourceType\u0026#34;: \u0026#34;RoleTypeRights\u0026#34;, \u0026#34;IsDelegatable\u0026#34;: true }, { \u0026#34;RightID\u0026#34;: 1222878, \u0026#34;RightType\u0026#34;: \u0026#34;Service\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;2509\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 201412, \u0026#34;Action\u0026#34;: \u0026#34;Sign\u0026#34;, \u0026#34;RightSourceType\u0026#34;: \u0026#34;RoleTypeRights\u0026#34;, \u0026#34;IsDelegatable\u0026#34;: true } ], \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/authorization/rights?subject={subject}\u0026amp;reportee={reportee}\u0026#34; } } } "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/testing/deploy/",
	"title": "Test app i testmiljø",
	"tags": [],
	"description": "Beskrivelse av hvordan test i testmiljø kan utføres.",
	"content": "Klargjøring av app og deploy til testmiljø gjøres fra Deploy-fanen i Altinn Studio.\nBygge app Før en app kan deployes til testmiljø, må alle nødvendige filer samles sammen i en pakke som kan deplpoyes. Dette gjøres ved å bygge appen.\nMerk at det er filene fra app-repoet som benyttes i bygget. Dersom en har gjort endringer på en app i Altinn Studio så må disse sendes til repoet for at endringene skal bli med i bygg-pakken. Dette gjøres ved å velge Push fra Lage-fanen i Altinn Studio.\rNår en app er klar til test, kan den bygges ved å gå til Deploy-fanen i Altinn Studio (inne på den appen som skal deployes).\nPå høyre side vises et panel for å bygge appen.\nMerk at det kun er mulig å bygge ny versjon av appen dersom det faktisk er gjort endringer i appen. Dersom det er gjort endringer og det ikke er mulig å bygge ny versjon, pass på at endringene har blitt sendt til app repoet.\r Skriv inn versjonsnummer for den versjonen av appen som skal bygges. Må være unikt (altså ikke brukt tidligere for denne appen). Skriv inn beskrivelse for denne versjonen av app\u0026rsquo;en. Trykk på Bygg versjon for å starte bygget.  Status for bygget vises under Tidligere bygg av applikasjonen. Når status er grønn, er denne versjonen av app\u0026rsquo;en klar til å bli deployet til testmiljø.\nDeploy av app til testmiljø Når en app er bygget ferdig kan den deployes til testmiljø. Dette gjøres fra Deploy-fanen. Der vises en oversikt over tilgjengelige miljø, i tilegg til en oversikt over hvilke versjoner av appen som er i de forskjellige miljøene.\n Velg versjonen av appen som skal deployes fra nedtrekkslisten som ligger under det aktuelle miljøet. Trykk på Deploy ny versjon.  Valgt versjon vil da deployes til valgt miljø. Her er det mulig å deploye ny versjon, eller rulle tilbake til en eldre versjon om det er ønsket.\nTeste app i testmiljø Logg inn i testmiljø med testbruker. Bruk lenken som vises over hvert miljø i Deploy-fanen for å komme til ønsket testmiljø og starte ny instans av appen.\nAlle instanser vil være synlig i meldingsboks/arkiv til valgt aktør, på samme måte som dagens tjenester (som er basert på Altinn II).\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/testing/authentication/id-porten/",
	"title": "Autentisere med ID-porten",
	"tags": [],
	"description": "Beskrivelse av hvordan systemer kan benytte ID-porten for å få tilgang til APIer i Altinn 3.",
	"content": "Systemer for sluttbrukere kan autentisere brukere via ID-porten. Dette for å kunne benytte API fra applikasjoner kjørende i Altinn Apps og enkelte funksjoner i Altinn Platform på vegne av sluttbruker.\nDet er i hoveddsak to typer systemer hvor dette er aktuelt. Dette er webbaserte løsninger og tykke klienter.\nFelles for begge løsninger er at sluttbruker vil logge inn via nettleser i ID-porten med den autentiseringsmekanismen de ønsker.\nDette er for eksempel:\n Min-ID BankID på mobil BankId  Systemet må forespøre et sett med scopes i ID-porten som sluttbruker må akseptere at systemet kan utføre på vegne av sluttbruker.\nDet er disse scopene som tildels avgrenser hva systemet kan utføre på vegne av sluttbruker.\nScopene som er definert og relevant for Altinn 3 er:\n altinn:instances.meta - Se oversikt over innboks og arkiv i Altinn altinn:instances.read - Lese innholdet i innboks og arkiv i Altinn for alle elementer som sluttbruker er autorisert for altinn:instances.write - Fylle ut, signere og sende inn skjema i Altinn for alle elementer sluttbruker er autorisert for altinn:lookup - Benytte innsynstjenester i Altinn altinn:reportees - Se hvem du kan representere i Altinn  Bildet nedenfor viser hvordan sluttbruker må bekrefte tilgangen.\nFor detaljer om scope og opplisting av alle scopes tilgjengelig se dokumentasjon fra ID-porten.\nDet er disse scopene som avgjør hva sluttbruker kan utføre. Bildet nedenfor viser hvordan sluttbruker må bekrefte tilgangen.\nNår pålogging er gjennomført vil systemet ha tilgang til et ID-token, refresh token og et access token.\nDette access tokenet har begrenset levetid, men kan fornyes med ved hjelp av refresh token.\nWeb baserte systemer Webbaserte systemer består av løsninger med en webbasert frontend som kjører i nettleser, samt serverside kode.\nSe detaljer hos ID-porten.\nTykke klienter Med tykke klienter mener vi applikasjoner som installeres og kjøres lokalt på en datamaskin og ikke i nettleser.\nDisse må likevel benytte seg av nettleser for å logge inn.\nSe detaljer hos ID porten.\nVeksling av access token til Altinn token Access-tokenet som utstedes fra ID-porten må veksles inn i et Altinn-token før det kan benyttes mot Altinns API\u0026rsquo;er.\nDette Altinn-tokenet vil ha samme levetid som access-tokenet.\nFlytdiagrammet nedenfor viser hvordan tokenet veksles inn.\nSe detaljer i Altinns API dokumentasjon.\nSluttbrukere har i Altinn mulighet til å få oversikt over alle systemer og hvilke tilganger de har.\nPå denne måten kan man trekke langvarige tilganger. Systemet vil da bli avvist neste gang det prøver å refresehe access-token.\nBildet nedenfor viser hvordan dette vil bli i Altinn (ikke satt i produksjon enda).\nEt system som har fått tilgang til et token fra ID-porten vil kunne utføre handlinger som bruker er autorisert kun begrenset av bruksområdet til scope. Det betyr at hvis system har fått scope for innsending av skjema så vil systemet kunne sende inn alle skjema for alle avgivere som sluttbruker er autorisert for. Det er derfor viktig at sluttbruker kan stole på systemet.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/soap/kom-i-gang/",
	"title": "Kom i gang med SOAP API",
	"tags": [],
	"description": "Hvordan registrere sluttbrukersystem / SFTP-bruker og etablere system id",
	"content": "Registrere sluttbrukersystem / etablere system id Eieren av et sluttbrukersystem må registrere dette i Altinn slik at Altinn har mulighet til å autentisere og autorisere systemet på vegne av en avgiver. Ved registrering i portalen opprettes en unik sluttbrukersystemidentifikator, og denne identifikatoren sendes med i alle web service kall som gjøres mot Altinn. Sluttbrukersystemet har da rett til å levere data for alle avgivere eieren av sluttbrukersystemet har rett til å levere for. Eierens rettigheter hentes i utgangspunktet fra Enhetsregisteret, men det er også mulig for en avgiver å legge på disse rettighetene eksplisitt i portalen. For å unngå ekstra administrasjon er det derfor meget viktig at avgivere sørger for at Enhetsregisteret til enhver tid er oppdatert med korrekte opplysninger.\nFor at et sluttbrukersystem skal kunne gi data til skjema i Altinn, må den ansvarlige for selskapet, for eksempel daglig leder eller styreformann registrere systemet i Altinn portal. Dette gjøres på følgende måte:\nAlle tjenesteoperasjoner som kan benyttes av et sluttbrukersystem bør bruke en SystemID med tilhørende passord. SystemID opprettes slik:\n Logg inn i portalen og representer ønsket organisasjonsnummer. Gå til \u0026ldquo;Profil\u0026rdquo;  \u0026ldquo;Avanserte innstillinger\u0026rdquo; \u0026ldquo;Registrer datasystem\u0026rdquo; og registrer SystemID    Alternativt kan en bruker også benytte sitt registrerte brukernavn til å bruke tjenestene beskrevet.\nDet er da brukerens profil-brukernavn og passord som benyttes i stedet for sluttbrukersystem. Dette gjøres ved å gå inn på «Profil» og huke av under «Tillat innsending fra applikasjon eller system med dette brukernavnet og passordet» i Innloggingsinformasjon. Denne brukeren har kun rettighet til å levere data på vegne av seg selv.\nFor videre informasjon om registrering og rettighetsadministrasjon, benytt hjelpesystemet til Altinn på http://www.Altinn.no.\nRegistrere SFTP-bruker For å kunne benytte seg av formidlingstjenester over SFTP-kanalen må det opprettes en virksomhetsbruker med et eget sertifikat. En slik bruker benytter seg av, i tillegg til brukernavn og passord, et sertifikat for å autentisere seg mot Altinns SFTP-server. Når bruker opprettes i Altinns profilsider lastes offentlig nøkkel opp og knyttes til virksomhetsbrukeren, og når denne brukeren så skal autentisere seg mot SFTP-serveren oppgis den private nøkkelen. Sertifikatet, eller nøkkelparet, kan genereres av bruker selv, for eksempel ved bruk av tilgjengelig verktøy slik som PuttyGen[^2]. Formatet som skal benytteser enten OpenSSH eller SSH2.\nMerk at virksomhetsbrukere også kan ha et signert sertifikat, for eksempel BuyPass eller Commfides, knyttet til seg. Disse typene sertifikater gir brukeren tilgang til web service og portal, men ikke SFTP.\nFor at en SFTP-bruker skal kunne benytte en formidlingstjeneste må nødvendige rettigheter være delegert til virksomhetsbrukeren. Dette gjøres på normal måte.\nKovertering fra x.509 sertifikater til SSH2 For å konvertere et x.509 sertifikat til SSH2 format, som er mulig å bruke for formidlingstjenestens SFTP må man generere en public key i SSH2 format. Dette kan gjøres i verktøyet PuttyGen ved å følge punktene under.\n Eksporter private key fra x.509 sertifikatet. Pass på at PuttyGen her satt i SSH2 format, og ikke SSH1 Importer private key inn i puttygen, dette genererer automatisk en public key basert på private key. Lagre public key fra PuttyGen, denne er nå i SSH2 format, og kan brukes i Altinn. Hvis ønskelig kan private key nå også lagres fra PuttyGen, og denne vil da også være i SSH2 format.  Etter at man har generert opp nøkkel i SSH2 format, og koblet denne på en bruker i Altinn, så kan man enten bruke det originale x.509 sertifikatet for oppkobling fra SFTP klient, eller benytte seg av eventuelt ny lagret private key i SSH2 format\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/data/prefill/",
	"title": "Preutfylling av data (prefill)",
	"tags": [],
	"description": "Hvordan konfigurere prefill for en app.",
	"content": "Altinn tilbyr i dag tre fremgangsmåter for å preutfylle data i en app for en sluttbruker. Disse metodene kan kombineres fritt for å oppnå ønsket resultat\nPrefill fra nasjonale register og brukerprofil Altinn apps støtter prefill med data fra Enhetsregisteret, Folkeregisteret og brukerprofil i Altinn.\nVed å følge beskrivelsen nedenfor vil man under instansiering av et skjema preutfylle datamodellen med de definerte verdiene hentet fra Altinns database.\nOppsett av prefill i applikasjons repository Opprett en ny json-fil i app repoet under App/models. Navnet på filen skal inneholde navnet på datamodellen og ha postfix \u0026ldquo;.prefill.json\u0026rdquo;. Dersom datamodellen din heter appModel skal du nå kunne finne disse tre filene i mappen: appModel.metadata.json, appModel.schema.json, appModel.prefill.json\nLim inn innholdet nedenfor i filen.\n{ \u0026#34;$schema\u0026#34;: \u0026#34;https://altinncdn.no/schemas/json/prefill/prefill.schema.v1.json\u0026#34;, \u0026#34;allowOverwrite\u0026#34;: true, \u0026#34;ER\u0026#34;: { }, \u0026#34;DSF\u0026#34;: { }, \u0026#34;UserProfile\u0026#34;: { } } Konfigurering av prefill.json   $schema peker på json schema definisjonen til filen. Nåværende versjon er v1.\nVisual Studio Code vil pga. denne validere og tilby intellisense/autocomplete når du editerer filen lokalt.\n  allowOverwrite avgjør om prefill definert i denne filen kan overskrive et felt i datamodellen dersom det allerede har en verdi.\n  ER her legger man inn felter fra datamodellen som skal preutfylles med data fra enhetsregisteret. Felt som preutfylles med ER-data vil kun få en verdi dersom man instansierer på vegne av en organisasjon. Instansiering vil feile dersom man forsøker å preutfylle ER-data, men ikke har en organisasjon tilgjengelig.\n  Eksempelet nedenfor vil populere feltet Datamodell.Organisasjon.Organisasjonsnummer med organisasjonsnummeret hentet fra enhetsregisteret.\n\u0026#34;ER\u0026#34;: { \u0026#34;OrgNumber\u0026#34;:\u0026#34;Datamodell.Organisasjon.Organisasjonsnummer\u0026#34; }  DSF her legger man inn felter fra datamodellen som skal preutfylles med data fra folkeregistret. Feltet som preutfylles med DSF-data vil kun få en verdi dersom man instansierer på vegne av en person. Instansiering vil feile dersom man forsøker å preutfylle DSF-data, men ikke har en person tilgjengelig.  Eksempelet nedenfor vil populere feltet Datamodell.Person.Nummer med telefonnummer henter fra folkeregistret.\n\u0026#34;DSF\u0026#34;: { \u0026#34;TelephoneNumber\u0026#34;:\u0026#34;Datamodell.Person.Nummer\u0026#34; }  UserProfile her legger man inn telter fra datamodellen som skal preutfylles med data fra brukerens profil i Altinn. Merk at det er den innloggede brukeren om instansierer man henter ut data for.  Eksempelet nedenfor vil populere feltet _Datamodell.Bruker.Epost med epost hentet fra brukerens profil i Altinn.\n\u0026#34;UserProfile\u0026#34;: { \u0026#34;Email\u0026#34;:\u0026#34;Datamodell.Bruker.Epost\u0026#34; } Tilgjengelige prefill verdier JSON-schema definisjonen av prefill-filen er også tilgjengelig her.\nBruken av et schema gjør at editorer, f.eks. Visual Studio Code, kan validere og tilby intellisense for raskere editering.\nFolkeregisteret Personedataen som eksponeres er den tilknyttet personen som skjemaet instansieres på vegne av. Dersom Ola Nordman instansierer et skjema på vegne av Kari Nordmann vil det være Kari sin data som eksponeres. Tilgjengelige verdier for prefill inkluderer:\n SSN Name FirstName MiddleName LastName TelephoneNumber MobileNumber MailingAddress MailingPostalCode MailingPostalCity AddressMunicipalNumber AddressMunicipalName AddressStreetName AddressHouseNumber AddressHouseLetter AddressPostalCode AddressCity  Enhetsregisteret Enheten som eksponeres er den tilknyttet organisasjons som et skjema blir instansiert på vegne av. Tilgjengelige verdier for prefill inkluderer:\n OrgNumber Name UnitType TelephoneNumber MobileNumber FaxNumber EMailAddress InternetAddress MailingAddress MailingPostalCode MailingPostalCity BusinessAddress BusinessPostalCode BusinessPostalCity  Brukerprofil Brukerprofilen som eksponeres er profilen til den som instansierer tjenesten. Dersom Ola Nordmann instansierer et skjema på vegne av Kari Nordmann vil dataen som hentes ut herfra være knyttet til Ola. Tilgjengelige verdier for prefill inkluderer:\n UserId UserName PhoneNumber Email PartyId UserType ProfileSettingPreference.Language ProfileSettingPreference.PreSelectedPartyId ProfileSettingsPreference.DoNotPromptForParty  Egendefinert prefill Altinn apps muliggjør prefill av en instans med egendefinert data, det være seg resultet fra et API-kall, beregninger gjort under instansiering, eller annen logikk. Dette implementeres i metoden DataCreation i filen InstansiationHandler.cs som finnes i applikasjonsrepoet under App/logic.\nEksempelet nedenfor populerer feltet Bruker.FulltNavn i modellen Datamodell med verdien \u0026ldquo;Test Testesen\u0026rdquo;.\npublic async Task DataCreation(Instance instance, object data) { if (data.GetType() == typeof(Datamodell)) { Datamodell model = (Datamodell)data; model.Bruker.FulltNavn = \u0026#34;Test Testesen\u0026#34;;  } } Bytt ut Datamodell med navnet på C# klassen som er blitt generert basert på xsd-en som ble lastet opp i Altinn Studio. Dersom du bruker en egnet kodeeditor vil du kunne definere felter som skal populeres ved bruk av intellisense.\nVær oppmerksom på at dersom du har komplekse typer i modellen din, må disse instansieres før man kan tilegne en verdi til ett av typens underelementer. Se eksempel nedenfor der vi legger til grunn at \u0026lsquo;Bruker\u0026rsquo; og \u0026lsquo;Name\u0026rsquo; er egne C# klasser.\npublic async Task DataCreation(Instance instance, object data) { if (data.GetType() == typeof(Datamodell)) { Datamodell model = (Datamodell)data; Bruker b = new Bruker(); b.Navn = new Name(); b.Navn.FulltNavn = \u0026#34;Test Testesen\u0026#34;; } } Instansiering med prefill Altinn apper støtter instansiering med prefill. Skjemadataen legges ved i en multipart i instansieringsrequesten som sendes til appen. Nedenfor ser du et eksempel på en request for å instansiere en app med prefill for partyId 12345.\nContent-Type: multipart/form-data; boundary=\u0026#34;abcdefg\u0026#34; Body: --abcdefg Content-Type: application/json; charset=utf-8 Content-Disposition: form-data; name=\u0026#34;instance\u0026#34; { \u0026#34;instanceOwner\u0026#34;: { \u0026#34;PartyId\u0026#34; : \u0026#34;12345\u0026#34;  } } --abcdefg Content-Type: application/xml Content-Disposition: form-data; name=\u0026#34;Endring-av-navn\u0026#34; \u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt; \u0026lt;Skjema xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:xsd=\u0026#34;http://www.w3.org/2001/XMLSchema\u0026#34; skjemanummer=\u0026#34;1533\u0026#34; spesifikasjonsnummer=\u0026#34;11172\u0026#34; blankettnummer=\u0026#34;RF-1453\u0026#34; tittel=\u0026#34;Endring av navn\u0026#34; gruppeid=\u0026#34;9308\u0026#34;\u0026gt; \u0026lt;Innledning-grp-9309 gruppeid=\u0026#34;9309\u0026#34;\u0026gt; \u0026lt;NavneendringenGjelderFor-grp-9310 gruppeid=\u0026#34;9310\u0026#34;\u0026gt; \u0026lt;SubjektFornavnFolkeregistrert-datadef-34730 orid=\u0026#34;34730\u0026#34;\u0026gt;Ola Nordmann\u0026lt;/SubjektFornavnFolkeregistrert-datadef-34730\u0026gt; \u0026lt;/NavneendringenGjelderFor-grp-9310\u0026gt; \u0026lt;Kontaktinformasjon-grp-9311 gruppeid=\u0026#34;9311\u0026#34;\u0026gt; \u0026lt;MelderFultnavn orid=\u0026#34;34735\u0026#34;\u0026gt;LANGØY MADS\u0026lt;/MelderFultnavn\u0026gt; \u0026lt;/Kontaktinformasjon-grp-9311\u0026gt; \u0026lt;/Innledning-grp-9309\u0026gt; \u0026lt;/Skjema\u0026gt; --abcdefg-- "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/configuration/process/",
	"title": "Definere applikasjonsprosess",
	"tags": [],
	"description": "Hvordan definere prosessen til en app.",
	"content": "En applikasjon har definert en prosess som styrer flyten. Prosessen er definert som BPMN 2.0.\nStøttede prosess-task-typer Nåværende applikasjonsmal støtter følgende tasks.\n Data (Data) (Tilsvarer utfyllingssteg i Altinn II) Bekreftelse (Confirmation) Feedback  Fremtidige prosess-tasker (tentativ)  Signering (Signing) Betaling (Payment) Parallellsignering (Paralell Signing) Brukerstyrt signering (User Controlled Signing) Ekstern validering (External Validation)  Endre prosessen For å endre på prosessen kan du manuelt redigere BPMN-filen med en valgfri XML- eller BPMN-editor. Den ligger lagret i app-repoet som App/config/process/process.bpmn.\n\rAutomatisk sletting\rEn applikasjon kan konfigureres til å slette alle spor når prosessen er slutt.\n\r\rMelding\rHvordan sette opp en melding i Altinn Studio\n\r\rTilpasse visninger av steg\rHvordan tilpasse visninger i forskjellige steg av en prosess.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/getting-started/navigation/repos/",
	"title": "Repos",
	"tags": [],
	"description": "Slik navigerer du i Altinn Studio Repos.",
	"content": "Repos er verktøyet der appene er lagret som Git repositoryer, og kan bli funnet på https://altinn.studio/repos.\nHovedmeny Hovedmenyen øverst inneholder disse elementene:\n Altinn-logoen - tilbake til Altinn Studio-dashboardet. Dashboard - Lister ut dine aktiviteter og de repositoryene og organisasjonene du har tilgang til. Du kan også se dashboard for den enkelte organisasjonen. Issues - Lister ut åpne og lukkede issues som er relevant for deg. Pull requests - Lister ut åpne og lukkede pull requests som er relevant for deg. Utforsk - Gir deg tilgang til å se alle repositoryer, brukere og organisasjoner  Navigere innad i et repository Når du har navigert til et repository dukker det opp et nytt sett menyvalg som er relevant for repositoryet.\n Kode - innholdet, alle filer appen består av Issues - \u0026ldquo;saker\u0026rdquo; for repositoryet Pull Requests - for repositoryet Releases - opprettet for repositoryet Aktivitet - hva har skjedd i repositoryet  Hvis du vil til Designer for det aktuelle repositoryet, er det et valg for dette i toppmenyen:\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/getting-started/access-management/studio/",
	"title": "Studio",
	"tags": [],
	"description": "Hvordan konfigurere tilganger for team i Altinn Studio.",
	"content": "Tilgangsstyring for organisasjonen Som eier av en organisasjon i Altinn Studio har man mulighet til å konfigurere tilgangene til de øvrige brukerne knyttet til organisasjonen. Dette gjøres via Gitea på følgende lenke: https://altinn.studio/repos/org/{organisasjonens kortnavn}/teams/\nDet er definert fire standard team som legger føringer for hva en bruker har tillatelse til å gjøre innad i en organisasjon i Altinn Studio. Ved behov kan man som eier kan man legge til/fjerne brukere i team, opprette nye team og endre konfigurasjon på eksisterende team.\nOwners Beskrivelse Medlemmer i dette teamet kan tenkes på som administrator for organisasjonen. De vil kunne administrere tilgangsstyringen for alle team og repositories knyttet til organisasjonen.\nSom medlem i dette teamet kan man blant annet:\n opprette/slette team legge til og fjerne brukere i ulike team endre konfigurasjon for team  Konfigurasjon Dette teamet ligger inne som standard i alle organisasjoner og det er ikke mulig å endre konfigurasjonen for dette teamet.\nDeploy-Prod Beskrivelse Medlemmer i dette teamet kan deploye applikasjoner til produksjonsmiljøet.\nØvrige rettigheter kan defineres fritt av owners. Default konfigurasjon inkluderer rettigheter for:\n Lesetilgang i samtlige repositories Kan ikke opprette nye repositories Full tilgang til alle områder i Gitea  Konfigurasjon Konfigurasjonen av dette teamet kan justeres av owners etter behov, muligheten til å deploye til testmiljø er ikke avhengig av øvrig config.\nStandard konfigurasjon for teamet inkluderer rettigheter til å\n Lese samtlige repositories Aksessere alle områder i Gitea  Deploy-TT02 Beskrivelse Medlemmer i dette teamet kan deploye applikasjoner til testmiljøet.\nØvrige rettigheter kan defineres fritt av owners. Default konfigurasjon inkluderer rettigheter for:\n Lesetilgang i samtlige repositories Kan ikke opprette nye repositories Full tilgang til alle områder i Gitea  Konfigurasjon Konfigurasjonen av dette teamet kan justeres av owners etter behov, muligheten til å deploye til testmiljø er ikke avhengig av øvrig config.\nStandard konfigurasjon for teamet inkluderer rettigheter til å\n Lese samtlige repositories Aksessere alle områder i Gitea  Devs Beskrivelse Medlemmer i dette teamet jobber med å utvikle applikasjoner og har tilgang til samtlige repositories.\nKonfigurasjon Konfigurasjonen av dette teamet kan justeres av owners etter behov, avhengig av hvor mye frihet man ønsker at apputvikleren skal ha. Merk at det blant annet er mulig å spesifisere hvilke(t) repository teamet skal ha tilgang til.\nStandard konfigurasjon for teamet inkluderer rettigheter til å\n Opprette nye repositories Skrive til samtlige repositories Aksessere alle områder i Gitea  Tilgangsstyring for repository [Mer informasjon kommer]\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/getting-started/access-management/",
	"title": "Tilganger",
	"tags": [],
	"description": "Hvordan konfigurere tilganger i Altinn 3",
	"content": "\r\rApps\rHvordan bestille tilganger til Altinn Apps\n\r\rStudio\rHvordan konfigurere tilganger for team i Altinn Studio.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/tul/",
	"title": "TUL",
	"tags": [],
	"description": "Brukerveiledning for hvordan man utvikler tjenester i Altinn ved bruk av TUL (tjenesteutviklingsløsningen).",
	"content": "Skal du bruke TUL eller Altinn Studio? Les kom i gang med utvikling.\n\rInnledning\rOversikt og struktur, forutsetninger, beskrivelse av aktører samt overordnet prosess for Tjenesteutviklingsløsningen (TUL) i Altinn.\n\r\rKom i gang\rInstallasjon og klargjøring, Citrix, sentral funksjonalitet, statuser og beskrivelse av de ulike arbeidsflatene i TUL.\n\r\rTjenestetyper\rBeskrivelse av de ulike tjenestetypene i Altinn og hvordan man oppretter og utvikler dem.\n\r\rFelles funksjonalitet\rFelles funksjonalitet i TUL som understøtter tjenesteutvikling på tvers av alle tjenestetyper.\n\r\rDiverse\rMindre ofte brukt funksjonalitet i TUL.\n\r\rVedlegg\rDiverse vedlegg til tjenesteutviklingen i TUL. Merk at skjermdumper fra SBL er illustrasjoner og vil ikke nødvendigvis alltid være oppdaterte.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/",
	"title": "Utvikling av apper i Altinn Studio",
	"tags": [],
	"description": "Hvordan opprette og redigere apper i Altinn Studio.",
	"content": "\r\rData\rKonfigurering av datamodell, preutfylling og andre ting relatert til data i en app.\n\r\rApp brukergrensesnitt\rKonfigurering av komponenter, layouts, sider, grid, etc.\n\r\rLogikk\rHvordan legge til, endre og konfigurere applikasjonslogikk som validering, kalkulering og dynamikk.\n\r\rKonfigurasjon\rKonfigurering av ulike aspekter av en app.\n\r\rAPI\rAppene som man utvikler i Altinn Studio kan både eksponere standard og custom APIer samt benytte seg av APIer. Slik gjør du det.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/sluttbruker/innlogging/",
	"title": "Innlogging",
	"tags": [],
	"description": "Hvordan logge inn for å gi samtykke",
	"content": "I vårt eksempel med et lånesøknadscase så vil en lånesøker typisk gå til bankens hjemmeside for å søke om lån. Sannsynligvis vil man måtte logge seg inn med BankID for å søke.\nUnderveis i søknaden blir man spurt om å gi samtykke til at lignings- og lønnsopplysninger kan innhentes. Dersom man godtar dette blir man sendt til samtykkesiden i Altinn.\nFor å kunne gi et samtykke i Altinn må brukeren identifisere seg for det offentlige ved å logge inn via ID-porten.\nInnen føderert BankID mellom bankene og ID-porten er mulig, må brukere potensielt logge inn to ganger.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/sluttbruker/samtykkesiden/",
	"title": "Samtykkesiden",
	"tags": [],
	"description": "Presentasjon av samtykkesiden",
	"content": "Etter innlogging vil sluttbrukeren bli presentert for en egen samtykkeside.\nFigurene under viser et eksempel på hvordan en samtykkeside kan se ut i et lånesøknadscase:\nTjenesteeier har fleksibilitet i hvordan denne siden utformes gjennom bruk av maler.\nNår sluttbruker har gitt samtykke blir rettighetsdelegeringen til datakonsumenten utført, vil brukeren kunne bli sendt tilbake til siden som er angitt av datakonsument i redirect-URL. Sluttbruker kan også velge å ikke gi samtykke.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/sluttbruker/oversikt-samtykker/",
	"title": "Oversikt samtykker",
	"tags": [],
	"description": "Sluttbruker kan i Altinn gå inn på siden &#34;Profil&#34; for å få oversikt over hvem man har gitt samtykke til.",
	"content": "Figuren under viser hvordan dette presenteres for bruker.\nFra denne siden kan man gå og se nærmere på det enkelte samtykket.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/sluttbruker/trekke-samtykke/",
	"title": "Trekke samtykke",
	"tags": [],
	"description": "Hvordan trekke et samtykke som er gitt",
	"content": "Det vil være mulig å logge seg inn i Altinn og trekke et avgitt samtykke, så fremt man ikke har avgitt et engangssamtykke. Etter at samtykke er trukket vil det ikke lenger være mulig for datakonsumenten å få tilgang til data som sluttbrukeren opprinnelig samtykket til å dele. For å trekke samtykke velger man \u0026ldquo;Se/trekk samtykke\u0026rdquo;.\nHar man avgitt et engangssamtykke vil dette ikke kunne trekkes i Altinn da informasjonen i de fleste tilfeller hentes av datakonsument umiddelbart etter at man har samtykket. Ønsker man at datakonsument skal slette data de har hentet må sluttbruker ta kontakt med datakonsument.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/sluttbruker/aktivitetslogg/",
	"title": "Avtalelogg",
	"tags": [],
	"description": "Sluttbruker får tilgang til en avtalelogg på sidene for &#34;Profil&#34; som viser hvilke samtykker/fullmakter brukeren har gitt, når de har utløpt, når data har blitt hentet osv. Ved å klikke på &#34;?&#34; ved et gitt samtykke, kan man se hva samtykket/fullmakten gjelder.",
	"content": ""
},
{
	"uri": "https://altinn.github.io/docs/seres/",
	"title": "SERES",
	"tags": [],
	"description": "SERES er en nettbasert løsning for forvaltning av metadata for offentlig informasjon, som skal bidra til effektiv etablering og vedlikehold av semantiske web-tjenester.",
	"content": "\rLøsningen vil etter hvert bli erstattet av Altinn Studio og en utfasing er planlagt fullført innen 01.07.2021.\nLes mer om utviklingen av den nye datamodelleringsløsningen her.\n\r\rI SERES (SEmantikkRegister for Elektronisk Samhandling) kan brukere etablere og forvalte sine egne metadata til bruk i informasjonsforvaltning og tjenesteproduksjon. Det etableres modeller som beskriver informasjon innenfor et domene. Et domene er i denne sammenheng en offentlig aktør, tjenesteeier eller et fagområde.\nUt fra disse informasjonsmodellene kan brukeren lage produkter (p.t. meldingsspesifikasjoner) til bruk i tjenesteutviklingen.\n\rVis/skjul innhold\r\rMotivasjon for SERES-løsningen\r\r\rDet er stadig økende forventninger fra privatpersoner, næringslivsaktører, politikere og media til konglomeratet av IT-løsninger som settes opp for informasjonsutveksling med og mellom offentlige institusjoner. Kravene til kvalitet tvinger frem tunge, kostbare utviklingsprosjekter for å etablere og vedlikeholde løsningene.\nFor å møte denne utfordringen må en bygge løsninger på en smart måte ved å benytte standard programvare-komponenter og minst mulig skreddersøm. Det er i denne erkjennelsen dagens SERES-løsning er utviklet der modelldrevet arkitektur er et sentralt stikkord.\nFølgende scenarier kan illustrere forventningene: Adresseendring må kunne meldes i enhver løsning hvor disse dataene etterspørres. Endringen må deretter distribueres til hele offentlig sektor, både stat, kommuner og viktige næringslivsaktører som for eksempel Posten. Spesifikasjon av hemmelig adresse må ha en restriktiv distribusjon. Vi trenger altså beskrivelser som setter konfidensialitet av data. Lønnsrapportering fra en bedrift må kunne gjøres samlet en gang per måned tilknyttet lønnskjøringer i bedriften. Lønnsdata distribueres så til alle offentlig brukere av disse dataene. En lege som kommer til et ulykkessted må få tilgang til journalinformasjon som er kritisk for behandlingen, men ikke noe mer. Mange lokale kopier av data medfører økt risiko for utilsiktet lekkasje. Og datakvaliteten forringes fordi oppdatering av dataene gjerne ligger etter.\n\r\r \rVis/skjul innhold\r\rHva er metadata?\r\r\rMetadata er et begrep som er vanskelig å unngå når en beskriver den type løsninger som SERES representerer. Metadata er alt som forklarer betydningen av de enkelte dataelementene og de sammenhengene de inngår i. I et regneark med data plassert i rader og kolonner er det vanlig å bruke første rad for å forklare hvilke data en legger inn i de øvrige cellene:\nI figuren over er de hvite cellene de rene dataene, mens de grønne cellene er metadata.\nDersom disse dataene skal flyttes til andre regneark eller helt andre programmer/systemer, må en vite mer enn navnene på metadata-elementene - for eksempel hva de betyr (definisjoner) og sammenhengen de blir brukt i m.m.\n\r\r \rVis/skjul innhold\r\rUtdypende beskrivelse om SERES og metadata\r\r\rHovedprinsipper  Det bygges et begrepsapparat som beskriver offentlig informasjon (f. eks. person, fødselsnummer, adresse) der hvert begrep blir definert og satt i forhold til andre begreper (f. eks. ansatt er en type person som kan uttrykkes som en rolle for eller et underbegrep av person). Begrepsapparatet forvaltes som et antall såkalte begrepsmodeller på et modellnivå kalt begrepsnivå. Det utvikles allmenngyldige sammenstillinger av begreper, kalt strukturelementer som blir organisert i strukturmodeller, der noen begreper sies å være egenskaper for andre begreper (f. eks. at fødselsnummer er en egenskap for person). Knytningen mellom et strukturelement og tilhørende begrep kalles en annotering. Strukturmodellene hører til modellnivået strukturnivå. Det utformes bruksnære dataelementer som inngår i datamodeller (f. eks. fødselsnummer angitt som et 11-sifret positivt heltall. Dataelementene kan alternativt inngå i beskrivelser av meldinger (meldingsmodeller) eller beskrivelser av skjemaer m.m. (presentasjonsmodeller). Et dataelement bør så langt det er mulig være basert på og varig peke til et tilhørende strukturelement fra en strukturmodell. Datamodeller, meldingsmodeller og presentasjonsmodeller hører til modellnivået implementasjonsnivå.  Alle begreper, strukturelementer og dataelementer, slik beskrevet over, utgjør det en kaller metadata.\nDomener Alle typer modeller vil tilhøre spesifikke kataloger med underliggende domener som representerer informasjon forvaltet av etater m.m. eller innenfor fagområder. Hvert domene er delt i tre nivåer, et begrepsnivå med begrepsmodeller, et strukturnivå med strukturmodeller og et implementasjonsnivå med datamodeller, meldingsmodeller og presentasjonsmodeller.\nBegreper i vanlige domener kan være semantisk relatert til:\n andre begreper i samme begrepsmodell begreper i andre begrepsmodeller i eget domene  Elementene på strukturnivået og implementasjonsnivået vil primært ha semantiske annoteringer mot begreper i samme domene.\nMeldingsmodellene er grunnlag for generering av meldingsspesifikasjoner. Presentasjonsmodellene kan også brukes for å generere meldingsspesifikasjoner, men er først og fremst ment som grunnlag for generering av web-baserte skjemaer.\nRepository og klienter Metadata lagres i et internutviklet repository (SERES Repository) som er basert på Elasticsearch. Brukere produserer metadata samt utveksler metadata med repository ved hjelp av klienten SERES Domeneklient. Klienten er en internutviklet standalone-klient som kjører under Windows.\n\r\r \rKom i gang\rFor tjenester som skal utvikles i Altinn må det foreligge en avtale om tjenesteutvikling. Ved bruk av SERES-løsningen utenfor Altinn må det inngås en egen avtale med SERES.\n\r\rSERES-klienter\rMetadata lagres i SERES Repository som er et internutviklet repository basert på det åpne kildekodeproduktet Elasticsearch. Metadataene blir lagret som en XMI og et modell-API serialiserer og deserialiserer filen slik at den har en SERES-spesifikk struktur (SERES Metamodell).\n\r\rModellere informasjon i SERES Domeneklient\rDenne klienten speiler innholdet av SERES Repository og tillater inspeksjon, innlegging og endringer av modellene på alle nivåer - dvs. begrepsnivået (begreper og begrepsrelasjoner), strukturnivået (strukturmodeller med strukturelementer) og implementasjonsnivået (bruksnære elementer i data- og meldings- og presentasjonsmodeller).\n\r\rGenerere SERESxsd-er\rVed generering av en meldingsspesifikasjon (XSD) fra en meldingsmodell i domeneklienten, er det angitt en del parametre med verdier som er tilpasset tjenesteutvikling i Altinn.\n\r\rPublisere SERESxsd-er\rMeldingsspesifikasjoner (XSD-er) blir automatisk publisert i en web-basert løsning som kalles SERES Produktforvaltning etter at de er blitt generert i Domeneklienten.\n\r\rBrukerveiledninger\rBrukerveiledninger til komponentene i SERES.\n\r\rSERES endringslogg\rOversikt over endringer i SERES.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/data.altinn.no/ofte-stilte-sp%C3%B8rsm%C3%A5l/",
	"title": "Spørsmål og svar om data.altinn.no",
	"tags": [],
	"description": "",
	"content": "Spørsmål og svar  Trenger du å dele data med spesifikke private eller offentlige virksomheter?  data.altinn.no autoriserer selv tilgang før data returneres.   Har du data om privatpersoner som krever samtykke?  data.altinn.no oppretter automatisk samtykkeforespørsler til personens meldingsinnboks.   Er du ikke tjenesteeier i Altinn?  Det går helt fint, men da kan du ikke administrere brukergruppene dine like enkelt på egen hånd.   Er APIet ditt asynkront og/eller veldig treigt?  data.altinn.no støtter oppkøing og at enkelte beviskilder trenger noe tid på å svare. Det vil også bli mulig med bruk av callback-url eller push-events så man slipper å spørre om dataene er klare, men i stedet bli varslet.   Har du data som ikke virker å være interessante for andre enn deg selv?  Alle former for offentlige data om personer og virksomheter kan ha en verdi når de sammenstilles med data fra andre kilder. Ofte er det ikke de som sitter på dataene som ser de mest innovative casene.   Lagres data i data.altinn.no?  Nei, data.altinn.no lagrer bare metadata om datauthentingen (hvem som spør, hvem sine data det er og hvem som ønsker dem)   Kjører data.altinn.no i en skyløsning?  data.altinn.no er en skyløsning bygget på Microsoft Azure-plattformen, i likhet med Altinn Studio og Altinn tjenester 3.0.   Videre plan, drift og forvaltning?  Altinn står for drift og vedlikehold, samt videreutvikling av tjenesten. Det vil bli sett på nye brukergrupper som kan ta i bruk løsningen, og knytte flere informasjonskilder til tjenesten.   Hvor finner man informasjon om APIene?  Se link: https://data.altinn.no/    "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2015/15-1/",
	"title": "15.1",
	"tags": [],
	"description": "Splitt av data, automatisert deploy, ny prosess-komponent, mastertjenester, ny startside i TUL, type-ahead i klientliste, +++",
	"content": "Som vanlig inneholder februar-versjonen av Altinn endringer for selvangivelsen. I tillegg kommer en rekke forbedringer og feilrettinger i øvrige deler av løsningen.\nMange av endringene i den nye versjonen er ikke synlige for brukerne, men enkelte endringer vil være godt synlige.\nMeldingsboks Sortering av meldinger i arkiv (17349) For å skape bedre oversikt i Min meldingsboks (MMB) ble det i juni 2014 innført en endring i «Til min behandling» i MMB som sørget for at tjenester beholdt sin opprinnelige dato (opprettet eller mottatt) og ikke bruke «sist endret»-dato til sortering i MMB. Nå vil denne endringen også gjelde for skjema som arkiveres (i «Arkivert»). NB! Meldinger som allerede er arkivert vil fortsatt sorteres etter datoen de ble arkivert.\nTjenester Endring av design på knapper i tjenester (16427) Designet på knapperaden moderniseres. Dette gjøres for å få knappene mer synlige, samt å rette en rekke stylingfeil.\nForbedring av brødsmulesti i tjenester (17180) Vi gjør grafiske endringer for brødsmulesti i tjenester (stegene som vises på innsendingstjenester). Vi retter opp i feil og endrer på det visuelle for å få en mer tydelig brødsmulesti.\nKnapp i \u0026ldquo;kontroller skjema\u0026rdquo;-pop-up (16405) Mange brukere blir stående fast i et underskjema når de forsøker gå tilbake til hovedskjema og har feil i det skjemaet de står i. Brukerne ser ikke lenken for å gå tilbake og rette feilene senere. Vi innfører derfor en knapp med «Gå tilbake til hovedskjema og rett feilene senere» til venstre for «Lukk»-knappen. På den måten blir det tydeligere for brukeren at man har to valg.\nFeilretting - Fjerning av tekst på kvitteringssida (15373) Liten feilretting som går ut på å fjerne en overflødig tekst på kvitteringssiden for innsendingstjenester. Teksten som fjernes er «Ingen signeringstekst».\nHåndtering av filvedlegg ved flere signeringssteg (17408) Retting av en feil som fører til at filvedlegg i en del tilfeller ikke vises på signeringsside. Dette gjelder fra og med signeringssteg to for vedlegg som er lagt til på tidligere signeringssteg. I tillegg vil det nå i første signeringssteg inneholde sjekkboks-markør når det er mulig å legge til vedlegg ved signering\nFeilretting - IE 11-feil på siden oversikt skjema og vedlegg (16852) Feilretting som sørger for at det ikke lenger skal være dobbelt opp med «Browse»-knapper under «Legg til filvedlegg» på siden «Oversikt skjema og vedlegg» ved skjemautfylling i Internet Explorer 11.\nFjerning av varsel til avgiver ved parallell signering (17482) Ved parallell signering når avgiver også skal signere skal denne ikke motta melding eller varsel om at signering skal utføres. Melding eller varsel ble tidligere sendt, men dette er nå blitt fjernet.\nFeilretting – Arkiverte meldinger i PSA-meny (17346) En følgefeil fra 14.2 gjorde at arkiverte meldinger ikke ble vist i PSA-menyen. Dette er nå rettet slik at arkiverte meldinger vises i PSA-menyen.\nParallell signering og sluttbrukersystem (16350) Ved parallell signering og innsending fra sluttbrukersystem ble det ikke sendt ut varsel for signering. Dette er nå rettet slik at varsel sendes ut.\nTilgangsstyring Feilretting – Deaktiverte på «Slett roller» (14186) Feilretting som sørger for at knappene for å bla mellom sider i listen på «Slett roller» under Tilgangsstyring ikke skal være deaktivert.\nType-ahead i klientliste (12192) Hvis man har flere enn 10 klienter, gjøres nedtrekkslisten i enkeltvis klientdelegering om til et tekstfelt der man må skrive inn org.nr til klienten. I dette feltet innfører vi type-ahead-funksjonalitet slik at listen viser treff som stemmer med det man skriver inn.\nOppdatere overstyring av rettigheter (13084) Vi innfører mulighet til å oppdatere eksisterende overstyringer av rettigheter. Til nå har man først måttet slette eksisterende overstyring og deretter gjøre ny overstyring.\nFeilretting - Delegering av enkeltrettigheter (17132) Feilretting som sørger for at man ikke får opp feilmelding om at delegering allerede er utført annet enn i tilfeller der delegering faktisk er utført.\nDelegerbar rolle for rettighet til parallell signering (17420) Vi innfører en ny delegerbar rolle til bruk ved parallell signering. Ved parallell signering gis de som angis i skjema som noen som skal signere rettighet til å signere aktuell instans av skjema. Når dette er en virksomhet, kan det være behov for å delegere rettigheten videre, noe som nå kan gjøres via den nye rollen (som vil gjelde alle parallelle signeringer virksomheten skal gjøre).\nInformasjonsportalen Tydeligere markering av punktlister (16403) Feilretting som sørger for at unummererte lister hvor punktene ikke er lenker blir markert som punktlister.\nFeilrettinger i EPiServers redigeringsmodus (16884) Retting av to mindre feil for redaktører. Endringen fører til at sammenligning av versjoner av sider skal fungere, samt at det blir enklere å legge til utheving av innhold.\nKontaktskjema for ABS (17220) Det lages et nytt kontaktskjema for å sende spørsmål til Altinn brukerservice. Dette vil sikre at ABS får mer av informasjonen de trenger for å kunne yte god hjelp til brukerne.\nNy knapp for å gå til tjeneste (14534) Vi innfører en ny knapp for å gjøre det tydeligere hvor man skal klikke for å gå fra informasjonssiden om en tjeneste til selve tjenesten.\nKorrekt innloggingsstatus (15701) Feilretting for å unngå situasjoner der det ser ut som at man er innlogget (man ser hvem som er innlogget og hvem man representerer ved siden av logg ut-knappen), selv om man har fått en timeout.\nEksterne grensesnitt Bedret caching ved migrering av enkeltskjema i skjemasett (16245) Endring som forhindrer at man må vente en time før man kan teste nymigrerte enkeltskjema ved innsending fra sluttbrukersystem på grunn av mellomlagrede data.\nVidereutvikling av REST API (17439) Forbedringer av REST API med bakgrunn i tilbakemeldinger og forretningsmessige behov. Innhold i endringen fastsettes fortløpende (smidig utvikling).\nSubmitAttachmentStreamed (16795) Forbedringer og bedre robusthet i sluttbrukersystemoperasjonen SubmitAttachmentStreamed.\nTjenesteeiers arkiv og trukket samtykke (16266) Feilretting som sikrer tilgang for mottakende etat på elementer som er lagret i tjensteeiers arkiv, selv om sluttbruker har trukket samtykke.\nIntegrasjonsplattform og grensesnitt Orkestrering på CorrespondenceConfirmation outbound shipments (16957) Etter at Download Queue (DQ) ble innført har det blitt opprettet flere meldingstjenester og lenketjenester som feilaktig er blitt knyttet til DQ i stedet for et grensesnitt (ShipmentDefinitionID =0). Når data ble generert til tjenesteeiere fra disse tjenestene ble det sendt melding til PrepareShipmentPart-orkestreringen. Siden grensesnittet ikke eksisterer førte dette til at orkestreringen feilet og meldingen ble suspendert.\nMed bakgrunn i dette endres det i SBL slik at det ikke genereres noen melding til PrepareShipmentPart når ShipmentDefinitionID = 0. I tillegg endrer man i integrasjonsløsningen for å gjøre orkestreringen mer robust, slik at denne ikke suspenderes selv om den skulle motta en ugyldig melding om å sende et element tilknyttet en tjeneste som ikke er tilknyttet noe grensesnitt.\nSpesialbehandling av tegnene \u0026lt; \u0026gt; og \u0026amp; (17157). Enkel endring for å unngå dobbel encoding av spesial tegn i data som overføres til etat. I dagens løsning har det for eksempel vært firmanavn som har inneholdt \u0026lsquo;\u0026lt;\u0026rsquo; som har endt opp som \u0026lsquo;\u0026lt;\u0026rsquo; hos etat.\nReimplementasjon av «Splitt av data»-funksjonalitet (17152) For noen innsendingstjenester skal deler av rapporteringen (hovedskjema/skjema i skjemasett) sendes til flere tjenesteeiere. Selve splitten vil bli definert i TUL (splitt-siden). Ved bruk av denne funksjonaliteten får man en mer fleksibel håndtering av informasjon. Målet med denne endringen er å implementere splitt-data funksjonalitet på skjema nivå. I tillegg vil det på skjemanivå være mulig å gjøre splitting uten bruk av XSLT, noe som vil gi god ytelse. Kryptering på feltnivå, samt splitting på feltnivå vil ikke inngå i denne spesifikke aktiviteten, men være mål for en framtidig release.\nBrukernavn og passord på sendporter etter biztalk-deploy (17733) Feilretting som sørger for bedre håndtering av brukernavn og passord ved biztalk-deploy.\nRefaktorering av sekvensnummerfunksjonalitet (17218) Forbedring av ytelse og robusthet. Modellen for transportsekvens forenkles for å forhindre en del kjente samtidighetsproblemer (deadlocks og timouts) i integrasjonsløsningen relatert til bruk av sekvensnummerfunksjonalitet. I tillegg minimeres behov for låsing av sekvensnummer tabell, slik at lese og skrive operasjoner kan gå uavhenging, unødige databasekall når et grensesnitt ikke har noen sekvens fjernes.\nTeknisk arkitektur HTML som alternativ til PDF (17194) Det innføres støtte for HTML som utskriftsformat i portalen. Om og når dette skal tilgjengeliggjøres styres av tjenesteeier pr. tjenesteutgave. HTML som utskriftsformat vil føre til raskere visning/nedlasting for brukerne og bedre kapasitet i løsningen.\nNB! Endringen blir ikke tilgjengelig umiddelbart etter produksjonssetting av ny versjon.\nOppdatere prosess-komponent (13629) Dagens prosessmotor som understøtter samhandlingstjenester fornyes og forbedres. Støtte for eksisterende prosesser vil videreføres så lenge dette er nødvendig.\nAutomatisert deploy (17274) Deploy av plattform-komponenter automatiseres i systemtestmiljøene.\nMer automatisert enhetstest (17273) Dekningsgrad for automatisert enhetstest økes.\nManglende indekser (15839) Det innføres noen indekser i databasen for enda bedre ytelse.\nEndre datatype i tabell (16739) For å understøtte fremtidig datavekst så må datatype i en tabell i databasen endres.\nTjenesteutviklingsløsning Mastertjeneste som kan gjenbrukes (16684) Vi implementerer nå en løsning som gjør at vi kan definere en innsendingstjeneste som en mastertjeneste i tjenesteutviklingsløsningen. En slik tjeneste vil kunne gjenbrukes slik at man lager en slavetjeneste. Denne slavetjenesten vil være en kopi av mastertjenesten, men ha sin unike ID. På slavetjenesten kan man kun endre hvor dataen skal sendes og gyldighetsdatoen.\nImplementering av nytt visuelt design for startsiden i TUL (16953) Vi gjør endringer på startsiden i TUL slik at den blir mer brukervennlig. Du vil nå få en oversikt over dine sist brukte tjenester og utgaver. Kun de tjenesteeiere du har tilgang til vil vises på startsiden, men det vil være en lenke for å åpne alle tjenesteeiere. Nederst på startsiden vil det være en blog/wiki for kunnskapsdeling.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2017/17-1-1/",
	"title": "17.1.1",
	"tags": [],
	"description": "500 MB på REST og webservices, forbedringer av samtykke samt utvidet API for forms og attachments",
	"content": " Separat POST, PUT og DELETE på forms i REST-api for sluttbruker Separat POST og DELETE på attachments-ressursen, med egen operasjon for streaming av store vedlegg på REST-api for sluttbruker Logging av brukt samtykke og implisitt sletting av engangssamtykke Støtte for vedlegg på opptil 500 MB på REST og webservices  "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2015/",
	"title": "2015",
	"tags": [],
	"description": "Endringer innført i 2015.",
	"content": "\r15.3\rStøtte for virksomhetssertifikat i REST API, tekniske forbedringer, EIR, innlogging med utenlandsk id (eIDAS), \u0026#43;\u0026#43;\u0026#43;\n\r\r15.2\rNy formidlingstjeneste, forenklet registrering av kontaktinformasjon, forbedret parallell signering, delegering via REST API, \u0026#43;\u0026#43;\u0026#43;\n\r\r15.1\rSplitt av data, automatisert deploy, ny prosess-komponent, mastertjenester, ny startside i TUL, type-ahead i klientliste, \u0026#43;\u0026#43;\u0026#43;\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/",
	"title": "Altinn Studio",
	"tags": [],
	"description": "Altinn Studio er vårt nye verktøy for å utvikle offentlige digitale tjenester. Dette kan være alt fra helt enkle skjema til avanserte applikasjoner.",
	"content": "\rHvem kan ta i bruk Altinn Studio?\nHittil har utvalgte pilotbrukere testet løsningen med fokus på de som har kompetanse på systemutvikling og bruk av APIer.\nSe også informasjon om hva du kan lage i verktøyet under Roadmap og funksjonalitetsbeskrivelse.\n\r\rDu må være tjenesteeier i Altinn samt godta bruksvilkår for Altinn i skyen for å kunne produksjonssette tjenester, men alle kan logge inn i altinn.studio og teste ut mulighetene.\nHvis du lurer på noe så er det bare å ta kontakt med oss på Slack eller GitHub, eller lese dokumentasjonen her og på docs.altinn.studio.\n\rKom i gang med Altinn Studio\rKom i gang slik at du kan utvikle apper i Altinn Studio.\n\r\rUtvikling av apper i Altinn Studio\rHvordan opprette og redigere apper i Altinn Studio.\n\r\rTesting av apper\rApplikasjoner (apper) kan testes i testmiljø, eller lokalt.\n\r\rProduksjonssetting av apper\rTjenesteeier kan selv produksjonssette sine applikasjoner, og gjøre vedlikehold av kode og avhengigheter.\n\r\rVedlikehold av app i produksjon\rApplikasjoner i produksjon krever jevnlig vedlikehold og oppdateringer.\n\r\rLanserte tjenester\rOversikt over hvilke tjenester som allerede er i produksjon, til informasjon og inspirasjon\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/testing/authentication/",
	"title": "Autentisering",
	"tags": [],
	"description": "Beskrivelse av hvordan systemer og tjenesteeiere kan benytte Maskinporten eller ID-porten for å få tilgang til APIer i Altinn 3.",
	"content": "\r\rAutentisere med Maskinporten\rBeskrivelse av hvordan tjenesteeiers systemer kan benytte Maskinporten for å få tilgang til APIer.\n\r\rAutentisere med ID-porten\rBeskrivelse av hvordan systemer kan benytte ID-porten for å få tilgang til APIer i Altinn 3.\n\r\rDelegere API-tilganger til en leverandør\rBeskrivelse av hvordan tjenesteier kan delegere API-tilganger (scopes) til en underleverandør.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/getting-started/navigation/code/",
	"title": "Code",
	"tags": [],
	"description": "Slik navigerer du i Altinn Studio Code.",
	"content": "Selv om vi har støtte for å redigere kode og konfigurasjonsfiler direkte i Altinn Studio Repos, er det ofte mer behagelig å gjøre det lokalt på din maskin.\nFor å gjøre dette må du laste ned og installere et koderedigeringsverktøy.\nVi anbefaler Visual Studio Code, men det er fritt fram hvilket verktøy du velger.\nFinne adressen til et repo URL-en til et gitt app repository er strukturert slik, så bytt ut owner og repo-navn:\nhttps://altinn.studio/repos/owner/repo.git.\nDu kan finne URL-en ved å navigere til repositoryet. Klikk ikonet til høyre for å kopiere.\nDu kan også finne samme URL i en popup i Designer hvis du klikker på \u0026ldquo;Clone\u0026rdquo;-knappen.\nKlone koden Etter at du har åpnet Visual Studio Code, åpne den integrerte terminalen (ctrl + ø) og skriv klone-kommandoen. Husk å få med riktig organisasjon og repo-navn.\ngit clone https://altinn.studio/repos/owner/repo Om du ikke er kjent med Visual Studio Code eller Git arbeidsflyt, er det god dokumentasjon her:\nhttps://code.visualstudio.com/docs/getstarted/introvideos https://code.visualstudio.com/docs/editor/versioncontrol#_git-support\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2017/etablering/",
	"title": "Etablering",
	"tags": [],
	"description": "Bytte av leverandører, nye avtaler, ny teknisk driftsplattform",
	"content": "Ifbm. innføring av nye avtaler og nye leverandører, så ble Altinn flyttet til en ny teknisk driftsplattform.\nHer kan du lese mer om valg av leverandører:\n Pressemelding Forenklingsbloggen  "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/datakilde/",
	"title": "For datakilde",
	"tags": [],
	"description": "Utføres av datakilde/tjenesteeier",
	"content": "Datakilden vil i de fleste sammenhenger også være tjenesteeier (eier av samtykketjenesten).\nHer beskrives hvilke oppgaver tjenesteeier må utføre for å få realisert en samtykketjeneste i Altinn.\nBeskrivelsen gjelder bruk av samtykke der dataflyten går direkte mellom datakilden og datakonsumenten og hvor tilgang til data autoriseres med innholdet i et token generert av Altinn for datakonsumenten.\nSiden dataflyten går utenom Altinn må datakilde/tjenesteeier tilby et tjenestegrensesnitt som datakonsumentene kan hente data fra.\n\rOpprette tjeneste\rOpprettelse av samtykketjeneste i tjenesteutviklingsløsningen (TUL).\n\r\rAutorisere datakonsument\rAutorisere opp datakonsument ved registrering i tjenesteeierstyrt register\n\r\rInformasjon om token\rBruk og verifisering av self contained OAuth-token som mottas fra datakonsument.\n\r\rTest av tjeneste\rTeste autorisasjon av datakonsument og samtykketjeneste\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/api/soap/grensesnitt/",
	"title": "Grensesnitt",
	"tags": [],
	"description": "SOAP operasjoner med beskrivelse.",
	"content": "I parameter listene under finnes en del parametere som er formater med italic. Disse er interne for Altinn og vil bli fjernet eller endret til noe som gir mer mening for eksternt som en del av en forbedring på alle kontrakter jfr. forbedringspunkt Prod100006098 – Disse er heller ikke kommentert.\nReporteeArchiveExternal    Tjenesteoperasjon Kort beskrivelse     GetArchivedFormTask Henter alle skjema og vedlegg for et arkivert skjemasett.   GetAttachmentData Henter de binære vedleggene til et arkivert element   GetArchivedLookup Henter en arkivert innsynstjeneste   GetArchivedCorrespondence Henter en arkivert melding    Se endepunkter for informasjon om endepunkter for tjenesteoperasjonene.\nGetArchivedFormTaskV2 Denne operasjonen henter alle skjema og vedlegg for et skjemasett arkivert i Altinn. Operasjonen er versjonert, gjeldende versjon er V2.\nInput parameter Parametere som ikke er beskrevet her er knyttet til autentisering og vil variere fra et endepunkt til et annet.\n   Input Beskrivelse     reporteeElementId Unik identifikator for et element i arkivet.   languageID Språk id. Benytt verdien 0 (uspesifisert) da skjemasett vil hentes med språket den ble arkivert med. Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068- Nynorsk    Datakontrakter for responsen ArchivedFormTaskBEV2    Feltnavn Beskrivelse     ReporteeElementID Unik identifikator for skjemasettet i Altinn   LastChanged Dato og tidspunkt for når skjemasettet sist var endret (yyyy-MM-ddThh:mm:ss)   ReporteeID Unik identifikator for avgiver i Altinn som skjemasettet tilhører   ArchivedDateTime Dato og tidspunkt for når skjemasettet ble arkivert (yyyy-MM-ddThh:mm:ss)   ServiceOwner Tjenesteeier som tilbyr tjenesten som skjemasettet tilhører.   InvoiceInformation Betalingsinformasjon tilknyttet skjemasettet, desimaltall.   ArchivedFormList Liste med arkiv-objekter (ett objekt av typen ArchivedFormBE per skjema i skjemasettet), som inneholder detaljer for skjemaene i skjemasettet   ArchivedAttachmentList Liste med Arkiv-objekter (ett objekt av typen ArchivedAttachmentBE per vedlegg i skjemasettet), som inneholder detaljer for vedleggene i skjemasettet.   ArchivedFormTaskSigningStepList Liste med arkiv-objekter av typen ArchivedFormTaskSigningStepBE, som inneholder signeringsinformasjon for hvert signeringssteg for skjemasettet.   ExternalServiceCode Tjenestekode (for eksempel ”PSA”) for tjenesten som skjemasettet tilhører.   ExternalServiceEditionCode Tjenesteutgavekode (for eksempel ”2009”) for tjenesten som skjemasettet tilhører.   ssnOrgNumber Inneholder enten fødselsnummer eller organisasjonsnummer tilhørende ReporteeID   PasswordEncryptedSymmetricKey Passordkryptert symmetrisk nøkkel for å dekryptere eventuell sensitive felter.   SOEncryptedSymmetricdKey Samme symmetriske nøkkel som over, men kryptert med tjenesteeiers sertifikat. Tjenesteeier kan da bruke privat nøkkel til å dekryptere denne nøkkelen.   ArchiveTaskList Liste med arkiv-objekter av typen ArchiveTaskBEV2.    ArchivedFormBE    Feltnavn Beskrivelse     FormID Unik identifikator for skjemaet i Altinn   FormName Navn på skjemaet   FormDataXML XML som inneholder selve skjemadataene.   ParentReference Referanse til hovedskjemaets FormID (dersom skjemaet er et underskjema).   FormPresentationFieldValue Presentasjonsfeltverdi for skjemaet.   PaymentInformationE2B E2B-formatert kvittering for skjemaet.   PaymentInformationHTML HTML-formatert kvittering for skjemaet.   DataFormatId Den unike id for et spesifikt skjema, dette er typisk gitt av metadata leverandør   DataFormatVersion Versjonen av en gitt DataFormatID, som sammen med den gir et unikt skjema (spesifikasjon)   FormPaymentInfo Betalingsinformasjon vedlagt skjemaet.   FormSummary Beskrivelse av skjemaet    ArchivedAttachmentBEV2    Feltnavn Beskrivelse     AttachmentID Unik identifikator for vedlegget i Altinn.   AttachmentName Navn på vedlegget.   FileName Navn på fil for vedlegg. Filavnet kan ikke inneholde tegn som \u0026ldquo;:\u0026rdquo; og \u0026ldquo;\u0026quot;.   AttachmentData Innholdet/dataene i vedlegget.   CreatedDateTime Dato og tidspunkt for når vedlegget ble opprettet (yyyy-MM-ddThh:mm:ss).   SendersReference Referanse satt av sluttbruker- eller etatssystem som har sendt vedlegget.   IsEncrypted Boolsk verdi som sier om vedlegget er kryptert.    ArchivedFormTaskSigningStepBEV2    Feltnavn Beskrivelse     SignatureID Unik identifikator for signaturen i Altinn.   SignedByUser Unik Altinn id på bruker som har gjennomført signering   SignedByUserSSN Fødselsnummer til bruker som har gjennomført signering   SignedByUserName Navn på bruker som har gjennomført signering.   CreatedDateTime Dato og tidspunkt for når signeringen ble gjennomført (yyyy-MM-ddThh:mm:ss).   Signature Signaturen, binært formatert.   SignatureText Tekst for signatur.   AuthenticationLevelID Unik Altinn id for autentiseringnivået for signaturen   AuthenticationMethod Unik Altinn id for autentiseringsmetoden til brukeren ved signering.   CertificateIssuedByName Hvem som har utsted det eventuelle sertifikat som ble brukt ved signering   CertificateIssuedForName Hvem dette sertifikatet har blitt utstedt til.   CertificateValidFrom Når er sertifikatet gyldig fra   CertificateValidTo Når er sertifikatet gyldig til   SignedAttachmentList Liste med AttachmentIDs for vedlegg som er signert med denne signaturen.   SignedFromList Liste med FormIDs for skjemaer som er signert med denne signaturen.   IsSigningAllRequired Angir om signering er utført for alle elementer i skjemasett: YES – signering på alle skjema. NO – valgfri signering på skjema. SET_PER_FORM – valg for signering satt på skjema nivå.   ProcessStepID Den unike identifikatoren for steget signaturen gjelder for.    ArchiveTaskBEV2    Feltnavn Beskrivelse     EndUserSystemID Sluttbrukersystem identifikator.   LastChanged Angir dato for sist endring.   NumberOfSignaturesAdded Antall signaturer som er lagt til.   ProcessStepID_FK Intern ID for prosessteg.   SentComplete Angir om element ble sent som komplett fra sluttbrukersystem.   TaskID Identifikator for elementet, samme som ReporteeElementID   UserDefinedNumberOfSignaturesRequired Antall signaturer krevd for et evt brukerstyrt signeringssteg.   WorkflowReference Intern ID forarbeidsflyt.    GetAttachmentDataV2 Denne operasjonen benyttes for å hente ut data for ett gitt vedlegg. Operasjonen er versjonert, gjeldende versjon er V2.\nInput parameter Parametere som ikke er beskrevet her er knyttet til autentisering og vil variere fra et endepunkt til et annet.\n   Input Beskrivelse     attachmentId Unik identifikator for et vedlegg.    Datakontrakter for responsen AttachmentBEV2    Feltnavn Beskrivelse     AttachmentID Unik identifikator for vedlegget i Altinn   AttachmentName Navn på vedlegget.   FileName Navn på fil for vedlegg. Filavnet kan ikke inneholde tegn som \u0026ldquo;:\u0026rdquo; og \u0026ldquo;\u0026quot;.   AttachmentData Innholdet/dataene i vedlegget.   CreatedDateTime Dato og tidspunkt for når vedlegget ble opprettet (yyyy-MM-ddThh:mm:ss).   SendersReference Referanse satt av sluttbruker- eller etatssystem som har sendt vedlegget.   IsEncrypted Boolsk verdi som sier om vedlegget er kryptert.   AttachmentTypeID MIME-typen for vedlegget   AttachmentFunctionTypeID Angir funksjon for vedlegget: Invoice, Unspecified   ReporteeElementID Referanse til element (skjemasett eller melding) som vedlegget tilhører. Unik id i Altinn.   CreatedByUserID Bruker id for bruker som har lagt ved vedlegget.   IsAddedAfterFormFillin Angir om vedlegget er lagt til etter utfylling.   IsAssociatedToFormSet Angir om vedlegget er knyttet til skjemasett eller ikke – brukes for å slette vedlegg som er lastet opp men ikke lagt til skjemasettet.   DestinationType     GetArchivedLookup Denne operasjonen benyttes for å hente en arkivert innsynstjeneste.\nInput parameter Parametere som ikke er beskrevet her er knyttet til autentisering og vil variere fra et endepunkt til et annet.\n   Input Beskrivelse     reporteeElementId Referanse til innsynstjenesten som skal hentes.   languageID Språkkode for det språket innsynstjenesten skal hentes med. Språk id:1033-English, 1044-Bokmål, 2068-Nynorsk    Datakontrakter for responsen ArchivedLookupExternal    Feltnavn Beskrivelse     AllowForwarding Angir om innsynstjenesten kan videresendes i portalen.   ArchiveDateTime Angir dato for når innsynstjenesten ble arkivert.   LanguageTypeId Språkkoden.   LookupID Unike identifikatoren for denne innsynstjenesten, samme som ReporteeElementId.   LookupPDF Entitet av typen AttachementBEV2 som inneholder data og metadata om PDF.    AttachmentBEV2    Feltnavn Beskrivelse     AttachmentID Ikke satt.   AttachmentName Navn på vedlegget.   FileName Navn på fil for vedlegg. Filavnet kan ikke inneholde tegn som \u0026ldquo;:\u0026rdquo; og \u0026ldquo;\u0026quot;.   AttachmentData Innholdet/dataene i vedlegget.   CreatedDateTime Ikke satt.   SendersReference Ikke brukt i dette tilfellet.   IsEncrypted Ikke brukt i dette tilfellet.   AttachmentTypeID MIMEMIME-typen for vedlegget, en enum men vil alltid i dette tilfellet være satt til: application_pdf-PDF.   AttachmentFunctionTypeID Angir funksjon for vedlegget, satt til Unspecified.   ReporteeElementID Referanse til den arkiverte innsynstjenesten. Unik id i Altinn.   CreatedByUserID Ikke satt.   IsAddedAfterFormFillin Ikke brukt i dette tilfellet.   IsAssociatedToFormSet Ikke brukt i dette tilfellet.   DestinationType Enum, men ikke brukt i dette tilfellet.    GetArchivedCorrespondence Denne operasjonen benyttes for å hente en arkivert melding.\nInput parameter Parametere som ikke er beskrevet her er knyttet til autentisering og vil variere fra et endepunkt til et annet.\n   Input Beskrivelse     archiveId Id for det elementet man ønsker å laste ned fra arkivet.    Datakontrakter for responsen ArchivedCorrespondence    Feltnavn Beskrivelse     AllowForwarding Denne verdien forteller hvorvidt det er lov og videresende meldingen.   ArchiveCorrespondenceID Meldingen sin ID slik den ligger i avgiverarkivet.   ArchiveReference Dette feltet vil inneholde en referanse til et tidligere innsendt element hvis denne meldingen er et svar på en innsending.   CaseId ID på tilknyttet samhandlingstjeneste hvis meldingen er knyttet til et slikt element.   ConfirmationDate Dato og tid for når meldingen ble bekreftet motatt hvis dette ble gjort.   CorrespondenceSubject Meldingens emne.   CorrespondenceSummary Meldingens oppsummering.   CorrespondenceText Hovedinnholdet i meldingen.   CorrespondenceTitle Meldingens tittel.   CustomMessageData Felt for attributter spesifikke for den gitte Altinn tjeneste. For eksempel informasjon om kommunenummer på selvangivelsen. Bruk av spesifikke attributter avtales spesielt for de(n) aktuelle Altinn-tjenesten(e).   DateSent Dato og tid for når meldingen ble arkivert.   DueDate Dato og tid for når meldingen må bekreftes motatt, hvis meldingen hadde slikt krav.   ExternalSystemReference En fritekst verdi satt av tjenesteeier ved opprettelsen av meldingen.   SentBy Meldingens avsender.   ServiceName Navnet på tjenesten som meldingen er basert på.   CorrespondenceAttachments Liste med vedlegg. Se AttachmentBEV2.   CorrespondenceLinks Liste med alternativer for hvordan meldingen kan besvares. Se CorrespondenceLink.    AttachmentBEV2    Feltnavn Beskrivelse     AttachmentID Unik identifikator for vedlegget i Altinn   AttachmentName Navn på vedlegget.   FileName Navn på fil for vedlegg. Filavnet kan ikke inneholde tegn som \u0026ldquo;:\u0026rdquo; og \u0026ldquo;\u0026quot;.   AttachmentData Innholdet/dataene i vedlegget.   CreatedDateTime Dato og tidspunkt for når vedlegget ble opprettet (yyyy-MM-ddThh:mm:ss).   SendersReference Referanse satt av sluttbruker- eller etatssystem som har sendt vedlegget.   IsEncrypted Boolsk verdi som sier om vedlegget er kryptert.   AttachmentTypeID MIME-typen for vedlegget.   AttachmentFunctionTypeID Angir funksjon for vedlegget: Invoice, Unspecified.   ReporteeElementID Referanse til element (skjemasett eller melding) som vedlegget tilhører. Unik id i Altinn.   CreatedByUserID Bruker id for bruker som har lagt ved vedlegget.   IsAddedAfterFormFillin Angir om vedlegget er lagt til etter utfylling.   IsAssociatedToFormSet Angir om vedlegget er knyttet til skjemasett eller ikke – brukes for å slette vedlegg som er lastet opp men ikke lagt til skjemasettet.   DestinationType Brukes internt i Altinn.    CorrespondenceLink    Feltnavn Beskrivelse     LinkType Angir hvilken type informasjon linken gir: Form, ServiceCode, ServiceURL, ArchiveReference.   LinkURL Angir URL.   LinkText Angir teksten som vises for linken.    IntermediaryInbound    Tjenesteoperasjon Kort beskrivelse     GetAltinnSubmissionStatus Kalkulerer og returnerer estimert tid for når en oppgave sendt til Altinn vil være ferdig prosessert   SubmitFormTask Lar et sluttbrukersystem sende et skjemasett til Altinn   CompleteAndSign Lar et sluttbrukersystem komplettere og signere et skjemasett i Altinn    Se endepunkter for informasjon om endepunkter for tjenesteoperasjonene.\nIntermediaryInbound.GetAltinnSubmissionStatus Denne operasjonen kalkulerer og returnerer estimert tid for når en oppgave sendt til Altinn vil være ferdig prosessert.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     N/A    Returverdi Beskrivelse   Minutes Estimert tid (antall minutter) for når man kan forvente at en innsendingstjeneste sendt til Altinn vil være ferdig prosessert.    IntermediaryInbound.SubmitFormTask Denne operasjonen lar et sluttbrukersystem sende et skjemasett til Altinn. Operasjonen returnerer en kvittering til sluttbrukersystemet som inneholder status for innsendingen.\nVed innsending fra sluttbrukersystem tar Altinn en kopi av innsendt skjemasett og prosesserer denne kopien på liknende måte som ved innsending i SBL (portalen). Denne kopien kan modifiseres slik at felter legges til eller skrives over. Deretter utføres en sammenlikning av den originalt innsendte XML-en med sikte på å detektere feil i innsendingen, for eksempel at kalkylene stemmer overens med det som forsøkes sendt inn.\nDenne sammenlikningsprosessen er dokumentert i mer detalj her.\nSe også Legge til vedlegg til innsendt skjemasett for informasjon om begrensninger på vedleggsstørrelse.\nTabellen under beskriver datakontrakten for operasjonen.\n   userSSN Brukers fødselsnummer. Til bruk både til autentisering og evt. signering     userPassword Brukers passord. Til bruk både til autentisering og evt. signering   userPinCode Pinkode. Til bruk både til autentisering og evt. signering   authMethod Autentiseringsmetode. Til bruk både til autentisering og evt. signering   formTaskShipment Objekt av typen FormTaskShipmentBE som inneholder detaljer om forsendelsen   Returverdi Beskrivelse   Receipt Objekt av typen ReceiptExternalBE med kvitteringsinformasjon for forsendelsen.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     FormTaskShipmentBE    Reportee Unik identifikator for avgiver for denne forsendelsen, fødselsnummer eller organisasjonsnummer   ExternalShipmentReference Referanse for forsendelsen. Referansen settes av sluttbrukersystem og kan dermed benyttes ved senere forespørsler mot Altinn for denne forsendelsen, bør derfor være unik.   FormTasks Ett objekt av typen FormTask med detaljer for skjemasettet i denne forsendelsen   Attachments Liste med vedleggs-objekter av typen Attachment som inneholder detaljer for vedlegg i forsendelsen   Signatures Objekt av typen Signature som inneholder signeringsdetaljer for forsendelsen   IsUserDelegationLocked Setter hvorvidt et brukerstyrt signeringssteg skal være låst (true) eller ikke (false). Kun betydning hvis avsender har tilstand som ”Trusted partner”.   UserDefinedNumberOfSignaturesRequired Setter hvor mange brukerstyrte signeringer det må være i et eventuelt brukerstyrt signeringssteg for dette skjemasettet   EncryptedKey Objekt av typen EncryptedKeyBE som inneholder informasjon brukt for dekryptering av sensitive felter.   CaseID ID til samhandlingstjenesten som innsendingen eventuelt skal knyttes til   FormTask    ServiceCode Unik tjenestekode for tjenesten.   ServiceEdition Tjenesteutgavekode.   Forms Liste med Form-objekter (ett for hvert skjema i oppgavesettet)   Attachment    Name Navn på vedlegg (som det vises i portal).   EndUserSystemReference Referanse for vedlegg (settes av sluttbrukersystem, bør være unik).   ParentReference Angir EndUserSystemReference for skjemaet som vedlegget hører til.   FileName Filnavn for vedlegget. Filavnet kan ikke inneholde tegn som \u0026ldquo;:\u0026rdquo; og \u0026ldquo;\u0026quot;.   Encrypted Angir om vedlegget er kryptert.   AttachementData Selve dataene for vedlegget, byte-array.   AttachmentTypeName Angir type vedlegg for tjenester som har vedleggsvalidering og –regler   Signature    EndUserSystemReference Referanse til signaturen som ble utført i sluttbrukersystem (satt av sluttbrukersystem, bør være unik).   EndUserSystemUserId Identifikator for bruker som var logget på sluttbrukersystemet og gjennomførte signeringen.   EndUserSystemLoginDateTime Dato og tidspunkt for når bruker logget inn i sluttbrukersystem (yyyy-MM-ddThh:mm:ss).   EndUserSystemSignatureDateTime Dato og tidspunkt for når signeringen i sluttbrukersystemet ble gjort (yyyy-MM-ddThh:mm:ss).   EndUserSystemVersion Versjonsnummer for sluttbrukersystemet.   EndUserSystemSignatureLogId Unik id for logginnslag for signeringen.   Form    Completed Dette flagget indikerer at et skjema er sendt inn komplett fra et sluttbrukersystem.   DataFormatId Den unike id for et spesifikt skjema, dette er typisk gitt av metadata leverandør   DataFormatVersion Versjonen av en gitt DataFormatID, som sammen med den gir et unikt skjema (spesifikasjon)   EndUserSystemReference Referanse for skjema, satt av sluttbrukersystemet. Kan benyttes til å spørre etter kvittering på skjema ved å benytte ReferenceTypeName.SendersReference.   FormData Skjemadata. Må legges i en CDATA blokk.   DelegatedUserBE    SSN Fødselsnummer for bruker som skal signere.   Name Og etternavn til bruker som skal signere   NumberOfSignaturesAllowed Antall signaturer denne kan gjøre   EncryptedKeyBE    ReporteeSymmetricKey Objekt av typen ReporteeSymmetricKeyBE.   ServiceOwnerSymmetricKeys Objekt av typen ServiceOwnerSymmetricKeyBE.   **ReporteeSymmetricKeyBE **    Key Symmetrisk nøkkel brukt til å kryptere sensitive felter, kryptert med brukers passord.   ReporteeNumber Fødselsnummer eller organisasjonsnummer for avgiver   ServiceOwnerSymmetricKeyBE    ServiceOwnerCode Tjenesteeierkode   CertificateId Unik identifikator for sertifikatet brukt til å kryptere den symmetriske nøkkelen angitt i parameteren Key under.   Key Symmetrisk nøkkel brukt til å kryptere sensitive felter, kryptert med tjenesteeiers sertifikat.   ReceiptExternalBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel for senere uthenting av status/kvittering.   ReceiptText Tekst i kvitteringen.   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken,   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss).   ReceiptTypeName    ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask - Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering).   References Liste med ReferenceBE-objekter for kvitteringen.   SubReceipts Liste med tilhørende ReceiptExternalBE-objekter (dersom denne kvitteringen er en hovedkvittering)   ReferenceBE    ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReferenc - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, ArchiveReference - Arkivreferanse    IntermediaryInbound.UpdateFormData Denne operasjonen lar et sluttbrukersystem oppdatere et skjemasett i Altinn. Operasjonen returnerer en kvittering til sluttbrukersystemet som inneholder status for oppdateringen.\nTabellen under beskriver datakontrakten for operasjonen.\n   Property Beskrivelse     userSSN Brukers fødselsnummer. Til bruk både til autentisering og evt. signering   userPassword Brukers passord. Til bruk både til autentisering og evt. signering   userPinCode Pinkode. Til bruk både til autentisering og evt. signering   authMethod Autentiseringsmetode. Til bruk både til autentisering og evt. signering   formTaskUpdate Objekt av typen FormTaskUpdate som inneholder detaljer om oppdateringen   Returverdi Beskrivelse   Receipt Objekt av typen ReceiptExternalBE med kvitteringsinformasjon for oppdateringen.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     FormTaskUpdate    ExternalShipmentReference Referanse for forsendelsen. Referansen settes av sluttbrukersystem og kan dermed benyttes ved senere forespørsler mot Altinn for denne forsendelsen, bør derfor være unik.   FormUpdateList Objekt av typen FormUpdateList, som er en liste med objekter av typen FormUpdate   reporteeElementId Unik identifikator for skjemasettet i Altinn som skal oppdateres   FormUpdate    DataFormatId Den unike id for et spesifikt skjema, dette er typisk gitt av metadata leverandør. Denne må alltid oppgis, uavhengig av om det er et nytt skjema eller en oppdatering.   DataFormatVersion Versjonen av en gitt DataFormatID, som sammen med den gir et unikt skjema (spesifikasjon). Denne må alltid oppgis, uavhengig av om det er et nytt skjema eller en oppdatering.   FormData Skjemadata. Må legges i en CDATA blokk.   FormId Unik identifikator for skjemaet som skal oppdateres. Om FormId er satt til 0 vil et nytt skjema bli laget.   SendersReference Referanse satt av sluttbruker. Denne må være unik for hvert enkelt skjema i skjemasettet.    IntermediaryInbound.CompleteAndSign Denne operasjonen lar et sluttbrukersystem komplettere og signere en skjemainnsending i Altinn. Operasjonen returnerer en kvittering til sluttbrukersystemet som inneholder status for innsendingen.\nOperasjonen er ment å kunne brukes for å sluttføre skjemainstanser som ligger til utfylling. For eksempel kan dette være instanser som er opprettet i portal eller ved hjelp av SubmitFormTask, og som har fått lagt til ytterligere vedlegg ved hjelp av SubmitAttachmentStreamed.\n   Input Beskrivelse     userSSN Brukers fødselsnummer. Til bruk både til autentisering og evt. signering   userPassword Brukers passord. Til bruk både til autentisering og evt. signering   userPinCode Pinkode. Til bruk både til autentisering og evt. signering   authMethod Autentiseringsmetode. Til bruk både til autentisering og evt. signering   reporteeElementId Arbeidsflytreferanse som skal kompletteres og signeres.   signatures Liste med objekter av typen Signature som brukes til signering.   languageId Språkkode:1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   Returverdi Beskrivelse   Receipt Objekt av typen ReceiptExternalBE med kvitteringsinformasjon for forsendelsen.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ReceiptSearchExternalBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering   References Liste med ReferenceBE-objekter for kvitteringen   ReceiptExternalBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering.   ReceiptText Tekst i kvitteringen, kan inneholde variasjoner over følgende kvitteringssvar: Deleted, Warning - \u0026ldquo;soft error\u0026rdquo;, Error - \u0026ldquo;feil\u0026rdquo;, Successfully Instantiated, Schema Validation OK, Not A Valid Signature, Form Validation Failed, SchemaValidationError\u0026gt;\u0026ldquo;feil\u0026rdquo;, Shipment Already Exists : ::External Shipment Reference : \u0026ldquo;extshipref\u0026rdquo;, Service Edition Code is Missing ::External Shipment Reference : \u0026ldquo;extshipref\u0026rdquo;, SignAndSend Completed Successfully, Not A Valid Service :; ServiceCode : \u0026ldquo;service code\u0026rdquo;, ServiceEdition : \u0026ldquo;serviceedition\u0026rdquo; ; ::External Shipment Reference : \u0026ldquo;external shipment ref\u0026rdquo;, Not A Valid DataFormatId Or DataFormatVersion; DataFormatVersion : \u0026ldquo;dataformatversion\u0026rdquo;, DataFormatId : \u0026ldquo;dataformatid\u0026rdquo; ; ::External Shipment Reference : \u0026ldquo;external shipment ref\u0026rdquo;, Argument Null Exception - Intermediary Inbound :ExternalShipmentReference, Invalid reportee, Your request suffered from a non-functional error, There exist no valid services with given service code/ edition code :\u0026ldquo;service code\u0026rdquo;/\u0026ldquo;serviceedition\u0026rdquo; ::External Shipment Reference : \u0026ldquo;external shipment ref\u0026rdquo;   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask - Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste   ReceiptTemplate Status for forsendelse som kvitteringen gjelder: OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering)   References Liste med ReferenceBE-objekter for kvitteringen   SubReceipts Liste med tilhørende Receipt-objekter (dersom denne kvitteringen er en hovedkvittering)   ReferenceBE    ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen (Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen), OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse (Settes av Altinn og kan ikke endres), ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, ArchiveReference - Arkivreferanse   Signature    EndUserSystemReference Referanse til signaturen som ble utført i sluttbrukersystem (satt av sluttbrukersystem, bør være unik)   EndUserSystemUserId Identifikator for bruker som var logget på sluttbrukersystemet og gjennomførte signeringen.   EndUserSystemLoginDateTime Dato og tidspunkt for når bruker logget inn i sluttbrukersystem (yyyy-MM-ddThh:mm:ss).   EndUserSystemSignatureDateTime Dato og tidspunkt for når signeringen i sluttbrukersystemet ble gjort (yyyy-MM-ddThh:mm:ss).   EndUserSystemVersion Versjonsnummer for sluttbrukersystemet.   EndUserSystemSignatureLogId Unik id for logginnslag for signeringen.    IntermediaryInboundStreamed    Tjenesteoperasjon Kort beskrivelse     SubmitAttachmentStreamed Legger til vedlegg til eksisterende innsendinger som står til utfylling i Altinn.    Operasjonen brukes til å legge til vedlegg for en aktiv skjemainstans opprettet i portal eller vha webservice (SubmitFormTask).\nSe Legge til vedlegg til innsendt skjemasett for informasjon om begrensninger på vedleggsstørrelse.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     StreamedAttachmentBasicBE, StreamedAttachmentECBE eller StreamedAttachmentExternalBE Objekt med vedleggsinformasjon, datastrøm for vedleggsdata og autentiseringsinformasjon (mindre forskjeller etter hvilket endepunkt man benytter).   Returverdi Beskrivelse   ReceiptExternalStreamedBE Objekt av typen ReceiptExternalStreamedBE som inneholder detaljer for kvitteringen.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ReceiptExternalStreamedBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering   ReceiptText Tekst i kvitteringen, kan inneholde variasjoner over følgende kvitteringssvar: Deleted   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: Angir hva kvittering gjelder. Mulige verdier: FormTask - Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: Status for forsendelse som kvitteringen gjelder: OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering).   StreamedAttachmentExternalBE    userSSN Brukers fødselsnummer. Til bruk både til autentisering og evt. signering   userPassword Brukers passord. Til bruk både til autentisering og evt. signering   authMethod Autentiseringsmetode. Til bruk både til autentisering og evt. signering   userPinCode Pinkode. Til bruk både til autentisering og evt. signering   ReporteeElementId Arbeidsflytreferanse for innsendingen man ønsker å legge til vedlegg på   EndUserSystemReference Referanse for vedlegg (settes av sluttbrukersystem, bør være unik)   FileName Filnavn. Filavnet kan ikke inneholde tegn som \u0026ldquo;:\u0026rdquo; og \u0026ldquo;\u0026quot;.   Name Navn på vedlegg   AttachmentTypeName Type vedlegg   CheckSum Checksum for vedleggsdata   dataStream Datastrøm   StreamedAttachmentBasicBE    systemPassword Passord for sluttbrukersystem definert i portal   systemUserName Systemid for sluttbrukersystem definert i portal   userSSN Brukers fødselsnummer. Til bruk både til autentisering og evt. signering   userPassword Brukers passord. Til bruk både til autentisering og evt. signering   ReporteeElementId Arbeidsflytreferanse for innsendingen man ønsker å legge til vedlegg på   EndUserSystemReference Referanse for vedlegg (settes av sluttbrukersystem, bør være unik)   FileName Filnavn. Filavnet kan ikke inneholde tegn som \u0026ldquo;:\u0026rdquo; og \u0026ldquo;\u0026quot;.   Name Navn på vedlegg   AttachmentTypeName Type vedlegg   CheckSum Checksum for vedleggsdata   dataStream Datastrøm   StreamedAttachmentECBE    userName Brukernavn opprettet i portal i forbindelse med virksomhetssertifikat   password Passord opprettet i portal i forbindelse med virksomhetssertifikat   ReporteeElementId Arbeidsflytreferanse for innsendingen man ønsker å legge til vedlegg på   EndUserSystemReference Referanse for vedlegg (settes av sluttbrukersystem, bør være unik)   FileName Filnavn Filavnet kan ikke inneholde tegn som \u0026ldquo;:\u0026rdquo; og \u0026ldquo;\u0026quot;.   Name Navn på vedlegg   AttachmentTypeName Type vedlegg   CheckSum Checksum for vedleggsdata   dataStream Datastrøm    Receipt    Tjenesteoperasjon Kort beskrivelse     GetReceiptListV2 Henter ut alle kvitteringer tilhørende en kvitteringstype og/eller fra et gitt tidsrom   GetReceiptV2 Henter ut en kvittering basert på enten unik identifikator eller referanse   UpdateReceipt Kan benyttes av sluttbrukersystemer for å oppdatere en kvittering ved mottak av data.    Se endepunkter for informasjon om endepunkter for tjenesteoperasjonene.\nDet blir opprettet teknisk kvittering for hver forsendelse, basert på hvilke referanser sluttbrukersystemet setter. Dersom eksterne referanser gjenbrukes antar vi at det gjelder den samme forsendelsen, og oppdaterer tidligere kvittering. For at kvitteringer skal kunne hentes og oppdateres hensiktsmessig er det derfor viktig at sluttbrukersystem benytter unike referanser både på selve forsendelsen og underelementer av denne.\nGetReceiptV2 Denne operasjonen henter en kvittering basert på, enten unik identifikator for kvitteringen eller en referanse for kvitteringen. Kvitteringen kan være knyttet til et skjemasett innsendt via Altinn fra sluttbruker eller sluttbrukersystem, data sendt fra tjenesteeier til Altinn (meldinger, PIN-koder, abonnement eller prefilldata) eller data sendt fra Altinn til tjenesteeier.\nNavnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel GetReceiptBasicV2 på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn GetReceipt finnes fortsatt, men kan i fremtiden bli fjernet.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     ReceiptSearch Objekt av typen ReceiptSearch som inneholder nødvendige søkeparametre for å hente ut en kvittering.   Returverdi Beskrivelse   Receipt Objekt av typen Receipt som inneholder alle data for en kvittering som tilfredsstilte det gitte søkekriteriet.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ReceiptSearch    ReceiptId Unik identifikator en kvittering i Altinn.   References Liste med referansen som skal brukes i søket. I praksis er det kun en referanse som benyttes i søket. Følgende referansetyper kan benyttes i søk: ArchiveReference, OutboundShipmentReference, BatchReference, EndUserSystemReference, ExternalShipmentReference, SendersReference   Receipt    ReceiptId Unik identifikator kvitteringen i Altinn   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss).   ReceiptType Angir hva kvittering gjelder.Mulige verdier: NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)   ReceiptStatus Status for forsendelse som kvitteringen gjelder:NotSet – Status er ukjent, OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet.   References Liste med referanser   SubReceipts Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn.)   Reference    ReferenceType Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference- Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse   ReferenceValue Selve referansen (verdien). Vil variere basert på type referanse. Se over.    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     30008 Ingen kvittering funnet for angitt kvitterings ID eller referanse    GetReceiptListV2 Denne operasjonen kan kalles for å hente ut alle kvitteringer av en gitt kvitteringstype. I tillegg kan søket begrenses ved hjelp av en til og fra dato. Dette vil gi en liste med kvitteringer som ble sist endret i tidsrommet. Kvitteringstyper er obligatorisk, mens datoer er valgfritt.\nNavnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel GetReceiptListBasicV2 på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn GetReceiptList finnes fortsatt, men kan i fremtiden bli fjernet.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     receiptTypeName Angir hva kvittering gjelder. Mulige verdier: NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste   dateFrom Finner kvitteringer endret etter angitt dato   dateTo Finner kvitteringer endret før angitt dato   Returverdi Beskrivelse   ReceiptList Liste med kvitteringer av typen Receipt. (Vil være en tom liste hvis ingen kvitteringer ble funnet.)    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     Receipt    ReceiptId Unik identifikator kvitteringen i Altinn   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken.   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptType Angir hva kvittering gjelder. Mulige verdier:NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)   ReceiptStatus Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent, OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet.   References Liste med referanser.   SubReceipts Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn.)   Reference    ReferenceType Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse   ReferenceValue Selve referansen (verdien). Vil variere basert på type referanse. Se over    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     30101 Kan ikke utføre et søk etter kvitteringer av typen NotSet. (NotSet er default verdi hvis receiptTypeName parameteret ikke oppgis.)   30102 Oppgitt fra dato er høyere en oppgitt til dato    UpdateReceipt Operasjonen UpdateReceipt kan benyttes når tjenesteeier har behov for å oppdatere en kvittering i Altinn. Dette gjøres typisk når Altinn har sendt en batch forsendelse til tjenesteeier. Kvitteringen skal da oppdateres med at tjenesteeier har mottatt batch forsendelsen.\nAltinn vil endre kvitteringsteksten til å inneholde informasjon om hvem som utførte oppdateringen. For eksempel: \u0026ldquo;Receipt updated by EndUserSystem: 355. \u0026lt;ny tekst.\u0026gt;\u0026rdquo;\nNavnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel UpdateReceiptBasic på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn SaveReceipt finnes fortsatt, men kan i fremtiden bli fjernet.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     ReceiptSave Informasjon om hvilken kvittering som skal oppdateres samt den nye informasjonen som skal legges på kvitteringen. Objektet må minimun inneholde ny statuskode og tekst. ReceiptId eller ArchiveReference brukes til å identifisere kvitteringen.   Returverdi Beskrivelse   Receipt Kvitteringen slik den frermstår etter oppdateringen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ReceiptSave    ReceiptId Unik identifikator for kvittering i Altinn. Kan benyttes for å spesifisere hvilken kvittering som skal oppdateres   ArchiveReference Arkivreferanse i Altinn. Kan benyttes for å spesifisere hvilken kvittering som skal oppdateres. Hvis det finnes flere kvitteringer som har samme arkivreferanse, så vil den nyeste (den med høyest ReceiptId) bli valgt.   ReceiptText Oppdateringstekst for kvittering. Obligatorisk   ReceiptStatus Status for forsendelse som kvitteringen gjelder.Obligatorisk: OK, UnExpectedError, ValidationFailed, Rejected   References Liste med referanser man eventuelt ønsker å legge til på kvitteringen. Alle referansetyper utenom NotSet og OwnerPartyReference er gyldige, men det bør begrenses til følgende (Unntak kan gjøres etter avtale med forvaltning.)   SubReceipts Liste med barnekvitteringer som også ønskes oppdatert i tillegg til hovedkvitteringen. Barne kvitteringer MÅ identifiseres med ReceiptId. Dette kan ikke benyttes til å lage nye barnekvitteringer   Receipt    ReceiptId Unik identifikator kvitteringen i Altinn.   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptType Angir hva kvittering gjelder. Mulige verdier: NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)   ReceiptStatus Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent, OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet   References Liste med referanser   SubReceipts Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn.)   Reference    ReferenceType Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference- Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse   ReferenceValue Selve referansen (verdien). Vil variere basert på type referanse. Se over    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     30008 Fant ikke noen kvittering som kunne oppdateres   0 Kan ikke ha både kvitterings id og arkivreferanse som input. (Feilkode blir ikke angitt grunnet en feil.)   0 Søk må ha enten kvitterings id eller arkivreferanse som input. (Feilkode blir ikke angitt grunnet en feil.)   0 System/bruker har ikke tilgang til kvitteringen som forsøkes oppdatert. (Feilkode blir ikke angitt grunnet en feil.)    Correspondence    Tjenesteoperasjon Kort beskrivelse     GetCorrespondenceForEndUserSystemV2 Benyttes for å hente detaljer for en spesifikk melding i Altinn   DeleteCorrespondence Benyttes for å slette en melding i Altinn   SaveCorrespondenceConfirmation Benyttes for å bekrefte en melding i Altinn   ArchiveCorrespondenceFromEndUserSystem Benyttes for å arkivere en melding i Altinn    Se endepunkter for informasjon om endepunkter for tjenesteoperasjonene.\nCorrespondence.GetCorrespondenceForEndUserSystemV2 Denne operasjonen benyttes for å hente detaljer for en spesifikk melding fra Altinn. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er:AltinnPin, SMSPin   correspondenceID Unik identifikator for en melding i Altinn   LanguageID Språkkode for det språket meldingen skal hentes med. Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk, Hvis ikke språk er spesifikt kan 0 angis som vil returnere standard språk for denne meldingen   Returverdi Beskrivelse   correspondenceForEndUserSystem Et objekt av typen CorrespondenceForEndUserSystemBEV2 som inneholder alle detaljer om meldingen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     CorrespondenceForEndUserSystemBEV2    Correspondence Objekt av typen CorrespondenceBEV2 som inneholder alle detaljer for selve meldingen.   CorrespondenceLinkList Liste med objekter av typen CorrespondenceLinkBE, som inneholder eventuelle linker for meldingen.   AttachmentList Liste med objekter av typen AttachmentBE, som inneholder detaljer for eventuelle vedlegg for meldingen.   InternalNotificationList Liste med InternalNotification-objekter, som inneholder detaljer for eventuelle varsler for meldinger.   CorrespondenceBEV2    CorrespondenceID Unik identifikator for meldingen   CorrespondenceStatus Angir status for meldingen (CorrespondenceStautsTypeV2): Created-Meldingen er opprettet, Read-Meldingen er lest, Replied-Sluttbruker har svart på meldingen, ChangedByGovAgency-Tjenesteeier har gjort endringer på meldingen, ChangedByUser-Sluttbruker har gjort endringer på meldingen, Confirmed-Meldingen er bekreftet, DeletedByUser-Meldingen er slettet av sluttbruker, DeletedByAltinn-Altinn har slettet meldingen (for eksempel ved sanering), Archived-Meldingen er arkivert   ArchiveReference Unik referanse for melding i Altinn arkiv   LanguageID Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   CorrespondenceSummary Meldingsingress   CorrespondenceSummary Meldingsingress   CorrespondenceTxt Tekst i meldingen   Header Meldings tittel / hode   SentBy Angir avsender av melding   CorrespondenceSubject Angir emne for meldingen   IsConfirmationNeeded Angir om bruker må bekrefte melding   SentTo Navn på mottaker av melding   DateSent Angir dato og tidspunkt for når meldingen var sendt (yyyy-MM-ddThh:mm:ss)   DueDate Dersom meldingen har en frist angis dato for dette her (yyyy-MM-dd)   Reportee Unik identifikator i Altinn for mottaker av melding   AuthenticatedUser Angir bruker som har bekreftet melding   ConfirmationDate Angir dato for når meldingen ble bekreftet (yyyy-MM-ddThh:mm:ss)   UserID Angir bruker som har bekreftet melding   Description Navn på tjenesteeier som opprettet meldingen   CorrespondenceName Navn på meldingstjenesten   ExternalSystemReference Angir unik referanse for meldingen (satt av tjenesteeier)   CorrespondenceTitle Tittel på melding   CustomMessageData Felt for attributter spesifikke for den gitte Altinn tjeneste. For eksempel informasjon om kommunenummer på selvangivelsen. Bruk av spesifikke attributter avtales spesielt for de(n) aktuelle Altinn-tjenesten(e)   AllowForwarding Angir om meldingen kan videresendes eller ikke   CaseID Angir samhandlingstjeneste case ID om meldingen er tilknyttet en samhandlingstjeneste   CorrespondenceLinkBE    LinkType Angir hvilken type informasjon linken gir: Form, ServiceCode, ServiceURL, ArchiveReference   LinkURL Angir URL   LinkText Angir teksten som vises for linken   AttachmentBEV2    AttachmentID Unik identifikator for vedlegget i Altinn.   AttachmentName Navn på vedlegget   FileName Navn på fil for vedlegg. Filavnet kan ikke inneholde tegn som \u0026ldquo;:\u0026rdquo; og \u0026ldquo;\u0026quot;.   AttachmentData Innholdet/dataene i vedlegget   CreatedDateTime Dato og tidspunkt for når vedlegget ble opprettet (yyyy-MM-ddThh:mm:ss)   SendersReference Unik referanse satt av etatssystem som har sendt vedlegget   IsEncrypted Boolsk verdi som sier om vedlegget er kryptert   AttachmentTypeID MIME-typen for vedlegget:   AttachmentFunctionTypeID Angir funksjon for vedlegget: Unspecified, Invoice   ReporteeElementID Referanse til element (skjemasett eller melding) som vedlegget tilhører. Unik id i Altinn.   CreatedByUserID Bruker id for bruker som har lagt ved vedlegget.   IsAddedAfterFormFillin Angir om vedlegget er lagt til etter utfylling.   IsAssociatedToFormSet Angir om vedlegget er knyttet til skjemasett eller ikke   DestinationType Angir hvor vedlegget er tilgjengelig: Default/ShowToAll – tilgjengelig i portal og for sluttbrukersystem, PortalOnly – kun tilgjengelig fra portal, EndUserSystemOnly – kun tilgjengelig fra sluttbrukersystem    Correspondence.DeleteCorrespondence Denne operasjonen kan benyttes av sluttbrukersystemer for å slette en aktiv melding i Altinn.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   reporteeElementID Unik identifikator for en melding i Altinn       Returverdi Beskrivelse     N/A Returnerer ingenting hvis alt er OK    Correspondence.SaveCorrespondenceConfirmation Denne operasjonen kan benyttes av sluttbrukersystemer for å bekrefte en melding i Altinn.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   reporteeElementID Unik identifikator for en melding i Altinn   Returverdi Beskrivelse   N/A Returnerer ingenting hvis alt er OK    Correspondence.ArchiveCorrespondenceFromEndUserSystem Denne operasjonen kan benyttes av sluttbrukersystemer for å arkivere en melding i Altinn.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   reporteeElementID Unik identifikator for en melding i Altinn   Returverdi Beskrivelse   Receipt Objekt av typen ReceiptBE med kvitteringsinformasjon for forsendelsen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ReceiptBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel for senere uthenting av status/kvittering.   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken,   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering).   References Liste med ReferenceBE-objekter for kvitteringen   SubReceipts Liste med tilhørende Receipt-objekter (dersom denne kvitteringen er en hovedkvittering)   ReferenceBE    ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference-Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference-Benyttes ikke, SendersReference-Referanse satt av avsender for del av en forsendelse, ParentReference-Referansen viser til et hovedskjema, WorkFlowReference-Arbeidsflytreferanse, BatchReference-Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference-Referanse til en forsendelse sendt fra Altinn, ReceiversReference-Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference-Referanse til eier av kvittering, fødselsnummer eller organisasjonsnummer, PartyReference-Referanse til aktør for kvittering, fødselsnummer eller organisasjonsnummer, ArchiveReference-Arkivreferanse    ReporteeElementList    Tjenesteoperasjon Kort beskrivelse     GetReporteeElementListV2 Henter en liste med elementer fra arbeidsliste og arkiv.   DeleteReporteeElement Benyttes for å slette et element i arbeidsliste i Altinn   GetFormSetElementsV2 Henter ut et spesifikt skjemasett basert på en gitt ID   GetCorrespondenceListForArchiveRef Henter ut arkivert melding basert på bl.a. arkiv referanse   GetCorrespondenceListForReportee Henter ut meldinger for en gitt avgiver    Se endepunkter for informasjon om endepunkter for tjenesteoperasjonene.\nReporteeElementList.DeleteReporteeElement Denne operasjonen benyttes for å slette elementer i en avgivers arbeidsliste eller arkiv. GetReporteeReporteeElementList kalles gjerne i forkant av kall til denne tjenesten for å hente og identifisere et element og finne identifikator (reporteeElementCode) for det elementet man ønsker å slette.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     reporteeElementCode Unik identifikator for et element i Altinn. Denne er sammensatt av et prefiks som beskriver hvilken type elementet har og elementets retporteeElementID. ulige prefiks for element typer: Altinn 1, aktivt: A1E. Altinn 1, arkivert: A1A. Altinn 2, aktivt:A2E. Altinn 2, arkivert: A2A   Returverdi Beskrivelse   Result Angir om elementet ble slettet    ReporteeElementList.GetFormSetElementsV2 Henter ut et spesifikt skjemasett basert på en gitt ID. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     reporteeElementID Identifikator for skjemasett man ønsker å hente ut   languageID Språk id: Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   Returverdi Beskrivelse   FormSetElementList Liste med objekter av typen FormSetElementBEV2, som beskriver skjemaene i skjemasett man ønsker å hente ut.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     FormSetElementBEV2    IconFileName MIME-typen   ItemID    ItemName    ItemURL URL for elementet.   ItemType Angir type element: MainForm, SubForm, BinaryAttachment   ValidationStatusType Angir valideringsstatus for elementet: NotSet, Valid, NonValid, NotValidated, NotApplicable   CreatedByUserID Bruker id for bruker som har opprettet elementet   DestinationType Angir hvor vedlegget er tilgjengelig: Default/ShowToAll – tilgjengelig i portal og for sluttbrukersystem, PortalOnly – kun tilgjengelig fra portal, EndUserSystemOnly – kun tilgjengelig fra sluttbrukersystem   IsAddedAfterFormFillin Angir om vedlegget er lagt til etter utfylling   IsAssociatedToFormSet Angir om vedlegget er knyttet til skjemasett eller ikke – brukes for å slette vedlegg som er lastet opp men ikke lagt til skjemasettet.   IsSigningMandatory Angir om skjema krever signering eller ikke. Verdien her er kun gjeldende om signeringssteget sier at skjema selv bestemmer signering (IsSigningAllRequired satt til SET_PER_FORM)    ReporteeElementList.GetReporteeElementListV2 Henter en liste med elementer fra arbeidsliste og arkiv. Listen inneholder detaljer for ett element for en avgiver. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   Search Objekt av typen ExternalSearchBEV2 som inneholder søkekriterier for utvalget elementer man ønsker å hente ut.   languageID Språkkode på elementet som skal hentess ut. Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk, Hvis ikke språk er spesifikt kan 0 angis som vil returnere standard språk for denne meldingen   Returverdi Beskrivelse   reporteeElementList En liste med ReporteeElementBEV2-objekter som inneholder detaljer for ett element for en avgiver    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ExternalSearchBEV2    ToDate Startdato for perioden man ønsker å hente ut elementer for (yyyy-MM-dd).   FromDate Sluttdato for perioden man ønsker å hente ut elementer for (yyyy-MM-dd).   SearchName Navn på søk. Benyttes kun dersom dette er et lagret søk.   ToBeProcessed Boolsk verdi som, hvis satt til true, angir at man ønsker å filtrere på tjenester som er ufullstendige/ikke-komplett.   SearchString Fritekstsøk som kan brukes for å matche hele eller deler av tjenestenavnet på elementer man ønsker å hente ut.   ServiceCodeList Liste med tjenester (string) som man ønsker å filtrere på.   SentAndArchived Boolsk verdi som, hvis satt til true, angir at man ønsker å filtrere på tjenester som er sendt og arkivert.   ToBeProcessedByOthers Filter for å angi at man bare ønsker å se sine elementer som i øyeblikket er til behandling hos andre aktører   ServiceOwnerCode Tjenesteeier som man ønsker å filtrere utrekket på.   Reportee Fødselsnummer/organisasjonsnummer for avgiver som man ønsker å hente ut elementer for.   ArchiveReference Fritekstfelt hvor man kan angi hele eller deler av en arkivreferanse som man ønsker å filtrere på.   CaseID Begrenser søket mot bestemt samhandlingstjenesteinstans.   CollectionPages Benyttes for å begrense resultatet til samlesider (samhandlingstjeneste)   EDialogue Benyttes for å begrense resultatet til e-dialoger (samhandlingstjeneste)   ReporteeElementBEV2    AllowDelete En boolsk verdi som angir om bruker som hentet elementet fra arkiv har rettighet til å slette elementet.   AllowNewCopy Boolsk verdi som sier om man kan opprette kopi av elementet   Altinn1ArchiveUnitId Unik identifikator for elementet i arkivet dersom dette er et element som er arkivert i Altinn I. Behøver ikke settes.   Altinn1FormCode Angir skjema id i AltinnI. Behøver ikke settes   Altinn1FormId Angir skjema versjon AltinnI. Behøver ikke settes   Altinn1FormInstanceID Angir element id i AltinnI. Behøver ikke settes.   Altinn1FormORNo Angir OR-id i AltinnI. Behøver ikke settes.   Altinn1ParticipantID Angir unik id for tilhørende AltinnI bruker. Behøver ikke settes.   Altinn1ReferenceType Angir referansetype satt i AltinnI. Behøver ikke settes.   Altinn1WorkflowProcessId Arbeidsflytreferanse for elementet dersom elementet er arkivert i AltinnI. Behøver ikke settes.   ArchiveId Unik identifikator for elementet i arkiv. ReporteeElementId, ArchiveId eller Altinn1ArchiveUnitId må settes, men bare en av gangen.   ArchiveReference Unik arkivreferanse som vises for elementet på avgivers hovedside.   CaseID Eventuelt referanse til samhandlingstjeneste elementet er knyttet opp mot   CorrespondenceStatus Angir status for elementet (dersom elementet er av type meldingstjeneste). Mulige statuser er: Created - Meldingen er opprettet, Read - Meldingen er lest, Replied - Sluttbruker har svart på meldingen, ChangedByGovAgency - Tjenesteeier har gjort endringer på meldingen, ChangedByUser -Sluttbruker har gjort endringer på meldingen, Confirmed - Meldingen er bekreftet, DeletedByUser -Meldingen er slettet av sluttbruker, DeletedByAltinn - Altinn har slettet meldingen (for eksempel ved sanering), Archived - Meldingen er arkivert   DueDate Frist på elementet. Ikke satt for elementer i arkiv.   EndUserSystemID Id som benyttes for å hente navn på sluttbrukersystem   ExternalServiceCode Tjenestekode for elementet, for eksempel ”PSA”   IsCaseArchived Angir om samhandlingstjenesten er arkivert.   IsMatched Intern parameter.   LastChangedBy Navn på bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet.   LastChangedByID Unik identifikator for bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet.   LastChangedDate Dato for når elementet sist ble endret (yyyy-MM-dd).   LastChangeType Type endring som ble gjort sist elementet ble endret: Sent, Saved, Archived   Notice Eventuell merknad på elementet tilhørende en samhandlingstjeneste.   ParentCaseName Eventuelt navn på samhandlingstjenesten elementet er knyttet mot   ReporteeElementCode Angir element id hvor forkortelse for element typen er lagt til som prefiks. Mulige prefiks for element typer er: aktivt - A2E, arkivert - A2A   ReporteeElementId Unik identifikator for elementet.   ReporteeElementOwner Unik identifikator for avgiver som elementet tilhører.   ReporteeElementType Type element: Correspondence - meldingstjeneste, FormTask - innsendingstjeneste, Collaboration -samhandlingstjeneste, LookUp - innsynstjeneste   ReporteeName Navn på avgiver som vises for elementet i avgivers hovedside.   RoleRequirement Rollekrav for å utføre neste steg i arbeidsflyt. Ikke satt for elementer i arkiv.   RoleRequirementAltinn1Element Rollekrav for å utføre neste steg i arbeidsflyt dersom elementet er instansiert i AltinnI. Ikke satt for elementer i arkiv. Behøver ikke settes for AltinnII elementer.   SEReporteeElementID Unik identifikator for elementet brukt før det arkiveres.   ServiceEditionVersion Angir versjon på tjenesten.   ServiceOwner Angir tjenesteeier som tilbyr tjenesten som elementet tilhører.   ServiceOwnerCode Tjenesteeierkode brukt for å angi tjenesteeier navn   ServiceOwnerDescription Tjenesteeiers navn.   Status Status for elementet: NotOpenedNoConfirmationReq, NotOpenedConfirmationReq, OpenedNoConfirmedReq, OpenedNotConfirmed, Confirmed, FillIn, SignIn, Archive, SendIn, Active, Finished   Statusname Navn på status (med språkstøtte).   TaskStatus Angir status for elementet (dersom elementet er av type innsendingstjeneste). Elementet kan ha en av følgende statuser: FormFilling - Innsendingstjenesten er under utfylling, Signing - Innsendingstjenesten er klar for signering, SendIn - Innsendingstjenesten er klar for innsending, ParallelSigning - Innsendingstjenesten er til brukerstyrt signering, Archive - nnsendingstjenesten er arkivert   Title Tittel på elementet som vises i avgivers hovedside    ReporteeElementList.GetCorrespondenceListForArchiveRef Henter ut arkiverte melding(er) basert på arkiv ID.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     reportee Fødselsnummer eller organisasjonsnummer for avgiver   archiveReference Arkivreferanse i Altinn   fromDate Hvis satt, må alle returnerte elementer ha dato større enn denne   toDate Hvis satt, må alle returnerte elementer ha dato mindre enn denne   languageID Filtrerer på språk: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   Returverdi Beskrivelse   reporteeElementList En liste med ReporteeElementBE-objekter som inneholder detaljer for ett element for en avgiver.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ReporteeElementBE    AllowDelete En boolsk verdi som angir om bruker som hentet elementet fra arkiv har rettighet til å slette elementet.   AllowNewCopy Boolsk verdi som sier om man kan opprette kopi av elementet.   Altinn1ArchiveUnitId Unik identifikator for elementet i arkivet dersom dette er et element som er arkivert i Altinn I. Behøver ikke settes.   Altinn1FormCode Angir skjema id i AltinnI. Behøver ikke settes   Altinn1FormId Angir skjema versjon AltinnI. Behøver ikke settes   Altinn1FormInstanceID Angir element id i AltinnI. Behøver ikke settes.   Altinn1FormORNo Angir OR-id i AltinnI. Behøver ikke settes.   Altinn1ParticipantID Angir unik id for tilhørende AltinnI bruker. Behøver ikke settes.   Altinn1ReferenceType Angir referansetype satt i AltinnI. Behøver ikke settes.   Altinn1WorkflowProcessId Arbeidsflytreferanse for elementet dersom elementet er arkivert i AltinnI. Behøver ikke settes.   ArchiveId Unik identifikator for elementet i arkiv. ReporteeElementId, ArchiveId eller Altinn1ArchiveUnitId må settes, men bare en av gangen   ArchiveReference Unik arkivreferanse som vises for elementet på avgivers hovedside.   CorrespondenceStatus Angir status for elementet (dersom elementet er av type meldingstjeneste). Mulige statuser er: Created - Meldingen er opprettet, Read - Meldingen er lest, Replied - Sluttbruker har svart på meldingen, ChangedByGovAgency - Tjenesteeier har gjort endringer på meldingen, ChangedByUser - Sluttbruker har gjort endringer på meldingen, Confirmed - Meldingen er bekreftet, DeletedByUser -Meldingen er slettet av sluttbruker, DeletedByAltinn - Altinn har slettet meldingen (for eksempel ved sanering)   DueDate Frist på elementet. Ikke satt for elementer i arkiv   EndUserSystemID Id som benyttes for å hente navn på sluttbrukersystem   ExternalServiceCode Tjenestekode for elementet, for eksempel ”PSA”   LastChangedBy Navn på bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet.   LastChangedByID Unik identifikator for bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet.   LastChangedDate Dato for når elementet sist ble endret (yyyy-MM-dd).   LastChangeType Type endring som ble gjort sist elementet ble endret: Sent, Saved, Archived   ReporteeElementCode Angir element id hvor forkortelse for element typen er lagt til som prefiks. Mulige prefiks for element typer er: aktivt - A2E, arkivert - A2A   ReporteeElementId Unik identifikator for elementet.   ReporteeElementOwner Unik identifikator for avgiver som elementet tilhører.   ReporteeElementType Type element: Correspondence - meldingstjeneste, FormTask - innsendingstjeneste   ReporteeName Navn på avgiver som vises for elementet i avgivers hovedside.   RoleRequirement Rollekrav for å utføre neste steg i arbeidsflyt. Ikke satt for elementer i arkiv.   RoleRequirementAltinn1Element Rollekrav for å utføre neste steg i arbeidsflyt dersom elementet er instansiert i AltinnI. Ikke satt for elementer i arkiv. Behøver ikke settes for AltinnII elementer.   ServiceOwner Angir tjenesteeier som tilbyr tjenesten som elementet tilhører.   ServiceOwnerCode Tjenesteeierkode brukt for å angi tjenesteeier navn   Status Status for elementet: NotOpenedNoConfirmationReq, NotOpenedConfirmationReq, OpenedNoConfirmedReq, OpenedNotConfirmed, Confirmed, FillIn, SignIn, Archive, SendIn   Statusname Navn på status (med språkstøtte)   TaskStatus Angir status for elementet (dersom elementet er av type innsendingstjeneste). Elementet kan ha en av følgende statuser: FormFilling - Innsendingstjenesten er under utfylling, Signing - Innsendingstjenesten er klar for signering, SendIn - Innsendingstjenesten er klar for innsending   Title Tittel på elementet som vises i avgivers hovedside.    ReporteeElementList.GetCorrespondenceListForReportee Henter ut meldinger for en avgiver.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     reportee Fødselsnummer eller organisasjonsnummer for avgiver   fromDate Hvis satt, må alle returnerte elementer ha dato større enn denne   toDate Hvis satt, må alle returnerte elementer ha dato mindre enn denne   languageID Filtrerer på språk: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   Returverdi Beskrivelse   reporteeElementList En liste med ReporteeElementBE-objekter som inneholder detaljer for ett element for en avgiver.    Tabellen under beskriver datakontrakten for operasjonen\n   Property Beskrivelse     ReporteeElementBE    AllowDelete En boolsk verdi som angir om bruker som hentet elementet fra arkiv har rettighet til å slette elementet.   AllowNewCopy Boolsk verdi som sier om man kan opprette kopi av elementet.   Altinn1ArchiveUnitId Unik identifikator for elementet i arkivet dersom dette er et element som er arkivert i Altinn I. Behøver ikke settes.   Altinn1FormCode Angir skjema id i AltinnI. Behøver ikke settes   Altinn1FormId Angir skjema versjon AltinnI. Behøver ikke settes   Altinn1FormInstanceID Angir element id i AltinnI. Behøver ikke settes.   Altinn1FormORNo Angir OR-id i AltinnI. Behøver ikke settes.   Altinn1ParticipantID Angir unik id for tilhørende AltinnI bruker. Behøver ikke settes.   Altinn1ReferenceType Angir referansetype satt i AltinnI. Behøver ikke settes.   Altinn1WorkflowProcessId Arbeidsflytreferanse for elementet dersom elementet er arkivert i AltinnI. Behøver ikke settes.   ArchiveId Unik identifikator for elementet i arkiv   ArchiveReference Unik arkivreferanse som vises for elementet på avgivers hovedside   CorrespondenceStatus Angir status for elementet (dersom elementet er av type meldingstjeneste). Mulige statuser er: Created - Meldingen er opprettet, Read - Meldingen er lest, Replied - Sluttbruker har svart på meldingen, ChangedByGovAgency - Tjenesteeier har gjort endringer på meldingen, ChangedByUser -Sluttbruker har gjort endringer på meldingen, Confirmed - Meldingen er bekreftet, DeletedByUser - Meldingen er slettet av sluttbruker, DeletedByAltinn - Altinn har slettet meldingen (for eksempel ved sanering)   DueDate Frist på elementet. Ikke satt for elementer i arkiv   EndUserSystemID Id som benyttes for å hente navn på sluttbrukersystem   ExternalServiceCode Tjenestekode for elementet, for eksempel ”PSA”   LastChangedBy Navn på bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet   LastChangedByID Unik identifikator for bruker/sluttbrukersystem eller tjenesteeier som sist endret elementet   LastChangedDate Dato for når elementet sist ble endret (yyyy-MM-dd).   LastChangeType Type endring som ble gjort sist elementet ble endret: Sent, Saved, Archived   ReporteeElementCode Angir element id hvor forkortelse for element typen er lagt til som prefiks. Mulige prefiks for element typer er: aktivt - A2E, arkivert - A2A   ReporteeElementId Unik identifikator for elementet.   ReporteeElementOwner Unik identifikator for avgiver som elementet tilhører   ReporteeElementType Type element: Correspondence - meldingstjeneste, FormTask - innsendingstjeneste   ReporteeName Navn på avgiver som vises for elementet i avgivers hovedside   RoleRequirement Rollekrav for å utføre neste steg i arbeidsflyt. Ikke satt for elementer i arkiv.   RoleRequirementAltinn1Element Rollekrav for å utføre neste steg i arbeidsflyt dersom elementet er instansiert i AltinnI. Ikke satt for elementer i arkiv. Behøver ikke settes for AltinnII elementer.   ServiceOwner Angir tjenesteeier som tilbyr tjenesten som elementet tilhører   ServiceOwnerCode Tjenesteeierkode brukt for å angi tjenesteeier navn   Status Status for elementet: NotOpenedNoConfirmationReq, NotOpenedConfirmationReq, OpenedNoConfirmedReq, OpenedNotConfirmed, Confirmed, FillIn, SignIn, Archive, SendIn   Statusname Navn på status (med språkstøtte).   TaskStatus Angir status for elementet (dersom elementet er av type innsendingstjeneste). Elementet kan ha en av følgende statuser: FormFilling, - Innsendingstjenesten er under utfylling, Signing -Innsendingstjenesten er klar for signering, SendIn -Innsendingstjenesten er klar for innsending   Title Tittel på elementet som vises i avgivers hovedside.    ServiceMetadata    Tjenesteoperasjon Kort beskrivelse     GetAvailableServices Henter en liste med gyldige tjenester i Altinn   GetFormTaskSchemaDefinitions Henter spesifikasjoner (.xsd) for alle skjemaer i en gitt innsendingstjeneste    Se endepunkter for informasjon om endepunkter for tjenesteoperasjonene.\nServiceMetadata.GetAvailableServicesV2 Denne operasjonen returnerer en liste med gyldige tjenester i Altinn. Operasjonen er versjonert, og finnes i både V2 og V3 versjon som tilbyt noe ulik funksjonalitet.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     languageID Språk kode for å filtrere tjenester. Hvis 0 angis blir verdien satt til standard språkvalg. Språkkoder: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   Returverdi Beskrivelse   availableServiceList Liste med AvailableServiceBEV2-objekter som inneholder detaljer for en gyldig innsendingstjeneste.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     AvailableServiceBEV2    ServiceOwnerCode Kode for tjenesteeier som tilbyr denne tjenesten   ServiceOwnerName Navn på tjenesteeier som tilbyr tjenesten   ServiceName Navn på tjenesten   ExternalServiceCode Angir kode for tjenesten, for eksempel ”PSA”   ExternalServiceEditionCode Angir utgave av tjenesten, for eksempel ”2009”   ServiceEditionVersionName Angir versjon på tjenesten   ServiceEditionVersionId Angir identifikator for versjonen av tjenesten   ValidFrom Startdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss)   ValidTo Sluttdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss)   BuildPackageVersion Et unikt versjonsnummer internt i Altinn   IsMatched Intern parameter   ServiceType Angir type tjeneste: Correspondence – meldingstjeneste, Reporting – innsendingstjeneste, Collaboration – samhandlingstjeneste, Lookup –Iinnsynstjeneste    ServiceMetadata.GetAvailableServicesV3 Denne operasjonen returnerer en liste med gyldige tjenester i Altinn, filtrert på søkeparameterene som blir sendt inn. Operasjonen er versjonert, siste versjon er V3.\nTabellen under beskriver datakontrakten for operasjonen.\n   Property Beskrivelse     AvailableServiceBEV2    ServiceOwnerCode Kode for tjenesteeier som tilbyr denne tjenesten.   ServiceOwnerName Navn på tjenesteeier som tilbyr tjenesten.   ServiceName Navn på tjenesten.   ExternalServiceCode Angir kode for tjenesten, for eksempel ”PSA”.   ExternalServiceEditionCode Angir utgave av tjenesten, for eksempel ”2009”.   ServiceEditionVersionName Angir versjon på tjenesten.   ServiceEditionVersionId Angir identifikator for versjonen av tjenesten.   ValidFrom Startdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss).   ValidTo Sluttdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss).   BuildPackageVersion Et unikt versjonsnummer internt i Altinn   IsMatched Intern parameter.   ServiceType Angir type tjeneste: Correspondence – meldingstjeneste, Reporting – innsendingstjeneste, Collaboration – samhandlingstjeneste, Lookup – innsynstjeneste    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ServicesSearchExternalBE    ServiceType Angir type tjeneste: Correspondence – meldingstjeneste, Reporting – innsendingstjeneste, Collaboration – samhandlingstjeneste, Lookup – innsynstjeneste   ServiceOwnerCode Kode for tjenesteeier som tilbyr denne tjenesten.   ExternalServiceCode Angir kode for tjenesten, for eksempel ”PSA”.   ExternalServiceEditionCode Angir utgave av tjenesten, for eksempel ”2009”.   AvailableServiceBEV3    ServiceOwnerCode Kode for tjenesteeier som tilbyr denne tjenesten.   ServiceOwnerName Navn på tjenesteeier som tilbyr tjenesten.   ServiceName Navn på tjenesten.   ExternalServiceCode Angir kode for tjenesten, for eksempel ”PSA”.   ExternalServiceEditionCode Angir utgave av tjenesten, for eksempel ”2009”.   ServiceEditionVersionName Angir versjon på tjenesten.   ServiceEditionVersionId Angir identifikator for versjonen av tjenesten.   ValidFrom Startdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss).   ValidTo Sluttdato for tidsrommet som tjenesten er gyldig i (yyyy-MM-ddThh:mm:ss).   BuildPackageVersion Et unikt versjonsnummer internt i Altinn   IsMatched Intern parameter.   ServiceType Angir type tjeneste: Correspondence – meldingstjeneste, Reporting – innsendingstjeneste, Collaboration – samhandlingstjeneste, Lookup – innsynstjeneste   AttachmentRuleTypeBEList Liste som angir hvilke vedleggstyper som er knyttet til tjenesten   AttachmentRuleTypeBE    AttachmentTypeName Unikt navn for vedleggstypen, benyttes for å spesifisere vedleggstype når vedlegg sendes inn.   AttachmentTypeNameLanguage Visningsnavn for vedleggstypen basert på angitt språk.   MinAttachmentCount Minimum antall vedlegg av denne typen som må være med for å etterfølge kravene for vedleggstypen.   MaxAttachmentCount Maksimum antall vedlegg av denne typen som må være med for å etterfølge kravene for vedleggstypen.   MaxFileSize Maksimum tillatt filstørrelse for vedleggstypen.   AllowedFileTypes Kommaseparert liste over tillatte filtypeendelser for vedleggstypen.   IsXSDValidationRequired Verdi som angir om XSD validering av vedlegg vil bli gjort for denne vedleggstypen. XSD kan mottas fra tjenesteeier.    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     30013 Angitt ExternalServiceCode er på ugyldig format   30005 Angitt ServiceOwnerCode er på ugyldig format   40039 Når ExternalServiceEditionCode er angitt må også ExternalServiceCode angis    ServiceMetadata.GetFormTaskSchemaDefinitions Denne operasjonen returnerer spesifikasjoner (.xsd) for alle skjemaer i en gitt innsendingstjeneste.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     externalServiceCode Angir tjenestekode på innsendingstjenesten man ønsker å hente spesifikasjoner for   externalServiceEditionCode Angir tjenesteutgavekode for innsendingstjeneste   Returverdi Beskrivelse   logicalFormSchemaDefinitionList Liste med LogicalFormSchemaDefinitionBE-objekter som inneholder meldingsspesifikasjon for et gitt skjema    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     LogicalFormSchemaDefinitionBE    LogicalFormID Unik identifikator for et gitt skjema i Altinn   DataFormatXsd Meldingsspesifikasjon for skjemaet   DataFormatProviderTypeID    DataFormatID Den unike id for et spesifikt skjema, dette er typisk gitt av metadata leverandør   DataFormatVersion Versjonen av en gitt DataFormatID, som sammen med den gir et unikt skjema (spesifikasjon)    Workflow    Tjenesteoperasjon Kort beskrivelse     DoSendingInAction Setter arbeidsflyt til neste steg i forhold til et skjemasett hvis skjema utfylling er ferdig og dette skjema ikke har definert noen signeringssteg.   DoSigning Utfører signering hvis en skjemasett lå klart til signering   GetAvailableActionsV2 Returnerer hvilken handling som er mulig å utføre for en gitt innsendingstjeneste i Altinn   GetNextWorkflowStateTypeInProcessFlowV2 Denne operasjonen returnerer neste steg (steget etter gjeldende steg) i arbeidsflyt for en gitt innsendingstjeneste   GetProcessDetailsV2 Denne operasjonen returnerer alle steg i arbeidsflyten for en gitt innsendingstjeneste; både steg som allerede er utført og steg som skal utføres   GetSigningText Henter ut signeringsteksten for et element i Altinn   SetBackToFormFilling Kan kalles fra et sluttbrukersystem for å sette en innsendingstjeneste i Altinn tilbake til utfyllingssteg   PrepareUserControlledSigningBasic Benyttes til å sette opp det brukerstyrte signeringssteget   GetProcessStepIDForParallelSigningBasic Henter stegnummeret for det brukerstyrte signeringssteget    Se endepunkter for informasjon om endepunkter for tjenesteoperasjonene.\nWorkflow.DoSendingInAction DoSendingInAction kan kalles fra et sluttbrukersystem for å sende inn en innsendingstjeneste (uten signeringssteg) som allerede ligger ferdig utfylt i Altinn.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   reporteeElementID Angir element i Altinn som skal sendes inn   Returverdi Beskrivelse   N/A     Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     60035 Man har prøvd å arkivere et ReporteeElement som allerede er arkivert   60037 Man har prøvd å sende inn et ReporteeElement som ikke har blitt validert, da element ikke er i en completed state    Workflow.DoSigning DoSigning kan kalles fra et sluttbrukersystem for å signere en innsendingstjeneste som ligger klart til signering i Altinn. Dersom dette er siste signeringssteg vil tjenesten også sendes inn.\nListen med FormID og AttachmentID som skal signeres kan hentes av sluttbrukersystemet ved å gjøre et kall til ReporteeElementList.GetFormSetElementsV2 i ReporteeElementList endepunktet.\nReporteeElementListExternalBasic.GetFormSetElementsBasicV2[reporteeElementID] returnerer:\n*Når Vedlegg:* \u0026amp;lt;b:ItemID\u0026amp;gt;184863\u0026amp;lt;/b:ItemID\u0026amp;gt; \u0026amp;lt;b:ItemName\u0026amp;gt;Chrysanthemum.jpg\u0026amp;lt;/b:ItemName\u0026amp;gt; \u0026amp;lt;b:ItemType\u0026amp;gt;BinaryAttachment\u0026amp;lt;/b:ItemType\u0026amp;gt; *For HovedSkjema:* \u0026amp;lt;b:ItemID\u0026amp;gt;109813\u0026amp;lt;/b:ItemID\u0026amp;gt; \u0026amp;lt;b:ItemName\u0026amp;gt;RF-1215 Selskapsoppgave for deltakerliknet selskap 2012\u0026amp;lt;/b:ItemName\u0026amp;gt; \u0026amp;lt;b:ItemType\u0026amp;gt;MainForm\u0026amp;lt;/b:ItemType\u0026amp;gt; \u0026amp;lt;b:ItemURL\u0026amp;gt;PrintPDF.aspx?FormId=109813\u0026amp;lt;/b:ItemURL\u0026amp;gt; *Når Underskjema:* \u0026amp;lt;b:ItemID\u0026amp;gt;109814\u0026amp;lt;/b:ItemID\u0026amp;gt; \u0026amp;lt;b:ItemName\u0026amp;gt;RF-1233 Selskapets oppgave over deltakerens formue og inntekt i deltakerliknet selskap 2012\u0026amp;lt;/b:ItemName\u0026amp;gt; \u0026amp;lt;b:ItemType\u0026amp;gt;SubForm\u0026amp;lt;/b:ItemType\u0026amp;gt; \u0026amp;lt;b:ItemURL\u0026amp;gt;PrintPDF.aspx?FormId=109814\u0026amp;lt;/b:ItemURL\u0026amp;gt; \u0026amp;lt;b:ValidationStatusType\u0026amp;gt;Valid\u0026amp;lt;/b:ValidationStatusType\u0026amp;gt; Parameterer ItemID gir korrelert verdi som skal benyttes i WorkflowServiceExternalBasic.DoSigningBasic for å utføre signering av valgte skjema/vedlegg: \u0026amp;lt;ns:selectedForms\u0026amp;gt; \u0026amp;lt;arr:int\u0026amp;gt;\\[ItemID fra WS GetFormSetElementsBasicV2 \\]\u0026amp;lt;/arr:int\u0026amp;gt; … \u0026amp;lt;/ns:selectedForms\u0026amp;gt; … \u0026amp;lt;ns:selectedAttachments\u0026amp;gt; \u0026amp;lt;arr:int\u0026amp;gt;184863\u0026amp;lt;/arr:int\u0026amp;gt; \u0026amp;lt;arr:int\u0026amp;gt;184864\u0026amp;lt;/arr:int\u0026amp;gt; … \u0026amp;lt;/ns:selectedAttachments\u0026amp;gt; Tabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   reporteeElementID Angir element i Altinn som skal signeres   selectedForms Angir en liste med FormIDs for skjemaer som skal signeres   selectedAttachments Angir en liste med AttachmentIDs for vedlegg som skal signeres (kan hentes ut vha ItemID i operasjonen GetFormSetElementsV2 når ItemType er satt til BinaryAttachment).   signatureText Signeringstekst   endUserSystemLoginDateTime Dato og tidspunkt for når bruker logget inn i sluttbrukersystem (yyyy-MM-ddThh:mm:ss)   endUserSystemSignatureDateTime ato og tidspunkt for når signeringen i sluttbrukersystemet ble gjort (yyyy-MM-ddThh:mm:ss)   endUserSystemVersion Versjonsnummer for sluttbrukersystemet   endUserSystemUserId Identifikator for bruker som var logget på sluttbrukersystemet og gjennomførte signeringen   enduserSystemReference Referanse til signaturen som ble utført i sluttbrukersystemet (satt av sluttbrukersystem, bør være unik)   endUserSystemSignatureLogId Unik id i sluttbrukersystemet for logginnslag for signeringen   Returverdi Beskrivelse   N/A     Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     14 Dette er en generell autoriserings feil, og vil forekomme i et par situasjoner; a. Man prøver å signere et ReporteeElement som man ikke har tilgang til. b. Man prøver å signere et ReporteeElement som står i feil status. (For eksempel Utfylling.)   60035 Man har prøvd å signere og arkivere et ReporteeElement som allerede er arkivert.   60036 Denne brukeren har allerede signert dette ReporteeElementet.    Workflow.GetAvailableActionsV2 Denne operasjonen returnerer hvilken handling som er mulig å utføre for en gitt innsendingstjeneste i Altinn. Dette er basert på hvilket steg i arbeidsflyten tjenesten befinner seg på, samt hvilke rettigheter bruker i sluttbrukersystemet har. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   reporteeElementID Angir element i Altinn   Returverdi Beskrivelse   userCurrentAction UserCurrentActionV2-objektet vil inneholde en av seks mulige handlinger: NoAction, Sign, FormFilling, SendIn, SignAndSendIn, DoSignDelegation, Delegering for brukerstyrt signering    Workflow.GetNextWorkflowStateTypeInProcessFlowV2 Denne operasjonen returnerer neste steg (steget etter gjeldende steg) i arbeidsflyt for en gitt innsendingstjeneste. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     reporteeElementID Angir element i Altinn.   Returverdi Beskrivelse   userCurrentAction UserCurrentActionV2-objektet vil inneholde en av seks mulige handlinger: NoAction, Sign, FormFilling, SendIn, SignAndSendIn, DoSignDelegation, Delegering for brukerstyrt signering    Workflow.GetProcessDetailsV2 Denne operasjonen returnerer alle steg i arbeidsflyten for en gitt innsendingstjeneste; både steg som allerede er utført og steg som skal utføres. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     reporteeElementID Angir element i Altinn   Returverdi Beskrivelse   processDetailsList En liste med ProcessDetailsBEV2-objekter, som inneholder detaljer for alle steg for gitte innsendingstjeneste    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ProcessDetailsBEV2    SequenceNumber Sekvensnummer i arbeidsflyt for gjeldende steg   ProcessStepId Unik identifikator for steget   ActivityTypeId Angir type steg: FormFilling, Signing, SendIn   UserId Identifikator for bruker som har gjennomført steget (dersom steget er gjennomført av bruker)   ServiceOwnerId Identifikator for tjenesteeier som har gjennomført steget (dersom steget er gjennomført av tjenesteeier).   EndUserSystemID Identifikator for sluttbrukersystem som har gjennomført steget (dersom steget er gjennomført av sluttbrukersystem).   ReporteeId Identifikator for avgiver for tjenesten   ReporteeName Navn på avgiver   CreatedDateTime Dato og tidspunkt for når tjenesten kom til gjeldende steg (yyyy-MM-ddThh:mm:ss)   IsCurrentStep Angir om dette steget er gjeldende steg i arbeidsflyt for innsendingstjeneste   LastModifiedDate Dato og tidspunkt for når det sist ble gjort endringer på tjenesten for dette steget (yyyy-MM-ddThh:mm:ss)   IsOptionalSigningStep Angir om signering er valgfritt for prosessen   IsOptionalSigningStepIndicator Angir om signering er valgfritt for steget   ParallelSigningSeqNumber Angir stegnummeret et eventuelt brukerstyrt signeringssteg har i arbeidsflyten for tjenesten    Workflow.GetProcessDetailsBasicV3 Denne operasjonen returnerer alle steg i arbeidsflyten for en gitt innsendingstjeneste; både steg som allerede er utført og steg som skal utføres. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     reporteeElementID Angir element i Altinn   Returverdi Beskrivelse   processDetailsList En liste med ProcessDetailsBEV3-objekter, som inneholder detaljer for alle steg for gitte innsendingstjeneste    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ProcessDetailsBEV2    SequenceNumber Sekvensnummer i arbeidsflyt for gjeldende steg   ProcessStepId Unik identifikator for steget.   ActivityTypeId Angir type steg: FormFilling, Signing, SendIn, Deleted   UserId Identifikator for bruker som har gjennomført steget (dersom steget er gjennomført av bruker).   ServiceOwnerId Identifikator for tjenesteeier som har gjennomført steget (dersom steget er gjennomført av tjenesteeier).   EndUserSystemID Identifikator for sluttbrukersystem som har gjennomført steget (dersom steget er gjennomført av sluttbrukersystem).   ReporteeId Identifikator for avgiver for tjenesten.   ReporteeName Navn på avgiver.   CreatedDateTime Dato og tidspunkt for når tjenesten kom til gjeldende steg (yyyy-MM-ddThh:mm:ss).   IsCurrentStep Angir om dette steget er gjeldende steg i arbeidsflyt for innsendingstjeneste.   LastModifiedDate Dato og tidspunkt for når det sist ble gjort endringer på tjenesten for dette steget (yyyy-MM-ddThh:mm:ss).   IsOptionalSigningStep Angir om signering er valgfritt for prosessen   IsOptionalSigningStepIndicator Angir om signering er valgfritt for steget   ParallelSigningSeqNumber Angir stegnummeret et eventuelt brukerstyrt signeringssteg har i arbeidsflyten for tjenesten.    Workflow.GetSigningText Denne operasjonen henter ut signeringsteksten for et element i Altinn. Språkkoden angir hvilket språk man ønsker teksten på. Dersom valgt språk ikke støttes for denne tjenesten vil teksten returneres på default språk.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   externalServiceCode Tjenestekode (for eksempel ”PSA”) for tjenesten som skjemasettet tilhører. Settes bare hvis reporteeElementID er ukjent.   externalServiceEditionCode Tjenesteutgavekode (for eksempel ”2009”) for tjenesten som skjemasettet tilhører. Settes sammen med externalServiceCode.   reporteeElementID Angir element i Altinn. Settes ikke hvis externalServiceCode/ externalServiceEditionCode er satt.   languageID Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   Returverdi Beskrivelse   tekst Signeringstekst    Workflow.SetBackToFormFilling Denne operasjonen kan kalles fra et sluttbrukersystem for å sette en innsendingstjeneste i Altinn tilbake til utfyllingssteg.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   reporteeElementID Angir element i Altinn   Returverdi Beskrivelse   N/A     Workflow.PrepareUserControlledSigning Denne operasjonen benyttes for å forberede det brukerstyrte signeringssteget for en innsendingstjeneste.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   reporteeElementID Angir elementet i Altinn   delegatedUserBEList Liste med DelegatedUserBE som angir hvilke brukere som kan signere det brukerstyrte signeringssteget   parallelSigningStepLocked Angir om det brukerstyrte steget skal være låst eller ei, kan kun brukes av ”Trusted partner”   userDefinedNumberOfSignaturesRequired Angir antallet signaturer som kreves for det brukerstyrte signeringssteget   Returverdi Beskrivelse   N/A N/A    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     DelegatedUserBE    SSN Fødselsnummer for bruker som skal signere.   Name Og etternavn til bruker som skal signere.   NumberOfSignaturesAllowed Antall signaturer denne kan gjøre.    Workflow.GetProcessStepIDForParallelSigning Denne operasjonen benyttes for å hente prosess steg ID for det brukerstyrte signeringssteget.\nTabellen under beskriver datakontrakten for operasjonen.\n   userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres     userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   reporteeElementID Angir elementet i Altinn   Returverdi Beskrivelse   Id ID til det brukerstyrte signeringssteget, returneres 0 betyr det at valgt element ikke har et brukerstyrt signeringssteg    Workflow.GetSigningSummaryHTML Operasjon innført av webSA for å kunne understøtte samme funksjonaliteten som man har i Altinn I, med visning av kvitteringssammendrag på signeringssiden/signeringssteget, og ikke bare på kvitteringssiden etter arkivering.\nTabellen under beskriver datakontrakten for operasjonen.\n   userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres     userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   reporteeElementID Angir elementet i Altinn   Returverdi Beskrivelse   GetSigningSummaryHTMLBasicResult Returnerer kvitteringssammendrag for en innsendingstjeneste tilsvarende som i portal    PrefillEUSExternal    Tjenesteoperasjon Kort beskrivelse     GetPrefillData Henter preutfyllingsdata for angitt avgiver og tjenesteutgave, og returnerer preutfyllingsdata    Se endepunkter for informasjon om endepunkter for tjenesteoperasjonene.\nPrefillEUSExternal.GetPrefillData Denne operasjonen kan kalles fra et sluttbrukersystem for å hente preutfyllingsdata for en gitt avgiver og tjenesteutgave.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   ReporteeNumber Fødselsnummer eller organisasjonsnummer det skal hentes ut prefill for   ExternalServiceCode Tjenestekode for tjenesten som skjemasettet tilhører   ExternalServiceEditionCode Tjenesteutgavekode for tjenesten som skjemasettet tilhører   Returverdi Beskrivelse   preFillData Objekt av typen PreFillDataBE, som inneholder status på hvorvidt preutfyllingsdata ble funnet eller ikke, samt en liste med objekter av typen PreFillFormFieldDataBE, som inneholder selve preutfyllingsdataene og andre metadata.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     PreFillDataBE    Status Status som angir om preutfyllingsdata ble funnet eller ikke. Mulige statuser er: INVALIDINPUT - Input er ikke valid, PREFILLDATAFOUND - Preutfyllingsdata ble funnet og returnert, PREFILLDATANOTFOUND - Ingen gyldige preutfyllingsdata ble funnet   PreFillFormTaskBEList Liste med objekter av typen PrefillFormTaskBE   PrefillFormTaskBE    ExternalServiceCode Angir den unike tjenestekoden dataene gjelder   ExternalServiceEditionCode Angir tjenesteutgavekode dataene gjelder   ExternalShipmentReference Unik referanse som settes av tjenesteeier for å identifisere forsendelsen   IdentityFieldHashCode Settes ikke av tjenesteeier. Brukes internt i Altinn   PreFillAttachments Liste (PrefillAttachmentBE-objekter) som inneholder binære vedlegg for oppgavesettet   PreFillForms Liste (PrefillFormBE-objekter) som inneholder preutfylte skjema og metadata for et oppgavesett, ett skjema per objekt   PreFillIdentityFields Liste (PrefillIdentityFieldBE-objekter) som inneholder identifiserende felter for det preutfylte oppgavesettet   PrefillNotifications Liste (NotificationBE-objekter) med varsler for det preutfylte oppgavesettet   ReceiversReference Referanse som settes av Altinn   Reportee Fødselsnummer eller organisasjonsnummer som identifiserer hvem dataene gjelder   SendersReference Referanse på preutfylt skjemasett som settes av tjenesteeier   ServiceOwnerCode Kode som unikt representerer kildesystem, f.eks. ”ABC-123”. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier.   ValidFromDate Angir fra når preutfyllingsdata er gyldig (yyyy-MM-dd)   ValidToDate Angir til når preutfyllingsdata er gyldig (yyyy-MM-dd)   PrefillAttachmentBE    AttachmentData Data for det binære vedlegget.   AttachmentName Dette er navnet på vedlegget, som det vises i portalen.   AttachmentType MIME-typen for vedlegget   FileName Navn på fil for det binære vedlegget. Filavnet kan ikke inneholde tegn som \u0026ldquo;:\u0026rdquo; og \u0026ldquo;\u0026quot;.   SendersReference Referanse for vedlegget. Settes av tjenesteeier   PrefillFormBE    DataFormatID Id til skjema fra metadata kilde   DataFormatVersion Versjon til skjema fra metadata kilde   FormDataXML Preutfyllingsdata for skjemaet. En CDATA blokk   SendersReference Referanse for skjemaet satt av tjenesteeier   PreFillIdentityFieldBE    FieldValue Verdi for identifiserende felt, som benyttes for å skille preutfyllingsdata for samme tjenesteutgave og avgiver fra hverandre   NotificationBE    FromAddress Avsender adresse (e-post). Hvis ikke satt benyttes avsenderadresse satt i varselmalen   ShipmentDateTime Når varsel skal sendes til mottaker   LanguageCode Språk kode: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   NotificationType En unik streng som definerer en referanse til predefinerte varslingstekster   TextTokens Liste av tekster som skal erstatte maltekst i varselmal   ReceiverEndPoints Liste av mottaker adresser (ReceiverEndPointBE)   ReceiverEndPoint    ReceiverAddress Adressen (telefonnummer eller e-postadresse) for mottakspunktet   TransportType Type varsling: Email, SMS, Instant Message (IM), Both email \u0026amp; sms   TextTokenSubstitutionBE    TokenNum Id på maltekst som skal erstattes i varselmal. Varselmal må bestilles og lages på forhånd   TokenValue Tekst som skal ersatte maltekst    PrefillEUSExternal.GetPrefillDataV2 Denne operasjonen kan kalles fra et sluttbrukersystem for å hente preutfyllingsdata for en gitt avgiver og tjenesteutgave.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn.   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   ReporteeNumber Fødselsnummer eller organisasjonsnummer det skal hentes ut prefill for   ExternalServiceCode Tjenestekode for tjenesten som skjemasettet tilhører   ExternalServiceEditionCode Tjenesteutgavekode for tjenesten som skjemasettet tilhører   PrefillList SBS kan be om preutfylling for spesifikke skjema/underskjema med en opsjonell liste over ønskede skjema. Listen inneholder verdi/verdier som refererer til skjema basert på dets DataFormatID. Det skal ikke være nødvendig å måtte angi DataFormatVersion siden man allerede kjenner til ExternalServiceCode, ExternalServiceEditionCode + DataFormatID, som gir nok informasjon til å finne det aktuelle (under-)skjema. Merk at dette er en liste, slik at man kan hente preutfylling for flere skjema samtidig   PrefillList.DataFormatID Liste med en eller flere verdier. Verdien peker på hvilket skjema i et skjemasett man ønsker å hente preutfylling for   returnAllFormTasks Verdi for å bestemme om Altinn skal returnere alle gyldige skjemaset eller kun det siste. Dersom verdien ikke er definert eller er definert til ‘false’ så returneres kun siste skjemasettet som er preutfylt. Dersom verdien er definert til ‘true’ så returneres de etterspurte skjemaene i alle gyldige preutfylte skjemaset. Det er kun i tilfeller der det er prefill på skjemanivå at det kan returneres mer en ett oppgavesett.   Returverdi Beskrivelse   preFillData Objekt av typen PreFillDataBE, som inneholder status på hvorvidt preutfyllingsdata ble funnet eller ikke, samt en liste med objekter av typen PreFillFormFieldDataBE, som inneholder selve preutfyllingsdataene og andre metadata    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     PreFillDataBE    PrefillDataFound Samlestatus: Angir om det finnes eller ikke finnes Preutfylling (Tilsvarer: SOPrefillDataFound or RegisterPrefillDataFound)   SOPrefillDataFound Angir om det finnes eller ikke finnes Preutfylling fra tjenesteeier   RegisterPrefillDataFound Angir om det finnes eller ikke finnes Preutfylling fra Register   PreFillFormTaskBEList Liste med objekter av typen PrefillFormTaskBE   PrefillFormTaskBE    ExternalServiceCode Angir den unike tjenestekoden dataene gjelder   ExternalServiceEditionCode Angir tjenesteutgavekode dataene gjelder   ExternalShipmentReference Unik referanse som settes av tjenesteeier for å identifisere forsendelsen   IdentityFieldHashCode Settes ikke av tjenesteeier. Brukes internt i Altinn   PreFillAttachments Liste (PrefillAttachmentBE-objekter) som inneholder binære vedlegg for oppgavesettet   PreFillForms Liste (PrefillFormBE-objekter) som inneholder preutfylte skjema og metadata for et oppgavesett, ett skjema per objekt   PreFillIdentityFields Liste (PrefillIdentityFieldBE-objekter) som inneholder identifiserende felter for det preutfylte oppgavesettet   PrefillNotifications Liste (NotificationBE-objekter) med varsler for det preutfylte oppgavesettet   ReceiversReference Referanse som settes av Altinn   Reportee Fødselsnummer eller organisasjonsnummer som identifiserer hvem dataene gjelder   SendersReference Referanse på preutfylt skjemasett som settes av tjenesteeier   ServiceOwnerCode Kode som unikt representerer kildesystem, f.eks. ”ABC-123”. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier.   ValidFromDate Angir fra når preutfyllingsdata er gyldig (yyyy-MM-dd)   ValidToDate Angir til når preutfyllingsdata er gyldig (yyyy-MM-dd)   PrefillAttachmentBE    AttachmentData Data for det binære vedlegget   AttachmentName Dette er navnet på vedlegget, som det vises i portalen   AttachmentType MIME-typen for vedlegget   FileName Navn på fil for det binære vedlegget. Filavnet kan ikke inneholde tegn som \u0026ldquo;:\u0026rdquo; og \u0026ldquo;\u0026quot;.   SendersReference Referanse for vedlegget. Settes av tjenesteeier   PrefillFormBE    DataFormatID Id til skjema fra metadata kilde   DataFormatVersion Versjon til skjema fra metadata kilde   FormDataXML Preutfyllingsdata for skjemaet. Dataene er lagret som en CDATA blokk. Preutfyllingsdata omfatter eventuell oppgavesettpreutfylling, eventuell feltpreutfylling og eventuell registerpreutfylling   SendersReference Referanse for skjemaet satt av tjenesteeier   PreFillIdentityFieldBE    FieldValue Verdi for identifiserende felt, som benyttes for å skille preutfyllingsdata for samme tjenesteutgave og avgiver fra hverandre   NotificationBE    FromAddress Avsender adresse (e-post). Hvis ikke satt benyttes avsenderadresse satt i varselmalen   ShipmentDateTime Når varsel skal sendes til mottaker   LanguageCode Språk kode: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   NotificationType En unik streng som definerer en referanse til predefinerte varslingstekster   TextTokens Liste av tekster som skal erstatte maltekst i varselmal   ReceiverEndPoints Liste av mottaker adresser (ReceiverEndPointBE)   ReceiverEndPoint    ReceiverAddress Adressen (telefonnummer eller e-postadresse) for mottakspunktet   TransportType Type varsling: Email, SMS, Instant Message (IM), Both email \u0026amp; sms   TextTokenSubstitutionBE    TokenNum Id på maltekst som skal erstattes i varselmal. Varselmal må bestilles og lages på forhånd   TokenValue Tekst som skal ersatte maltekst    Case    Tjenesteoperasjon Kort beskrivelse     GetCaseList Henter en liste med detaljer for aktive samhandlingstjenester. Operasjonen kan også kalles for å hente ut detaljer for én spesifikk samhandlingstjeneste   InstantiateCollaboration Oppretter en ny samhandlingstjeneste og starter arbeidsflyten for tjenesten   ArchiveCase Avslutter arbeidsflyten for en samhandlingstjeneste    Se endepunkter for informasjon om endepunkter for tjenesteoperasjonene.\nCase.GetCaseList Operasjonen kan benyttes for å hente ut en liste med detaljer for aktive samhandlingstjenester eller detaljer for én spesifikk samhandlingstjeneste.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   caseID Unik identifikator for en samhandlingstjeneste   externalServiceCode Unik tjenestekode for en tjeneste   externalServiceEditionCode Unik kode for en tjenesteutgave   languageID Språk id. Benytt verdien 0 (uspesifisert) da skjemasett vil hentes med språket den ble arkivert med. Språk id: 1033-English, 1044-Bokmål, 1083-Samisk, 2068-Nynorsk   reporteeNumber Fødselsnummer eller organisasjonsnummer for de tjenester man ønsker å hente ut   Returverdi Beskrivelse   CaseBEList En liste med objekter av typen CaseBE    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     CaseBE    CaseID Identifikator for samhandlingstjenesten.   CaseName Samhandlingstjenestens navn.   Comments Kommentarer på samhandlingstjenesten.   CurrentStateFriendlyName Visningsvennlig navn på samhandlingstjenestens tilstand.   CurrentStateID Identifikator for samhandlingstjenestens tilstand.   CurrentStateName Navn på samhandlingstjenestens tilstand.   Notice Merknad på samhandlingstjenesten.   NoticeTemplateID Identifikator for merknaden på samhandlingstjenesten    Tabellen under angir mulige feilkoder for operasjonen:\n   60001 Angitt CaseID er ikke gyldig     60002 Enten tjenestekode og tjenesteutgavekode eller identifikator for samhandlingstjeneste må angis   60012 Angitt avgiver er ikke gyldig   60014 Angitt CaseID er arkivert   60015 Angitt CaseID er slettet    Case.InstantiateCollaboration Denne operasjonen kan kalles fra et sluttbrukersystem for å opprette en instans av en samhandlingstjeneste.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   externalServiceCode Tjenestekode for type samhandlingstjenesten som skal opprettes   externalServiceEditionCode Tjenesteutgavekode for type samhandlingstjenesten som skal opprettes   reporteeNumber Fødselsnummer eller organisasjonsnummer samhandlingstjeneste instansen skal opprettes for   externalSystemReference Unik referanse for samhandlingstjenesten   visibleDateTime Dato for når samhandlingstjenesten blir synlig i portal (yyyy-MM-dd)   dueDate Samhandlingstjenestens frist angis her (yyyy-MM-dd)   Returverdi Beskrivelse   CaseId Identifikator for den opprettede samhandlingstjeneste instansen    Tabellen under angir mulige feilkoder for operasjonen:\nCase.ArchiveCase Denne operasjonen kan kalles fra et sluttbrukersystem for å arkivere en samhandlingstjeneste.\nSluttbrukersystemet kan velge å angi at samhandlingstjenesten skal arkiveres uavhengig av om tjenestene som tilhører samhandlingstjenesten er arkivert. Dette vil medføre at tilhørende tjenester vil frikobles fra samhandlingstjenesten.\n   Input Beskrivelse     userSSN Fødselsnummer til bruker i sluttbrukersystemet som skal autentiseres   userPassword Passordet bruker (i sluttbrukersystemet) har registrert for sin bruker i Altinn   userPinCode Pinkode for valgt engangskodetype (authMethod)   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   caseID Unik identifikator for samhandlingstjenesten som skal arkiveres   forceArchive Angir om elementer som ikke er klare for å arkiveres sammen med samhandlingstjenesten skal frikobles   Returverdi Beskrivelse   ArchivedCaseID Arkiv identifikator for den arkiverte samhandlingstjenesten    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     60001 Angitt CaseID er ikke gyldig   60006 Samhandlingstjenesten har fremdeles aktive meldingstjenester   60007 Samhandlingstjenesten har fremdeles aktive innsendingstjenester   60013 Angitt samhandlingstjeneste er ikke gyldig, eller har blitt arkivert/slettet    KeyManagement    Tjenesteoperasjon Kort beskrivelse     GetCertificates Henter offentlig sertifikat for tjenesteeiere relatert til en tjeneste som støtter kryptering av sensitiv informasjon    Se endepunkter for informasjon om endepunkter for tjenesteoperasjonene.\nKeyManagement.GetCertificates Operasjonen kan benyttes for å hente ut en liste med offentlige sertifikater for tjenesteeiere tilhørende tjeneste som støtter kryptering av sensitiv informasjon.\n   Input Beskrivelse     externalServiceCode Unik tjenestekode for en tjeneste   externalServiceEditionCode Unik kode for en tjenesteutgave   Returverdi Beskrivelse   CertificateBEList En liste med objekter av typen CertificateBE    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     CertificateBE    Certificate Det offentlige sertifikatet for tjenesteeieren som skal benyttes til å kryptere sensitiv informasjon   CertificateId Unik identifikator for sertifikatet, benyttes til å identifisere hvilket sertifikat det er brukt ved innsending   ServiceOwnerId Unik identifikator på tjenesteeieren sertifikatet tilhører    SystemAuthentication    Tjenesteoperasjon Kort beskrivelse     GetAuthenticationChallenge Autentiserer bruker, og returnerer engangskode for tjenestekall    Se endepunkter for informasjon om endepunkter for tjenesteoperasjonene.\nSystemAuthentication.GetAuthenticationChallenge For å sikre autentisering av en person i Altinn gjennom web service operasjonskall benyttes et tjenestekall som tar i mot informasjon om hvilken bruker som skal autentiseres. Web servicen sender tilbake en melding om hvilken engangskode basert på input om hvilke autentiseringsmetode som ønsker benyttes. Den identifiserte engangskoden operasjonen gir beskjed om i respons må da benyttes ved neste tjenestekall. (Se avsnitt om autentisering og hvordan benytte denne web service operasjonen)\nDenne tjenesten vil gi tilbakemelding om hvilken engangskode som skal benyttes og også sende en engangskode per SMS hvis dette er valgt autentisering metode.\n   Input Beskrivelse     challengeRequest Objekt av typen AuthenticationChallengeRequestBE som representerer hvem som ønsker tilgang   Returverdi Beskrivelse   autenticationChallenge Objekt av typen AuthenticationChallengeBE med info om autentiseringstatus, forteller om kallet var suksess eller ikke:    Hvis meldingen inneholder ”OK” så er forespørsel OK og teksten i Message-feltet i denne responsen gir mer informasjon til bruker    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     AuthenticationChallengeRequestBE    SystemUserName Id eller brukernavn som unikt identifiserer sluttbrukersystemet eller brukeren i Altinn.   UserSSN Fødselsnummer til bruker i sluttbrukersystemet eller brukernavnet som skal autentiseres   UserPassword Passordet person har registrert for sin bruker i Altinn   AuthMethod Angir hvilken engangskodetype bruker ønskes utfordret på   AuthenticationChallengeBE    Status Status på forespørsel:   Message Informasjon utover status   ValidFrom Tidspunkt pin de gyldig fra   ValidTo Tidspunkt pin utløper    ArchiveCommonExternal    Tjenesteoperasjon Kort beskrivelse     GeneratePaymentInformation Genererer betalingsinformasjon i xml-format til sluttbrukersystem.    Se endepunkter for informasjon om endepunkter for tjenesteoperasjonene.\nArchiveCommonExternal.GetPaymentInformation Denne operasjonen genererer betalingsinformasjon i xml-format til sluttbrukersystem.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     systemUserName Id som unikt identifiserer sluttbrukersystemet eller brukernavnet i Altinn   systemPassword Passord til sluttbrukersystemet eller brukernavnet i Altinn   userSSN Brukers fødselsnummer. Til bruk til autentisering ved evt. Signering   userPassword Brukers passord. Til bruk til autentisering ved evt. Signering   userPinCode Pinkode. Til bruk til autentisering ved evt. signering   authMethod Angir hvilken engangskodetype bruker (i sluttbrukersystemet) vil autentiseres med. Gyldige typer for denne verdien er: AltinnPin, SMSPin   dataFormatID Dataformat   reportee Fødselsnummer eller organisasjonsnummer   year År man ønsker å hente ut betalingsinfo fra   periodeNumber Periode man ønsker å hente ut betalingsinfo fra. Denne verdien er avhengig av hvilken verdi parameteren periodeType har. F.eks for periodType=1 er kun 1 gyldig,da det er kun 1 periode for årlig innrapportering. For periodeType=2 er 1 og 2 som er gyldige, for periodeType=3 er det 1,2 og 3 de gyldige verdiene, osv   periodeType Type innrapporteringsperiode. Denne kan ha følgende verdier: 1 - årlig,2 - halvårlig,3 - hver 4 måned, 4 - kvartalsvis, 5 - annenhver måned, 6 - månedlig, 26 - annenhver uke, 52 - ukentlig, 365 - daglig   municipalNumber Kommunenummer   formType Type skjema. Kan være 1 - tillegsoppgave, 2 - endringsoppgave og 3 - hovedoppgave   externalServiceCode Unik tjenestekode for en tjeneste   externalServiceEditionCode Unik kode for en tjenesteutgave    BrokerService – Formidlingstjenester (WS)    Tjenesteoperasjon Kort beskrivelse     GetAvailableFiles Henter en avgivers tilgjengelige formidlingstjenester med metadata og referanse for nedlasting   InitiateBrokerService Forbereder opprettelse av en formidlingstjeneste ved å sende inn nødvendig metadata, hvorpå fil kan strømmes opp.   UploadFileStreamed Strømmer opp fil for en gitt referanse basert på opprettelse av formidlingstjeneste   DownloadFileStreamed Strømmer ned fil for formidlingstjeneste basert på referanse    Se endepunkter for informasjon om endepunkter for tjenesteoperasjonene.\nBrokerService.GetAvailableFiles Operasjonen henter ut tilgjengelige formidlingstjenester som en mottaker kan laste ned.\nListen med filer vil bli filtrert basert på rettigheter.\n Innlogget system må ha rettighetene som kreves for å kunne lese elementer (på tjenesten) på vegne av avgiver. Avgiver må fortsatt ha lese rettigheter på tjenesten. (Kan ha mistet rettighetene etter at filen ble opprettet.) Innlogget bruker har riktig autentiseringsnivå. For eksempel vil data system innlogging gi nivå 2. Dette vil skjule filer fra tjenester som krever nivå 3.  Hvis en eller flere av disse testene ikke går ok så vil filene det gjelder bli skjult for brukeren. Metoden vil ikke gi noen feilmelding på dette.\n   Input Beskrivelse     searchParameters Objekt av typen BrokerServiceSearch som representerer søkekriteriene for oppslaget mot formidlingstjenestene   Returverdi Beskrivelse   BrokerServiceAvailableFileList Objekt av typen BrokerServiceAvailableFileList som inneholder en liste over tilgjengelige formidlingstjenester med informasjon som passer søkekriteriene    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     BrokerServiceSearch    Reportee Angir for hvilken avgiver formidlingstjenestene skal sjekkes for. Påkrevd felt.   FileStatus Angir status for formidlingstjenesten det skal søkes for. Mulige verdier er: Uploaded – betyr at formidlingstjenesten er lastet opp av avsender og tilgjengelig for nedlasting. Downloaded – betyr at formidlingstjenesten allerede er lastet ned fra Altinn, men fremdeles tilgjengelig for nedlasting. Feltet er påkrevd   ExternalServiceCode Angir tjenestekoden til formidlingstjenesten det skal søkes etter. Må benyttes i sammenheng med ExternalServiceEditionCode. Feltet er valgfritt.   ExternalServiceEditionCode Angir tjenesteutgavekoden til formidlingstjenesten det skal søkes etter. Må benyttes i sammenheng med ExternalServiceCode. Feltet er valgfritt.   MinSentDateTime Angir dato og klokkeslett for å begrense resultatsett av formidlingstjenester sent inn etter angitt tidspunkt, (yyyy-MM-ddThh:mm:ss).   MaxSentDateTime Angir dato og klokkeslett for å begrense resultatsett av formidlingstjenester sent inn før angitt tidspunkt, (yyyy-MM-ddThh:mm:ss).   BrokerServiceAvailableFile    FileReference Filreferanse på GUID format som benyttes til å laste ned formidlingstjenesten ved bruk av BrokerServiceStreamed.DownloadFileStreamed (se 6.14.4)   FileName Filnavnet til formidlingstjenesten   FileSize Størrelsen på filen til formidlingstjenesten   ReceiptID Identifikator for kvitteringen tilhørende denne forsendelsen og mottaker. Dette er en underkvittering til hoved-kvitteringen sender forholder seg til.   FileStatus Viser status for formidlingstjenesten. Mulige verdier er: Uploaded – betyr at formidlingstjenesten er lastet opp av avsender og tilgjengelig for nedlasting. Downloaded – betyr at formidlingstjenesten allerede er lastet ned fra Altinn, men fremdeles tilgjengelig for nedlasting   Reportee Organisasjonsnummer eller fødselsnummer som representerer avsenderen av formidlingstjenesten   SentDate Viser dato og klokkeslett for når formidlingstjenesten ble sent til Altinn, (yyyy-MM-ddThh:mm:ss)   ExternalServiceCode Angir tjenestekoden til formidlingstjenesten   ExternalServiceEditionCode Angir tjenesteutgavekoden til formidlingstjenesten   SendersReference Angir en referanse for formidlingstjenesten satt av avsender   IsSftpDownloadOnly Dette feltet angir om formidlingstjenesten kun kan lastes vha. SFTP kanalen på grunn av størrelsen    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     40210 Tjenestekoder, ExternalServiceCode og/eller ExternalServiceEditionCode, mangler eller er satt til 0   40214 Verdi for avgiver er ikke på forventet format for organisasjonsnummer eller fødselsnummer    BrokerService.InitiateBrokerService Denne operasjonen starter prosessen for å laste opp en ny formidlingstjeneste. Avsender må starte med å laste opp metadata om tjenesten og hvem som skal motta. Når Altinn har verifisert dette vil mottaker få en referanse som videre benyttes for å laste opp selve payloaden.\n   Input Beskrivelse     brokerServiceInitiation Objekt av typen BrokerServiceInitiation som representerer informasjon tilsvarende manifest.xsd og mottakere for formidlingstjenesten.   Returverdi Beskrivelse   string Referanse på GUID format som benyttes for opplasting gjennom BrokerServiceStreamed.UploadFileStreamed    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     BrokerServiceInitiation    Manifest Objekt av typen Manifest. Feltet er påkrevd   RecipientList Liste med objekter av typen BrokerServiceRecipientExternalBE. Feltet er påkrevd   Manifest    ExternalServiceCode Angir tjenestekoden til formidlingstjenesten som skal opprettes. Feltet er påkrevd   ExternalServiceEditionCode Angir tjenesteutgavekoden til formidlingstjenesten som skal opprettes. Feltet er påkrevd   SendersReference Referanse som formidlingstjenesten skal knyttes til. Bør være unik. Feltet er påkrevd   Reportee Organisasjonsnummer eller fødselsnummer som angir avgiver for formidlingstjenesten. Feltet er påkrevd   FileList Liste av objekter av typen File. Ment for å kunne utveksle informasjon om innholdet i formidlingstjenesten etter avtale mellom avsender og mottaker – innhold valideres eller endres ikke av Altinn. Feltet er ikke påkrevd   PropertyList Liste av objekter av typen Property. Ment for å kunne utveksle ytterlige egenskaper om formidlingstjenesten med nøkkel og verdi etter avtale mellom avsender og mottaker – innhold valideres eller endres ikke av Altinn. Feltet er ikke påkrevd   File    FileName Ment for å kunne angi filnavn. Feltet er påkrevd   CheckSum Ment for å kunne angi sjekksummen for fil   Property    PropertyKey Nøkkel for egenskap. Feltet er påkrevd   PropertyValue Verdi for egenskapen definert. Feltet er påkrevd   Recipient    PartyNumber Organisasjonsnummer eller fødselsnummer for ønsket mottaker av formidlingstjenesten. Feltet er påkrevd    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     40201 Den aktuelle avgiveren har ikke rettigheter til å sende formidlingstjenesten   40202 En eller flere av mottakerne oppgitt finnes ikke, eller har ikke nok rettigheter til å motta formidlingstjenesten   40210 Tjenestekoder, ExternalServiceCode og/eller ExternalServiceEditionCode, mangler eller er satt til 0 og angir ikke en formidlingstjeneste   40211 Bruker er ikke autorisert til å utføre aktuell handling   40216 Brukeren er på et sikkerhetsnivå lavere enn påkrevd    BrokerServiceStreamed.UploadFileStreamed Operasjonen benyttes for å strømme formidlingstjenestens innhold til Altinn basert på en referanse mottatt gjennom kallet til BrokerService.InitiateBrokerService.\n   Input Beskrivelse     StreamedPayloadExternalBE[1] Objekt av typen StreamedPayloadExternalBE som inneholder informasjon og selve stream av fil som opplastes   Returverdi Beskrivelse   ReceiptExternalStreamedBE Objekt av typen ReceiptExternalStreamedBE som inneholder detaljer for kvitteringen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     StreamedPayloadExternalBE    Reference Angir referansen payload skal knyttes til. Denne referansen mottas gjennom kallet til InitiateBrokerService. Feltet er påkrevd.   Reportee Organisasjonsnummer eller fødselsnummer som angir avgiver for formidlingstjenesten. Feltet er påkrevd   FileName Navnet på filen som skal lastes opp.   DataStream Datastrømmen for fil som lastes opp   ReceiptExternalStreamedBE    ReceiptId Unik identifikator for kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering   ReceiptText Tekst i kvitteringen som angir vellykket opplasting: “Upload of file {filnavn} was successful. Recipients can now download the file.” Eventuelle feil vil returneres som AltinnFaults   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Vil i bruk på denne operasjonen alltid returnere BrokerService   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering). For denne operasjonen vil den alltid være 0    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     40201 Den aktuelle avgiveren har ikke rettigheter til å sende formidlingstjenesten.   40204 Filen som lastes opp er for stor for opplasting over web service. Bruk SFTP istedenfor.   40205 Ingen data for fil ble mottatt.   40206 Filen som er mottatt er ikke på forventet ZIP-format.   40208 En fil er allerede lastet opp på den angitte referansen.   40209 Opplastet fil er stoppet av virussjekk.   40211 Bruker er ikke autorisert til å utføre aktuell handling.   40212 Oppgitt filreferanse refererer ikke til en formidlingstjeneste.   40213 Angitt avgiver stemmer ikke med informasjon i Altinn.   40216 Brukeren er på et sikkerhetsnivå lavere enn påkrevd.    BrokerServiceStreamed.DownloadFileStreamed Operasjonen benyttes for å strømme formidlingstjenestens innhold fra Altinn til mottaker basert på en referanse for formidlingstjenesten som kan hentes ved å benytte BrokerService.GetAvailableFiles.\n   Input Beskrivelse     string fileReference Angir referansen for formidlingstjeneste som skal strømmes ned. Denne referansen hentes gjennom kallet GetAvailableFiles. Feltet er påkrevd.   string reportee Organisasjonsnummer eller fødselsnummer som angir avgiver for formidlingstjenesten. Feltet er påkrevd   Returverdi Beskrivelse   Stream Datastrømmen for formidlingstjenestefilen    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     40204 Filen som lastes ned er for stor for nedlasting over web service. Bruk SFTP istedenfor.   40207 Den gitte referansen har ikke fil klar for nedlasting.   40211 Bruker er ikke autorisert til å utføre aktuell handling.   40212 Oppgitt filreferanse refererer ikke til en formidlingstjeneste.   40213 Angitt avgiver stemmer ikke med informasjon i Altinn.   40215 Angir at mottaker ikke har nødvendige rettigheter til å laste ned formidlingstjenesten.   40216 Brukeren er på et sikkerhetsnivå lavere enn påkrevd    BrokerService.ConfirmDownloaded Operasjonen benyttes til å bekrefte at man har fått lastet ned en formidlingstjeneste fil i sin helhet. Operasjonen bør kalles rett etter at det er blitt gjort en nedlasting hvis dette gikk bra. Resultatet er at avsender kan se hvem av filens mottakere som har fått hentet filen.\n   Input Beskrivelse     string fileReference Angir referansen til filen som skal bekreftes nedlastet. Obligatorisk.   string reportee Organisasjonsnummer eller fødselsnummer som angir mottaker av filen. Obligatorisk    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     40211 Bruker er ikke autorisert til å utføre aktuell handling   40212 Oppgitt filreferanse refererer ikke til en formidlingstjeneste   40213 Angitt avgiver stemmer ikke med informasjon i Altinn   40215 Angir at mottaker ikke har nødvendige rettigheter   40216 Brukeren er på et sikkerhetsnivå lavere enn påkrevd    Formidlingstjenester (SFTP) OBS: SFTP-grensesnitt for formidlingstjenesten fases ut og skal ikke tas i bruk av nye aktører.\nAvsendere og mottakere av formidlingstjenester kan benytte seg av egen SFTP server på Altinn til å henholdsvis laste opp og ned filer. Som tidligere nevnt vil ikke Altinn forholde seg til eller validere ZIP-filen som lastes opp utover to nøkkelfiler i selve ZIP-filen.\nManifest.xml Denne må lastes opp som del av ZIP-filen og validere mot XSD som spesifisert under. Inneholder nøkkelinformasjon om hva slags type formidlingstjeneste det er, og hvem som er avsender. Enkelte felter vil bli oppdatert av Altinn i forbindelse med tilgjengeliggjøring til mottakere. Manifest filen vil være del av ZIP-pakken som mottaker laster ned.\n   Element Påkrevd Beskrivelse     BrokerServiceManifest Ja Rotnode   ExternalServiceCode Ja Angir tjenestekoden til formidlingstjenesten som skal benyttes   ExternalServiceEditionCode Ja Angir tjenesteutgavekoden til formidlingstjenesten som skal benyttes   SendersReference Ja Angir avsenders referanse, som kan benyttes til å søke opp kvittering   Reportee Ja Angir organisasjonsnummer eller fødselsnummer for avgiver   SentDate Nei Dato for når formidlingstjenesten ble mottatt av Altinn. Settes av Altinn, (yyyy-MM-ddThh:mm:ss)   FileList Nei Liste med filer i formidlingstjenesten. Kan angis av avsender. Avsender og mottaker(e) avtaler bruk, Altinn videreformidler kun informasjonen   File Nei Representerer en fil   FileName Ja Angir navn på fil   CheckSum Nei Angir checksum for filen   PropertyList Nei Liste med egenskaper i tilknytning til formidlingstjenesten. Kan angis av avsender. Avsender og mottaker(e) avtaler bruk, Altinn videreformidler kun informasjonen   Property Nei Representerer en egenskap   PropertyKey Ja Egenskapens nøkkel   PropertyValue Ja Egenskapens verdi    Recipients.xml Denne må lastes opp som del av ZIP-filen og validere mot XSD som spesifisert under. Benyttes av avsender til å angi hvem som skal være mottakere av formidlingstjenesten. Recipients filen vil av Altinn fjernes fra ZIP-pakken som mottaker kan laste ned.\n   Element Påkrevd Beskrivelse     BrokerServiceRecipientList Ja Rotnode   Recipient Ja Node for hver enkelt mottaker   PartyNumber Ja Angir organisasjonsnummer eller fødselsnummer for mottaker av formidlingstjenesten    LookUpExternal – Innsynstjenester (WS)\nExecuteLookUp Operasjonen benyttes for å utføre oppslag mot en innsynstjeneste i Altinn.\n   Input Beskrivelse     LookUpRequest Objekt av typen LookUpRequestExternalBE som spesifiserer tjeneste, reportee og spørring/input til innsynstjenesten   Returverdi Beskrivelse   ExecuteLookUpResult (string) Svar fra innsynstjenesten som en tekststreng    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten\n   Property Beskrivelse     LookUpRequest    QueryData Input/spørring til innsynstjenesten som en tekststreng   Reportee Organisasjonsnummer eller fødselsnummer som angir avgiver for innsynstjenesten. Feltet er påkrevd   ServiceCode Angir tjenestekoden til innsynstjenesten som skal benyttes. Feltet er påkrevd   ServiceEditionCide Angir tjenesteutgavekoden til innsynstjenesten som skal opprettes. Feltet er påkrevd    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     40028 Kombinasjonen av ServiceCode og ServiceEditionCode er ikke en gyldig innsynstjeneste   450067 Innsynstjenesten er ikke konfigurert med en Mapper og støtter derfor ikke direkte kall gjennom LookUpExternal eller REST API   450068 Returneres dersom LookUp Mapper returnerer «Bad Request» feil kode   450069 Returneres dersom LookUp Mapper returnerer «Forbidden» feil kode    AuthorizationExternal – TokenExternal (WS)\nGetAccessToken Operasjonen benyttes av for å veksle inn autorisasjonskoder, fra samtykke delegering av rettigheter, i en referanse token eller en JWT token.\n   Input Beskrivelse     AuthorizationCode (Guid) Authorisasjonskode (Guid) som skal veksles inn i en authorisasjons token   SelfContained (boolean) Boolsk verdi for om man ønsker en Self-Contained JWT token eller, en referanse token som retur verdi   Returverdi Beskrivelse   AuthorizationAccessTokenResponse Objekt av typen AuthorizationAccessTokenResponseExternalBE som inneholder enten en Referanse Token eller en Self-Contained JWT Token    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     AuthorizationAccessTokenResponse    ReferenceToken Referanse token som en Guid verdi, som kan benyttes opp mot AuthorizationDecisionPointExternal.AuthorizeAccessExternalV2 for å benytte regler knytt til ett spesifikt samtykke   SelfContainedToken Enkodet Self-Contained JWT token som en tekststreng, som kan benyttes som autorisasjon direkte mot tjenesteeiers systemer    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     50028 Brukes dersom authorisasjonskoden er ugyldig, eller koden ikke tilhører sluttbruker    Sammenheng mellom nye og gamle Altinn web services Nedenfor vises en oversikt som mapper web service grensesnitt tilgjengelige i AltinnI med de som tilbys i AltinnII versjon 1:\n   AltinnI operasjon AltinnII ver. 1 operasjon Kommentar AltinnII     DataExchange.ActiveForms ServiceMetadata.GetAvailableServices AltinnII er tjenesteorientert, ikke skjemaorientert.   DataExchange.AltInnStatus IntermediaryInbound.GetAltinnSubmissionStatus    DataExchange.BatchReceiptPw ReporteeArchiveExternal.GetArchivedFormTask AltinnII operasjonen henter kun skjemasett, ikke vedlegg   DataExchange.BatchReceiptPw ReporteeArchiveExternal.GetAttachmentData AltinnII operasjonen henter kun vedlegg, ikke skjemasett   DataExchange.GetSchemaDefinition ServiceMetadata.GetFormTaskSchemaDefinitions    DataExchange.RequestAuthenticationChallengePw SystemAuthentication. GetAuthenticationChallenge    DataExchange.RequestInfoText Workflow.GetSigningText    DataExchange.RequestPrefillData Prefill.GetPrefillData AltinnII versjon 2   DataExchange.SubmitBatchPw IntermediaryInbound.SubmitFormTask    MessageReceiptExchange.GetAltUtMessage Correspondence.GetCorrespondenceForEndUserSystemV2    N/A Correspondence.DeleteCorrespondence Ny web service operasjon i AltinnII   N/A Correspondence.SaveCorrespondenceConfirmation Ny web service operasjon i AltinnII   MessageReceiptExchange.GetAltUtMessageListForArchiveRef ReporteeElementList.GetCorrespondenceListForArchiveRef    MessageReceiptExchange.GetAltUtMessageListForParticipant ReporteeElementList.GetCorrespondenceListForReportee    N/A ReporteeElementList.DeleteReporteeElement Ny web service operasjon i AltinnII   N/A ReporteeElementList.GetFormSetElementsV2 Ny web service operasjon i AltinnII   N/A ReporteeElementList.GetReporteeElementListV2 Ny web service operasjon i AltinnII   MessageReceiptExchange.GetReceipt Receipt.GetReceipt    MessageReceiptExchange.GetReceiptList Receipt.GetReceiptList    N/A Receipt.UpdateReceipt Ny web service operasjon i AltinnII   N/A Workflow.DoSendingInAction Ny web service operasjon i AltinnII   N/A Workflow.DoSigning Ny web service operasjon i AltinnII   N/A Workflow.GetAvailableActionsV2 Ny web service operasjon i AltinnII   N/A Workflow.GetNextWorkflowStateTypeInProcessFlowV2 Ny web service operasjon i AltinnII   N/A Workflow.GetProcessDetailsV2 Ny web service operasjon i AltinnII   N/A Workflow.SetBackToFormFilling Ny web service operasjon i AltinnII    "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/configuration/secrets/",
	"title": "Hemmeligheter",
	"tags": [],
	"description": "Hvordan håndtere hemmeligheter og sensitiv data i en app.",
	"content": "MERK: Det gjøres i disse dager et arbeid for å opprette et Azure Key Vault for alle appeiere der de selv kan administrere sine hemmeligheter. Ta en avsjekk med din tekniske kontakt dersom du er usikker på om dette er tilgjengelig for din organisasjon.\rKonfigurer støtte for bruk av hemmeligheter i applikasjonen For å kunne benytte hemmeligheter i din applikasjon må du bruke nugetversjon \u0026gt;= 1.2.2. Se hvordan du oppdaterer nugetreferanser for applikasjonen din her.\n  Oppdater helm charts for å koble opp rett konfigurasjon til din\nI applikasjonsrepoet ditt finner du filen values.yaml i mappen deployment.\nUnder seksjonen volumeMounts legger du til følgende linjer:\n- name: altinn-appsettings-secret mountPath: \u0026#34;/altinn-appsettings-secret\u0026#34; Under seksjonen volumes legger du til følgende linjer:\n- name: altinn-appsettings-secret secret: secretName: altinn-appsettings-secret OBS! Vær påpasselig med antall linjeskift og innrykk når du jobber i values.yaml.\nSiste del av filen skal se omtrent slik ut når du har gjort ferdig alle endringer.\n  Videre må konfigurasjonen som ligger i appclusteret knyttes til den kjørende tjenesten\nI applikasjonsrepoet ditt finner du filen Program.cs i mappen App.\nI metoden CreateHostBuilder skal det kalles på en metode som vil laste opp konfigurasjon for hemmeligheter.\nDu kan bytte ut hele metoden med kodesnuten nedenfor.\npublic static IHostBuilder CreateHostBuilder(string[] args) =\u0026gt; Host.CreateDefaultBuilder(args) .ConfigureWebHostDefaults(webBuilder =\u0026gt; { webBuilder.ConfigureAppConfiguration((hostingContext, configBuilder) =\u0026gt; { configBuilder.LoadAppConfig(); }); webBuilder.UseStartup\u0026lt;Startup\u0026gt;(); }); I tillegg må man importere biblioteket der configBuilder.LoadAppConfig er implementert. Lim inn følgende øverst i filen.\nusing Altinn.App.PlatformServices.Extensions;   I applikasjonsrepoet ditt finner du filen Startup.cs i mappen App.\nI metoden ConfigureServices skal det kalles på en metode som vil tilgjengeliggjøre konfigurasjon samt en klient for å hente tjeneser for applikasjonens ulike klasser.\nLim inn følgende et sted i denne metoden. Gjerne der andre kall til services blir gjort.\nservices.AddAppSecrets(Configuration, _env);   Forsikre deg om at applikasjonen din fortsatt bygger og at deploy via Altinn Studio enda er mulig. Din applikasjon er nå klar til å benytte hemmeligheter!\n  Hvordan benytte hemmeligheter i applikasjonen Servicen ISecret er eksponert i applikasjonen og kan dependency injectes i den klassen der du har behov for å hente ut en hemmelighet.\nLokal mock For å kunne kjøre tjenesten din lokalt uten å koble seg til Azure Key vault må man opprette filen secrets.json under mappen App. I Json strukturen kan man legge inn dummydata for hemmelighetene man har behov for. Har man lastet opp en hemmelighet i Key Vault med navnet \u0026ldquo;secretId\u0026rdquo; vil innholdet i json-filen se slik ut\n{ \u0026#34;secretId\u0026#34;: \u0026#34;local cecret dummy data\u0026#34; } Type hemmeligheter Secret - lagres som en streng direkte i keyvault. F.eks et sertifikat som er base64 encoded eller et token. Key - Nøkkel Certificate - et sertifikat\nKodeeksempel I denne seksjonen finner du et eksempel på hvordan man benytter en hemmelighet til å populere et skjemafelt under instansiering.\nLogikken er implementert i InstantiationHandler.cs\nusing Altinn.App.Models; using Altinn.App.Services.Interface; using Altinn.App.Services.Models.Validation; using Altinn.Platform.Storage.Interface.Models; using System.Threading.Tasks; namespace Altinn.App.AppLogic { public class InstantiationHandler { private IProfile _profileService; private IRegister _registerService; private ISecrets _secretsService; /// \u0026lt;summary\u0026gt;  /// Set up access to profile and register services  /// \u0026lt;/summary\u0026gt;  /// \u0026lt;param name=\u0026#34;profileService\u0026#34;\u0026gt;\u0026lt;/param\u0026gt;  /// \u0026lt;param name=\u0026#34;registerService\u0026#34;\u0026gt;\u0026lt;/param\u0026gt;  public InstantiationHandler(IProfile profileService, IRegister registerService, ISecrets secretsService) { _profileService = profileService; _registerService = registerService; _secretsService = secretsService; } /// \u0026lt;summary\u0026gt;  /// Run events related to instantiation  /// \u0026lt;/summary\u0026gt;  /// \u0026lt;remarks\u0026gt;  /// For example custom prefill.  /// \u0026lt;/remarks\u0026gt;  /// \u0026lt;param name=\u0026#34;instance\u0026#34;\u0026gt;Instance information\u0026lt;/param\u0026gt;  /// \u0026lt;param name=\u0026#34;data\u0026#34;\u0026gt;The data object created\u0026lt;/param\u0026gt;  public async Task DataCreation(Instance instance, object data) { if (data.GetType() == typeof(Skjema)) { Skjema model = (Skjema)data; model.etatid = await _secretsService_.GetSecretAsync(\u0026#34;secretId\u0026#34;); } await Task.CompletedTask; } } }   Den private variabelen for servicen inkluderes i klassen\nprivate ISecrets _secretsService;   ISecrets servicen dependency injectes inn i klassen. Og den private variabelen blir assignet en verdi.\npublic InstantiationHandler(IProfile profileService, IRegister registerService, ISecrets secretsService) { _profileService = profileService; _registerService = registerService; _secretsService = secretsService; }   I metoden der man har behov for hemmeligheten kaller man på servicen. secretId vil være navnet på hemmeligheten i KeyVault evt. i lokal mock.\nawait _secretsService_.GetSecretAsync(\u0026#34;secretId\u0026#34;);   Dersom du prøver å bygge løsningen nå vil det feile.\nISecrets vil mangle der InstantiationHandler instansieres. Naviger til App.cs og dependency inject servicen inn i konstruktøren til App.\nVidere må tjenesten legges til i kallet der InstantiationHandler instansieres som vist nedenfor.\npublic App( IAppResources appResourcesService, ILogger\u0026lt;App\u0026gt; logger, IData dataService, IProcess processService, IPDF pdfService, IProfile profileService, IRegister registerService, IPrefill prefillService, ISecrets secretsService ) : base(appResourcesService, logger, dataService, processService, pdfService, prefillService) { _logger = logger; _validationHandler = new ValidationHandler(); _calculationHandler = new CalculationHandler(); _instantiationHandler = new InstantiationHandler(profileService, registerService, secretsService); }   Administrere din hemmeligheter i Azure Enn så lenge er det ikke mulig for tjenesteeiere å selv administrere sine hemmeligheter. Ta kontakt med din kontaktperson i Altinn 3 teamet, så vil de være behjelpelige.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/rest/autorisasjon/hent_rolle/",
	"title": "Hente ut liste over roller",
	"tags": [],
	"description": "",
	"content": "Denne siden beskriver hvordan Altinn kan brukes til å hente ut liste over roller en bruker har på vegne av andre\nHente ut roller Hente ut alle roller en person/organisasjon {subject} har for en annen person/organisasjon {reportee} på tjenester som tilhører autentisert tjenesteeier.\nGET https://www.altinn.no/api/serviceowner/authorization/roles?ForceEIAuthentication\u0026amp;language={language}\u0026amp;subject={subject}\u0026amp;reportee={reportee} HTTP/1.1 Accept: application/hal+json ApiKey: myKey Eksempel på respons:\n{ \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://tt02.altinn.no/api/serviceowner/authorization/roles?subject=811077062\u0026amp;reportee=23114702129\u0026#34; } }, \u0026#34;_embedded\u0026#34;: { \u0026#34;roles\u0026#34;: [ { \u0026#34;RoleId\u0026#34;: 491068, \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 11, \u0026#34;RoleName\u0026#34;: \u0026#34;Reporter/sender\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Access to selected forms and services\u0026#34;, \u0026#34;Delegator\u0026#34;: \u0026#34;ERLING ENGENES\u0026#34;, \u0026#34;DelegatedTime\u0026#34;: \u0026#34;2019-08-26T12:39:29.113\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://tt02.altinn.no/api/serviceowner/roledefinitions/11\u0026#34; } } } ] } } Hente ut alle rolledefinisjoner GET https://www.altinn.no/api/serviceowner/roledefinitions?ForceEIAuthentication\u0026amp;language={language} HTTP/1.1 Accept: application/hal+json ApiKey: myKey Eksempel på respons:\n{ \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions\u0026#34; } }, \u0026#34;_embedded\u0026#34;: { \u0026#34;roledefinitions\u0026#34;: [ { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 1, \u0026#34;RoleName\u0026#34;: \u0026#34;Bankruptcy read\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Reading rights for information in the service Konkursbehandling (bankruptcy proceedings)\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;BOBEL\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/1\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 2, \u0026#34;RoleName\u0026#34;: \u0026#34;Bankruptcy write\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Writing rights for information in the service Konkursbehandling (bankruptcy proceedings)\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;BOBES\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/2\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 3, \u0026#34;RoleName\u0026#34;: \u0026#34;Salaries and personnel employee\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Access to services related to salaries and personnel\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;LOPER\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/3\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 4, \u0026#34;RoleName\u0026#34;: \u0026#34;Access manager\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Administration of access\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;ADMAI\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/4\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 5, \u0026#34;RoleName\u0026#34;: \u0026#34;Limited rights for an individual\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Delegable rights to services for individuals\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;PRIUT\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/5\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 6, \u0026#34;RoleName\u0026#34;: \u0026#34;Accounting employee\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Access to accounting related forms and services\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;REGNA\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/6\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 7, \u0026#34;RoleName\u0026#34;: \u0026#34;Auditor\u0026#39;s rights\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Delegable auditor\u0026#39;s rights\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;REVAI\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/7\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 8, \u0026#34;RoleName\u0026#34;: \u0026#34;Limited signing rights\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Signing access for selected forms and services\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;SISKD\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/8\u0026#34; } } } ] } } Hente ut én spesifikk rolledefinisjon GET https://www.altinn.no/api/serviceowner/roledefinitions/{roleDefinitionId}?ForceEIAuthentication\u0026amp;language={language} Accept: application/hal+json ApiKey: myKey Eksempel på respons:\n{ \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 4, \u0026#34;RoleName\u0026#34;: \u0026#34;Tilgangsstyring\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Denne rollen gir administratortilgang til å gi videre rettigheter til andre.\\r\\n\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;ADMAI\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/4\u0026#34; } } } "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/data/options/",
	"title": "Kodelister (options)",
	"tags": [],
	"description": "Hvordan konfigurere options/kodelister for en app.",
	"content": "Altinn tilbyr i dag to ulike måter en app kan eksponere kodelister. Dette gjøres gjennom et options-api som er eksponert av appen, og kodelisten vil være tilgjengelig på endepunktet {org}/{app}/api/options/{optionsId}. Dropdown-komponenten vil automatisk kunne hente ut en slik liste om man kobler denne komponenten til en options-id.\nStatisk kodeliste fra app-repo Ved å legge json-lister i options mappen i app repo vil appen automatisk lese denne filen og eksponere det gjennom options-apiet. Options filene må ligge under App/options/ og vil bli differensiert ved hjelp av navngivningen på json-filen. F.eks land.json. Her vil da optionsId være land, og vil være eksponert gjennom endepunktet {org}/{app}/api/options/land. Kodelistene må være på et spesifikt format. Eksempel på en kodeliste som inneholder land (App/options/land.json):\n[ { \u0026#34;value\u0026#34;: \u0026#34;norway\u0026#34;, \u0026#34;label\u0026#34;: \u0026#34;Norge\u0026#34; }, { \u0026#34;value\u0026#34;: \u0026#34;denmark\u0026#34;, \u0026#34;label\u0026#34;: \u0026#34;Danmark\u0026#34; }, { \u0026#34;value\u0026#34;: \u0026#34;sweden\u0026#34;, \u0026#34;label\u0026#34;: \u0026#34;country.label.sweden\u0026#34; } ] label feltet kan inneholde en tekstnøkkel til teskstressursene eller ren tekst.\nKodeliste generert runtime I app-templaten har man også mulighet til å dynamisk eksponere/endre kodelister under kjøringen av appen. Dette muligjør det å eksponere dynamiske verdier som en del av kodelisten, og settes opp i metoden GetOptions i App.cs. Denne metoden vil bli kalt i det appen får et kall mot options-apiet, og man kan selv velge å returnere det objektet man ønsker.\nUnder finner du et eksempel på hvordan dette kan settes opp. Her vil man få ut den oppsatte kodelisten i det appen får et kall mot {org}/{app}/api/options/demo_id.\npublic override Task\u0026lt;AppOptions\u0026gt; GetOptions(string id, AppOptions options) { if (id.Equals(\u0026#34;demo_id\u0026#34;)) { var demoOptions = new AppOptions { Options = new List\u0026lt;AppOption\u0026gt; { new AppOption { Label = \u0026#34;Some label\u0026#34;, Value = \u0026#34;Some value\u0026#34; }, new AppOption { Label = \u0026#34;Some other label\u0026#34;, Value = \u0026#34;Some other value\u0026#34; } } }; return Task.FromResult(demoOptions); } else { // don\u0026#39;t touch existing options  return Task.FromResult(options); } } Koble dropdown-komponent til kodeliste Dette gjøres ved å legge til feltet optionsId som referer til hvilken option (kodeliste) man ønsker refere til. Eksempel:\n{ \u0026#34;id\u0026#34;: \u0026#34;8e6f7b2f-fcf0-438d-8336-c1a8e1e03f44\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Dropdown\u0026#34;, \u0026#34;componentType\u0026#34;: 4, \u0026#34;textResourceBindings\u0026#34;: {}, \u0026#34;dataModelBindings\u0026#34;: {}, \u0026#34;optionsId\u0026#34;: \u0026#34;biler\u0026#34;, } "
},
{
	"uri": "https://altinn.github.io/docs/api/soap/grensesnitt/nye-ec-endepunkter/",
	"title": "Nye EC-endepunkter",
	"tags": [],
	"description": "Nye EC-endepunkter juli 2019",
	"content": "Informasjon om nye endepunkter og Apache CXF klienter (Oppdatert 24.7.2019) De nye endepunktene er nå tilgjengelig i både test og produksjon. Tjenester som benytter endepunkter med navn som har suffiks \u0026ldquo;EC\u0026rdquo; (d.v.s. alle Enterprice Certificate endepunkter for SOAP), kan nå benytte de nye endepunktene som har suffiks \u0026ldquo;EC2\u0026rdquo;. F.eks. WSDL-filen for GetReceiptV2 er ReceiptExternalEC2.svc?wsdl.\nFeilen i Apache CXF som påvirket \u0026ldquo;streamed\u0026rdquo; EC-grensesnitt er fikset av Apache. Den vil være tilgjengelig i neste release av Apache CXF (3.3.3).\nUtfordringer med webserviceoperasjoner som bruker sertifikat På grunn av betydelig økning i antall kall til Altinns webservicer med sertifikatautentisering (EC) og klienter som ikke terminerer forbindelsen, opplever vi at det flere ganger hver dag nås en maksgrense på antall samtidige connections. Dette fører til treghet og utilgjengelighet både i test og produksjon.\nFor de webservicene som baserer seg på polling mot Altinn må man ha et bevisst og fornuftig forhold til hvor ofte man sjekker status\n på samme måte som man sjekker kvitteringer for innsendinger bør man heller ikke gå i for tette løkker når man sjekker tilgjengelige filer på formidlingstjeneste eller status på meldinger/DPV. En gang i timen kan ofte være tilstrekkelig. Altinn har tradisjonelt aldri hatt strenge restriksjoner på kall til tjenester, men om vi fortsetter å oppleve ekstremt frekvent polling eller manglende lukking av forbindelser vil vi potensielt bli nødt til å innføre tekniske begresninger på enkelte klienter eller hele systemer.  En konfigurasjonsendring på endepunktene som gjør tokenet stateful ble forsøkt lagt ut i testmiljøet (tt02), men viste seg å føre til feilsituasjoner hos klienter som bruker java-rammeverket CXF når de skulle gjøre kall til operasjoner som bruker streaming (typisk vedlegg til skjema eller opplasting til formidlingstjeneste).\nFor å kunne gjennomføre flytting fra dagens konfigurasjon til ny uten å måtte vente på en fiks i CXF vil vi lage nye endepunkter for autentisering med virksomhetssertifikat. Informasjon om adresser/wsdl vil komme her på denne siden. De nye endepunktene vil bli tilgjengelig før 1.8.2019, både i test og produksjon og være så like de eksisterende som mulig, både teknisk og funksjonelt. Vi anbefaler at alle som ikke bruker cxf og streaming tester de nye endepunktene fra 1.8.2019 og bytter over så snart som mulig. De eksisterende vil være tilgjengelig en stund fremover, men vil bli tatt bort etter en viss tid. Endelig dato for fjerning vil komme i løpet av høsten 2019.\nDen nye konfigurasjonen medfører følgende: • Security token blir \u0026ldquo;stateful\u0026rdquo;. Dette betyr at den inkluderer en soap cookie som transporterer tilstand fram og tilbake mellom konsument og tjeneste. Dermed kan tjenesten bli «stateless» og unngå problemer med at «secure conversations» ikke blir lukket av konsumentene.\n• Endringer i tjenestenes konfigurasjon på .NET WCF nivå: Attributtene requireSecurityContextCancellation og requireDerivedKeys på elementet Security i tjenestens «binding» endres fra true til false.\n• Operasjonen CancellationToken på tjenesten for å hente security tokens støttes ikke i denne konfigurasjonen\nMulige konsekvenser for leverandører: • .NET WCF klienter Hvis man ikke lukker proxies eksplisitt (med close) trenger man ikke gjøre noen endringer. I motsatt fall må man endre attributtene requireSecurityContextCancellation og requireDerivedKeys på elementet Security i tjenestens «binding» fra true til false.\n• Java Apache CXF klienter Det er p.t. en bug i CXF som gjør at «streamed» EC-grensesnitt ikke fungerer. Jf issue hos apache. Vi kjenner ikke til behov for endringer for \u0026ldquo;ikke-streamed» grensesnitt. Det er kommet forslag til fiks for dette som vi jobber med å verifisere.\n• Klienter uten arkitekturrammeverk Hvis man kobler seg opp mot tjenestene på lavestene nivå – dvs med egne kall til tjenesten for å hente security token – må man gjøre tilpasninger i koden slik at security token som sendes til den reelle tjenesten inkluderer soap cookie returnert fra tjenesten for å hente security token.\nNy operasjon for å hente arkiverte meldinger (correspondence) ReporteeArchive.GetArchivedCorrespondence - se dokumentasjon På grunn av sanering i database vil man ikke lenger kunne hente arkiverte meldinger med dagens operasjon (GetCorrespondenceForEndUserSystemV2). Saneringen er utsatt for å gi eksisterende integrasjoner tilstrekkelig med tid til å implementere den nye operasjonen, men vil gjenopptas i alle miljøer fra og med januar 2020.\nDen nye operasjonen er tilgjengelig i alle miljøer og kan testes umiddelbart.\nMan kan altså enten ta i bruk den nye operasjonen eller benytte REST-apiet.\nSe release notes for mer informasjon.\nStrengere validering på filnavn Våren 2019 innførte vi en strengere validering på filtyper under innsending av vedlegg til Altinn - se release notes for mer informasjon. På grunn av kort varsel og en del problemer, ble denne endringen midlertidig rullet tilbake på de tjenestene som var mest berørt. I løpet av høsten 2019 (senest september) vil denne bli skrudd på igjen, så alle som sender vedlegg/filer til Altinn bør inkludere filendelse, ikke bare filnavn for å komme gjennom valideringsrutinene.\nVed eventuelle spørsmål eller avklaringer av teknisk natur, ber vi om at dere tar kontakt på Altinns public slack\nVanlig support og bistand til feilmeldinger må tas e-post, som vanlig.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/rest/",
	"title": "REST",
	"tags": [],
	"description": "Som tjenesteeier får du tilgang til en ekstra del av Altinns REST-api. Selv om du er tjenesteeier vil du også kunne ha behov for den åpne delen av REST APIet.",
	"content": "For å få en API-nøkkel med tilgang til \u0026ldquo;serviceowner\u0026rdquo;-ressursene, følg stegene på Kom i gang med REST API, og velg autentisering med Maskinporten eller virksomhetssertifikat. Organisasjonsnummeret i tokenet eller sertifikatet må matche det som er oppført på etaten som tjenesteeier i Altinns databaser. For å trigge autentisering med virksomhetssertifikat, legger man på parameteren ?ForceEIAuthentication i URI-en.\nAPIet for tjenesteeiere har en egen teknisk dokumentasjonsside med testklient: Teknisk API-dokumentasjon for tjenesteeiere\n\rAutorisasjon\rVed å bruke autorisasjonsdelen av REST-API for tjenesteeier kan man autorisere tilganger og verifisere roller og rettigheter til bruk utenfor Altinn, for eksempel som alternativ til XACML/webservice eller som oppslag i forbindelse med tilgangsstyring.\n\r\rContinuation token\rNoen endepunkt i REST APIet til Altinn tilbyr bruk av continuation token. Denne siden beskriver hvordan man kan bruke continuation token i Altinn.\n\r\rKontaktinformasjon\rUthenting og søk i kontaktinformasjon for virksomheter\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/api/datasystem/faq_datasystem/teknisk/",
	"title": "Teknisk",
	"tags": [],
	"description": "Spørsmål og svar som gjelder det tekniske rundt implementasjon",
	"content": " Hvilke IP-adresser og porter brukes? Svar:\nProduksjon IP: 89.250.123.0\nTT02 IP: 89.250.123.40\nPort 80 for http\nPort 443 for https\n Hvor finner jeg skjemaspesifikasjonene? Svar:\nSOAP Webservice:\nFor tjenester som finnes i test/produksjon kan man benytte en egen webservice for å hente ut metadata. Webservicen heter ServiceMetadataExternal https://altinn.github.io/docs/guides/integrasjon/sluttbrukere/webservice/\nREST:\nhttps://altinn.no/api/metadata\n Er ParentReference påkrevd? Svar: Nei, strengt tatt ikke. ParentReference er optional, men som «best practice» anbefaler vi at man setter denne.\nI et hovedskjema vil denne attributten være:\nParentReference=””.\n Hvordan kan jeg knytte underskjemaer til hovedskjemaer i ett oppgavesett? Svar: Her bruker du parentReference og EndUserSystemReference.\n Hovedskjemaet har ingen parent, altså er parentReference = \u0026quot;\u0026quot; Hovedskjemaet skal ha EndUserSystemReference Underskjemaet har parentReference = EndUserSystemReference til hovedskjemaet Underskjemaet har EndUserSystemReference != EndUserSystemReference til hovedskjemaet  Altså: EndUserSystemReference må være unik!\n "
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/mappere/teknologi/",
	"title": "Teknologi",
	"tags": [],
	"description": "Beskrivelse av teknologiene som brukes for å lage en mapper",
	"content": "Teknologi og rammeverk Windows Communication Foundation Windows Communication Foundation (WCF) er en rammeverk for å bygge service orienterte applikasjoner (SOA). WCF lar utviklere bygge løsninger som kan integreres på tvers av plattformer og samarbeider med eksisterende systemer. WCF lar applikasjoner kommunisere med hverandre uavhengig om de er på samme maskin, på tvers av nettverk, eller på forskjellige plattformer. De grunnleggende oppgavene er for å implementere en WCF applikasjon er:\n Definere en service contract Implementere servicen basert på contract Hoste servicen Implementer klient applikasjon  En service contract er det som beskriver hvilke operasjoner en tjeneste tilbyr. En operasjon er definert gjennom en operation contract. Input- og output-verdier til operasjonen kan være enkle eller komplekse typer. De komplekse typene beskrives med en data contract med en eller flere data members. I WCF defineres en service contract med et interface med metoder, mens en datakontrakt er en klasse med klassevariabler. Når tjenesten tilgjengeliggjøres på en web-server blir datakontraktene oversatt til XSD mens tjenestekontraktene blir oversatt til en WSDL med referanse til XSDene. Denne kan deretter distribueres til klientene slik at disse kan kommunisere med tjenesten via SOAP eller andre protokoller.\nService Contract En service contracten er et interface eller en klasse som eksponerer funksjonalitet. Interfacet eller klassen annoteres med [ServiceContract] og eventuelt namespace som vist i eksempelet.\nEksempel på tjenestekontrakt:\n[ServiceContract(Namespace=”brreg.no/api/sampleservice/2012/11/”)] public interface ISampleService { [OperationContract] public string GetString(); [OperationContract] public int GetInt(); } Metoder som annoteres med [OperationContract] vil være de metoder som blir offentliggjort til konsumenter av servicen. En service contract kan være enten en klasse eller et interface, men det anbefales å bruke interface. Dette gjør det mulig at et service contract interface kan extende en eller flere andre interface, samtidig som at andre klasser kan implementere flere service contracts.\nData Contract Service orienterte WCF applikasjoner er designet slik at de skal kunne brukes mellom forskjellige konsumenter uavhengig av plattform og transportmedium. Derfor annoteres klasser som skal kommuniseres med [DataContract], mens variabler i klassen som vil være dataen som skal sendes/mottas annoteres [DataMember].\nEksempel på en datakontrakt:\nusing System; using System.Runtime.Serialization; [DataContract] public class Person { // This member is serialized. [DataMember] internal string FullName; // This is serialized even though it is private. [DataMember] private int Age; // This is not serialized because the DataMemberAttribute  // has not been applied.  private string MailingAddress; // This is not serialized, but the property is.  private string telephoneNumberValue; [DataMember] public string TelephoneNumber { get { return telephoneNumberValue; } set { telephoneNumberValue = value; } } } Disse annotasjonene brukes for at klasser og variabler skal bli serialisert ved bruk av WCF sin DataContractSerializer. Det går alternativt an å benytte andre serializere dersom det kreves større kontroll over den serialiserte informasjonen, men det er DataContractSerializer med attributtering som er den anbefalte serializeren.\nVerdt å nevne er at data contracts er uavhengig av access modifier. Det vil si at private variabler i en klasse kan serialiseres og sendes avgårde til konsumering.\nImplementere en tjeneste En tjenestekontrakt må følges av en implementasjon. Dette er en vanlig klasse som implementerer tjenestekontrakt-interfacet. Utvikleren står fritt til å implementere metoden som ønsket så lenge interfacets kontrakt er ivaretatt.\nEksempel på implementasjon av en tjeneste:\npublic class SampleService : ISampleService { public string GetString() { return “Hello world”; } public int GetInt(){ return 42; } } Kjøre en service For å tilgjengeliggjøre en tjeneste for bruk må denne «hostes» i et kjøretidsmiljø. Dette kan gjøres på ulike måter, men det vanligste er å la Internet Information Services (IIS, Windows sin Web-server) kjøre tjenesten. Dette gjøres ved å legge en .svc-fil sammen med den installerte tjenesten. Denne inneholder informasjon til IIS om hvilken tjeneste som skal tilgjengeliggjøres.\nEksempel på en .svc-fil:\n\u0026lt;%@ServiceHost Language=\u0026#34;C#\u0026#34; Service=\u0026#34;Tempuri.Demo.Service\u0026#34; %\u0026gt; I .svc-fila angis det hvilket .NET språk tjenesten er skrevet i, om det skal være debuggingsmulighet og hvilken tjeneste som skal hostes. Det skal da refereres til implementasjonen med fullt kodenamespace og ikke tjenestekontrakten.\nUnder utvikling kan man benytte Visual Studio til å hoste tjenesten slik at man ikke trenger å installere løsningen på IIS først. Fra Visual studio kan WCF Test Client benyttes til å teste tjenesten. Dette gjøres ved å starte opp prosjektet fra Visual Studio slik at denne hostes av den innebygde webserveren. Testklienten vil da starte ferdig oppkoblet mot tjenesten slik at tjenesten enkelt kan testes.\nService Reference For å lage en WCF proxy/klient som konsumerer en service contract er man nødt til å sette opp noe som kalles en \u0026ldquo;Service Reference\u0026rdquo; i klient prosjektet. Dette gjøres på følgende måte:\n Verifiser at tjenesten du skal koble til kjører Høyreklikk på prosjektet og velg \u0026quot;Add Service Reference\u0026quot;  Skriv inn URL'en som hosten har som adresse og trykk på GO. Tjenesten vil nå lastes og tilgjengelige operasjoner vil vises. Angi her også hvilket namespace proxy-koden skal ha.  Trykk OK for å generere proxy-klassene.  Nå har du laget en proxy som klient applikasjonen vil bruke til å kalle servicen. Nå har en mulighet til å opprette klient objekter som kan aksessere og bruke metodene som er definert i en Service Contract.\nKonfigurasjon Konfigurasjon av WCF på både klient og server-side gjøres i App.config-filen som ligger med prosjektet. Denne xml-filen inneholder ulike konfigurasjonselementer for applikasjonen. WCF-spesifikk konfigurasjon ligger i xml-elementet system.serviceModel.\nDe viktigste elementene er:\n   Seksjon Beskrivelse     Behaviours Her konfigureres oppførselen til endepunktene. Dette kan være sikkerhetsmekanismer, serialiseringsoppførsel og lignende.   Bindings Her konfigureres det hvordan overføringen skal være. Dette inkluderer hvilken protokoll og overføringsmekanisme som skal benyttes. Her kan også begrensninger på tidsbruk, pakkestørrelse og lignende settes.   Client Her angis konfigurasjonsparametere for klienten. Det vil her listes opp de tjenester klienten kan kobles seg til og hvilke behaviours, bindings og lignende disse skal benytte.   Services Her konfigureres det hvilke tjenester en server skal tilby og hvilke behaviours, bindings og lignende tjenesten skal tilbys med.    Videre lesning    Tema Link     Windows Communication Foundation http://msdn.microsoft.com/en-us/library/vstudio/ms735119(v=vs.90).aspx   Service Contracts http://msdn.microsoft.com/en-us/library/vstudio/ms733070(v=vs.90).aspx   Serialisering http://msdn.microsoft.com/en-us/library/vstudio/ms732038(v=vs.90).aspx   WCF tutorial http://msdn.microsoft.com/en-us/library/ms734712.aspx   Basic WCF Programming Lifecycle http://msdn.microsoft.com/en-us/library/vstudio/ms732098(v=vs.90).aspx    Testrammeverk Testrammeverket i .NET, MSTest framework, eller Visual Studio Unit Testing, er basert på enhetstesting.\nDen anbefalte arbeidsmåten er å opprette et nytt testprosjekt i samme solution som prosjektet man vil teste. Man lager da én kildefil med tester for hver kildefil i kildeprosjektet.\nTestklasser Hver testklasse hører til én kildeklasse. De er annotert med [TestClass]. Navnekonvensjonen er at testklasser navngis som klassen den skal teste, med et Test-postfiks.\nNavngiving og markering av testklasser I hver testklasse vil man kunne definere rutiner, som for eksempel hva man vil gjøre før og etter at man kjører klassen, og før og etter hver test. Metodene for disse rutinene er annotert som:\n[ClassInitialize] [ClassCleanup] [TestInitialize] [TestCleanup] Testmetoder Testmetoder har postfikset Test i navnet, og er annotert med [TestMethod]. Et eksempel på en testmetode:\n[TestMethod] public void DebiterTest() { // Test } Det er anbefalt at testmetoder er uavhengig av hverandre, og at de kun tester én funksjon. For eksempel vil metoden over ikke benytte andre testmetoder i det hele tatt, og den vil kun teste om debitering av en konto gjøres riktig. Test av for eksempel kreditering gjøres av en egen metode.\nAssert-klassen Assert-klassen inneholder hjelpemetoder for å verifisere at riktig resultat oppnås. Eksempler på metoder i denne klassen er:\n AreEqual AreNotEqual AreSame AreNotSame IsNull IsNotNull  Under blir det testet at debitering av en konto gjøres riktig. Først settes saldoen på bankkontoen til 11.99. Deretter debiteres den med 11.22. Assert.AreEqual sjekker at den resterende saldoen etter debitering er 0.77.\n[TestMethod] public void DebiterTest() { BankKonto target = new BankKonto(); target.Saldo = 11.99; double beloep = 11.22; target.Debiter(beloep); Assert.AreEqual(0.77, target.Saldo); } Hvis ikke saldoen hadde vært 0.77 ville Assert.AreEqual kastet en AssertFailedException. Testrammeverket plukker opp AssertFailedException og markerer metodene hvor disse kastes fra som feilede tester.\nKjøre tester For å kjøre tester i Visual Studio velger man Test på hovedmenyen. Der kan du velge å kjøre eller debugge alle eller enkelte tester i løsningen. Resultatet av en kjøring vil vises i et resultatvindu som vist under.\nVidere lesning    Tema Link     Verifying Code by Using Unit Tests https://msdn.microsoft.com/en-us/library/dd264975(v=vs.100).aspx   Creating and Running Unit Tests https://msdn.microsoft.com/en-us/library/ms182532(v=vs.100).aspx   Wikipedia: Unit testing https://en.wikipedia.org/wiki/Unit_testing    "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/datakilde/opprett-tjeneste/",
	"title": "Opprette tjeneste",
	"tags": [],
	"description": "Opprettelse av samtykketjeneste i tjenesteutviklingsløsningen (TUL).",
	"content": "Opprettelse av samtykketjeneste i tjenesteutviklingsløsningen Det må opprettes en tjeneste i TUL som benyttes til samtykke og tilgangskontroll. Til dette benyttes Altinn sin lenketjenestetype. Kun tjenesteutviklere som har vært på kurs i regi av Altinn har tilgang til TUL og kan lage tjenesten.\nDefinering av lenketjeneste Utgavenavnet vil vises for sluttbruker på samtykkesiden så det er viktig å velge et navn som også forteller hva slags data eller informasjon denne tjenesten tilbyr.\nFeltet i URL er påkrevd men har ingen funksjon ved bruk av lenketjeneste i samtykkeøyemed.\nHusk å angi at tjenesten skal bruke tjenesteeierstyrt rettighetsregister. Ved å angi dette vil man sikre at kun registrerte datakonsumenter kan benytte samtykketjenesten. Vi vil senere beskrive hvordan man gir spesifikke organisasjoner eller personer lov til å spørre brukere om samtykke ved å registrere disse i rettighetsregisteret for akkurat denne tjenesteutgaven.\nDefinere mal og samtykke- eller fullmaktsdialog Det er definert ulike maler som kan benyttes for å gi ulike utseender og bruksopplevelser knyttet til samtykkedialogen. Det er også mulig å velge en fullmaktsmal, som da vil da medfører at begrepet \u0026ldquo;fullmakt\u0026rdquo; brukes alle steder der det ellers vil bli brukt \u0026ldquo;samtykke\u0026rdquo;. Dette gjelder også i Avtaleloggen som presentert brukeren på Profilsiden (tidligere kalt Samtykkeloggen).\nFor alle tekniske formål er samtykkemaler og fullmaktsmaler det samme - disse skiller seg utelukkende fra hverandre i visningssammenheng. Dokumentasjonen vil for enkelhets skyld bruk begrepet \u0026ldquo;samtykke\u0026rdquo;, selv om det også vil omfatte bruk av fullmaktsmaler.\nMed å velge ulike maler kan du bedre kommunisere til brukeren hva rettigheten går ut på. Det er per i dag ikke mulig å definere sine egne maler, men ved behov kan Altinn introdusere nye maler som kan brukes.\nFor mer detaljer om bruken av maler, se oversikt over hvilker maler som er definert.\nBruk av maler (utover standardmalen) støttes kun i forbindelse med ny samtykkeløsning, og støttes ikke ved bruk av tradisjonell samtykkelenke.\rDefinere samtykketekst Når man skal lage en lenketjeneste som skal benyttes i en samtykketjeneste må man gå inn på Samtykke-fanen i TUL å angi at utgaven skal tillate samtykkebasert deling av data. Da blir det obligatorisk å fylle ut en samtykketekst som vil vises for sluttbruker under samtykkesiden. Samtykketeksten skal forklare nærmere hva brukeren samtykker til. For at samtykke skal være gyldig må det være informert. Det betyr at brukerne får informasjon som gjør at de forstår hva de samtykker til og hvilke konsekvenser det vil få for dem.\nI vårt Lånesøknadscase så bør samtykketeksten si hvilke data banken henter fra Skatteetaten - om det er informasjon om lønn, gjeld eller andre forhold. Samtykketeksten defineres av datakilden (tjenesteeier) men det er hensiktsmessig at datakilden og datakonsumenten blir enige om en tekst som er fornuftig å bruke. For å kunne formatere tekst, legge inn lenker osv. må det benyttes html-kode.\nNB! Det er kun tillatt med 1.000 tegn (eventuell html-kode regnes med).\rDet er i samtykketeksten mulig å benytte metadata-parametre dersom det er ønskelig å spesifisere hvilke del av data man ønsker tilgang til, for eksempel dersom man ønsker tilgang til skattegrunnlaget for et gitt år. Eksempel: \u0026ldquo;Opplysningene som utleveres gjelder for {intektsaar}.\u0026rdquo; Parameter for inntektsår må da være input i url som datakonsument sender sluttbruker til samtykkesiden med. Dersom det er ønskelig at parameteret skal ha et bestemt format så må dette formidles til datakonsument.\nNår token genereres legges metadata med som en egen informasjon slik at datakilde kan verifisere at datakonsument spør om nødvendige data (se her for beskrivelse og validering av token). Metadata lagres sammen med samtykke-kontekst slik at dette vises historisk og i aktivitetslogg.\nHvis det kun skal være mulig for datakonsument å hente data èn gang for det avgitte samtykket så må dette angis ved å huke av for \u0026ldquo;Tillat bare engangssamtykker\u0026rdquo;.\nSett i forhold til samtykkesiden som sluttbruker får opp i Altinn så er utgavenavnet det som står i rød ramme og samtykketeksten det som ligger i blå ramme i bildet av samtykkesiden nedenfor. Det som ligger i grønn ramme er metadata-parameter for {inntektsaar}:\nDet er mulig å innhente samtykke for flere tjenester (flere datasett) i samme operasjon.\nRegistrere rolle på tjenesten Før man migrerer tjenesten over til testmiljø og produksjon må det registreres en rolle på den. Selve rollen man velger trenger ikke å være delegerbar, men enkeltrettigheter på tjenesten må være delegerbare. Noen roller er ikke delegerbare, for eksempel rollen \u0026ldquo;Privatperson\u0026rdquo;, men dersom man angir i TUL at den skal være delegerbar så betyr dette at det ikke er mulig å delegere selve rollen videre men man kan delegere enkeltrettigheter (når bruker gir samtykke så delegeres det en enkeltrettighet til datakonsument). Som for alle typer tjenester i Altinn så må man vurdere hvem som skal benytte tjenesten og sette rolle ut fra dette. Er man i tvil om hvilken rolle som passer så kan man kontakte Altinn for å få hjelp til å vurdere dette. Det er Altinn som setter rolle på tjenesten så det må sendes en henvendelse via selvbetjeningsportalen eller til tjenesteeier@altinn.no for å få dette utført.\nSikkerhetsnivå: Valgt sikkerhetsnivå for samtykketjenester vil både sette krav til sikkerhetsnivå for bruk av tjenesten og for å kunne gi samtykke til tjenesten gjennom samtykkesiden eller REST API. En lenketjeneste må i utgangspunktet ha minimum sikkerhetsnivå 3. I tillegg til dette håndheves det ett minimumskrav av sikkerhetsnivå 2 for å gi samtykke, selv for tjenester som spesifiserer lavere krav, dette er tilsvarende som annen rettighetsdelegering i Altinn. Er bruker ikke logget inn med høyt nok sikkerhetsnivå vil bruker få samme feilmelding som ved bruk av tjenesten, med beskjed og mulighet til å gå til innlogging med korrekt nivå.\nOversette tjeneste Dersom tjenesten skal være tilgjengelig på flere språk må den oversettes. Dette gjøres i TUL i seksjonen for oversetting. Språk som det kan oversettes til/fra er bokmål, nynorsk og engelsk.\nMigrere tjeneste Før tjenesten kan testes må den migreres til testmiljø (TT02). Etter at den er testet må den migreres til produksjonsmiljøet (PROD).\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/datakilde/autorisere-datakonsument/",
	"title": "Autorisere datakonsument",
	"tags": [],
	"description": "Autorisere opp datakonsument ved registrering i tjenesteeierstyrt register",
	"content": "Autorisere datakonsument ved registrering i tjenesteeierstyrt register På tjenesteutgaven som er opprettet i TUL må det være angitt at tjenesten skal bruke tjenesteeierstyrt rettighetsregister. Datakonsumenter (organisasjoner eller personer) som skal få hente ut data via tjenesten må registreres i rettighetsregisteret. Registeret er tilgjengelig både gjennom Altinn sine REST og SOAP webservices.\n Les mer om bruk av tjenesteeierstyrt rettighetsregister i samtykketjenester.  For å bruke Altinn sine API-er som tjenesteeier må man ha en etatsbruker og passord. Har man ikke dette kan det bestilles gjennom selvbetjeningsportalen til Altinn eller til tjenesteeier@altinn.no.\nFor å komme i gang med REST grensesnittet for tjenesteeiere må man ha ett virksomhetssertifikat samt API-nøkkel med nødvendig tilgang.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/datakilde/bruk-av-token/",
	"title": "Informasjon om token",
	"tags": [],
	"description": "Bruk og verifisering av self contained OAuth-token som mottas fra datakonsument.",
	"content": "Bruk av self-contained OAuth-token Self-contained OAuth 2.0 token er nøkkelen som datakonsumententen benytter for å få tilgang til data som ligger hos datakilden. Altinn utsteder et signert JSON Web Token (JWT). Tokenet inneholder all informasjon knyttet til de delegerte rettighetene inkludert\n tjenestekoder for lenketjenesten i Altinn fødsels- eller organisasjonsnummer som samtykket tildelte rettigheter til datakonsumenten person- eller organisasjonsnummer for datakonsumenten som har mottatt rettighetene organisasjonsnummer for tredjepart som kan behandle samtykket på vegne av mottaker (dersom dette foreligger) tidspunkt for når samtykke ble gitt tidspunkt for når rettigheten opphører  Det signerte tokenet må verifiseres av datakilde ved å validere signaturen.\nMan kan også lese om JSON webtokens her: https://jwt.io/introduction/.\nFor å verifisere signert token må datakilden benytte Altinn sitt offentlige sertifikat. Dette er eksponert som et JWK-sett på Altinns OAuth2 Authorization Server Metadata-endepunkt. Se JSON Web Keys og well-known endepunkter for mer informasjon.\rJSON Web Token Består av tre punktumseparerte deler:\n Header Payload Signature  Under viser et eksempel på et signert og Base64-encodet self-contained JSON Web Token.\nHeader Header inneholder informasjon om token typen og hvilken hash algoritme som er brukt. Her finner man også identifikatorene \u0026ldquo;kid\u0026rdquo; og \u0026ldquo;x5t\u0026rdquo; som er Base64Url enkoding av fingeravtrykket (thumbprint) til sertifikatet bruk for signering av tokenet. Disse identifikatorene kan da brukes for få identifisere korrekt sertifikat for validering av signatur.\nFor mer informasjon om uthenting av Altinn sine offentlige sertifikat og validering av token se JSON Web Keys og well-known endepunkter og Verifisere JWT token signatur\nEncoded eksempel: eyJhbGciOiJSUzI1NiIsImtpZCI6IkF4NDlDZ3l3U0I1VkJ2dEg0bmdaYnJjU3VfTSIsIng1dCI6IkF4NDlDZ3l3U0I1VkJ2dEg0bmdaYnJjU3VfTSIsInR5cCI6IkpXVCJ9 Decoded eksempel: { \u0026#34;alg\u0026#34;: \u0026#34;RS256\u0026#34;, \u0026#34;kid\u0026#34;: \u0026#34;Ax49CgywSB5VBvtH4ngZbrcSu_M\u0026#34;, \u0026#34;x5t\u0026#34;: \u0026#34;Ax49CgywSB5VBvtH4ngZbrcSu_M\u0026#34;, \u0026#34;typ\u0026#34;: \u0026#34;JWT\u0026#34; } Payload Payload inneholder påstandene (claims) i tokenet. Påstandene er den informasjonen som datakilden trenger for å få bekreftet at datakonsumenten har fått et gyldig samtykke.\nEncoded eksempel: eyJTZXJ2aWNlcyI6WyI0NjI5LDIiLCI0NjI5LDIsaW5udGVrdHNhYXI9MjAxNSIsIjQ2MzAsMiIsIjQ2MzAsMixmcmFPZ01lZD1ub3ZlbWJl ciAyMDE2LHRpbE9nTWVkPWphbnVhciAyMDE3Il0sIkF1dGhvcml6YXRpb25Db2RlIjoiMDkzZDAwNzAtMjJhZC00YzQ5LTlkNzEtZjUzNjdj Zjk5MWI4IiwiT2ZmZXJlZEJ5IjoiMzAwNTAxMDEyMTEiLCJDb3ZlcmVkQnkiOiI5MTA1MTQ0NTgiLCJEZWxlZ2F0ZWREYXRlIjoiMjAxNy0w NC0xOCAwOTozMzoxMyIsIlZhbGlkVG9EYXRlIjoiMjAxNy0wNi0zMCAxMDozMDowMCIsImlzcyI6ImFsdGlubi5ubyIsImV4cCI6MTQ5MjUw MDk0MiwibmJmIjoxNDkyNTAwOTEyfQ Decoded eksempel: { \u0026#34;Services\u0026#34;: [ \u0026#34;4629_2\u0026#34;, \u0026#34;4629_2_inntektsaar=2016\u0026#34;, \u0026#34;4630_2\u0026#34;, \u0026#34;4630_2_fraOgMed=2017-06\u0026#34;, \u0026#34;4630_2_tilOgMed=2017-08\u0026#34; ], \u0026#34;AuthorizationCode\u0026#34;: \u0026#34;c7dbe642-0fc1-4c3b-8959-8a92e3e1f17d\u0026#34;, \u0026#34;OfferedBy\u0026#34;: \u0026#34;11025802170\u0026#34;, \u0026#34;CoveredBy\u0026#34;: \u0026#34;910514458\u0026#34;, \u0026#34;DelegatedDate\u0026#34;: 1503855661, \u0026#34;ValidToDate\u0026#34;: 1506760200, \u0026#34;iss\u0026#34;: \u0026#34;altinn.no\u0026#34;, \u0026#34;exp\u0026#34;: 1503860347, \u0026#34;nbf\u0026#34;: 1503860317 } Signature Signature inneholder signert og encoded header og encoded payload. Algoritmen som er benyttet er beskrevet i header.\nEncoded eksempel: pumdz9xtOYk_mojdKU1X_uQlT3DKr4IUxoOSJPiLZ3SB2oy-R4Q40jn8gxdnxBLrGD3W1osra_v3x15Nrx9jsWUIz9eQA3H04cxeehTQBbM MT7XZGU-XnCE34AtQScaDQnyPObPZEQeSvl2nmxNdfjgrzFLsapthiKYNuhv3lzSheTs06Ko3jWHTUg19X_2QSbpOmBVORTai8XeYrm1Tzq _5CSxZo4pQEkxmBpSrtXcC3MuaF7cM514Bt- Decoded eksempel: For å verifisere signaturen må datakilden benytte Altinns offentlige sertifikat. Se under for detaljer om hvordan signaturen verifiseres.\nInnhold i Payload ServiceCodes Inneholder en string eller et array of strings som representerer tjenestekodene for tjenesten(e) som er omfattet av samtykket brukeren har gitt. ServiceCodes strengen er inneholder to verdier; ServiceCode og ServiceEditionCode separert med underscore.\nVed bruk av metadata for {inntektsaar}, {fraOgMed} og {tilOgMed} i samtykketekst:\nSingle Service:\n\u0026#34;ServiceCodes\u0026#34;: \u0026#34;4629_2\u0026#34; Multiple Services:\n\u0026#34;ServiceCodes\u0026#34;: [ \u0026#34;4629_2\u0026#34;, \u0026#34;4630_2\u0026#34; ] \u0026#34;Services\u0026#34;: [ \u0026#34;4629_2\u0026#34;, \u0026#34;4629_2,inntektsaar=2016\u0026#34;, \u0026#34;4630_2\u0026#34;, \u0026#34;4630_2_fraOgMed=2017_06\u0026#34;, \u0026#34;4630_2_tilOgMed=2017_08\u0026#34; ], OfferedBy OfferedBy inneholder Personnummer eller Organisasjonsnummer for den som har gitt samtykke.\nEksempel:\nSSN: \u0026quot;OfferedBy\u0026quot;: \u0026quot;11025802170\u0026quot;\nOrgNo: \u0026quot;OfferedBy\u0026quot;: \u0026quot;999999999\u0026quot;\nCoveredBy CoveredBy inneholder Personnummer eller Organisasjonsnummer for den som har mottatt rettigheter igjennom brukeren samtykke.\nEksempel:\nSSN: \u0026quot;CoveredBy\u0026quot;: \u0026quot;02056260016\u0026quot;\nOrgNo: \u0026quot;CoveredBy\u0026quot;: \u0026quot;910514458\u0026quot;\nHandledBy HandledBy inneholder Organisasjonsnummer for tredjepart som gjennom rettighetsstyring i tjenesteeierstyrt rettighetsregister (SRR) eller Maskinporten-delegering er autorisert til å behandle samtykker på vegne av CoveredBy. Denne vil bare være en del av payload dersom det er tredjepart selv som har hentet signert JWT for å bruke dette for å autorisere seg for datakilden utenfor Altinn.\nEksempel:\nOrgNo: \u0026quot;HandledBy\u0026quot;: \u0026quot;910459880\u0026quot;\nValidToDate Dato og tidspunkt for når samtykket utløper\nEksempel: \u0026quot;ValidToDate\u0026quot;: 1506760200\nDelegatedDate Dato og tidspunkt for når samtykket ble gitt.\nEksempel: \u0026quot;DelegatedDate\u0026quot;: 1503855661\nAuthorizationCode / Autorisasjonskode Autorisasjonskoden som er benyttet for å hente det gitte tokenet. Kan brukes av datakilde til å logge bruk av tokene og dermed informere brukeren om at datakonsumenten har hentet data.\nIss iis spesifiserer hvem som har utstedt tokened, som skal verfiseres mot signaturen.\nEksempel: \u0026quot;iss\u0026quot;: \u0026quot;altinn.no\u0026quot;\nExp Unikt tidsstempel som spesifiserer utløpstidspunket for det gitte tokenet.\nEksempel: \u0026quot;exp\u0026quot;: 1474526471\nNbf Unikt tidsstempel som spesifiserer første gang det gitte tokenet kan brukes\nEksempel: \u0026quot;nbf\u0026quot;: 1492500912\nVerifisere JWT Token signatur En enkel måte å teste og verifisere JWT token er jwt.io webpage tool. For å bruke nettsiden:\n Lim inn komplett encodet JWT inkludert header, payload og signature. Velg algoritmen RS256 fra nedtrekksmenyen. Lim inn BASE64 encoded offentlig X-509 sertifikatet til Altinn under “Verify Signature”.  Eksempel på C# decode og verifisering av signatur Under vises et eksempel på en hjelpemetode som tar inn det offentlige sertifikatet til Altinn og et encoded JWT token som en string. Metoden benytter JwtSecurityTokenHandler Class (System.IdentityModel.Tokens) for å gjøre den faktiske decodingen og verifikasjonen av signaturen, basert på de spesifiserte TokenValidationParameters. Dersom valideringen er en suksess inneholder SecurityToken informasjonselementer som SecurityKeys, ValidFrom and ValidTo, og decodet JSON object som inneholder Header og Payload.\nMSDN links:\n JwtSecurityTokenHandler SecurityToken  private SecurityToken ValidateToken(X509Certificate2 publicCertificate, string tokenString) { var tokenHandler = new JwtSecurityTokenHandler(); // Token Validation Parameters  var validationParameters = new TokenValidationParameters() { IssuerSigningKey = new X509SecurityKey(publicCertificate), ValidateAudience = false, ValidateIssuer = true, ValidateLifetime = true, ValidIssuer = \u0026#34;altinn.no\u0026#34; }; SecurityToken securityToken; tokenHandler.ValidateToken(tokenString, validationParameters, outsecurityToken); return securityToken; } JSON Web Keys og well-known endepunkter JSON Web Keys (JWK) Det åpne metadata grensesnittet i REST APIet til Altinn er det gjort tilgjengelig ett endepunkt for uthenting av JSON Web Keys (JWK). Endepunktet lister ut både hoved- og sekundær-sertifikatet som er konfigurert opp for signering av samtykketokens i Altinn. I tillegg til å liste ut public key-chain for sertifikatene viser man her til “kid” og “x5t” identifikatorene som man vil finne igjen som header verdier i ett utstedt signert JWT samtykketoken. Slik kan da både samtykketoken signert med hoved- og sekundær-sertifikatet verifiseres i en overgangsperiode ved utbytting av sertifikat hos Altinn.\nWell-known metadata På det åpne metadata grensesnittet i REST APIet til Altinn er det tilgjengelig ett endepunkt for metadata som viser til hvor man finner JWK endepunkt. Denne informasjonen også gjennom ett så kallet “well-known” endepunkt under domenet til Altinn: https://altinn.no/.well-known/oauth-authorization-server\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/datakilde/test-tjeneste/",
	"title": "Test av tjeneste",
	"tags": [],
	"description": "Teste autorisasjon av datakonsument og samtykketjeneste",
	"content": "Test av tjeneste i Altinn sitt testmiljø Tjenesten må testes ut i Altinn sitt testmiljø TT02: https://tt02.altinn.no\nForutsetninger for å teste:\n Det må være etablert en samtykketjeneste (lenketjeneste) i TUL. Tjenesten må være migrert til TT02. For å teste henting av token via REST-tjeneste trenger man ApiKey knyttet til det organisasjonsnummeret man skal teste med. Denne kan bestilles hos Altinn via selvbetjeningsportalen eller via tjenesteeier@altinn.no Man må ha fiktive testpersoner som kan benyttes i testen. Dette har i de fleste tilfeller tjenesteeier allerede tilgang til, men dersom man ikke har dette må man sende en henvendelse til Altinn. For å verifisere det signerte tokenet må datakilden benytte Altinn sitt offentlige sertifikat.  Registrere en datakonsument i tjenesteeierstyrt rettighetsregister For å få testet samtykketjenesten må man først registrere en test-datakonsument i tjenesteeierstyrt rettighetsregister (SRR). Dette gjøres ved å benytte vår webtjeneste \u0026ldquo;RegisterSRRAgencyExternal\u0026rdquo; (SOAP) eller vår tilsvarende REST-tjeneste.\nRegistrering med SOAP-tjeneste SOAP-endepunktet RegisterSRRAgencyExternal nås på følgende url:\nhttps://tt02.altinn.no/RegisterExternal/RegisterSRRAgencyExternalBasic.svc\nDenne har operasjonene AddRights (legge til nye rettigheter for en gitt tjeneste), DeleteRights (slette rettigheter) og GetRights (hente rettigheter).\nRegistrering med REST-tjeneste REST-endepunktet for SRR nås med følgende url:\nhttps://tt02.altinn.no/api/serviceowner/srr\nHer kan du bruke operasjonene GET (hente én eller alle rettigheter), POST (legge til rettigheter), DELETE (slette en spesifikk rettighet) og PUT (oppdatere en spesifikk rettighet). Se ellers API dokumentasjon for tjenesteeiere: https://tt02.altinn.no/api/serviceowner/help\nEksempler Eksempel på en SOAP-request for å legge til rettigheter (her testet ved bruk av SoapUI):\nServiceCode er tjenestekoden og ServiceEditionCode er tjenesteutgavekoden for lenketjenesten. Disse hentes fra TUL.\nReportee angir hvilken organisasjon (eller person) som skal få lov å hente ut data gjennom tjenesten. I Lånesøknadscasen må organisasjonsnummeret til banken som skal få lov til å hente data fra Skatteetaten legges inn. I test legger man inn organisasjonsnummeret til en fiktiv organisasjon man kan teste med.\nAllowedRedirectDomain angir hvilket domene sluttbruker kan sendes til etter at sluttbruker har gitt/ikke gitt samtykke. Dette er en sikkerhetsmekanisme som sørger for at Altinn ikke kan utnyttes til redirects vilkårlig. Det er kun schema/domene/host (ikke path) som legges inn og wildcard (*) kan benyttes for å støtte flere sub-domener. Om schema ikke spesifiseres tillates både HTTP og HTTPS. Egendefinerte schema kan brukes for å sende resultat tilbake til f.eks. mobile applikasjoner. Det er mulig å legge inn flere domener per org.nr. ved å skille de med semikolon. For mer informasjon se her.\nKeepSessionAlive Dette er et flagg som indikerer om sesjonen til sluttbrukeren skal holdes aktiv etter at samtykkeforespørselen er behandlet. Hvis dette ikke oppgis, vil bruker blir logget ut av Altinn. Dette kan være hensiktsmessig av sikkerhetsårsaker, men kan ha negativ innvirkning på bruksopplevelsen hvis bruker skal besvare mange samtykker.\nHandledBy Autorisert leverandør. Kun relevant hvis virksomhetssertifikat benyttes som autentiseringsmekanisme. Hvis leverandører skal benyttes, anbefales bruk av Maskinporten og API-delegering. Les mer om bruk av leverandører.\nEksempel på en REST-request for å legge til rettigheter (her testet ved bruk av Postman):\nEksempel på verdier i request header for REST-restrequst (gjelder alle operasjoner):\nEksempel på å fjerne en gitt rettighet (SOAP):\nEksempel på å fjerne en gitt rettighet (REST):\nUthenting av rettigheter kan skje på grunnlag av tjeneste (SOAP/REST) eller organisasjonsnummer (kun SOAP). Eksempel på uthenting av gitte rettigheter (SOAP):\nEksempel på uthenting av gitte rettigheter (REST):\nTeste samtykketjenesten Etter å ha registrert en test-datakonsument (fiktivt organisasjonsnummer) i tjenesteeierstyrt rettighetsregister kan man teste ut samtykketjenesten. Dette krever at tjenesten er migrert til TT02 i TUL. En beskrivelse av hvordan man kan opptre som datakonsument for å få testet tjenesten og innveksling av autorisasjonskode i token finnes her.\nSe her for informasjon om oppbygging og verifikasjon av token.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2017/17-1/",
	"title": "17.1",
	"tags": [],
	"description": "Digital post til virksomheter, dialog med egenregistrerte brukere, nye sider for pålogging, heving av sikkerhetsnivå for SMS, +++",
	"content": "Som vanlig inneholder februar-versjonene av Altinn endringer for selvangivelsen. I tillegg er det en rekke endringer på andre områder.\nAutentisering Heving av Altinn-SMS til nivå 3 (18726) Dagens innlogging med SMS fra Altinn gir sikkerhetsnivå 2. Denne endringen gjør at den kan benyttes til innlogging på nivå 3 etter at bruker bekrefter sine innloggingsopplysninger i profil. Endringen er rettet i hovedsak mot brukere av sluttbrukersystemer, men tilgjengelig for alle brukere som vil benytte Altinn-SMS.\nNye autentiseringssider (19632) Oppdatere til nytt visuelt design på Altinn sine sider for autentisering (innlogging).\nDe nye sidene skal være responsive og universelt utformet.\nStøtte for HTTP POST-kall fra ID-porten (19991) Teknisk endring i kommunikasjon med ID-Porten for å bedre ytelse. Ikke synlig for sluttbruker.\nVideresending av Relaystate-parameter (19078) Feilretting på autentiseringsmodulen for å gjøre korrekt videresending av mottatt parameter ved SAML-autentisering.\nBrukskvalitet Nye feilsider (19631) I dag blir man sendt fra nye portalsider til feilsider i gammel portal. Vi oppdaterer designet for sidene som viser følgende feilmeldinger:\n Generiske feilmeldinger når en uventet teknisk feil oppstår Feilmeldinger når bruker ikke er autorisert Feilmeldinger ved Ajax-funksjonalitet skal gi bruker bedre respons.  De nye sidene skal være responsive og presentere feilmeldinger på riktig språk.\nAutorisasjon Videreutvikling av Altinns autorisasjonskomponent (19781) Autorisasjonskomponenten tilrettelegges for tilgangsstyring for tjenester som ikke er implementert ved hjelp av TUL. Dette innebærer flere mindre endringer:\n Tjenesteutvikler kan spesifisere egen delegeringstekst for en tjenesteutgave Tjenesteeier kan enkelt sjekke hvilke avgivere en gitt bruker har rettigheter på vegne av, for å sjekke om vedkommende skal få tilgang til tjenesteeiers systemer Tjenesteeier kan angi hvilke organisasjoner som skal kunne delegere rettigheter på en gitt tjeneste fra tjenesteeieren Tjenesteeier kan sjekke hvilke rettigheter en gitt bruker har på vegne av en gitt avgiver Rettigheter som er videredelegerte rettigheter fra organisasjon til ansatte skal automatisk slettes når rettighetene som er delegert til organisasjonen trekkes tilbake  Delegeringer som er gjort vises i liste etter at personen er død (18547) Delegeringer vil slettes når den som har fått delegert rettigheter dør. Listen over hvem som har tilgang blir ryddigere – brukere slipper å se navnet til personer som er døde.\nEksterne grensesnitt Forbedringer – egenregistrerte brukere (13275) Vi muliggjør preutfylling, meldinger og varsling til egenregistrerte brukere.\nDette gjør at tjenesteeiere får bedre muligheter til dialog med denne brukergruppen.\nMeldinger skal opprettes selv om varslingsadresse er ugyldig (19221) I dag blir ikke meldinger opprettet om angitt varslingsadresse er ugyldig. Dette rettes. Det gir oss bedre kontroll på innsendte meldinger fra tjenesteeiere, og tjenesteeierne får bedre tilbakemelding på feilede varsler.\nSvakhet i arkivreferanseknytningen på insertcorrespondence (19420) Det vil nå gis bedre tilbakemelding til tjenesteeier på feilsituasjoner på innsending av meldinger med feil arkiv-knytning.\nMy Fields i Download Queue (20398) Vi endrer prosesseringen av skjema-xml som returneres over Download Queue slik at hjelpefelter filtreres bort.\nForbedringer – Samtykkesiden (20401) Vi forbedrer håndteringen av URL til samtykkesiden fra eksterne sider, og innfører støtte for flere tokens i returnurl.\nAltinnMapperContext for SBS/REST-innsendinger (20468) Feilretting for å tilgjengeliggjøre kontekst om bl.a. autentisert bruker og tjeneste (AltinnMapperContext) slik at denne informasjonen kan brukes til automatisk utfylling av felter i skjemainnsendinger også fra REST og webservice.\nFeilretting - logging skjer bare ved avvist instansiering ved innsending fra SBS (18451) Vi innfører bedre logging av feilmeldinger i innsendinger fra sluttbrukersystem.\nTjenester \u0026ldquo;Digital Post til Virksomheter\u0026rdquo; i Altinn (19319) Altinn har rollen som postkasse for næringsliv og private virksomheter. Det utløser behov for omgående endringer slik at flere enn kun dagens tjenesteeiere skal kunne ta dette i bruk. Altinn oppretter flere felles meldingstjenester som kan benyttes til å sende post til virksomhetene. Avsenderne har frihet til å definere navn på avsender, men det vil logges hvem som er avtalepart, og hvem som står for transaksjonen.\nhttps://altinnett.brreg.no/no/Veiledning/Digital-post-til-virksomheter/\nDelegere rettigheter på enkeltinstanser til organisasjoner (20394) I dagens løsning er det mulig å overstyre tilganger på enkeltelementer, men dette er begrenset til at delegeringer kun kan gis til personer. Dette endres nå, slik at delegering på enkeltelementer i meldingsboksen også kan gjøres til organisasjonsnummer.\nSvakhet i regelmotor ved verdioverføringer (18971) Ved oppdatering av underskjema som trigget verdioverføring til hovedskjema har det kunnet skje duplisering eller sletting av verdi i hovedskjema. Dette blir nå rettet ved å endre en svakhet i hvordan felter blir adressert.\nMangler i Altinn regelmotor for SERES skjema (18555) All funksjonalitet i regelmotor er ikke støttet for SERES skjema. En del fungerer bare med OR skjema. Dette blir nå rettet ved å sjekke spesifikt om det er angitt orid notasjon eller xpath.\nMultiplisere og dividere i regelmotor (18958) Det har vært behov for rikere funksjonalitet for å bruke matematiske funksjoner i regelmotor. Støtte for bruk av multiplikasjon, divisjon, konstanter, flere typer avrunding samt utelukkelse av bruk av bokstaver er nå implementert.\nFlere e-post-adresser ved sending av kvittering (17784) Sending av kvittering har så langt bare støttet sending til en mottaker. Kvittering kan nå sendes til flere mottagere adskilt med semikolon.\nBinære vedlegg uten filtype (16998) Det har tidligere vært mulig å legge til vedlegg uten filtype. Dette er ikke lenger mulig. Bruker får en feilmelding og kommer ikke videre dersom det blir forsøkt å legge ved filer uten filtype.\nSortering av vedleggstyper (20411) Vedleggstyper har ikke vært vist i sortert alfabetisk rekkefølge. Vises nå sortert.\nMVA-KID generator – Oversettelse til engelsk (20147) Noen oversettelser til engelsk har manglet i MVA-KID generator. Termintekstene er nå oversatt og med i løsningen.\nRF-1030: Riktig melding hvis ikke kontonummer/utbetalingsmåte oppgis (20430) Validering av kontonummerendring når kontonummer/utbetalingsmåte ikke er oppgitt gir uønsket tekst i tilbakemelding til bruker for RF-1030. Dette er rettet slik at korrekt tekst vises.\nServerside kryptering (16188) Endringen realiserer en løsning for å kryptere, lagre og dekryptere brukers tjenestedata serverside i Altinn.\nBankID-logikk (18633) Bugfix på logikk i BankID-signering, som ikke medfører synlige endringer for sluttbruker.\nIntegrasjonsplattform Fjerning av gammel PrepareShipmentPart-orkestrering (20400) I endring 17626 ble det gjort endringer i forberedelsessteget for dataflyter. Man beholdt likevel også gammel PrepareShipmentPart-orkestrering i en overgangsperiode. Nå er all dataflyt flyttet til nye orkestreringer, og gammel orkestrering kan derfor fjernes.\nDriftsrutiner og registerintegrasjon Feil håndtering ved innlesning av opplysninger fra Enhetsregisteret (17607) Dagens batchoverføring av Enhetsregisterdata forskjellsbehandler ikke første gangs overføring fra andre overføringer. Dataene som overføres legges til. Data som ikke er med i en overføring blir dermed liggende. Det er ønskelig å få denne oppførselen endret slik at utdaterte data blir fjernet. Ved å utføre endringen vil det bli enklere å rette opp opplysningene på ER-kopien som ligger i Altinn. Sluttbrukere med feil i opplysningene fra Enhetsregisteret vil få dette korrigert raskere enn tidligere.\nTeknisk arkitektur Oppgradering av EO.PDF (20482) Oppgradering av bibliotek som benyttes for å generere PDF for å oppnå økt skalerbarhet og bedre ytelse.\nTimeout-håndtering (20483) Forbedret håndtering av tekniske timouts for å oppnå økt robusthet.\nEndre index (18986) Endringer i indeksering for å redusere låsing i databasen.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/produktstrategier/autorisasjon/",
	"title": "Altinn Autorisasjon",
	"tags": [],
	"description": "",
	"content": "Altinn Autorisasjon er en av fem produkter som tilbys gjennom Altinn plattformen. På denne siden finner du gjeldende produktstrategi for Autorisasjonsproduktet.\n Hva er Altinn Autorisasjon? Hvilke behov skal Altinn Autorisasjon løse? Hvordan ser fremtidens Altinn Autorisasjon ut?  Det er felles forståelse innen det offentlige at Altinn Autorisasjon er autorisasjonsnavet for offentlig sektor. Potensialet for forenkling ved bruk av fremtidens autorisasjonfunksjonalitet som f. eks digital fullmakt eller tidsbegrenset samtykke til å dele data er meget stort. Det er også en forutsetning for å lykkes i forenklingsarbeidet. Altinn Autorisasjon vil derfor stå helt sentral i utviklingen av Altinn i de kommende årene.\nProduktområdet Autorisasjon Altinn Autorisasjon skal gi mulighet for å styre hvem som skal (kunne) gjøre hva og når med hvilke data i det offentlige og i samspillet mellom offentlig og privat.\nI Altinn opptrer bruker alltid på vegne av «noen eller noe» - enten seg selv, andre privatpersoner eller andre virksomheter – f.eks. arbeidsgiveren din, lokalforeningen du er leder for eller en kunde du er leverandør for. Det er avgiver som har en rett eller plikt til å utføre en tjeneste, benytte en ressurs eller eier data som skal deles med andre.\nAltinn Autorisasjon kan best illustreres med følgende figur: En rettighet gir en identifisert og autentisert bruker tilgang til en definert ressurs eller tjeneste på vegne av en identifisert avgiver, f.eks. å utføre en tjeneste eller tilgang til data om avgiver hos en datakilde. Mellom bruker og avgiver foreligger det et representasjonsforhold som Altinn kjenner til.\nEn rettighet kan f.eks. være et samtykke til å dele data, en fullmakt til å utføre en handling eller en tilgang til å utføre en tjeneste. En bruker kan får denne rettigheten ved at avgiver selv aktivt gir denne til bruker, eller rettigheten kan hver hjemlet i lov, f.eks. daglig leders rett til å opptre på vegne av et aksjeselskap.\nDet er også mulig å beskrive vilkår for rettigheten i form av en avtaletekst som spesifiserer hva rettigheten innebærer og vilkår for at denne trer i kraft. Dette kalles gjerne en samtykketekst eller formålsbeskrivelse.\nEn rolle gir bruker en samling rettigheter som det er naturlig å knytte sammen. F eks gir rollen “Regnskapsmedarbeider” rettigheter til tjenester som det er naturlig at en regnskapsmedarbeider utfører.\nAutorisasjonstjenesten har 4 hovedegenskaper: Autorisasjon handler om å spesifisere rettigheter til å benytte en angitt ressurs (for eksempel en nettside eller et API) eller tjeneste (for eksempel «Salgsmelding for motorvogn»), og formelt sett betyr begrepet autorisere det å definere regler for tilgang.\nTilgangsstyring dreier seg om å gi videre rettigheter til å benytte en tjeneste til riktige personer eller organisasjoner, for eksempel at daglig leder gir en ansatt rett til å sende inn A-meldingen på vegne av sin virksomhet. Slike rettigheter er administrert av avgiver selv.\nTilgangskontroll gjør det mulig å kontrollere at en bruker har rettighet til å benytte angitt ressurs eller tjeneste på vegne av en angitt avgiver.\nAutoritative kilder Altinn har fra starten basert seg på grunndata for autorisasjon fra Enhetsregisteret (registrert rolle i organisasjon) og Det Sentrale folkeregisteret (privatperson og familietilknytning). Vi har som uttalt mål å utvide dette med tilgang til flere grunndataregistre. Slike rettigheter er lovbestemt.\nAutorisasjonstjenester som tilbys brukerne For statlig og kommunale virksomheter som leverer digitale tjenester tilbyr Altinn autorisasjon:\n En samtykkeløsning for sikker deling av data En oppslagstjeneste for å avklare om og hvilke representasjonsforhold som foreligger mellom en bruker og en avgiver Støtte for hjemmelsbasert styring av tilgang til digitale tjenester gjennom tilgang til autorative register Støtte for å styre leverandørers tilgang til offentlige API  For innbyggere, frivillig sektor, næringsliv, statlige og kommunale virksomheter som bruker digitale tjenester tilbyr Altinn Autorisasjon:\n En helhetlig oversikt over alle registrerte representasjonsforhold 17 En mulighet til å administrere brukerstyrte representasjonsforhold mellom avgiver og bruker (opprette, endre, slette) API for å knytte virksomhetens brukeradministrasjonssystem mot Altinn for å lette virksomhetens tilgangsstyringsarbeid API for næringslivet, som kan bygge verdiøkende tjenester for sine kunder  "
},
{
	"uri": "https://altinn.github.io/docs/api/soap/endepunkter-oversikt/",
	"title": "Endepunkter",
	"tags": [],
	"description": "URI til alle Altinn tjenester / aliasoversikt for endepunkter. En operasjon kan kalles med forskjellige endepunkter ut fra hvilken autentiseringsmetode tjenesteeier ønsker å benytte.",
	"content": "Det tilbys opp til tre forskjellige endepunkter for hver web service operasjon:\n Basic Http (SOAP 1.1)\nTradisjonell interoperabel web service. System og bruker informasjon angis som parameter til operasjoner. Altså i body av SOAP requesten. WS Http (SOAP 1.2 med WS-Security username token)\nStøtte for nye web service standarder WS* WS Http (SOAP 1.2 med WS-Security X.509 token) (markert som EC2)\nStøtte for ny web standarder WS*, dvs. bl.a. at sertifikat ligger i SOAP headeren. I tillegg krever Altinn et brukernavn og passord som parameter til operasjoner. Dette blir med som en del av body i SOAP requesten. Klienten holder state  For eksempel:\nWeb service operasjonen GetReceipt kan aksesseres ved å kalle endepunktet.\nHvis man ønsker å bruke/autentisere vha. WS* standarden, eller kalle endepunktet ”GetReceiptBasic” hvis man ønsker tradisjonell web service aksessering.\nNedenfor følger en oversikt over alle Altinn tjenester, og en aliasoversikt som viser kobling mellom endepunkter, endepunkt operasjon og basis operasjon (operasjon som kalles av endepunktoperasjon, og som er beskrevet i dette dokumentet). Den vil også angi nyeste versjon for operasjonen for endepunktet:\nSystemAuthentication    Basis operasjon Endepunkt Endepunkt operasjon Endepunkt URL     GetAuthenticationChallenge Basic http GetAuthenticationChallenge https://www.altinn.no/AuthenticationExternal/SystemAuthentication.svc    ReporteeArchiveExternal    Basis operasjon Endepunkt Endepunkt operasjon Endepunkt URL     GetArchivedFormTaskV2 WS Http GetArchivedFormTaskExternalV2 https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternal.svc    Basic Http GetArchivedFormTaskBasicV2 https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalBasic.svc    EC2 GetArchivedFormTaskEC https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalEC2.svc   GetAttachmentDataV2 WS Http GetAttachmentDataExternalV2 https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternal.svc    Basic Http GetAttachmentDataBasicV2 https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalBasic.svc    EC2 GetAttachmentDataEC https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalEC2.svc   GetAttachmentDataStreamed WS Http GetAttachmentDataExternalStreamed https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalStreamed.svc    Basic Http GetAttachmentDataStreamedBasic https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalStreamedBasic.svc    EC2 GetAttachmentDataStreamedEC https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalStreamedEC2.svc   GetArchivedLookup WS Http GetArchivedLookupExternal https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternal.svc    Basic Http GetArchivedLookupBasic https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalBasic.svc    EC2 GetArchivedLookupEC https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalEC2.svc   GetArchivedCorrespondence WS Http GetArchivedCorrespondence https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternal.svc    Basic Http GetArchivedCorrespondenceBasic https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalBasic.svc    EC2 GetArchivedCorrespondenceEC https://www.altinn.no/ArchiveExternal/ReporteeArchiveExternalEC2.svc    IntermediaryInbound    Basis operasjon Endepunkt Endepunkt operasjon Endepunkt URL     SubmitFormTask WS Http SubmitFormTask https://www.altinn.no/IntermediaryExternal/IntermediaryInbound.svc    Basic Http SubmitFormTaskBasic https://www.altinn.no/IntermediaryExternal/IntermediaryInboundBasic.svc    EC2 SubmitFormTaskEC https://www.altinn.no/IntermediaryExternal/IntermediaryInboundExternalEC2.svc   GetAltinnSubmissionStatus WS Http GetAltinnSubmissionStatus https://www.altinn.no/IntermediaryExternal/IntermediaryInbound.svc    Basic Http GetAltinnSubmissionStatusBasic https://www.altinn.no/IntermediaryExternal/IntermediaryInboundBasic.svc    EC2 GetAltinnSubmissionStatusEC https://www.altinn.no/IntermediaryExternal/IntermediaryInboundExternalEC2.svc   CompleteAndSignShipment WS Http CompleteAndSignShipment https://www.altinn.no/IntermediaryExternal/IntermediaryInbound.svc    Basic Http CompleteAndSignShipmentBasic https://www.altinn.no/IntermediaryExternal/IntermediaryInboundBasic.svc    EC2 CompleteAndSignShipmentEC https://www.altinn.no/IntermediaryExternal/IntermediaryInboundExternalEC2.svc   UpdateFormData WS Http UpdateFormData https://www.altinn.no/IntermediaryExternal/IntermediaryInbound.svc    Basic Http UpdateFormDataBasic https://www.altinn.no/IntermediaryExternal/IntermediaryInboundBasic.svc    EC2 UpdateFormDataEC https://www.altinn.no/IntermediaryExternal/IntermediaryInboundExternalEC2.svc    IntermediaryInboundStreamed    Basis operasjon Endepunkt Endepunkt operasjon Endepunkt URL     SubmitAttachmentStreamed WS Http SubmitAttachmentStreamed https://www.altinn.no/IntermediaryExternal/IntermediaryInboundStreamed.svc    Basic Http SubmitAttachmentStreamedBasic https://www.altinn.no/IntermediaryExternal/IntermediaryInboundBasicStreamed.svc    EC2 SubmitAttachmentStreamedEC https://www.altinn.no/IntermediaryExternal/IntermediaryInboundExternalEC2Streamed.svc    ReceiptExternal    Basis operasjon Endepunkt Endepunkt operasjon Endepunkt URL     GetReceiptV2 WS Http GetReceiptV2 https://www.altinn.no/IntermediaryExternal/ReceiptExternal.svc    Basic Http GetReceiptBasicV2 https://www.altinn.no/IntermediaryExternal/ReceiptExternalBasic.svc    EC2 GetReceiptECV2 https://www.altinn.no/IntermediaryExternal/ReceiptExternalEC2.svc   GetReceiptListV2 WS Http GetReceiptListV2 https://www.altinn.no/IntermediaryExternal/ReceiptExternal.svc    Basic Http GetReceiptListBasicV2 https://www.altinn.no/IntermediaryExternal/ReceiptExternalBasic.svc    EC2 GetReceiptListECV2 https://www.altinn.no/IntermediaryExternal/ReceiptExternalEC2.svc   UpdateReceipt WS Http UpdateReceipt https://www.altinn.no/IntermediaryExternal/ReceiptExternal.svc    Basic Http UpdateReceiptBasic https://www.altinn.no/IntermediaryExternal/ReceiptExternalBasic.svc    EC2 UpdateReceiptEC https://www.altinn.no/IntermediaryExternal/ReceiptExternalEC2.svc    CorrespondenceExternal    Basis operasjon Endepunkt Endepunkt operasjon Endepunkt URL     GetCorrespondenceForEndUserSystemV2 WS Http GetCorrespondenceForEndUserSystemsExternalV2 https://www.altinn.no/ServiceEngineExternal/CorrespondenceExternal.svc    Basic Http GetCorrespondenceForEndUserSystemBasicV2 https://www.altinn.no/ServiceEngineExternal/CorrespondenceExternalBasic.svc    EC2 GetCorrespondenceForEndUserSystemsEC https://www.altinn.no/ServiceEngineExternal/CorrespondenceExternalEC2.svc   DeleteCorrespondence[ WS Http DeleteCorrespondenceExternal https://www.altinn.no/ServiceEngineExternal/CorrespondenceExternal.svc    Basic Http DeleteCorrespondenceBasic https://www.altinn.no/ServiceEngineExternal/CorrespondenceExternalBasic.svc   SaveCorrespondenceConfirmation WS Http SaveCorrespondenceConfirmationExternal https://www.altinn.no/ServiceEngineExternal/CorrespondenceExternal.svc    Basic Http SaveCorrespondenceConfirmationBasic https://www.altinn.no/ServiceEngineExternal/CorrespondenceExternalBasic.svc    EC2 SaveCorrespondenceConfirmationEC https://www.altinn.no/ServiceEngineExternal/CorrespondenceExternalEC2.svc    ReporteeElementList    Basis operasjon Endepunkt Endepunkt operasjon Endepunkt URL     DeleteReporteeElement WS Http DeleteReporteeElementExternal https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternal.svc    Basic Http DeleteReporteeElementBasic https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternalBasic.svc    EC2 DeleteReporteeElementEC https://www.altinn.no/ServiceEngineExternal/ReporteeElementListEC2.svc   GetFormSetElementsV2 WS Http GetFormSetElementsExternalV2 https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternal.svc    Basic Http GetFormSetElementsBasicV2 https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternalBasic.svc    EC2 GetFormSetElementsEC https://www.altinn.no/ServiceEngineExternal/ReporteeElementListEC2.svc   GetReporteeElementListV2 WS Http GetReporteeElementListExternalV2 https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternal.svc    Basic Http GetReporteeElementListBasicV2 https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternalBasic.svc    EC2 GetReporteeElementListEC https://www.altinn.no/ServiceEngineExternal/ReporteeElementListEC2.svc   GetCorrespondenceListForArchiveRef WS Http GetCorrespondenceListForArchiveRef https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternal.svc    Basic Http GetCorrespondenceListForArchiveRefBasic https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternalBasic.svc    EC2 GetCorrespondenceListForArchiveRefEC https://www.altinn.no/ServiceEngineExternal/ReporteeElementListEC2.svc   GetCorrespondenceListForReportee WS Http GetCorrespondenceListForReportee https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternal.svc    Basic Http GetCorrespondenceListForReporteeBasic https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternalBasic.svc    EC2 GetCorrespondenceListForReporteeEC https://www.altinn.no/ServiceEngineExternal/ReporteeElementListEC2.svc   GetFormSetData WS Http GetFormSetData https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternal.svc    Basic Http GetFormSetDataBasic https://www.altinn.no/ServiceEngineExternal/ReporteeElementListExternalBasic.svc    EC2 GetFormSetDataEC https://www.altinn.no/ServiceEngineExternal/ReporteeElementListEC2.svc    ServiceMetadataExternal    Basis operasjon Endepunkt Endepunkt operasjon Endepunkt URL     GetAvailableServicesV2 WS http GetAvailableServicesV2 https://www.altinn.no/ServiceEngineExternal/ServiceMetaDataExternal.svc    Basic Http GetAvailableServicesBasicV2 https://www.altinn.no/ServiceEngineExternal/ServiceMetaDataExternalBasic.svc   GetFormTaskSchemaDefinitions WS http GetSchemaDefinitionsForFormTask https://www.altinn.no/ServiceEngineExternal/ServiceMetaDataExternal.svc    Basic Http GetFormTaskSchemaDefinitionsBasic https://www.altinn.no/ServiceEngineExternal/ServiceMetaDataExternalBasic.svc    Workflow    Basis operasjon Endepunkt Endepunkt operasjon Endepunkt URL     DoSendingInAction WS http DoSendingInAction https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc    Basic http DoSendingInActionBasic https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc   DoSigning WS http DoSigning https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc    Basic http DoSigningBasic https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc   GetAvailableActionsV2 WS http GetAvailableActionsV2 https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc    Basic http GetAvailableActionsBasicV2 https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc   GetNextWorkflowStateTypeInProcessFlowV2 WS http GetNextWorkflowStateTypeInProcessFlowV2 https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc    Basic http GetNextWorkflowStateTypeInProcessFlowBasicV2 https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc   GetProcessDetailsV2 WS http GetProcessDetailsV2 https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc    Basic http GetProcessDetailsBasicV2 https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc   GetProcessDetailsV3 WS http GetProcessDetailsV3 https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc    Basic http GetProcessDetailsBasicV3 https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc   GetSigningText WS http GetSigningText https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc    Basic http GetSigningTextExternal https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc   SetBackToFormFilling WS http SetBackToFormFilling https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc    Basic http SetBackToFormFillingBasic https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc   PrepareUserControlledSigning WS http PrepareUserControlledSigning https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc    Basic http PrepareUserControlledSigningBasic https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc   GetProcessStepIDForParallelSigning WS http GetProcessStepIDForParallelSigning https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternal.svc    Basic http GetProcessStepIDForParallelSigningBasic https://www.altinn.no/ServiceEngineExternal/WorkflowServiceExternalBasic.svc    PrefillEUSExternal    Basis operasjon Endepunkt Endepunkt operasjon Endepunkt URL     GetPrefillData WS http GetPrefillData https://www.altinn.no/ServiceEngineExternal/PreFillEUSExternal.svc    Basic http GetPrefillDataBasicV2 https://www.altinn.no/ServiceEngineExternal/PreFillEUSExternalBasic.svc    EC2 GetPrefillDataEC https://www.altinn.no/ServiceEngineExternal/PreFillEUSExternalEC2.svc    Case    Basis operasjon Endepunkt Endepunkt operasjon Endepunkt URL     GetCaseList WS http GetCaseListExternal https://www.altinn.no/ServiceEngineExternal/CaseExternal.svc    Basic http GetCaseListExternalBasic https://www.altinn.no/ServiceEngineExternal/CaseExternalBasic.svc    EC2 GetCaseListEC https://www.altinn.no/ServiceEngineExternal/CaseEC2.svc   InstantiateCollaboration WS http InstantiateCollaborationExternal https://www.altinn.no/ServiceEngineExternal/CaseExternal.svc    Basic http InstantiateCollaborationExternalBasic https://www.altinn.no/ServiceEngineExternal/CaseExternalBasic.svc    EC2 InstantiateCollaborationEC https://www.altinn.no/ServiceEngineExternal/CaseEC2.svc   ArchiveCase WS http ArchiveCaseExternal https://www.altinn.no/ServiceEngineExternal/CaseExternal.svc    Basic http ArchiveCaseExternalBasic https://www.altinn.no/ServiceEngineExternal/CaseExternalBasic.svc    EC2 ArchiveCaseEC https://www.altinn.no/ServiceEngineExternal/CaseEC2.svc    KeyManagement    Basis operasjon Endepunkt Endepunkt operasjon Endepunkt URL     GetCertificates WS http GetCertificatesBasic https://www.altinn.no/ArchiveExternal/KeyManagementExternal.svc    Basic http GetCertificatesExternal https://www.altinn.no/ArchiveExternal/KeyManagementExternalBasic.svc    EC2 GetCertificatesEC https://www.altinn.no/ArchiveExternal/KeyManagementEC2.svc    BrokerService    Basis operasjon Endepunkt Endepunkt operasjon Endepunkt URL Endepunkt operasjon     GetAvailableFiles WS http GetAvailableFiles https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternal.svc GetAvailableFiles    Basic http GetAvailableFilesBasic https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalBasic.svc GetAvailableFilesBasic    EC2 GetAvailableFilesEC https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalEC2.svc GetAvailableFilesEC   InitiateBrokerService WS http InitiateBrokerService https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternal.svc InitiateBrokerService    Basic http InitiateBrokerServiceBasic https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalBasic.svc InitiateBrokerServiceBasic    EC2 InitiateBrokerServiceEC https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalEC2.svc InitiateBrokerServiceEC   UploadFileStreamed WS http UploadFileStreamed https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalBasicStreamed.svc UploadFileStreamed    Basic http UploadFileStreamedBasic https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalBasicStreamed.svc UploadFileStreamedBasic    EC2 UploadFileStreamedEC https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalEC2Streamed.svc UploadFileStreamedEC   DownloadFileStreamed WS http DownloadFileStreamed https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalBasicStreamed.svc DownloadFileStreamed    Basic http DownloadFileStreamedBasic https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalBasicStreamed.svc DownloadFileStreamedBasic    EC2 DownloadFileStreamedEC https://www.altinn.no/ServiceEngineExternal/BrokerServiceExternalEC2Streamed.svc DownloadFileStreamedEC    Alle URI er angitt med produksjonsadresse. Frem til produksjonssetting må https://www.altinn.no erstattes med peker til testmiljø\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/configuration/events/",
	"title": "Events",
	"tags": [],
	"description": "Hvordan lage egendefinerte events for en app.",
	"content": "Aktivere generering av events i applikasjonen din For at applikasjonen din skal kunne generere events må den referere til nugetversjon \u0026gt;= 1.2.4. Se hvordan du oppdaterer nugetreferanser for applikasjonen din her.\rGenerering og lagring av events er ikke enablet som default i applikasjonene per 22.10.2020. Det må derfor et manuelt steg til for at applikasjonen din skal generere events.\nI filen appsettings.json i mappen App må følgende legges til i seksjonen AppSettings\n\u0026#34;RegisterEventsWithEventsComponent\u0026#34;: true Pushe egendefinerte events i applikasjonen din Servicen IEvents er eksponert i applikasjonen og kan dependency injectes i den klassen der du har behov for å generere et egendefinert event.\nMetoden AddEvent krever navnet på eventypen og instansen som input.\nKodeeksempel I denne seksjonen finner du et eksempel på hvordan man kan generere et egendefinert event ved instansiering av applikasjonen.\nLogikken er implementert i InstantiationHandler.cs\nusing Altinn.App.Services.Interface; using Altinn.App.PlatformServices.Interface; using Altinn.App.Services.Models.Validation; using Altinn.Platform.Storage.Interface.Models; using System.Threading.Tasks; // using Altinn.App.Models; // Uncomment this line to refer to app model(s)  namespace Altinn.App.AppLogic { public class InstantiationHandler { private IProfile _profileService; private IRegister _registerService; private IEvents _eventsService; /// \u0026lt;summary\u0026gt;  /// Set up access to profile and register services  /// \u0026lt;/summary\u0026gt;  public InstantiationHandler(IProfile profileService, IRegister registerService, IEvents eventsService) { _profileService = profileService; _registerService = registerService; _eventsService = eventsService; } /// \u0026lt;summary\u0026gt;  /// Run validations related to instantiation  /// \u0026lt;/summary\u0026gt;  /// \u0026lt;example\u0026gt;  /// if ([some condition])  /// {  /// return new ValidationResult(\u0026#34;[error message]\u0026#34;);  /// }  /// return null;  /// \u0026lt;/example\u0026gt;  /// \u0026lt;param name=\u0026#34;instance\u0026#34;\u0026gt;\u0026lt;/param\u0026gt;  /// \u0026lt;param name=\u0026#34;validationResults\u0026#34;\u0026gt;\u0026lt;/param\u0026gt;  /// \u0026lt;returns\u0026gt;The validation result object (null if no errors) \u0026lt;/returns\u0026gt;  public async Task\u0026lt;InstantiationValidationResult\u0026gt; RunInstantiationValidation(Instance instance) { return await Task.FromResult((InstantiationValidationResult)null); } /// \u0026lt;summary\u0026gt;  /// Run events related to instantiation  /// \u0026lt;/summary\u0026gt;  /// \u0026lt;remarks\u0026gt;  /// For example custom prefill.  /// \u0026lt;/remarks\u0026gt;  /// \u0026lt;param name=\u0026#34;instance\u0026#34;\u0026gt;Instance information\u0026lt;/param\u0026gt;  /// \u0026lt;param name=\u0026#34;data\u0026#34;\u0026gt;The data object created\u0026lt;/param\u0026gt;  public async Task DataCreation(Instance instance, object data) { await _eventsService.AddEvent(\u0026#34;app.test.event\u0026#34;, instance); await Task.CompletedTask; } } }   Den private variabelen for servicen inkluderes i klassen\nprivate IEvents _eventsService;   Namespce for IEvents må inkluderes i klassen. Legg til linjen nedenfor blant de andre using-statements øverst i filen.\nusing Altinn.App.PlatformServices.Interface;   IEvents servicen dependency injectes inn i klassen. Og den private variabelen blir assignet en verdi.\npublic InstantiationHandler(IProfile profileService, IRegister registerService, IEvents eventsService) { _profileService = profileService; _registerService = registerService; _eventsService = eventsService; }   I metoden der man har behov for å genere et event kaller man på servicen.\nHer har det egendefinerte eventet fått navnet app.test.event, i tillegg sendes instansen med. Denne brukes til å populere resterende metadata om eventet.\nawait _eventsService.AddEvent(\u0026#34;app.test.event\u0026#34;, instance);   Dersom du prøver å bygge løsningen nå vil det feile.\nIEvents vil mangle der InstantiationHandler instansieres. Naviger til App.cs og dependency inject servicen inn i konstruktøren til App.\nVidere må tjenesten legges til i kallet der InstantiationHandler instansieres som vist nedenfor.\npublic App( IAppResources appResourcesService, ILogger\u0026lt;App\u0026gt; logger, IData dataService, IProcess processService, IPDF pdfService, IProfile profileService, IRegister registerService, IPrefill prefillService, IEvents eventsService ) : base(appResourcesService, logger, dataService, processService, pdfService, prefillService) { _logger = logger; _validationHandler = new ValidationHandler(); _calculationHandler = new CalculationHandler(); _instantiationHandler = new InstantiationHandler(profileService, registerService, eventsService); }   Applikasjonen din er nå klar til å generere et egendefinert event under instansiering. Dette er mulig å teste lokalt før det evt. deployes til et testmiljø.\n  "
},
{
	"uri": "https://altinn.github.io/docs/api/datasystem/faq_datasystem/feilkoder/",
	"title": "Feilkoder og feilmeldinger",
	"tags": [],
	"description": "Spørsmål og svar som gjelder feilkoder og feilmeldinger",
	"content": " Hva betyr \u0026lsquo;ValidationFailed\u0026rsquo; som jeg får i asynkron kvittering? Eksempel på feilmelding: «Error Merverdiavgift-datadef-10098 only integers allowed»\nSvar: Skjemaet validerer ikke i henhold til spesifikasjonen. I dette eksempelet ser vi at det er feltet «Merverdiavgift-datadef-10098» som er galt. Se hva verdien i dette elementet er, og sjekk XSD-spesifikasjonen for hvilke restriksjoner som gjelder for dette elementet.\nNB! Dette er den absolutt vanligste feilen og gjelder validering på payload.\n Jeg får beskjed om at skjemaet ikke finnes? Feilmeldingskode: «Rejected».\nTekst: «There exist no valid services with given service code/edition code»\nSvar: Skjemaet/tjenesten er ikke tilgjengelig i dette miljøet. Kontakt tjenesteeier om du forventer noe annet. Du kan også sjekke om tjenesten er tilgjengelig i miljøet ved å bruke det åpne metadata REST-apiet som viser alle tjenester i hhv. produksjons- og testmiljø:\nPROD: https://altinn.no/api/metadata\nTT02: https://tt02.altinn.no/api/metadata\n "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/",
	"title": "SOAP",
	"tags": [],
	"description": "Som tjenesteeier får du tilgang til en ekstra del av Altinns SOAP-api.",
	"content": "Som tjenesteeier må du bruke SOAP når du skal hente skjemadata fra Altinn og for å sende forhåndsutfylte skjema, meldinger, formidle filer til bruker eller organisasjon via Altinn.\n\rGrensesnitt\rSOAP operasjoner for tjenesteeiere med beskrivelse.\n\r\rEndepunkter\rListe over alle webservice endepunkter.\n\r\rFeilhåndtering\rAltinn benytter en SOAP fault til å returnere feilmeldinger for en web service. Denne fault meldingen er i henholdt til AltinnFault kontrakten definert i WSDL for alle tjenestene. Kontrakten vil angi en feilkode og en feilmelding, henholdsvis ErrorID og AltinnErrorMessage, for å definere feilsituasjoner.\n\r\rFeilkoder\rFeilkoder i Altinn.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/mappere/utvikling/",
	"title": "Utvikling",
	"tags": [],
	"description": "Beskrivelse av hvordan man utvikler en mapper.",
	"content": "En mapper utvikles i prosjektet Services. Dette inneholder en WCF-tjeneste med tilhørende tjeneste- og datakontrakt. Det er støttet opptil .NET versjon 4.6 i både utviklings- og driftsmiljøet.\nI tillegg er det noen støtteklasser som kan benyttes. Strukturen i prosjektet er vist under.\nKildekode og versjonskontroll Altinn benytter Team Foundation Server med git til versjonskontroll. De nødvendige verktøyene for å kunne sjekke inn og ut kode er tilgjengelig direkte i Visual Studio. For å sjekke inn eller ut kode kan dette gjøres ved å høyreklikke på solution eller prosjektet og velge ulike handlinger der.\nHvordan man skal koble seg til Altinn sin Team Foundation Server er beskrevet her.\nEn god oversikt over bruken av git i Visual Studio kan finnes her og dokumentasjon på git her.\nDefinere Service Contract Det første man gjør når man skal utvikle en mapper er å definere tjenestekontrakten for mapperen. Dette gjøres ved å opprette en Service Contract i filen IMapper.cs. Dette er et interface som beskriver hvilke operasjoner som skal være tilgjengelig på tjenesten. For å angi at interfacet er en WCF-tjenestekontrakt må ServiceContract-attributtet angis. Her må også mapperen sitt namespace angis.\nAlle operasjonene som skal være tilgjengelig på tjenestekontrakten opprettes som metoder i interfacet og markeres med attributtet OperationContract. Alle operasjoner må ta inn et forespørsel-objekt og returnere et respons-objekt. Disse objektene må navngis med «Forespoersel» og «Respons» postfiks.\nEksempel fra Testdepartementet Under er det vist et eksempel på en slik tjenestekontrakt. Her defineres «GetMidlertidigKjoeretillatelse». Denne tjenesten tar inn et forespørsel-objekt og returnerer et respons-objekt.\nEksempelkoden for testdepartementet finnes i TFS på stien $/TTD/Mappers/Foererkort/.\nEksempel på tjenestekontrakt:\nusing System.ServiceModel; namespace Altinn.SBL.ServiceEngine.LookUp.Mappers.TTD.Services { [ServiceContract(Namespace = \u0026#34;http://www.altinn.no/mapperservices/ttd/2011/06\u0026#34;)] public interface IMapper { [OperationContract] TillatelseRespons GetMidlertidigKjoeretillatelse( TillatelseForespoersel forespoersel); } } Definere datakontrakter All informasjon som skal overføres med WCF-tjenester må angis med datakontrakter. Dette er vanlige kodeklasser som markeres med DataContract-attributter. Klassene skal ligge i filen Transfer.cs. Variabler med DataMember-attributter angir data som skal overføres. Det er fullt mulig å angi komplekse datastrukturer ved å opprette hierarkiske datakontrakter. Forespørsler skal navngis med Forespoersel-postfiks og Respons-objekter med Respons-postfiks, og det er en begrensning på maks 2MB overført data per kall.\nEksempel fra Testdepartementet Testdepartementet sin tjeneste mottar et TillatelseForespoersel-objekt som angir fødselsnummeret for den brukeren som skal hamidlertidig kjøretillatelse.\nusing System.Runtime.Serialization; namespace Altinn.SBL.ServiceEngine.LookUp.Mappers.TTD.Services { [DataContract] public class TillatelseForespoersel { [DataMember] public string Fnr; } } Når forespørselen om midlertidig kjøretillatelse er behandlet returneres det et respons-objekt som vist under. Dette inneholder et tillatelse-objekt og en tekststreng som viser statusen på tillatelsen. Tillatelse-objektet inneholder igjen en Adresse. På denne måten kan dataene struktureres på en intuitiv måte slik at skjemautviklerene lett kan presentere informasjonen.\nusing System.Runtime.Serialization; namespace Altinn.SBL.ServiceEngine.LookUp.Mappers.TTD.Services { [DataContract] public class TillatelseRespons { [DataMember] public Tillatelse Tillatelse; [DataMember] public string Status; } [DataContract] public class Tillatelse { [DataMember] public string Fnr; [DataMember] public string Navn; [DataMember] public string Godkjent; [DataMember] public string Utloper; [DataMember] public Adresse Adresse; [DataMember] public string Klasser; } [DataContract] public class Adresse { [DataMember] public string Lokasjon; [DataMember] public int Postnummer; [DataMember] public string Poststed; [DataMember] public string AnnenAddresse; } } Koble til etat-systemet Når man skal koble seg til et etatsystem fra en mapper må denne ha en tjenestereferanse til den tjenesten som skal benyttes. Referansen settes opp ved å følge oppskriften. Adressen avhenger av etatsystemet men kan for eksempel se slik ut:\nhttps://altetat.brreg.no/ttd-war/PortalServices\nNår man kobler seg til etatsystemet vil Visual Studio oppdatere app.config med en del konfigurasjon. Denne konfigurasjonen må også legges til i de konfigurasjonsfilene som installeres på Altinn sine servere.\nDatakonvertering En mapper er i sin enkleste form tilgjengeliggjøring av en etat-tjeneste som en tjeneste i Altinn. For at informasjon skal kunne flyte gjennom mappere må det derfor konverteres mellom mapperens og etatsystemenes datakontrakter.\nKonverteringen må settes opp fordi det ikke er ønskelig at tjenesteeier sine datakontrakter benyttes som datakontrakter for mapperen. Ved å separere kontraktene på denne måten sikrer man at endringer i tjenesteeier sine kontrakter ikke påvirker mapperene sine kontrakter og dermed også skjemaene i Altinn.\nDet andre aspektet er at det å benytte etatens kontrakter som mapperenes kontrakter er uheldig og komplisert. Noen etatsystem tilgjengeliggjør sine tjenester med svakt typet data. Dette er i noen tilfeller nødvendig på grunn av etatsystemets funksjonalitet eller tekniske begrensninger eller krav. Dette er noe som bør unngås dersom det ikke er spesielle årsaker for siden det da kan komplisere utvikling og testing av mapperen.\nKonverteringen gjøres i filen Utility.cs. Her må det implementeres en klasse som heter Converter. Denne klassen inneholder et sett med convert-metoder som konverterer mellom de ulike datakontraktene.\nusing System; using System.Text; namespace Altinn.SBL.ServiceEngine.LookUp.Mappers.TTD.Services { internal class Converter { public static Tillatelse Convert(tillatelseVO vo) { if (vo != null) return new Tillatelse() { Fnr = vo.fnr, Navn = vo.navn, Godkjent = vo.godkjent, Utloper = vo.utloeper, Adresse = Convert(vo.adresseVO), Klasser = Convert(vo.korttyper) }; else return null; } public static Adresse Convert(adresseVO vo) { if (vo != null) return new Adresse() { Lokasjon = vo.lokasjon, Postnummer = vo.postnummer, AnnenAddresse = vo.annenAdresse, Poststed = vo.poststed }; else return null; } } } Implementere mappertjenesten Selve implementasjonen av mappere gjøres i Mapper.cs. Her er klassen Mapper som implementerer tjenestekontrakten IMapper. Eksempelet under viser en enkel implementasjon av en mapper. Her er blant annet logging utelatt.\nusing System; using System.ServiceModel; using Altinn.SBL.ServiceEngine.LookUp.Mappers.TTD.Services.SvcRef; using System.Configuration; using System.Net; namespace Altinn.SBL.ServiceEngine.LookUp.Mappers.TTD.Services { [ServiceBehavior(InstanceContextMode = InstanceContextMode.PerCall, Namespace = \u0026#34;http://www.altinn.no/mapperservice/ttd/2011/06\u0026#34;)] public class Mapper : IMapper { public TillatelseRespons GetMidlertidigKjoeretillatelse( TillatelseForespoersel forespoersel) { var respons = new TillatelseRespons(); using (var proxy = new PortalServicesClient()) { try { var vo = proxy.getMidlertidigKjoeretillatelse(forespoersel.Fnr); respons.Tillatelse = Converter.Convert(vo); respons.Status = \u0026#34;OK\u0026#34;; } catch (Exception ex) { respons.Status = \u0026#34;Web Service call failed, \u0026#34; + \u0026#34;please contact administrator\u0026#34;; } } return respons; } } Over er det brukt noen syntaks-elementer som er særegent for .NET. Dette er typen var og block-statementet using.\nTypen var er en uspesifisert variabeltype som kompilatoren bytter ut med korrekt type under kompilering. Under er det vist to kodelinjer som resulterer i samme kompilerte kode. Linje nummer to benytter var-typen. Som det vises av eksempelet gjør var at utvikleren ikke trenger å spesifisere type-informasjonen to ganger. Var er altså kun syntaktisk sukker som gjør utviklingen enklere.\n// Eksplisitt angitt type TillatelseRespons respons = new TillatelseRespons(); // Bruk av var. var respons = new TillatelseRespons(); Blockstatementen using benyttes for å sikre at begrensede ressurser frigis etter bruk. Dette er også kun syntaktisk sukker som sikrer at Dispose-metoden blir kalt etter at en ressurs er benyttet. To ekvivalente eksempler er vist under.\n// Eksplisitt frigjøring av begrensede ressurser. var proxy = new PortalServicesClient(); proxy.getMidlertidigKjoeretillatelse(forespoersel.Fnr); proxy.Dispose(); // Frigjøring av begrensede ressurser ved bruk av using. using (var proxy = new PortalServicesClient()) { proxy.getMidlertidigKjoeretillatelse(forespoersel.Fnr); } Logging For å kunne overvåke og feilsøke mapperen under utvikling og i produksjon er det viktig at den logger viktige hendelser. Dette inkluderer tjenestekall og feilsituasjoner. Gode logger gjør det enklere å få innsikt i tilstand og ytelse, samt identifisere feilen dersom det skulle oppstå problemer.\nLogging gjøres ved bruk av klassen Trace som er standardfunksjonalitet i .NET-rammeverket. Her kan man spesifisere ulike typer logginnslag gjennom bruk av metodene TraceInformation, TraceWarning og TraceError. Metodene funger likt, men vil markere logginnslaget med ulik alvorlighetsgrad. Hver mapper har sin egen loggfil.\nFor å skru på at Trace skal logges må dette konfigureres i tjenestens config-fil. Dette gjøres som vist under.\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;system.diagnostics\u0026gt; \u0026lt;trace autoflush=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;listeners\u0026gt; \u0026lt;add name=\u0026#34;MapperListener\u0026#34; type=\u0026#34;System.Diagnostics.TextWriterTraceListener\u0026#34; initializeData=\u0026#34;Trace.csv\u0026#34; /\u0026gt; \u0026lt;/listeners\u0026gt; \u0026lt;/trace\u0026gt; \u0026lt;/system.diagnostics\u0026gt; \u0026lt;/configuration\u0026gt; Metoden TraceInformation kan brukes på ulike måter. Under er tre eksempler som bygger opp en formatert streng som viser dagens dato:\nvar message = \u0026#34;Dagens dato er \u0026#34; + DateTime.Now.ToString(); Trace.TraceInformation(message); var format = \u0026#34;Dagens dato er {0}\u0026#34;; Trace.TraceInformation(format,DateTime.Now); var formattedMessage = string.Format(format, DateTime.Now) Trace.Traceinformation(formattedMessage); I mappere bør man benytte standard oppsett på logginnslagene slik at det er lett å lese loggene i etterkant.\nEt forslag til slikt format er gitt i eksempelet. Her er det fire parametere som benyttes.\n Det første angir tidspunktet for logginnslaget. Det neste viser kilden i form av metodenavnet. Deretter følger type innslag og verdien.  Når man leser loggen kan man da velge å filtrere på ulike typer kilder, innslagstyper og dato.\n// Her hentes informasjon om starttidspunkt og metode som kalles. // Dette gjøres tidlig i metoden. DateTime start = DateTime.Now; string methodName = MethodBase.GetCurrentMethod().Name; // Her logges en feilmelding med Trace.TraceError. // Det som logges er: tidspunktet, metodenavn og feilmelding. // Dette gjøres for alle feilmeldinger som kommer i metoden. Trace.TraceError(string.Format(\u0026#34;;{0};{1};{2};{3}\u0026#34;, Clock.GetTimestamp(), methodName, \u0026#34;Exception\u0026#34;, ex.Message)); // Her logges en fullført tjenestekall med Trace.TraceInformation. // Det som logges er: tidspunkt, metodenavn og varighet // Dette gjøres på slutten av alle tjenester Trace.TraceInformation(string.Format(\u0026#34;;{0};{1};{2};{3}\u0026#34;, Clock.GetTimestamp(), methodName, \u0026#34;Duration\u0026#34;, (DateTime.Now - start).TotalMilliseconds)); I eksempelet er logging inkludert i mapperimplementasjonen. Her logger man alle tjenestekall som gjøres, samt logger alle feilmeldinger som kastes dersom etatsystemet returnerer feil.\nusing System; using System.ServiceModel; using Altinn.SBL.ServiceEngine.LookUp.Mappers.TTD.Services.SvcRef; using System.Diagnostics; using System.Configuration; using System.Net; using Altinn.SBL.ServiceEngine.LookUp.Mappers.TTD.Services.SvcSecRef; namespace Altinn.SBL.ServiceEngine.LookUp.Mappers.TTD.Services { [ServiceBehavior(InstanceContextMode = InstanceContextMode.PerCall, Namespace = \u0026#34;http://www.altinn.no/mapperservice/ttd/2011/06\u0026#34;)] public class Mapper : IMapper { public TillatelseRespons GetMidlertidigKjoeretillatelse( TillatelseForespoersel forespoersel) { DateTime start = DateTime.Now; TillatelseRespons respons = new TillatelseRespons(); string methodName = MethodBase.GetCurrentMethod().Name; using (var proxy = new PortalServicesClient()) { try { var vo = proxy.getMidlertidigKjoeretillatelse(forespoersel.Fnr); respons.Tillatelse = Converter.Convert(vo); respons.Status = \u0026#34;OK\u0026#34;; } catch (Exception ex) { Trace.TraceError(string.Format(\u0026#34;;{0};{1};{2};{3}\u0026#34;, Clock.GetTimestamp(), methodName, \u0026#34;Exception\u0026#34;, ex.Message)); respons.Status = \u0026#34;Web Service call failed, \u0026#34; + \u0026#34;please contact administrator\u0026#34;; } } } else { respons.Status = \u0026#34;Context verification failed, \u0026#34; + \u0026#34;please contact administrator\u0026#34;; } Trace.TraceInformation(string.Format(\u0026#34;;{0};{1};{2};{3}\u0026#34;, Clock.GetTimestamp(), methodName, \u0026#34;Duration\u0026#34;, (DateTime.Now - start).TotalMilliseconds)); return respons; } } I eksempelet over fanges alle feilmeldinger med den generelle try-catchen for Exception. Dette vil sikre at det ikke lekker feil ut fra denne kodeblokken, men det vil samtidig skjule verdifull informasjon fra feilloggen. Det kan derfor være lurt å skille på ulike feil slik at man får et mer differensiert bilde av hva som går feil hvis det skulle inntreffe.\nEn try-catch-sekvens fungerer slik at feilen vil fanges i den første catchen som dekker den aktuelle feilen. Rekkefølgen må derfor være fra mest til minst spesifikk. Et anbefalt minimum er sekvensen FaultException, CommunicationException, TimeoutException og til slutt Exception for å fange alle overskytende feilmeldinger.\ntry { // Utfør kall til tjensteeier sine system. } catch (FaultException ex) { Trace.TraceError(string.Format(\u0026#34;;{0};{1};{2};{3}\u0026#34;, Clock.GetTimestamp(), methodName, \u0026#34;FaultException\u0026#34;, ex.Message)); } catch (CommunicationException ex) { Trace.TraceError(string.Format(\u0026#34;;{0};{1};{2};{3}\u0026#34;, Clock.GetTimestamp(), methodName, \u0026#34;CommunicationException\u0026#34;, ex.Message)); } catch (TimeoutException ex) { Trace.TraceError(string.Format(\u0026#34;;{0};{1};{2};{3}\u0026#34;, Clock.GetTimestamp(), methodName, \u0026#34;Exception\u0026#34;, ex.Message)); } catch (Exception ex) { Trace.TraceError(string.Format(\u0026#34;;{0};{1};{2};{3}\u0026#34;, Clock.GetTimestamp(), methodName, \u0026#34;Exception\u0026#34;, ex.Message)); } Rammeverk for fellesfunksjonalitet En mapper har tilgang til en del fellesfunksjonalitet. Dette er samlet i Altinn.Common.dll. Denne må legges til i Services-prosjektet som en assembly-referanse. Den samme prosessen må gjøres for to andre assemblys som Altinn.Common er avhengig av. Assemblyene ligger på følgende plassering i versjonskontrollsystemet:\n $/Common/\u0026lt;siste tilgjengelige versjon\u0026gt;/lib/Altinn.Common.dll $/Common/Frameworks/entlib/4.1/bin/Microsoft.Practices.EnterpriseLibrary.Common.dll $/Common/Frameworks/entlib/4.1/bin/Microsoft.Practices.EnterpriseLibrary.Logging.dll  Konfigurasjonsparametere Dersom man har spesielle konfigurasjonsparametere man ikke ønsker å kode inn i en mapper, men heller tilgjengeliggjøre i konfigurasjonsfiler kan dette gjøres ved bruk av AppSettings-seksjonen i konfigurasjonsfilen. Dette er et enkelt «key-value» oppsett der man kan angi verdier som kan hentes ut basert på en oppslagsverdi i koden.\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34; ?\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;appSettings\u0026gt; \u0026lt;add key=\u0026#34;MyKey\u0026#34; value=\u0026#34;MyValue\u0026#34;/\u0026gt; \u0026lt;/appSettings\u0026gt; \u0026lt;/configuration\u0026gt; For å hente ut igjen slike verdier benyttes ConfigurationManager:\nvar value = ConfigurationSettings.AppSettings[\u0026#34;MyKey\u0026#34;]; "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/data/attachments/",
	"title": "Vedlegg",
	"tags": [],
	"description": "I en applikasjon kan man som utvikler legge til rette for opplasting av filvedlegg både via GUI og API.",
	"content": "Metoder for opplasting av vedlegg I en Altinn app har man to alternativer for opplasting av vedlegg:\n vedleggskomponent i skjema API-kall mot app backend  Førstnevnte vil være et godt alternativ for all data er det forventet at en sluttbruker vil laste opp via brukergrensesnitt i skjema. Sistnevnte anbefales brukt dersom det kun er forventet at systemer skal laste opp vedlegget. Det er ingen begrensning på hvor mange vedlegg som kan inkluderes i en applikasjon og begge opplastingsmetoder kan brukes innad i samme applikasjon.\nNedenfor følger en enkel beskrivelse av hvordan du kan legge til rette for at applikasjonen din kan ta imot vedlegg.\nInnsending av vedlegg med vedleggskomponent i skjema Når man setter sammen skjemaet sitt i Altinn Studio har man en vedleggskomponent tilgjengelig. Det er mulig å laste opp flere vedlegg på en enkelt komponent, og hvor mange vedleggskomponenter du benytter i din applikasjon vil avgjøres av egenskapene til dokumentene du forventer at skal lastes opp og eventuelle begrensninger du selv ønsker å sette (se konfigurasjon av vedlegg for mer informasjon om dette).\nNB! Det vil også være mulig å laste opp vedlegg av typen definert i vedleggkomponenten via API.\nBildet over viser vedleggskomponenten i Altinn Studio. Det er mulig å sette en del av konfigurasjonenen for vedleggene som lastes opp alledere her.\n Egendefinerte filtyper kan spesifiseres dersom man vil begrense filtypene som kan sendes inn. En bruker vil i så fall hindres under opplastning dersom filtypen ikke er blant den godkjente listen. Minst/maks antall filvedlegg kan spesifiseres dersom man ønsker et bestemt antall vedlegg lastet opp via komponenten. Ved å sette \u0026lsquo;0\u0026rsquo; på minst antall filvedlegg vil det ikke være påkrevd å laste opp en fil. Maks filstørrelse spesifiseres i MB.  Ytterligere konfigurasjoner som kan settes for vedlegg inkluderer: tillatte bidragsytere og beskrivelse. Dette gjøres i applicationMetadata.json som ligger under App/config i applikasjonsrepoet.\nInnsending av vedlegg med API-kall For å legge til rette for å kunne sende inn vedlegg uten å ha støtte for dette i GUI må man legge inn et datatype-objekt i applicationMetadata.json (filen ligger under App/config i applikasjonsrepoet). Det vil da kun være mulig å sende inn vedlegg av denne typen via API-kall. For en nærmere beskrivelse av de tilgjengelige feltene se konfigurasjon av vedlegg.\nKonfigurasjon for vedlegg I applicationMetadata.json (ligger under App/config i applikasjonsrepoet) vil man finne en property som heter dataTypes. Her er ligger konfigurasjonen for alle datatyper knyttet til applikasjonen, både skjemadata (app model data) og vedlegg. Feltet appLogic som man også vil se blant noen av objektene i listen skal kun brukes for skjemadata.\nNedenfor er det to eksempler på dataTypes-instanser i en applikasjon fra en deployet applikasjon.\n\u0026#34;dataTypes\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;53a50f0d-2345-448d-9fba-f18e6bbe71f8\u0026#34;, \u0026#34;taskId\u0026#34;: \u0026#34;Task_1\u0026#34;, \u0026#34;maxSize\u0026#34;: 25, \u0026#34;maxCount\u0026#34;: 1, \u0026#34;minCount\u0026#34;: 1, \u0026#34;allowedContentTypes\u0026#34;:[\u0026#34;application/pdf\u0026#34;] }, { \u0026#34;id\u0026#34;: \u0026#34;attest\u0026#34;, \u0026#34;taskId\u0026#34;: \u0026#34;Task_1\u0026#34;, \u0026#34;maxSize\u0026#34;: 25, \u0026#34;maxCount\u0026#34;: 1, \u0026#34;minCount\u0026#34;: 0, \u0026#34;allowedContributers\u0026#34;: [\u0026#34;org:nav\u0026#34;, \u0026#34;orgNo:XXXXXXXXXX\u0026#34;], \u0026#34;grouping\u0026#34;: \u0026#34;Attester\u0026#34;, } ]   Id på vedleggstypen. Denne vil settes som en GUID dersom man bruker vedleggskomponent fra Altinn Studio slik man ser i det første elementet i dataTypes-listen. Skulle det være ønskelig å endre verdien til et mer fornuftig navn må man også være obs på at denne endringen må gjøres to steder: applicationMetadata.json og FormLayout.json. (Kun relevant dersom man bruker filopplaster i GUI)\n  taskId betegner hvilket steg i prosessen det er forventet at dette vedlegget skal lastes opp på. Denne verdien må tilsvare en id på en av taskene i process.bpmn.\n  maxSize betegner maks tillat størrelse på vedlegget.\n  maxCount betegner en øvre grensen for hvor mange vedlegg av denne typen som skal lastet opp i tilknytning til en instans.\n  minCount betegner en nedre grensen for hvor mange vedlegg av denne typen som skal lastet opp i tilknytning til en instans. Dersom verdien er 0 er det ikke påkrevt å laste opp vedlegg av denne typen.\n  allowedContributers spesifiserer hvem som får lov til å lage og/eller endre vedlegg av denne typen. Dette spesifiseres på formatet {nøkkelord}:{verdi}. Tillatte nøkkelord inkluderer: \u0026lsquo;org\u0026rsquo;; trebokstavsforkortelse på organisasjon og \u0026lsquo;orgNo\u0026rsquo;; organisasjonsnummer. Det er per nå ikke mulig å spesifisere en organisasjon som ikke er registrert som tjenesteeier.\n  allowedContentTypes spefisiserer hvilke vedleggstyper man tillater. De hyppigst brukte inkluderer: application/pdf, text/xml, image/jpeg. Dersom man ikke ønsker å sette begrensning på typen vedlegg trenger man ikke definere denne parameteren. Les mer om mime types her.\n  grouping betegner gruppen som vedleggene i av denne typen skal grupperes etter. Dette er en valgfri egenskap, hvor vedlegg med samme grouping vil havne i samme liste. Grouping kan både være en streng (f.eks \u0026ldquo;Attester\u0026rdquo;) eller en tekstnøkkel om man ønsker å støtte flere språk (f.eks \u0026ldquo;skjema.vedleggsgruppering). Her er et eksempel hvor grouping \u0026ldquo;Demogruppe\u0026rdquo; satt på en vedleggstype:\n  "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/batch/",
	"title": "Batch",
	"tags": [],
	"description": "Oversikt over hvilke batch grensesnitt som tilbys i Altinn.",
	"content": "Innsendingstjenester Ferdig utfylte skjemaer i Altinn overføres på xml fil til tjenesteeiere. Tjenesteeiere kan motta utfylte skjemaer fortløpende, eller samle opp til rutinemessig overføring. Alternative protokoller som benyttes i Altinn-løsningen i dag er FTP og SFTP. Kun arkiverte elementer for egne skjemaer overføres.\nTjenesteeier må etablere FTP/SFTP mottak, og se til at angitt FTP område til enhver tid er tilgjengelig for Altinn. Opplysninger om FTP adresse, pålogging og frekvens må avtales før valgt overføring kan aktiviseres.\nEn kvittering for forsendelsen genereres når forsendelsen er sendt til tjenesteeier fra Altinn. Tjenesteeier oppdaterer kvitteringen etter mottak ved å gjøre kall til dedikert web service (se SaveReceipt).\nInnsendingsdata som sendes til tjenesteeier fra Altinn er i henhold til “genericbatch.2011.06.xsd\u0026quot; som ligger som et separat vedlegg til dette dokumentet. Denne versjonen av XSD er påkrevd for å bruke funksjonalitet for å overføre PDF av skjemasett.\nI forbindelse med definerte vedleggstyper i Altinn, har vi «genericbatch.2013.06.xsd». Den nye versjonen av xsd-en inneholder nye elementer som vedleggstypenavn (attachmentTypeName) og sjekksum, av typen SHA256, for vedlegget (checksum). I tillegg har det blitt innført mulighet for å definere en liste med metadata, med mulighet for å f.eks. oppgi fagsystemnavn. AttachmentTypeName, Checksum og MetaDataList er alle optional og ikke obligatorisk, så xsd-en er bakoverkompatibel med tjenesteeiere som benytter seg av “genericbatch.2011.06.xsd\u0026quot; og “genericbatch.2010.10.xsd\u0026quot;.\n“Genericbatch.2010.10.xsd\u0026quot; vil eksistere videre i en periode før den fases ut. Det er ingen obligatoriske forandringer mellom “genericbatch.2011.06.xsd\u0026quot; og “genericbatch.2010.10.xsd\u0026quot;, så tjenesteeiere som allerede bruker sistnevnte kan fortsette med det inntil den fases ut.\nTjenesteeier kan opprette flere grensesnitt for overføring av utfylte skjema, og hvert enkelt grensesnitt knyttes til 1 versjon av genericbatch.\n   Element Beskrivelse     DataBatch Rotnode elementet som holder hele overføringen. Alt innenfor dette elementet tilhører en batch   schemaVersion Versjonen av xmlskjemaet. Brukes for fremtidig versjonering av formatet   batchReference Den unike batch-sekvensen innenfor mottakssystemet. Denne blir brukt for å forsikre seg om at det er forventet batchforsendelse som blir mottatt av offentlig enhet   previousReference Forrige sekvensnummer innenfor mottakssystemet (receiverReference)   receiverReference Identifikatoren i Altinn på systemet som skal motta dataene, eksempelvis SLN. Brukes av mottaker for å skille på batcher til forskjellige system hos samme mottaker   timeStamp Tidspunkt for når batchen er generert   formTasksInBatch Antall skjemasett som er i denne databatche   formsInBatch Antall skjema som er i denne databatchen   DataBatch .DataUnits Inneholder en samling av alle skjemaer som sendes   DataBatch .DataUnits. DataUnit Element som inneholder det enkelte skjemaet i batchen. Dette kan enten være hovedskjema eller vedleggsskjema   reportee Identifikatoren til avgiver (organisasjonsnummer/fødselsnummer) som har sendt inn skjemaet   archiveReference Identifikatoren til skjemaet i AltInn-arkivet. Brukes for å koble videre saksgang av skjema hos mottaker med skjemaet i Altinn, ved evt. senere henvendelse til Altinn   archiveTimeStamp Tidspunkt for når skjemaet ble arkivert   DataBatch .DataUnits. DataUnit. MetadataList En samling av metadata informasjon i en liste. Kan f.eks. være fagsystemnavn dersom dette er bestilt aktivert på grensesnitt   DataBatch .DataUnits. DataUnit. Approvers En samling av godkjennere for det enkelte skjema, d.v.s. personer som har signert oppgavesettet   DataBatch .DataUnits. DataUnit. Approvers .Approver Et element som representerer én godkjenner   approverId Identifikatoren til godkjenneren av skjemaet, d.v.s. fødselsnummer   approverTimeStamp Tidspunktet for godkjennelsen av skjemaet   securityLevel Sikkerhetsnivå: notSensitive - Data er godkjent av bruker som er autentisert med sikkerhetsnivå 1, lessSensitive - Data er godkjent av bruker som er autentisert med sikkerhetsnivå 2, sensitive - Data er signert av bruker med sikkerhetsnivå 3, verySensitive - Data er signert av bruker med sikkerhetsnivå 4   DataBatch .DataUnits. DataUnit.FormTask Overordnet element for ferdig utfylt skjemasett   DataBatch .DataUnits. DataUnit.FormTask.ServiceCode Tjenestekode, f.eks. \u0026ldquo;PSA\u0026rdquo;   DataBatch .DataUnits. DataUnit.FormTask.ServiceEditionCode Tjenesteutgavekode, f.eks. \u0026ldquo;2009\u0026rdquo;   DataBatch .DataUnits. DataUnit.FormTask. SOEncryptedSymmetricKey.EncryptedKey Nøkkel som er AES-kryptert med tjenesteeiers sertifikat som benyttes for å dekryptere skjemainnhold   DataBatch .DataUnits. DataUnit.FormTask.SOEncryptedSymmetricKey.CertificateThumbprint Thumbprint av tjenesteeiers sertifikat som ble benyttet for å kryptere nøkkel. Vil unikt angi sertifikatet i de tilfeller hvor tjenesteeier har flere sertifikater registrert i Altinn   DataBatch .DataUnits. DataUnit.FormTask.CaseID Unik identifikator på eventuell samhandlingstjeneste skjemasettet er knyttet til   DataBatch .DataUnits. DataUnit.FormTask.Form Overordnet element for hoved –eller underskjema i et skjemasett   DataBatch .DataUnits. DataUnit.FormTask.Form.DataFormatId Id til skjema fra metadata kilde   DataBatch .DataUnits. DataUnit.FormTask.Form.DataFormatVersion Versjon til skjema fra metadata kilde   DataBatch .DataUnits. DataUnit.FormTask.Form.Reference Unik id per skjema, satt av altinn   DataBatch .DataUnits. DataUnit.FormTask.Form.ParentReference Referanse til hovedskjema. Settes kun i underskjema dersom underskjema forekommer.Tilsvarer verdi i DataBatch .DataUnits. DataUnit.FormTask.Form.Reference for hovedskjema   DataBatch .DataUnits. DataUnit.FormTask.Form.FormData Skjemadata i xml format   DataBatch .MetadataList Overodnet element for all metadata for en batch   DataBatch .Metadata Metadatainfo knyttet til batchen   DataBatch .Attachments Overordnet element for alle vedlegg for en batch   DataBatch .Attachments.Attachment Elementet inneholder ett binært vedlegg (Base64 kodet). Dette kan også være systemgenererte vedlegg, f.eks PDF av skjemasett   archiveReference Identifikatoren til skjemaet i AltInn-arkivet. Brukes til å knytte vedlegget til skjemaet   fileName Det originale filnavnet til vedlegget (gitt av den som sendte det)   InternalFileName Intern filnavnreferanse som brukes hvis vedleggene skal pakkes i en ekstern fil (ZIP). Denne er unik fordi man ikke kan ha like filnavn i et ZIP-arkiv. Filnavnet består av arkivreferansenummer + en Guid   AttachmentType Angir type attachment. Dette gjelder også for systemgenererte vedlegg som PDF (attachmentType=formtask_pdf). Mulige verdier for denne : not_Applicable, BASE64, binary_octet_stream, formtask_pdf, image_gif, text_html, image_bmp, image_jpeg, application_vnd_ms_excel, application_vnd_ms_powerpoint, application_msword, MTOM, application_None, application_vnd_oasis_opendocument_presentation, application_vnd_oasis_opendocument_spreadsheet, application_vnd_oasis_opendocument_text, application_pdf, text_plain, application_postscript, text_richtext, application_rtf, text_rtf, text_xml, application_zip   IsEncrypted Angir om tjenesten er kryptert eller ikke   Checksum Viser sjekksum av filvedlegget, som er generert av Altinn. Sjekksummen er generert av SHA256-algoritmen   attachmenttypename Angir vedleggets vedleggstypenavn. Dette er i henhold til vedleggstypen som er knyttet til tjenesten, f.eks. Lønnslipp, Årsoppgave    Preutfylling Preutfyllingsdata fra tjenesteeier vil ofte bestå av store mengder data. Batch-grensesnittet skal i så fall benyttes. Batch-grensesnittet kan også benyttes av tjenesteeiere som ikke ønsker å benytte web service-grensesnittet. Alternative protokoller som benyttes i Altinn-løsningen i dag er FTP eller SFTP. Tjeneste for oppgavesettet må være definert i tjenesteutviklingsløsningen og migrert til sluttbrukerløsningen før en tjenesteeier kan sende inn preutfyllingsdata for tjenesten via dette grensesnittet.\nVed bruk av FTP/SFTP mottar Altinn fil fra tjenesteeier. Alternativt kan Altinn kan hente hos tjenesteeier vha. de samme protokollene hvis tjenesteeier ikke ønsker å etablere egen FTP server (gjelder kun tjenesteeiere som ikke skal motta meldingsbekreftelser fra Altinn, se avsnitt 10.4.2 Meldingsbekreftelse fra Altinn til tjenesteeier). Opplysninger om FTP adresse, pålogging og frekvens må avtales før valgt kommunikasjonsmåte kan aktiviseres. Dersom Altinn skal hente hos tjenesteeier må tjenesteeier se til at angitt FTP område til enhver tid er tilgjengelig for Altinn.\nEn kvittering for forsendelsen, samt kvitteringer for de enkelte skjemaene i forsendelsen, genereres når forsendelsen er ferdig prosessert i Altinn. Tjenesteeier kan hente ut kvitteringene basert på ExternalShipmentReference/SendersReference som ble oppgitt i preutfyllingsformatet.\nPreutfyllingsdata som sendes til Altinn fra tjenesteeier eller hentes fra Altinn må være i henhold til Prefill-elementet i serviceinitiation.2010.10.xsd. Xsd’en ligger som et separat vedlegg til dette dokumentet. Dette formatet benyttes også for abonnement. Tjenesteeier kan med andre ord sende både preutfyllingsdata og abonnementsdata i samme XML.\nTabellen under beskriver elementer og attributter relevante for preutfylling:\n   Element Beskrivelse     ServiceOwner Rotnode elementet som holder hele overføringen   ServiceOwnerName Forkortelsen for tjenesteeieres navn (XXX-XXX, for eksempel ABC-123), der tre første tegn representerer tjenesteeier og tre siste tegn representerer en avdeling innad hos tjenesteeier. Kun de tre første tegnene er obligatoriske dersom det ikke finnes flere systemer/avdelinger innenfor samme tjenesteeier   ServiceOwner.Prefill Prefill-element og tilhørende under-elementer benyttes av tjenesteeier for å angi preutfyllingsdata til Altinn   SequenceNo Sekvensnummer for preutfyllings-forsendelsen.   ExternalShipmentReference Unik forsendelsesreferanse som settes av tjenesteeier for å identifisere forsendelsen   ServiceOwner.Prefill.Reportee Reportee-element og tilhørende under-elementer angir avgiver og tilhørende preutfyllingsdata   Id Unik identifikator for avgiver, fødselsnummer eller organisasjonsnummer   ServiceOwner.Prefill.Reportee.FormTask FormTask-element og tilhørende under-elementer benyttes av tjenesteeier for å angi preutfyllingsdata for et skjemasett   ExternalServiceCode Angir den tjenestekoden som preutfyllingen gjelder for   ExternalServiceEditionCode Angir tjenesteutgavekoden som preutfyllingen gjelder for   ValidFrom Angir dato for når preutfyllingsdataene er gyldige fra (yyyy-MM-dd)   ValidTo Angir dato for når preutfyllingsdataene er gyldige til (yyyy-MM-dd)   IdentityFieldHashCode Generert hash basert på alle identifiserende felter for det preutfylte oppgavesettet. Identifiserende felter benyttes for å skille mellom flere preutfyllingssett for samme oppgavesett og avgiver   SendersReference Referanse på skjemasett som settes av tjenesteeier, bør være unikt   ReceiversReference Unik referanse som settes av Altinn.   ServiceOwner.Prefill.Reportee.FormTask.IdentifyingFields Overordnet element for identifiserende felter. IdentifyingFields-elementet kan inneholde identifiserende felter som sammen unikt vil identifisere et preutfyllingssett for en avgiver og et skjemasett.   IdentifyingField Verdi for identifiserende felt, kan være slike felter per skjemasett   ServiceOwner.Prefill.Reportee.FormTask.Attachments Inneholder Attachment-elementer for eventuelle binære vedlegg for skjemasettet   ServiceOwner.Prefill.Reportee.FormTask.Attachment Attachment-elementet inneholder data for binære vedlegg   AttachmentName Dette navnet er det som vises for vedlegget i portalen.   FileName Navn på filen for det binære vedlegget.   AttachmentData Data for det binære vedlegget (Base64 kodet)   SendersReference Referanse for vedlegget som settes av tjenesteeier, bør være unikt   Encrypted Flagg som sier om vedlegget er kryptert (true/false)   ServiceOwner.Prefill.Reportee.FormTask.Form Dette elementet inneholder metadata og preutfyllingsdata for et skjema i det preutfylte oppgavesettet   DataFormatId Id til skjema fra metadata kilde   DataFormatVersion Versjon til skjema fra metadata kilde   SendersReference Identifikator for skjemaet i det preutfylte oppgavesettet som settes av tjenesteeier, bør være unikt   ParentReference Referanse til hovedskjema (SendersReference), dersom dette er et underskjema   FormData Dataene for skjemaet. Må legges i en CDATA blokk.   ServiceOwner.Prefill.Reportee.Field Field-elementet og tilhørende under-elementer benyttes av tjenesteeier for å angi preutfyllingsdata på feltnivå (felt-verdi)   Id Unik identifikator for feltet i tjeneste som skal preutfylles, typisk navn på et felt i et skjema   ValidFrom Angir dato for når preutfyllingsdataene er gyldige fra (yyyy-MM-dd)   ValidTo Angir dato for når preutfyllingsdataene er gyldige til (yyyy-MM-dd)   Index Indeks for feltet. Benyttes dersom man skal preutfylle flere felter med samme id   Value Preutfyllingsverdien    Abonnement Abonnementsdata fra tjenesteeier vil ofte bestå av store mengder data. Batch-grensesnittet skal i så fall benyttes. Batch-grensesnittet kan også benyttes av tjenesteeiere som ikke ønsker å benytte web service-grensesnittet. Alternative protokoller som benyttes i Altinn-løsningen i dag er FTP og SFTP. Tjeneste for skjemasettet må være definert i tjenesteutviklingsløsningen og migrert til sluttbrukerløsningen før en tjenesteeier kan sende inn abonnementsdata for tjenesten via dette grensesnittet.\nVed bruk av FTP/SFTP mottar Altinn fil fra tjenesteeier. Alternativt kan Altinn kan hente hos tjenesteeier vha. de samme protokollene hvis tjenesteeier ikke ønsker å etablere egen FTP server (gjelder kun tjenesteeiere som ikke skal motta meldingsbekreftelser fra Altinn, se avsnitt 10.4.2 Meldingsbekreftelse fra Altinn til tjenesteeier). Opplysninger om FTP adresse, pålogging og frekvens må avtales før valgt kommunikasjonsmåte kan aktiviseres. Dersom Altinn skal hente hos tjenesteeier må tjenesteeier se til at angitt FTP område til enhver tid er tilgjengelig for Altinn.\nEn kvittering for forsendelsen, samt kvitteringer for de enkelte skjemaene i forsendelsen, genereres når forsendelsen er ferdig prosessert i Altinn. Tjenesteeier kan hente ut kvitteringene basert på ExternalShipmentReference/SendersReference som ble oppgitt i abonnementsformatet.\nAbonnementsdata som sendes til Altinn fra tjenesteeier eller hentes fra Altinn må være i henhold til Subscription-elementet i serviceinitiation.2010.10.xsd. Xsd’en ligger som et separat vedlegg til dette dokumentet. Dette formatet benyttes også for preutfylling. Tjenesteeier kan med andre ord sende både preutfyllingsdata og abonnementsdata i samme XML.\n   Element Beskrivelse     ServiceOwner Rot-element   ServiceOwnerName Forkortelsen for tjenesteeieres navn (XXX-XXX, for eksempel ABC-123), der tre første tegn representerer tjenesteeier og tre siste tegn representerer en avdeling innad hos tjenesteeier. Kun de tre første tegnene er obligatoriske dersom det ikke finnes flere systemer/avdelinger innenfor samme tjenesteeier   ServiceOwner.Subscription Subscription-element og tilhørende under-elementer benyttes av tjenesteeier for å angi abonnementsdata til Altinn   SequenceNo Sekvensnummer for abonnements-forsendelsen   ExternalShipmentReference Unik referanse som settes av tjenesteeier for å identifisere forsendelsen   ServiceOwner.Subscription.Reportee Reportee-element og tilhørende under-elementer angir avgiver og hva det skal abonneres på   Id Unik identifikator for abonnent, fødselsnummer eller organisasjonsnummer   ServiceOwner.Subscription.Reportee.FormTask FormTask-element og tilhørende under-elementer benyttes av tjenesteeier for å angi abonnementsdata for et skjemasett   ExternalServiceCode Angir den tjenestekoden som abonnementet gjelder for   ExternalServiceEditionCode Angir tjenesteutgavekoden som abonnementet gjelder for   StartDate Dato for når abonnementet skal aktiveres (yyyy-MM-dd)   ExpirationDate Dato for når abonnementet opphører (yyyy-MM-dd)   NextScheduledDate Dato for når abonnementet skal instansieres neste gang (yyyy-MM-dd). Første dato settes av tjenesteeier, neste kalkuleres av runtiejobb i Altinn (basert på periodetype)   NextDueDate Dato for når abonnementet/innsendingstjenesten må være fylt ut av bruker i portal/sluttbrukersystem (yyyy-MM-dd). Første dato settes av tjenesteeier, neste kalkuleres av runtiejobb i Altinn (basert på periodetype)   VisibleDate Dato for når skjemasett som abonnementet gjelder skal være synlig i portal/for sluttbrukersystemer (yyyy-MM-dd)   PeriodType Angir hvor ofte et abonnement skal instansieres. Mulige periodetyper: Annual - årlig, Semiannual - to ganger årlig, Quarterly - tre ganger årlig, Tertiary - fire ganger årlig, Bimonthly - annenhver måned, Monthly - hver måned, Fortnightly - hver 15. dag, Weekly - hver uke, Daily - hver dag, Once- abonnementet instansieres én gang   CaseId Unik identifikator for samhandlingstjenesten   ServiceOwner.Subscription.Reportee.FormTask.IdentifyingFields Overordnet element for identifiserende felter. IdentifyingFields-elementet kan inneholde identifiserende felter som sammen unikt identifisere et allerede innsendt preutfylte skjemasette som abonnenten skal benytte.   IdentifyingField Verdi for identifiserende felt, kan være slike felter per abonnement og må være de(t) samme som finnes på et allerede innsendt preutfylt skjemasett for abonnenten    Melding Meldinger som skal vises til bruker i portal/sluttbrukersystem sendes fra tjenesteeier til Altinn. Åpne– og lesebekreftelser sendes tilbake fra Altinn til tjenesteeier når bekreftelse(r) er mottatt fra portal/sluttbrukersystem.\nMelding fra tjenesteeier til Altinn Meldingsdata som består av store mengder data skal benytte batch-grensesnittet. Batch-grensesnittet kan også benyttes av tjenesteeiere som ikke ønsker å benytte web service-grensesnittet. Alternative protokoller som benyttes i Altinn-løsningen i dag er FTP og SFTP. En meldingstjeneste må være definert i tjenesteutviklingsløsningen og migrert til sluttbrukerløsningen før en tjenesteeier kan sende inn meldingsdata for tjenesten via dette grensesnittet.\nVed bruk av FTP/SFTP mottar Altinn fil fra tjenesteeier. Opplysninger om FTP adresse, pålogging og frekvens må avtales før valgt kommunikasjonsmåte kan aktiviseres. Dersom Altinn skal hente hos tjenesteeier må tjenesteeier se til at angitt FTP område til enhver tid er tilgjengelig for Altinn.\nDet finnes to batch grensesnitt for registrering av meldinger:\n Correspondence Format skreddersydd for siste versjon av Altinn. Oppdateres etter hvert som Altinn videreutvikles. Skal benyttes av alle nye tjenesteeiere. Altut Format fra tidligere versjon av Altinn, tilbys kun for bakoverkompatibilitet for eksisterende tjenesteeiere, og det vil ikke bli oppdatert etter hvert som Altinn videreutvikles. Det inneholder elementer som ikke lenger er i bruk i Altinn, og enkelte elementer har fått ny funksjonalitet som betyr at eksisterende grensesnitt må endres. Siste versjon av Altinn har funksjonalitet som ikke støttes av Altut formatet.  En kvittering for forsendelsen genereres når forsendelsen er ferdig prosessert i Altinn. Tjenesteeier kan hente ut kvitteringene basert på ShipmentReference/SendersReference som ble oppgitt i meldingsformatet.\nCorrespondence format Meldinger som sendes til Altinn fra tjenesteeier i form av eb batch må være i henhold til schemas.altinn.no.services.intermediary.correspondence.2016.02.xsd. Xsd’en ligger som et separat vedlegg til dette dokumentet. Det er verd å merke seg at namespace til schema er \u0026ldquo;http://schemas.altinn.no/services/intermediary/correspondence/2009/10\u0026quot;.\nThe data in a batch file should have the same strukture, the same element names and functionality as the latest InsertCorrespondence service, but the batch file will be validated with the XSD.\nTabellen under beskriver elementer og attributter relevante for meldinger:\n   Element Beskrivelse     Correspondences Rot-element   SystemUserCode Forkortelsen for tjenesteeieres navn (XXX-XXX, for eksempel ABC-123), der tre første tegn representerer tjenesteeier og tre siste tegn representerer en avdeling innad hos tjenesteeier. Kun de tre første tegnene er obligatoriske dersom det ikke finnes flere systemer/avdelinger innenfor samme tjenesteeier   ShipmentReference Unik referanse som settes av tjenesteeier for å identifisere forsendelsen   SequenceNo Sekvensnummer for forsendelsen. Dersom dette settes må sekvensnummeret være ett nummer høyere enn det forrige sekvensnummeret på meldingsforsendelse for denne tjenesteeieren. I motsatt fall vil forsendelsen avvises i Altinn   Correspondences.Correspondence Correspondence-elementet inneholder ett Correspondence-element per melding   ServiceCode Angir den tjenestekoden som meldingen gjelder for   ServiceEdition Angir tjenesteutgavekoden som meldingen gjelder for   SendersReference Referanse for meldingen i forsendelsen som settes av tjenesteeier, bør være unikt   Reportee Unik identifikator (fødselsnummer eller organisasjonsnummer) for avgiver som skal motta meldingen   Correspondences.Correspondence.Content Inneholder meldingsinnhold, samt eventuelle vedlegg, for meldingen   LanguageCode Språk for melding: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   MessageTitle Meldingstittel, som vil vises i portal   MessageSummary En kort beskrivelse av meldingen   MessageBody Meldingstekst   Correspondences.Correspondence.Content.Attachments Dette elementet inneholder eventuelle vedlegg tilmeldingen   Correspondences.Correspondence.Content.Attachments.BinaryAttachments Dette elementet inneholder eventuelle binære vedlegg for meldingen   Correspondences.Correspondence.Content.Attachments.BinaryAttachments.BinaryAttachment Inneholder detaljer for ett binært vedlegg   FileName Filnavn for det binære vedlegget   Name Dette er navnet på vedlegget, som det vises i portalen   Encrypted Sier om vedlegget er kryptert. \u0026ldquo;Y\u0026rdquo; (ja) eller ikke \u0026ldquo;N\u0026rdquo; (nei)   Data Data for det binære vedlegget (Base64 kodet)   SendersReference Referanse for vedlegget. Settes av tjenesteeier, bør være unikt   FunctionType Hvilken funksjonstype vedlegget utgjør: Invoice - Faktura, Unspecified - Uspesifisert   AttachmentType Angir MIME-typen for vedlegget (obligatorisk): application_none - ingen MIME type angitt, application_pdf - PDF format, application_msword, Microsoft Word, application_vnd_ms_excel - Microsoft Excel, application_vns_oasis_opendocument_text - Open document (type Text), application_vnd_oasis_opendocument_presentation - Open docment (type Presentation), application_vnd_oasis_opendocument_spreadsheet - Open docment (type Spreadsheet),application_rtf - Rich text format type, application_vnd_ms_powerpoint - Microsoft PowerPoint, application_postscript, application_zip - Type zip, text_plain, text_html, text_xml, text_rtf - Rich text format type, text_richtext - Rich text, binary_octet_stream- Binary format, not_Applicable   DestinationType Hvor vedlegget er tilgjengelig: Default/ShowToAll – tilgjengelig i portal og for sluttbrukersystem, PortalOnly – kun tilgjengelig fra portal, EndUserSystemOnly – kun tilgjengelig fra sluttbrukersystem   Correspondences.Correspondence.Content.Attachments.XmlAttachments Dette elementet inneholder eventuelle XML-vedlegg for meldingen   Correspondences.Correspondence.Content.Attachments.XmlAttachments.XmlAttachment Inneholder detaljer for ett XML-vedlegg. Benyttes hvis det er definert at i TUL at melding skal vises i Infopath skjema. Infopath-skjema må være utviklet som en del av Meldingstjenesten i TUL   SendersReference Referanse for vedlegget. Settes av tjenesteeier, bør være unikt   DataFormatId Id til skjema fra metadata kilde   DataFormatVersion Versjon til skjema fra metadata kilde   FormDataXml Innhold i xml vedlegget. Må legges i en CDATA blokk   Correspondences.Correspondence Forts.   VisibleDateTime Angir når meldingen skal være synlig for sluttbruker i portalen (yyyy-MM-dd)   AllowSystemDeleteDate Angir om meldingen skal kunne slettes av sletterutiner i Altinn.   DueDateTime Angir frist for å bekrefte melding (dersom meldingen må bekreftes)   ArchiveReference Referanse til element i arkiv (dersom en slik referanses finnes)   Correspondences.Correspondence.ReplyOptions Overordnet element som inneholder svaralternativer for meldingen   Correspondences.Correspondence.ReplyOptions.ReplyOption Element som inneholder ett svaralternativ   Correspondences.Correspondence.ReplyOptions.ReplyOption.Service Elementet benyttes hvis man kan svare vha. en tjeneste. Inneholder tjenesteinformasjon   ServiceCode Angir den tjenestekoden for svarmeldingen   ServiceEdition Angir tjenesteutgavekoden for svarmeldingen   Correspondences.Correspondence.ReplyOptions.ReplyOption.ArchiveReference Elementet benyttes hvis man kan svare vha. et arkivert element. Referanse til element i arkiv   Correspondences.Correspondence.ReplyOptions.ReplyOption.Url Elementet benyttes hvis man kan svare vha. en svarlenke   LinkText Tekst til lenken i meldingen   LinkUrl URL til lenke i meldingen   Correspondences.Correspondence Forts.   Correspondences.Correspondence.Notifications Inneholder eventuelle varslinger for meldingen   Correspondences.Correspondence.Notifications.Notification Inneholder data for ett varsel for meldingen   FromAddress Denne adressen vil stå som avsender for varselet. Hvis ikke satt vil avsenderadresse satt i malen benyttes   ShipmentDateTime Tidspunkt for når varselet skal sendes   LanguageCode Angir språk for varselet: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   NotificationType I hvilken sammenheng varselet skal sendes: Correspondence - Varsel for mottatt melding, Prefill - Varsel for mottatt preutfylt tjeneste/skjema, Pin - Varsel for mottatt pinkode, General - Generell varsel   Correspondences.Correspondence.Notifications.Notification.TextTokens Liste av tekster som skal erstatte maltekster i varselmal   Correspondences.Correspondence.Notifications.Notification.TextTokens.TextToken Element som inneholder tekster som skal erstatte maltekster i meldingsmaler   TokenNum Ikke i bruk, kan utelates   TokenValue Tekst som skal ersatte maltekst. Substitusajonen gjøres i samme rekkefølge som parameterene er angitt. Varselmal må bestilles og lages på forhånd   Correspondences.Correspondence.Notifications.Notification.ReceiverEndPoints Angir mottakere av varselet   Correspondences.Correspondence.Notifications.Notification.ReceiverEndPoints.ReceiverEndPoint Angir en mottaker for et varsel   TransportType Angir om varsel skal sendes som epost eller SMS. Lovlige verdier er: SMS - Altinn vil sende varsel som SMS hvis det er oppgitt et mobilnummer i ReceiverAddress eller avgiver har registrert et eller flere mobilnummer. Hvis avgiver er en organisasjon vil det sendes varsel til alle registrerte mobilnummer.Email - Fungerer på samme måte som SMS, men med epost som kanal.Both - Altinn vil sende varsel både som epost og SMS om mulig. Hvis avgiver kun har registrert en epostadresse vil det sendes varsel som epost. Tilsvarende for mobilnummer. En organisasjon vil få varsel på alle registrerte varslingsadresser.SMSPreferred - Altinn vil sende varsel som SMS hvis avgiver har registrert et mobilnummer. Hvis avgiver ikke har registrert dette vil det isteden bli sendt varsel som epost. Forutsatt at det finnes en registrert epostadresse. En organisasjon vil bli sendt varsel på alle varslingsadresser av riktig type.EmailPreferred - Fungerer på samme måte som SMSPreferred, men med epost som kanal.   ReceiverAddress Mobilnummeret eller epostadressen til mottaker av varsel. Dette må passe med TransportType Email eller SMS. Feltet er valgfritt og hvis feltet er tomt vil Altinn forsøke identifisere riktige mottakere basert på avgiver og TransportType. Feltet må være tomt for TransportType Both, SMSPreferred og EmailPreferred.   Correspondences.Correspondence Forts.   AllowForwarding Angir om meldingen skal kunne videresendes av bruker i portalen   CaseId Unik identifikator for samhandlingstjenesten    Altut format Meldinger som sendes til Altinn fra tjenesteeier må være i henhold til AltUt.xsd. Dette ble etablert i en tidligere versjon av Altinn.\n   Element Beskrivelse     GovOrgan Rotnode i AltUt xml   name Kode som unikt representerer kildesystem, f.eks. \u0026ldquo;ABC-123\u0026rdquo;. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier   GovOrgan.AltUt Overordnet element   sequenceno Sekvensnummer for forsendelsen. Dersom dette settes må sekvensnummeret være ett nummer høyere enn det forrige sekvensnummeret på meldingsforsendelse for denne tjenesteeieren. I motsatt fall vil forsendelsen avvises i Altinn   GovOrgan.AltUt .Message Starten på en Altut melding   shortName Angir hvilken tjeneste meldingen tilhører. Format: xxxxxx_yyyyyy, hvor \u0026ldquo;xxxxxx\u0026rdquo; angir tjenestekode, mens \u0026ldquo;yyyyyy\u0026rdquo; angir tjenesteutgavekode. Denne sendes tilbake i kvitteringsbatchen til den offentlige enheten. OBS! Dette feltet ble tidligere brukt som meldingsidentifikator, f.eks. \u0026ldquo;Skatteoppgjør 2007\u0026rdquo;. Dette er erstattet med tjenesteinformasjon som nevnt ovenfor   messageReference En unik meldingsreferanse innenfor et shortname. Må angis for at tjenesteeier skal kunne motta meldingsbekreftelser   viewFormat Mappes ikke til AltinnII   allowDelete Mappes ikke til AltinnII   persistent Mappes ikke til AltinnII   GovOrgan.AltUt .Message.RoleReqRead Informasjonen hentes fra TUL   GovOrgan.AltUt .Message.RoleReqDeleteConfirm Informasjonen hentes fra TUL i AltinnII   GovOrgan.AltUt .Message.RoleReqGovAgency Informasjonen hentes fra TUL i AltinnII   GovOrgan.AltUt .Message.Sender Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Sender.Name Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Participant Overordnet element   id Organisasjonsnummer/fødselsnummer til den som skal ha meldingen   GovOrgan.AltUt .Message.Participant.VisibleDate Dato for når meldingen skal være synlig for brukeren i portalen   GovOrgan.AltUt .Message.Participant.DueDate Fristen for når melding må bekreftes   GovOrgan.AltUt .Message.Participant.AltinnArchive Arkivreferansen til et Altinn skjema. Denne kan for eksempel brukes hvis AltUt meldingen er et svar/oppfølging til et skjema som tidligere er sendt inn i Altinn   GovOrgan.AltUt .Message.Participant.LoginSecurityLevel Mappes ikke til AltinnII. Hentes fra pålogging   GovOrgan.AltUt .Message.Participant.AllowUserDeleteDate Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Participant.AllowSystemDeleteDate Datoen for når Altinn kan slette meldingen (sanering)   GovOrgan.AltUt .Message.Participant.VisibleInClientReport Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Participant.RequireConfirmation Mappes ikke til AltinnII. Dette settes i TUL   GovOrgan.AltUt .Message.Participant.Year Året meldingen skal assosieres med Altinn. Benyttes bl.a. for selvangivelsen   GovOrgan.AltUt .Message.Participant.MunicipalNumber Kommunenummeret meldingen skal assosieres med Altinn. Benyttes bl.a. for selvangivelsen   GovOrgan.AltUt .Message.Participant.Content Selv innholdet til AltUt meldingen. Må legges i en CDATA blokk   languageCode Språkkoden til meldingen: 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   GovOrgan.AltUt .Message.Participant.Content.MessageHeader Settes i TUL   GovOrgan.AltUt .Message.Participant.Content.MessageSubject Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Participant.Content.MessageSummery Sammendrag av meldingen(e). Denne vises i sammendragfeltet for meldingen i AltUt vinduet   GovOrgan.AltUt .Message.Participant.Content.Invoice Mappes ikke til AltinnII   GovOrgan.AltUt .Message.Participant.Content.Attachments Inneholder evt. vedlegg   GovOrgan.AltUt .Message.Participant.Content.Attachments.Attachment Inneholder informasjon om ett vedlegg, Base64 kodet   id En unik id innenfor gruppen med vedlegg. Den lagres ikke men må eksistere for bakover kompatibilitet   functionType Felt for å spesifisere hvilken funksjon et vedlegg har: Invoice - Faktura, Unspecified - Uspesifisert   type MIME typen til vedlegget: application_none - ingen MIME type angitt, application_pdf - PDF format, application_msword - Microsoft Word, application_vnd_ms_excel - Microsoft Excel, application_vns_oasis_opendocument_text - Open document (type Text), application_vnd_oasis_opendocument_presentation - Open docment (type Presentation), application_vnd_oasis_opendocument_spreadsheet - Open docment (type Spreadsheet), application_rtf - Rich text format type, application_vnd_ms_powerpoint - Microsoft PowerPoint, application_postscript, application_zip -Type zip, text_plain, text_html, text_xml, text_rtf - Rich text format type, text_richtext - Rich text, binary_octet_stream - Binary format, not_Applicable   filename Filnavnet til vedlegget   name Navnet til vedlegget. Denne brukes som navn på linken til filvedlegget i portalen   GovOrgan.AltUt .Message.Participant.Content.HTML Hvis innholdet skal presenters i HTML legges det her.   GovOrgan.AltUt .Message.NotificationMessages Inneholder evt. varsler   NotificationTypeName En unik streng som definerer en referanse til predefinerte varslingstekster.   GovOrgan.AltUt .Message.NotificationMessages.NotificationMessage Inneholder informasjon om ett varsel   participantId Fødselsnummer til mottaker av varselet   GovOrgan.AltUt .Message.NotificationMessages.NotificationMessage.SMSPhoneNumbers Telefonnummeret det skal sendes varsler til, kan være flere   GovOrgan.AltUt .Message.NotificationMessages.NotificationMessage.SMSPhoneNumbers.SMSPhoneNumber Telefonnummeret til den som skal ha varsling på SMS   GovOrgan.AltUt .Message.NotificationMessages.NotificationMessage.EmailAddresses Adressen det skal sendes mailvarsler til, kan være flere   GovOrgan.AltUt .Message.NotificationMessages.NotificationMessage. EmailAddresses.EmailAddress Emailadressen til den som skal ha varsling   GovOrgan.AltUt .Message.ReplyMessages Overordnet element for svaralternativer   GovOrgan.AltUt .Message.ReplyMessages.ReplyMessage Element for ett svaralternativ   GovOrgan.AltUt .Message.ReplyMessages.ReplyMessage.Form Mappes ikke til AltinnII. Vil ikke kunne referere til AltinnI-tjenester fra AltinnII. I stedet for skjemanummer brukes ServiceCode   formNumber Mappes ikke til AltinnII   version Mappes ikke til AltinnII   GovOrgan.AltUt .Message.ReplyMessages.ReplyMessage.Form.ServiceCode Tjenestekoden og tjenesteutgavekoden til en service som AltinnII tilbyr, underscore mellom de to verdiene. Format: Tjenestekode_tjenesteutgavekode   GovOrgan.AltUt .Message.ReplyMessages.ReplyMessage.Form.ServiceURL Mappes ikke til AltinnII. Angis i stedet som lenke i meldingen (body)   GovOrgan.AltUt .Message.ReplyMessages.ReplyMessage.Form.ArchiveReference Arkivreferansen til et skjema. Den offentlige enheten kan be brukeren om at et skjema fra arkiv skal kopieres, aktiviseres og sendes inn på nytt med tilleggsinformasjon.NB: Betinger at det er mulig å aktivisere skjemaet fra sluttbrukerens meldingsboks    Meldingsbekreftelse fra Altinn til tjenesteeier Correspondence For at tjenesteeiere skal kunne vite om meldinger er lest og evt. bekreftet av mottaker leverer Altinn regelmessig informasjon om dette til de enkelte tjenesteeiere. Tjenesteeiere som benytter nytt grensesnitt for innsending av meldinger til Altinn, vil også få bekreftelser tilsendt på nytt format. Informasjonen leveres i batcher på FTP/SFTP protokoll, og xml formatet på filen er i henhold til schemas.altinn.no.services.intermediary.correspondence.confirmations.2009.10.xml.\nTjenesteeier må etablere FTP/SFTP område som Altinn kan aksessere vha. avtalt brukernavn og passord.\nBekreftelsene som sendes til tjenesteeier fra Altinn er i henhold til correspondence.confirmations.2010.10.xsd formatet. Xsd’en ligger som et separat vedlegg til dette dokumentet.\nNår data sendes ut fra Altinn lages en kvittering i Altinn som forteller at data er sendt til tjenesteeier.\nTabellen under beskriver elementer og attributter relevante for meldingsbekreftelser:\n   Element Beskrivelse     CorrespondenceConfirmations Rot element for rapport over leste og bekreftede meldinger i Altinn siden forrige batch   SequenceNo Sekvensnummer for denne forsendelsen (valgfritt). Hvis satt må verdien være ett nummer høyere enn sekvensnummeret ved forrige forsendelse. Hvis ikke verdien er økt med 1vil forsendelsen feile   PreviousSequenceNo Sekvensnummer for forrige forsendelse (valgfritt, men må med hvis SequenceNo er satt)   SystemUserCode Kode som representerer en system bruker, f.eks. SKD-PSA, hvor de tre første tegnene angir tjenesteeier (påkrevd) og de etter understreken representerer avdeling/system hos tjenesteeieren (valgfritt)   ShipmentDateTime Dato som forteller når meldingsbekreftelsen ble sendt   CountConfirmationsInShipment Antall bekreftelser i forsendelsen   CorrespondenceConfirmations.Confirmation En lest/godkjent melding   ServiceCode Angir den unike tjenestekoden., f.eks. \u0026ldquo;PSA\u0026rdquo;   ServiceEdition Tjenesteutgavekode, f.eks. \u0026ldquo;2009\u0026rdquo; (valgfritt). Hvis det ikke settes vil siste utgave benyttes   Reportee Fødselsnummer til bruker som har bekreftet melding   CorrespondenceReference Tjenesteeiers referanse på meldingen   CorrespondenceConfirmations.Confirmation.Read Bekreftelse på at melding er åpnet/lest   ReadDateTime Tidspunkt for når melding ble bekreftet lest   CorrespondenceConfirmations.Confirmation.Confirmed Beskjed om at bruker har bekreftet meldingen   UserSSN Brukerens fødselsnummer   ConfirmedDateTime Bekreftings tidspunkt   ConfirmedRoleList Brukerens rolleliste på godkjennings tidspunktet   AuthenticationMethod Brukerens login nivå ved godkjenning    AltUtConfirmationBatch For at tjenesteeiere skal kunne vite om meldinger er lest og evt. bekreftet av mottaker leverer Altinn regelmessig informasjon om dette til de enkelte tjenesteeiere. Tjenesteeiere som benytter gammelt grensesnitt for innsending av meldinger til Altinn (AltUt.xsd), vil også få bekreftelser tilsendt på gammelt format. Informasjonen leveres i batcher på FTP/SFTP protokoll, og xml formatet på filen er i henhold til AltUtConfirmationBatch.xsd\nTjenesteeier må etablere FTP/SFTP område som Altinn kan aksessere vha. avtalt brukernavn og passord.\nNår data sendes ut fra Altinn lages en kvittering i Altinn som forteller at data er sendt til tjenesteeier.\n   Element Beskrivelse     AltUtConfirmationBatch Rot note. Rapport over leste og bekreftede meldinger i Altinn siden forrige batch   batchReference Referansenummeret til batchen   previousReference Referansenummeret til den forrige batchen som ble sendt   receiverReference Tjenesteeiersystemet som mottar bekreftelsene   timestamp Tidsstempelet når batchen ble generert   confirmationsInBatch Antall confirmations som finnes i batchen   AltUtConfirmationBatch.AltUtConfirmations Samling av lest/bekreftet elementer   AltUtConfirmationBatch.AltUtConfirmations.Confirmation En lest/godkjent Altut melding   participantId Organisasjonsnummer/fødselsnummer til den som meldingen ble sendt inn til   shortName Som for AltUt meldingen benyttes dette feltet til tjenestekode og tjenesteutgavekode. Format xxxxxx_yyyyyy, hvor \u0026ldquo;xxxxxx\u0026rdquo; angir tjenestekode, mens \u0026ldquo;yyyyyy\u0026rdquo; angir tjenesteutgavekode.   messageReference Kan benyttes til å unikt referere en melding innenfor samme shortName   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Read Informasjon om lesing av den aktuelle Altut meldingen   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Read .ReadDateTime Tidsstempel for når meldingen er lest   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Confirmed Informasjon om bekrefting av den aktuelle Altut meldingen   participantId Fødselsnummeret til første personen som har bekreftet meldingen   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Confirmed ConfirmedDateTime Tidsstempel for når meldingen er bekreftet   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Confirmed ConfirmationRoleList Space-separert liste med rollene som brukeren som bekreftet meldingen har   AltUtConfirmationBatch.AltUtConfirmations.Confirmation.Confirmed.LoginMethod Innloggingsnivået som en brukeren hadde da vedkommende bekreftet meldingen. Denne kan være: 1 - Innlogging med bare passord, 2 - Innlogging med pinkode, 4 - Innlogging med PKI.   AltUtConfirmationBatch.Signature Element som inneholder signaturinformasjon. Elementet er ikke obligatorisk, og er ikke i bruk    CorrespondenceUsageData Tjenesteeier vil kunne definere i tjenesteutviklingen av en meldingstjeneste å motta en rapport over ikke leste, leste og bekreftede meldinger etter et gitt antall dager etter at meldingen er sendt ut. Informasjonen kan konfigureres til å overleveres via FTP/SFTP ved enten at Altinn leverer til tjenesteeier, eller at tjenesteeier henter fra Altinn.\nFølgende er et eksempel på formatet informasjonen vil bli levert på:\nCorrespondenceUsageData\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34; ?\u0026gt; \u0026lt;CorrespondenceUsageData xmlns=\u0026#34;http://schemas.altinn.no/services/intermediary/correspondence/usagedata/2009/10\u0026#34;\u0026gt; \u0026lt;ShipmentDateTime\u0026gt;2010-08-26T08:02:11\u0026lt;/ShipmentDateTime\u0026gt; \u0026lt;CorrespondenceUsage\u0026gt; \u0026lt;Service\u0026gt; \u0026lt;ServiceOwnerCode\u0026gt;SERVICEOWNER\u0026lt;/ServiceOwnerCode\u0026gt; \u0026lt;ServiceName\u0026gt;Service Name\u0026lt;/ServiceName\u0026gt; \u0026lt;ServiceEdition\u0026gt; \u0026lt;ServiceEditionID\u0026gt;xxxx\u0026lt;/ServiceEditionID\u0026gt; \u0026lt;ServiceEditionVersion\u0026gt; \u0026lt;ServiceEditionVersionName\u0026gt;ABC\u0026lt;/ServiceEditionVersionName\u0026gt; \u0026lt;Correspondence\u0026gt; \u0026lt;ReporteeID\u0026gt;[SSN/ORG]\u0026lt;/ReporteeID\u0026gt; \u0026lt;CorrespondenceStatusType\u0026gt;[Status]\u0026lt;/CorrespondenceStatusType\u0026gt; \u0026lt;SentCorrespondenceDatetime\u0026gt;[Time]\u0026lt;/SentCorrespondenceDatetime\u0026gt; \u0026lt;/Correspondence\u0026gt; \u0026lt;Correspondence\u0026gt;...\u0026lt;/Correspondence\u0026gt; \u0026lt;/ServiceEditionVersion\u0026gt; \u0026lt;/ServiceEdition\u0026gt; \u0026lt;/Service\u0026gt; \u0026lt;Service\u0026gt;...\u0026lt;/Service\u0026gt; \u0026lt;/CorrespondenceUsage\u0026gt; \u0026lt;/CorrespondenceUsageData\u0026gt; "
},
{
	"uri": "https://altinn.github.io/docs/tul/diverse/",
	"title": "Diverse",
	"tags": [],
	"description": "Mindre ofte brukt funksjonalitet i TUL.",
	"content": "\rAdministrators oppgaver\rOppgaver for administrator fra den enkelte tjenesteeier.\n\r\rBegrepsliste for TUL\rListe over mye brukte begreper i tjenesteutviklingsløsningen (TUL).\n\r\rEkstern stil\rFunksjonalitet som gjør det mulig å presentere Altinn-tjenester uten at Altinns visuelle profil er synlig.\n\r\rEnhetstest\rDet å verifisere enkeltdeler av en tjenesteutgave hver for seg.\n\r\rSlette tjeneste og utgave\rDet er mulig å slette en tjeneste eller en tjenesteutgave fra TUL dersom du skulle ønske det.\n\r\rSøk på tjenesteutgaver for gitt overføringsmetode\rSøkeside hvor tjenesteeier kan søke på utgaver som benytter gitt overføringsmetode ved innsending\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/prosjekter/helt/",
	"title": "Helt og Fufinn",
	"tags": [],
	"description": "",
	"content": "HELT og Fufinn er to tiltak som begge krever endringer i Altinn autorisasjon for å realiseres. Grunnlaget for disse finner du i produktstrategien for Altinn Autorisasjon\nHELT HELT er et satningstiltak hvor vi skal videreutvikle Altinns autorisasjonskomponent til å bli et autorisasjonsnav for offentlige virksomheter, forenkle tilgangsstyring for næringslivet samt legge til rette for utvidet bruk av samtykkefunksjonaliteten. Tiltaket omfatter også å etablere basis fellesfunksjonalitet for en fullmaktsløsning for innbyggere (Fufinn).\nTiltaket avsluttes juni 2021\nMålsetning for HELT er: ​  Mer robust og fleksibel samtykke- og fullmaktsløsning.​ Forenklet og smartere brukerdialog​ Erstatte roller med brukerorienterte oppgaver og tilgangsstruktur som begrenser innsyn​ Ta i bruk flere autorisasjonskilder​ Tilgangsstyring til nye autorisasjonsressurser (eksterne)​ Bedre tilrettelegging av API for sluttbruker og tjenesteeier​ Øke kapasitet, ytelse og levetid på dagens autorisasjonkomponent​  Fufinn - fullmaktsløsning for innbyggere Fufinn handler overordnet om behovet for å kunne sørge for en digital, sikker og effektiv kommunikasjon og mellom forvaltningen og innbygger som ivaretar nødvendig rettsikkerhet og personvern - både for innbyggere som representerer seg selv og for dem som representeres av andre.\nFellesfunksjonaliteten for fullmaktsløsningen er lagt til Altinns autorisasjonskomponent, og løsningen skal i stor grad benytte\nseg av funksjonalitet som allerede er utviklet eller som er under utvikling som del av HELT-prosjektet. Dette gjelder bl. a. funksjonalitet for samtykke til deling av egne data, integrasjon med advokatregister, vergemål og nytt folkeregister,\nmulighet for å velge hvem man representerer, funksjonalitet for å be om rettighet/tilgang og oversikt over rettigheter.\nDu kan lese mer om HELT og Fufinn her\n"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/rest/autorisasjon/tilgangsforesporsler/",
	"title": "Opprett tilgangsforespørsler for en eller flere tjenester",
	"tags": [],
	"description": "",
	"content": "Denne siden beskriver hvordan man kan opprette, hente ut og slette en \u0026ldquo;Be om tilgang\u0026rdquo;-forespørsel som inneholder tjenesteeiers tjenester via REST API.\nFra versjon 20.4 ble det mulig for tjenesteeier å opprette en \u0026ldquo;Be om tilgang\u0026rdquo;-forespørsel som inneholder en eller tjenester eid av tjenesteeier via REST API.\nDetaljert beskrivelse Konseptet \u0026ldquo;Be om tilgang\u0026rdquo; ble i slutten av 2019 lansert i Altinn. I første omgang ble dette lansert som en funksjonalitet i portalen, hvor en person som manglet tilstrekkelige rettigheter for å instansiere en tjeneste, ble møtt med en \u0026ldquo;Be om tilgangs\u0026rdquo;-knapp. Ved å trykke på denne, ble brukeren sendt til \u0026ldquo;Be om tilgang\u0026rdquo;-siden hvor h*n kunne opprette en tilgangssforespørsel for den aktuelle tjenesten. Denne forespørselen ble så sendt til tilgangsstyrer for den aktuelle aktøren.\nNytt i denne funksjonaliteten er at tjenesteeier nå har mulighet for å opprette en \u0026ldquo;Be om tilgang\u0026rdquo;-forespørsel via REST-api på vegne av brukeren. Den aktuelle brukeren må likevel innom \u0026ldquo;Be om tilgang\u0026rdquo;-siden for å \u0026ldquo;sende\u0026rdquo; denne forespørselen videre til tilgangsstyrer. Dette kan nå gjøres ved å laste denne siden ved hjelp av en GUID som tjenesteeier får tilbake når en tilgangssforespørsel er opprettet.\nFor å eksemplifisere dette har vi følgende scenario: Caset omhandler eksterne portaler hvor sluttbrukere agerer på vegne av andre enn seg selv, og hvor portal-eier ønsker å tilgangsstyre individuelle moduler via rettigheter i Altinn. Dette kan illustreres på følgende vis:\n Bruker logger inn i ekstern portal hos tjenesteeier Bruker velger å representere sin \u0026ldquo;virksomhet\u0026rdquo;, og navigerer til en vilkårlig modul Bruker er ikke delegert noen rettigheter i Altinn, og får feilmelding om manglende tilgang, samt knapp med \u0026ldquo;Be om tilgang\u0026rdquo; Bruker trykker \u0026ldquo;Be om tilgang\u0026rdquo; Tjenesteeier oppretter tilgangsforespørsel på brukerens vegne via tjenesteeier-API for den aktuelle tjenesten, og mottar en GUID som retur Tjenesteeier redirecter bruker til Altinn til URL (basert på guid) med forhåndstutfylt \u0026ldquo;be om tilgang\u0026rdquo;-forespørsel (denne forespørselen kan ikke endres) Bruker kan legge ved valgfri tekst (\u0026ldquo;RequestMessage\u0026rdquo;), og velge hvem h*n vil sende et varsel til via E-post. Bruker får kvittering på at forespørsel er sendt i Altinn. Klikker \u0026ldquo;Fortsett\u0026rdquo;, og blir tatt til URL oppgitt i trinn 5.  Tekniske detaljer De utfyllende tekniske detaljene finnes under API-dokumentasjonen på altinn.no\nAPI GET serviceowner/delegationRequests dokumentasjon\nGET serviceowner/delegationRequests/{id} dokumentasjon\nPOST serviceowner/delegationRequests dokumentasjon\nDELETE serviceowner/delegationRequests/{id} dokumentasjon\nContinuation token Det er veldig mange tilgangsforepørsler i Altinn og av ytelseshensyn er det derfor anbefalt å bruke continuation parameteret ved gjentatte kall. Les mer her:\nHvordan bruke continuation token i Altinn\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/configuration/settings/",
	"title": "Settings og miljøvariabler",
	"tags": [],
	"description": "Hvordan legge inn konfigurasjon- og miljøspesifikke verdier slik at de er tilgjengelig fra app-koden.",
	"content": "Standard .NET konfigurasjon Altinn 3 sin App template baserer seg på en ASP.Net Core applikasjon og har med dette en rekke muligheter for å styre konfigurasjon av en App. Denne dokumentasjonen er derfor i stor grad utdrag fra eller linker til Microsoft sin egen dokumentasjon. Det er derimot ikke alt som er mulig i en App da det er litt begrenset hva Altinn 3 gir av tilganger til miljøet en App kjører i.\nappsettings.json Første og enkleste kilde til konfigurasjonsinformasjon er appsettings filene. En hver ny app som blir laget vil komme med en eksisterende appsettings.json fil. Denne filen blir lest inn av en App under oppstart uavhengig av hvilke miljø Appen kjører i. Det vil si at den bør inneholde standarinnstillinger og innstillinger som er lik i alle miljøer. Filen har allerede en del innstillinger som er i bruk og verdiene er i stor grad beregnet for et utviklingsmiljø hvor man kjører LocalTest.\nI appsettings.json filene organiseres verdier i ulike seksjoner. Det anbefales å ikke legge til nye verdier i de eksisterende seksjonene, men isteden lage nye seksjoner. Følgende seksjoner er reservert for å unngå kollisjoner: Kestrel, AppSettings, GeneralSettings, PlatformSettings, PEPSettings, ApplicationInsights, kvSettings.\n{ \u0026#34;ExampleSection\u0026#34;: { \u0026#34;ExampleValue\u0026#34;: \u0026#34;Verdi lest inn i alle miljøer, men kanskje overstyrt av miljøspesifikke kilder\u0026#34; }, \u0026#34;AppSettings\u0026#34;: { ... }, \u0026#34;GeneralSettings\u0026#34;: { ... }, \u0026#34;PlatformSettings\u0026#34;: { \u0026#34;ApiStorageEndpoint\u0026#34;: \u0026#34;http://localhost:5101/storage/api/v1/\u0026#34;, \u0026#34;ApiRegisterEndpoint\u0026#34;: \u0026#34;http://localhost:5101/register/api/v1/\u0026#34;, ... }, \u0026#34;ApplicationInsights\u0026#34;: { \u0026#34;InstrumentationKey\u0026#34;: \u0026#34;retrieved from environment at runtime\u0026#34; } } I fremtiden vil en ny App få med en egen seksjon som det skal være enkelt å utvide. I mellomtiden refereres det til Microsoft sin dokumentasjon for hvordan dette kan gjøres.\nMiljøspesifikke appsettings En ny app vil også inneholde et set med miljøspesifikke appsettings filer: appsettings.Development.json, appsettings.Staging.json og appsettings.Production.json. Disse filene blir lest inn kun i det aktuelle miljøet. TT02-miljøet er definert som Staging og produksjonsmiljøet er definert som Production.\nHver fil skal altså ha verdier som er unike eller anderledes i minst ett annet miljø. Et eksempel på en type verdi som kan variere fra miljø til miljø er \u0026ldquo;timeout\u0026rdquo; verdier. Hvis man ønsker at en App skal vente lengre på respons fra et eksternt API under utvikling enn det man ønsker å tillate i produksjon.\nappsettings.Development.json { \u0026#34;ExampleSection\u0026#34;: { \u0026#34;ExampleValue\u0026#34;: \u0026#34;Verdi lest inn kun for utviklingsmiljø\u0026#34; } } appsettings.Staging.json { \u0026#34;ExampleSection\u0026#34;: { \u0026#34;ExampleValue\u0026#34;: \u0026#34;Verdi lest inn kun for TT02\u0026#34; } } appsettings.Production.json { \u0026#34;ExampleSection\u0026#34;: { \u0026#34;ExampleValue\u0026#34;: \u0026#34;Verdi lest inn kun for produksjon\u0026#34; } } Miljøvariabler Standard oppførsel til en ASP.Net applikasjon er å lese inn miljøvariabler. Dette gjøres også for en App, men det er ikke mulig for en Apputvikler å lage eller endre noen verdier per i dag. Altinn 3 mener at denne måten å styre miljøspesifikke verdier på dekkes av appsettings og KeyVault.\nKommandolinjeargumenter Det er teknisk mulig å overstyre alle andre data kilder ved hjelp av kommandolinjeargumenter. Det er derimot ikke mulig å bruke dette til å endre verdier fra et miljø til et annet.\nAzure KeyVault Hver applikasjonseier skal få tilgang til sitt eget Azure KeyVault for lagring av sensitive verdier. Altså verdier man ikke ønsker å ha synlig i kode eller konfigurasjonsfiler. Noen naturlig eksempler på dette er ting som brukernavn og passord for eksterne APIer en App skal benytte. Et sertifikat, privat nøkkel eller lignende.\nPer i dag blir ikke verdier fra KeyVault lest inn i konfigurasjonsstyringen av en App. Isteden må man benytte Secrets komponenten. Dette er dokumentert under hemmeligheter.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/testing/",
	"title": "Testing av apper",
	"tags": [],
	"description": "Applikasjoner (apper) kan testes i testmiljø, eller lokalt.",
	"content": "\rTest av app lokalt\rBeskrivelse av hvordan test av app lokalt på egen maskin kan gjøres\n\r\rTest app i testmiljø\rBeskrivelse av hvordan test i testmiljø kan utføres.\n\r\rAutentisering\rBeskrivelse av hvordan systemer og tjenesteeiere kan benytte Maskinporten eller ID-porten for å få tilgang til APIer i Altinn 3.\n\r\rManuell_ in the top navigation menu. 2. Select a test user from the list of available users.\r3. Choose to start a new instance, or to reuse an existing instance (if any are available).\rBy using an existing instance, data used in a previous instance can be re-used.\r![Test en app i Altinn Studio](runtime-test.gif \"Test en app i Altinn Studio\")\rThe following can be tested in Altinn Studio:\r- Layout/look of service\r- Client-side validations on data model\r- Dynamics (f.ex. hide/show)\r- Client-side API calls\r- Loading of code lists\rThe following needs to be tested in a complete test environment:\r- Server-side logic (validation/calculation)\r- Server-side API calls\rComplete test environments are currently not available. The documentation will be updated when it is possible to test a service in a test environment.\r--\r"
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/mappere/testing/",
	"title": "Testing",
	"tags": [],
	"description": "Beskrivelse av hvordan man tester mappere.",
	"content": "Testene til en mapper skrives i prosjektet Tests. Her ligger filen UnitTests.cs som skal inneholde alle filene.\nProsjektstrukturen er som vist under.\nTestene vil benyttes av Altinn for verifikasjon og kodegjennomgang før installasjon, så det er viktig at testene er dekkende for funksjonaliteten. De må også kunne kjøres i TUL slik at Altinn får verifisert at de kjører feilfritt.\nKoble seg til en mapper Når man skal skrive tester mot en mapper må disse ha en tjenestereferanse til den mapperen som skal testes, og derfor må referansen settes opp.\nEksempel på adressen som skal benyttes er vist her:\nhttp://localhost:8888/mapperservices/ttd/\nPort 8888 og mapperservices må benyttes på grunn av sikkerhetsrelaterte restriksjoner i Tjenesteutviklingsløsningen (TUL).\nSkrive tester En enhetstest er en test som kun tester en liten del eller en metode i applikasjonen. Man bør skrive så mange tester som mulig, for å sørge for at feil blir fanget opp. Når man har tester som feiler er det enkelt å se hvor i koden feilen ligger.\nMan bør teste:\n Input data. Test formatet på data som kommer fra brukere og at det er brukt riktige verdier (tall, string, spesialtegn, dato) Output data. Svar som blir sendt til brukeren, bør sjekkes. Null-verdier. Svar som blir sendt til brukeren bør ikke inneholde null verdier. Dette kan få koden til å feile. Dette gjelder spesielt for noder med undernoder i datastrukturen da utviklere ofte glemmer å håndtere nullverdier på slike steder. Sjekk om mapperen fanger opp \u0026ldquo;Exceptions\u0026rdquo;, og at brukerne får en forståelig og oversiktlig feilmelding. Man skal skrive positive og negative tester  Se også hvordan tester skrives i .NET-rammeverket.\nPositive tester Når man lager positive tester gir man systemet korrekte data å teste med. Dette tester såkalt «happy-path» der systemet får forventede data og da skal returnere gyldige svar.\nEksempel på en positiv test:\nusing System; using Microsoft.VisualStudio.TestTools.UnitTesting; using Tests.SvcRef; using System.Text; namespace Tests { [TestClass] public class UnitTests { [TestMethod] public void TestGetMidlertidigKjoeretillatelse() { using (var proxy = new MapperClient()) { var forespoersel = new TillatelseForespoersel() { Fnr = \u0026#34;16127378945\u0026#34; }; var respons = proxy.GetMidlertidigKjoeretillatelse(forespoersel); if (respons != null) { Assert.AreEqual(\u0026#34;Harry Hole\u0026#34;, respons.Tillatelse.Navn); Assert.IsTrue(respons.Tillatelse.Klasser.Contains(\u0026#34;A1 \u0026#34;)); Assert.IsTrue(respons.Tillatelse.Klasser.Contains(\u0026#34;A \u0026#34;)); Assert.IsTrue(respons.Tillatelse.Klasser.Contains(\u0026#34;B \u0026#34;)); Assert.AreEqual(\u0026#34;Veiveien 5\u0026#34;, respons.Tillatelse.Adresse.Lokasjon); Assert.AreEqual(9020, respons.Tillatelse.Adresse.Postnummer); Assert.AreEqual(\u0026#34;Tromsdalen\u0026#34;, respons.Tillatelse.Adresse.Poststed); Assert.AreEqual(\u0026#34;Pb 202, 9000, Tromsø\u0026#34;, respons.Tillatelse.Adresse.AnnenAddresse); } else throw new AssertFailedException(\u0026#34;Ingen midlertidig \u0026#34; + \u0026#34;kjøretillatelse funnet. Sjekk om ekstern web service er \u0026#34; + \u0026#34;tilgjengelig, eller om søknad er innlevert og godkjent\u0026#34;); } } } } Negative tester Negative tester lages for å avsløre hvordan mapper opptrer når feil/ulovlige input parametre er anvendt. Eksempler på slike parametere kan være tekst i datofelt, negative årstall og null-verdier.\nEksempel på en negativ test der det blir sendt inn feil fødselsnummer og det forventes at tjenesten setter statusen til noe annet enn OK:\nusing System; using Microsoft.VisualStudio.TestTools.UnitTesting; using Tests.SvcRef; using System.Text; using System.Reflection; using System.IO; namespace Tests { [TestClass] public class UnitTests { [TestMethod] public void TestFeilmeldingGetMidlertidigKjoeretillatelse() { using (var proxy = new MapperClient()) { var assemblyPath = Assembly.GetExecutingAssembly().Location; var relativePath = @\u0026#34;..\\..\\..\\..\\Tests\\ElenaFjaer.xml\u0026#34;; var combinedPath = Path.Combine(assemblyPath, relativePath); var xml = new StreamReader(combinedPath).ReadToEnd(); var forespoersel = new TillatelseForespoersel() { Fnr = \u0026#34;12126101528\u0026#34;, AltinnMapperContext = Convert.ToBase64String( System.Text.Encoding.UTF8.GetBytes(xml)) }; var respons = proxy.GetMidlertidigKjoeretillatelse(forespoersel); if (respons != null) { Assert.AreEqual(\u0026#34;Systemet finner ikke kjøretillatelse for \u0026#34; + \u0026#34;oppgitt fødselsnummer.\u0026#34;, respons.Status); } else throw new AssertFailedException(\u0026#34;Ingen midlertidig for \u0026#34; + \u0026#34;kjøretillatelse funnet. Sjekk om ekstern web service er for \u0026#34; + \u0026#34;tilgjengelig, eller om søknad er innlevert og godkjent\u0026#34;); } } } } Dokumentere testene Det er viktig at testene blir dokumentert. Når testen er nøye dokumentert og det er beskrevet hva som forventes av testen. Blir det enklere å vedlikeholde testene og mapperene senere.\nLegg til kommentarer på hver av testmetodene. Kommentaren bør beskrive:\n Hvilken mappertjeneste testmetoden tester. Beskrive hva mappertjenesten gjør. Beskriv hva som er hensikten med testmetoden.  "
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/",
	"title": "Vedlegg",
	"tags": [],
	"description": "Diverse vedlegg til tjenesteutviklingen i TUL. Merk at skjermdumper fra SBL er illustrasjoner og vil ikke nødvendigvis alltid være oppdaterte.",
	"content": "\rA: Skjemautvikling i InfoPath\rStegvis utvikling av et skjema i InfoPath.\n\r\rB: Utforming av brukergrensesnitt for skjema\rRetningslinjer/forslag for utforming av sider av skjema i InfoPath.\n\r\rC: Utforming av brukervennlige tjenester\rHvordan lage brukervennlige tjenester i TUL.\n\r\rD: InfoPath kodestandard\rEn oversikt over kodestandard for InfoPath.\n\r\rE: InfoPath navnestandard\rOersikt over navnestandard for felter, grupper, script og skjema i InfoPath.\n\r\rF: Bruk av Visual Studio\rHjelp til å komme i gange med utvikling av mappere i Visual Studio.\n\r\rG: Web Service-oppslag fra InfoPath\rDette vedlegget inneholder en beskrivelse av hvordan man kan gjøre web service-oppslag fra et InfoPath-skjema.\n\r\rMappere\rImplementasjonsguide for mapperutvikling i Altinn.\n\r\rRegelmotor\rUtviklingshåndbok for Altinn regelmotor. Regelmotoren er et alternativ til å utvikle logikk i C# og InfoPath.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/datakonsument/",
	"title": "For datakonsument",
	"tags": [],
	"description": "Utføres av datakonsument",
	"content": "Personer eller organisasjoner kan gjennom Altinn gi samtykke til at data om dem kan deles mellom datakilder (f.eks Skatteetaten) og datakonsumenter (offentlige og private enheter). På vegne av datakonsumentene kan det være leverandører, som utfører den tekniske integrasjonen både mot Altinn og datakilde på vegne av konsumenten.\nSiden selve flyten av data går utenom Altinn så må datakonsumenten avtale kommunikasjonsform med datakilden. Datakilden og datakonsumenten står fritt til å velge kommunikasjonsform og det kan for eksempel være via webservice, REST eller FTP.\n\rKomme i gang\rForutsetninger for å ta i bruk samtykketjenesten\n\r\rBe om samtykke\rHvordan sende sluttbruker til samtykkesiden i Altinn.\n\r\rLeverandører\rHvordan leverandører kan benytte samtykkeløsningen på vegne av datakonsumenter.\n\r\rHente token\rHvordan veksle inn autorisasjonskode i token\n\r\rLogge bruk av samtykke\rHvordan logge at man har hentet data som sluttbruker har samtykket til deling av\n\r\rTest av samtykke\rTest av samtykketjeneste i Altinn sitt testmiljø\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/rest/autorisasjon/samtykke-liste/",
	"title": "Hente liste med samtykker eller fullmakter",
	"tags": [],
	"description": "Denne siden beskriver hvordan man kan hente liste med samtykker eller fullmakter for en tjenesteeiers tjeneste via REST API.",
	"content": "Fra versjon 20.2 ble det mulig å hente alle samtykker eller fullmakter gitt for en tjeneste via REST API. Det nye endepunktet er foreløpig bare tilgjengelig på tjenesteeier API. Denne funksjonaliteten er ment å gi tjenesteeiere i Altinn en enkel oversikt over hvilke autorisasjoner som er aktive på deres samtykke- eller fullmaktstjenester.\nOBS: Det er ikke noen forskjell i bruken av endepunktet mot en samtykketjeneste eller en fullmaktstjeneste i Altinn, så for resten av dette dokumentet vil vi bare referere til samtykker, men bruken for å hente fullmakter er helt lik.\nDetaljert beskrivelse Listen inneholder følgende informasjon om hvert samtykke:\n autorisasjonskoden til samtykket status på samtykket avgiverinformasjon om samtykkegiver, -mottaker, og ev. tredjepartsmottaker som kan bruke samtykket på vegne av samtykkemottaker tidspunkt for opprettelsen av samtykket, hvor lenge det er gyldig, og når den siste statusendringen på samtykket skjedde  I tillegg til listen blir også følgende informasjon returnert:\n continuation token som kan brukes ved neste kall lenkeadresser til både dette og neste kall  Et samtykke i listen kan ha en av to statuser - Active eller Revoked. Hvis en sluttbruker trekker et samtykke så blir statusen på samtykket endret, og nye kall til endepunktet vil da reflektere denne endringen. Listen som returneres er sortert etter tidspunkt for sist gang statusen på samtykket ble endret, i stigende rekkefølge. Dvs. at det samtykket som ble nyligst gitt eller endret kommer sist. For aktive samtykker vil dette tidspunktet være lik da de ble gitt.\nFor gjentagende kall er det mulig å bruke parameteret continuation for å bare få utlevert samtykker som har blitt opprettet eller endret siden sist kall. Det er også mulig å be å filtrere på status slik at listen kun inneholder enten aktive eller tilbaketrukne samtykker. Hvis status parameteret ikke er brukt vil listen inneholde begge statuser.\nSamtykker som har gått ut på dato som følge av at gyldighetsperioden er over vil ikke være inkludert i listen. Det er derfor viktig at listen med trukne samtykker ikke brukes som eneste kilde for om et samtykke fortsatt er gyldig. Man må alltid sjekke at samtykket fortsatt er gyldig før man forsøker å benytte seg av det.\nTekniske detaljer API GET serviceowner/consents dokumentasjon\nRequest GET https://www.altinn.no/api/serviceowner/consents?ForceEIAuthentication\u0026amp;serviceCode={serviceCode}\u0026amp;serviceEdition={serviceEdition} HTTP/1.1 Accept: application/hal+json ApiKey: myKey Response {\r\u0026quot;_links\u0026quot;: {\r\u0026quot;self\u0026quot;: {\r\u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/consents?serviceCode={serviceCode}\u0026amp;serviceEdition={serviceEdition}\u0026quot;\r},\r\u0026quot;next\u0026quot;: {\r\u0026quot;href\u0026quot;: \u0026quot;https://www.altinn.no/api/serviceowner/consents?serviceCode={serviceCode}\u0026amp;serviceEdition={serviceEdition}\u0026amp;continuation=2020-02-03T10:09:59.548_1\u0026quot;\r},\r\u0026quot;_embedded\u0026quot;: {\r\u0026quot;consents\u0026quot;: [\r{\r\u0026quot;AuthorizationCode\u0026quot;: \u0026quot;616d2c43-17f9-4cc1-9257-41cdda157f11\u0026quot;,\r\u0026quot;Status\u0026quot;: \u0026quot;active\u0026quot;,\r\u0026quot;OfferedBy\u0026quot;: {\r\u0026quot;Name\u0026quot;: \u0026quot;OLA NORDMANN\u0026quot;,\r\u0026quot;Type\u0026quot;: \u0026quot;Person\u0026quot;,\r\u0026quot;SocialSecurityNumber\u0026quot;: \u0026quot;01012012345\u0026quot;\r},\r\u0026quot;CoveredBy\u0026quot;: {\r\u0026quot;Name\u0026quot;: \u0026quot;BANK AS\u0026quot;,\r\u0026quot;Type\u0026quot;: \u0026quot;Enterprise\u0026quot;,\r\u0026quot;OrganizationNumber\u0026quot;: \u0026quot;123456789\u0026quot;,\r\u0026quot;OrganizationForm\u0026quot;: \u0026quot;sf\u0026quot;,\r\u0026quot;Status\u0026quot;: \u0026quot;Active\u0026quot;\r},\r\u0026quot;Created\u0026quot;: \u0026quot;2020-02-03T10:09:59.5484894+01:00\u0026quot;,\r\u0026quot;ValidTo\u0026quot;: \u0026quot;2020-05-03T10:09:59.5484894+01:00\u0026quot;,\r\u0026quot;LastChanged\u0026quot;: \u0026quot;2020-02-03T10:09:59.5484894+01:00\u0026quot;\r}\r]\r},\r\u0026quot;continuationtoken\u0026quot;: \u0026quot;2020-02-03T10:09:59.548_1\u0026quot;\r}\rEngangssamtykker Engangssamtykker som har blitt registrert brukt vil få samme status som trukne samtykker - Revoked.\nContinuation token Det er veldig mange samtykker i Altinn og av ytelseshensyn er det derfor anbefalt å bruke continuation parameteret ved gjentatte kall. Les mer her:\nHvordan bruke continuation token i Altinn\nHvis man ønsker å hente ut listen i to kall der man i den ene henter ut aktive samtykker og i den andre henter ut trukne samtykker, må man være oppmerksom på at man benytter riktig continuation token.\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/mappere/installasjon/",
	"title": "Installasjon",
	"tags": [],
	"description": "Beskrivelse av hvordan man lager installasjonspakker og får dem installert i test og produksjon.",
	"content": "Installasjon av mappere For å lage et installasjonsprosjekt til mapperen lager vi et Visual Studio Installer prosjekt av typen Web Setup. Vi kaller det SetupInternal.\nSetupInternal prosjektet:\nFilesystem settes opp slik at:\nTemp katalogen legges CustomActions.dll og env_variables.csv\nI web Application Folder legges Mapper.svc og web.config,\nI tillegg er det viktig at VirtualDirectory er satt rett i properties:\nI bin legger Altinn.Mapper.Common.dll og Primary output from Services.\nI customActions editor må CustomActionData settes til:\n/Targets=[TARGETDIR]\\web.config /Environment=[ENVIRONMENT] /VariablesCSV=[TEMP]\\env_variables.csv:\rUser interface editor\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/deploy-maintain/",
	"title": "Produksjonssetting av apper",
	"tags": [],
	"description": "Tjenesteeier kan selv produksjonssette sine applikasjoner, og gjøre vedlikehold av kode og avhengigheter.",
	"content": "Få tilgang til et produksjonsmiljø Første gang man skal gjøre deploy av en applikasjon til produksjonsmiljøet er det behov for at det er satt opp et eget tjenesteeier-cluster. For å få dette gjelder følgende prosess:\n Send en e-post til produkteier med en beskjed om hvilken/hvilke apps du har klar til produksjonssetting. Bekreft at tjenesteeier godtar bruksvilkårene Vent på beskjed om at cluster er opprettet.  Denne rutinen trenger bare å følges en gang. Når clusteret er satt opp, er løsningen selvbetjent etterpå.\nProduksjonssette en app Produksjonssetting av applikasjonen gjøres på samme måte som for testmiljøer.\nBestille Om skjema-side Altinn vedlikeholder en oversikt over alle tjenester i løsningen. For at Altinn brukerservice skal kunne hjelpe brukerne med en tjeneste, må informasjon legges inn her. Bestillingsskjemaet heter \u0026ldquo;Publiser informasjon om tjeneste på Altinn PROD og TT02\u0026rdquo;, og finnes etter innlogging på altinndigtal.no.\nMerk! Bestillingsskjemaet er inntil videre optimalisert for Altinn II-tjenester. Gjør derfor følgende:\n I feltet \u0026ldquo;Tjenestekode\u0026rdquo;, oppgi 9999 og i feltet \u0026ldquo;Utgavekode\u0026rdquo; oppgi 1 I feltet \u0026ldquo;Hvem skal bruke skjemaet\u0026rdquo; husk å angi hvilke roller som er satt på tjenesten i tillegg til beskrivelsen av hvem tjenesten er for.  "
},
{
	"uri": "https://altinn.github.io/docs/api/soap/",
	"title": "SOAP",
	"tags": [],
	"description": "De fleste av Altinns tjenester er tilgjengelig via SOAP API.",
	"content": "Denne delen av SOAP-APIet kan benyttes når eksterne systemer skal integreres mot Altinn. Dersom din etat/kommune er tjenesteeier i Altinn har du tilgang til en ekstra del av SOAP-APIet, denne finner du under Api for tjenesteeiere \u0026gt; SOAP.\n\rKom i gang med SOAP API\rHvordan registrere sluttbrukersystem / SFTP-bruker og etablere system id\n\r\rGrensesnitt\rSOAP operasjoner med beskrivelse.\n\r\rEndepunkter\rURI til alle Altinn tjenester / aliasoversikt for endepunkter. En operasjon kan kalles med forskjellige endepunkter ut fra hvilken autentiseringsmetode tjenesteeier ønsker å benytte.\n\r\rFunksjonelle scenario\rAltinn tilbyr flere tjenester innenfor flere funksjonelle områder for sluttbrukersystemer og dets brukere. Her finner du en beskrivelse av hvilken funksjonalitet som finnes med referanser til hvilke web services som benyttes.\n\r\rRoller og rettigheter\rBeskrivelse av hvem sluttbrukersystemet kan rapportere for.\n\r\rSkjemasett sammenligning\rAltinns behandling av skjemasett som mottas.\n\r\rSikkerhet og feilkoder\rFor å tilby funksjonalitet for sikkerhet gjennom autentisering og autorisasjon benyttes ulike varianter tjenesteparametere for sluttbrukersystemer.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/anbefalinger/",
	"title": "Anbefalinger og eksempler",
	"tags": [],
	"description": "Mer om prosess og typiske og anbefalte mønstre for bruk av Altinn Samtykke",
	"content": "Denne delen av utviklingsguiden tar for seg prosessene og de typiske og anbefalte mønstrene knyttet til bruk av Altinn Samtykke i forbindelse med deling av data. Disse dataene er typisk informasjon om privatpersoner eller foretak underlagt taushetsplikt, hvor samtykket gitt fra personen det angår, eller en bemyndiget ansatt hos foretaket, opphever denne taushetsplikten og muliggjør at tredjeparter kan innhente og benytte disse dataene i sine prosesser.\nSamtykke kan også brukes for å innhente tilatesle til å utvide eller endre formålet med data som allerede er innhentet i andre sammenhenger, f.eks. om man ønsker å benytte data aggregert i tilknytning til forskning eller analyse.\n\rOppsett og onboarding\rHer finner du informasjon og anbefalering rundt oppsett og onboarding av nye samtykketjenester, konsumenter og leverandører.\n\r\rSynkron flyt\rHer finner du detaljert informasjon om hvordan synkrone (\u0026#34;online\u0026#34;) flyter er anbefalt implementert gjennom bruk av Altinn Samtykke.\n\r\rAsynkron flyt\rHer finner du detaljert informasjon om hvordan asynkrone (\u0026#34;offline\u0026#34;) flyter er anbefalt implementert gjennom bruk av Altinn Samtykke.\n\r\rBruk av samtykkeforespørsler\rInformasjon om samtykkeforespørsler og anbefalinger om hvordan de kan benyttes i ulike sammenhenger og tjenester.\n\r\rVerifisering av gitt samtykke\rInformasjon og anbefalinger knyttet til innhenting og bruk av samtykketokens samt bruk av samtykkelister.\n\r\rEksempler på bruk\rHer finner du eksempler på ulike integrasjoner av Altinn Samtykke\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/api/datasystem/",
	"title": "API for datasystem",
	"tags": [],
	"description": "Altinn har helt siden oppstarten jobbet for å gjøre Altinn-tjenestene tilgjengelige for ekstern programvare. Ekstern programvare vil si datasystemer/sluttbrukersystemer som brukes av næringslivet, for eksempel regnskaps- eller lønnssystemer. Ønsker du å integrere et datasystem mot tjenester i Altinn har du oppskriften på det her.",
	"content": "\rEr det noe du lurer på?\nSe først om du finner svaret på vår FAQ-side. Hvis ikke du finner svar der kan du sende spørsmålet til sluttbrukersystem@altinn.no\n\r\rSlik går du frem for å integrere et datasystem mot tjenester i Altinn:\n Registrere datasystem og signere egenerklæring\nFor å ivareta sikkerheten i Altinn trenger du å registrere systemet hos oss, samt fylle ut en egenerklæring, før du går i gang. Send en e-post til sluttbrukersystem@altinn.no med navn på datasystemet i emnefeltet, og skriv at du ønsker å registrere et nytt datasystem. I tillegg kan du laste ned dokumentene under, fylle ut og legge ved disse i samme e-post. Vi fikser registreringen for deg så kjapt som mulig og gir deg beskjed når det er gjort. Bestilling - nytt datasystem Egenerklæring datasystem Se eksempel på utfylt egenerklæringsskjema (Lenke kommer\u0026hellip;) Integrasjon via SOAP eller REST\nDe fleste av Altinns tjenester er tilgjengelig via SOAP. Foreløpig er det kun få tjenester som er tilgjengelig via REST API. For å lage selve integrasjonen mot tjenester via SOAP kan du lese om hvordan det gjøres i dokumentasjon for SOAP. Skal du integrere tjenester via REST kan du lese det i dokumentasjon for REST. Implementering\nFør du kobler systemet på tjenestene i Altinn trenger du å implementere innlogging og koble deg opp mot Altinns grensesnitt. Implementering av autentiserings- og autoriseringsmekanismer\nDet finnes to måter å håndtere autentisering (innlogging) og autorisering (styring av tilgang) av datasystemer på. Det kan være brukernavn og passord eller bruk av virksomhetssertifikater. Oppsett mot Altinns grensesnitt\nFør du kobler deg på tjenestene i Altinn trenger du å sette opp integrasjon mot Altinns grensesnitt, se dokumentasjon for SOAP. Koble systemet ditt på tjenestene\nSe hvilke tjenester som er tilgjengelig for eksterne systemer og få veiledning til hvordan du kobler systemet til tjenestene. Teste tjenestene\nTest av tjenestene gjøres i Altinn sitt testmiljø. Du må teste mot de tjenestene du har valgt å utarbeide en løsning for. Det benyttes fiktive testpersoner og organisasjoner i våre testmiljø. Du kan bestille testbrukere ved å sende en henvendelse til sluttbrukersystem@altinn.no. For at brukerne skal kunne ta i bruk systemet ditt\nHusk å sikre deg at du har registrert systemet ditt slik at det blir tilgjengelig for brukerne som beskrevet i trinn 1. Det første brukerne dine må gjøre når de skal ta i bruk systemet ditt er å gå inn på altinn.no, velge Profil og Avanserte innstillinger hvor de under Datasystem kan velge systemet ditt.  "
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/begrepsliste/",
	"title": "Begrepsliste for samtykke",
	"tags": [],
	"description": "Begreper som benyttes ifbm. samtykkeløsningen.",
	"content": "   Begrep Forklaring     Altinn autorisering Verifisere at man har lov til å be om samtykke på en gitt tjeneste Opprette og vedlikeholde nødvendige autorisasjonstilganger Videresende sluttbruker til datakonsument Svare på autorisasjonsforespørsler    APIkey Application programming interface key en unik identifikator som det er knyttet tilgangsrettigheter til knyttes til datakonsument sitt organisasjonsnummer benyttes av datakonsument i tokenforespørsler mot Altinn    Authorization code/ Autorisasjonskode Kode som brukes av datakonsumenten til å få tak i Oauth token. Identifiserer et spesifikt samtykke   CoveredBy Mottaker av samtykket – Dersom dette er en person kreves også etternavn på person. (CoveredByName)   Datakilde Enhet som teknisk har data for bruker eller organisasjon Verifisere mot autorisasjon om datakonsument har nødvendige tilganger    Datakonsument Part som ønsker tilgang til data Ansvaret for å sende sluttbruker til Altinn for delegering av rettigheter til tjenestene Ansvarlig for å be om data fra datakilde    DelegationContext Beskrivelse fra datakonsument på hva som er formålet med samtykket.   Delegerbar API-ressurs (delegation scheme) Samling av ett eller flere Maskinporten-scopes gitt et navn og en beskrivelse, som kan delegeres mellom organisasjoner i Altinn. Opprettes av API-eier.   HandledBy Autorisert leverandør. Handler på vegne av CoveredBy som databehandler, og er parten som foretar den tekniske integrasjonen knyttet til innhenting av samtykke og uthenting av data.   LanguageCode Angir hvilket språk sluttbruker skal få opp samtykkesiden på. Kan velge mellom engelsk (en), bokmål (nb-NO) og nynorsk (nn-NO)   Metadata For å gi ekstra metadata til samtykketeksten kan det defineres en eller flere samtykkeparameter som generelt er valgfri men kan påtvinges av utformingen av samtykketeksten som er definert av datakilde (eks. 4629_2_inntektsaar=2016)   Oauth token OAuth er en åpen standard for autorisasjon, ofte brukt som en måte for Internett-brukere å logge på tredjeparts nettsteder ved hjelp av sine Microsoft, Google , Facebook eller Twitter-kontoer uten å oppgi passordet sitt.   OfferedBy Hvem som gir samtykket   RedirectUrl Hvor bruker blir sendt når delegering er gjennomført   Resources Tjenestekode og tjenesteutgavekode på tjenesten som datakilde har definert som samtykketjeneste. Kan også være flere tjenester dersom det skal samtykkes til å dele data fra flere datasett hos en eller flere datakilder.   ResponseType Vil alltid være code. Angir at man skal ha en autorisasjonskode i retur som skal benyttes for å hente token   Scope OAuth2-begrep som i Maskinporten representerer et API, eller en del av et API.   ServiceCodes Representerer tjenestekodene for tjenesten(e) som er opprettet av datakilde   Sluttbruker Den som gir samtykke til utlevering av sine data eller en organisasjon sine data   Tjenestekontekst Hvilke data er det samtykket refererer til. Samlebegrep som omfatter ServiceCodes og tilhørende Metadata. F.eks. kan en tjenestekontekst være inntektsopplysninger for en gitt periode   Tjenesteierstyrt rettighetsregister Tjenesteeier/datakilde kan kreve at tjenesten skal benytte Tjenestestyrt register: Benyttes for å kontrollere Hvem som kan spør om tilgang til data gjennom deres samtykketjenester Hvilket domene sluttbruker skal bli sendt videre til etter å ha gitt/ikke gitt samtykke    ValidToDate Gyldighetsperiode for samtykket    "
},
{
	"uri": "https://altinn.github.io/docs/tul/vedlegg/mappere/diverse/",
	"title": "Diverse",
	"tags": [],
	"description": "Bruk av mappere med Altinn-kontekst, REST/WCF.",
	"content": "Avanserte konsepter Context I tjenestene i Altinn har man tilgang til en del informasjon om den konteksten tjenesten kjører i. Dette inkluderer hvilken bruker som har åpnet tjenesten, språkinnstillinger og lignende. I mange tilfeller er dette nyttig informasjon å overføre til bakenforliggende systemer slik at informasjon kan filtreres basert på pålogget bruker eller virksomhet.\nEn måte å overføre denne informasjonen på er å hente den ut fra skjema og sende med felter som datakontrakten. Ulempen med denne fremgangsmåten er at mapperen ikke kan garantere at verdiene er korrekte da tjenesteutviklere selv kan manipulere disse verdiene. For å hente ut verifiserbare verdier må AltinnContext benyttes. Dette er en base64-encoded tekststreng som kan verifiseres i mapperen slik at ulike context-verdier kan hentes ut sikkert.\nFor å benytte AltinnContext i mapperen må forespørseldatakontrakten inneholde et tekstfelt for AltinnMapperContexten som vist under.\n[DataMember] public string AltinnMapperContext; Når forespørselen mottas må AltinnMapperContext lastes inn og verifiseres. Dette gjøres ved kall til klassen Verificator som legges i Utility.cs.\ninternal class Verificator { public static bool Verify(string altinnMapperContext, out AltinnMapperContext context) { var verified = false; var methodName = MethodBase.GetCurrentMethod().Name; AsymmetricAlgorithm key = XmlSignatureUtility.GetSPICertificatePublicKey(); verified = XmlSignatureUtility.VerifySignaturewithRSAKeyAndExtractObject( altinnMapperContext, key, out context); if (!verified) return false; if (context.CurrentService.ServiceOwnerCode!= \u0026#34;TTD\u0026#34;) return false; return true; } } Deretter kan mapperen aksessere innholdet på følgende måte. Det er kun et utvalg av verdiene som er hentet ut i eksempelet under. Skal noen felter sjekkes som en del av verifikasjonen av tjenestekallet skal dette gjøres i Verificator-klassen.\nAltinnMapperContext context = null; var verified = Verificator.Verify(foresporsel.AltinnMapperContext, out context); var serviceCode = context.CurrentService.ServiceCode; var serviceEditionCode = context.CurrentService.ServiceEditionCode; var serviceOwnerCode = context.CurrentService.ServiceOwnerCode; var ssn = context.UserEntity.SSN; var reporteeName = context.ReporteeEntity.ReporteeName; var language = context.UserEntity.Language; \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;AltinnMapperContext xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:xsd=\u0026#34;http://www.w3.org/2001/XMLSchema\u0026#34;\u0026gt; \u0026lt;Timestamp\u0026gt;2012-05-28T13:01:49.8498603+02:00\u0026lt;/Timestamp\u0026gt; \u0026lt;ContextOrigin\u0026gt;User.Current\u0026lt;/ContextOrigin\u0026gt; \u0026lt;UserEntity\u0026gt; \u0026lt;UserID\u0026gt;55315\u0026lt;/UserID\u0026gt; \u0026lt;UserType\u0026gt;SSNIdentified\u0026lt;/UserType\u0026gt; \u0026lt;Username /\u0026gt; \u0026lt;SSN\u0026gt;01025801659\u0026lt;/SSN\u0026gt; \u0026lt;LastName\u0026gt;FJÆR\u0026lt;/LastName\u0026gt; \u0026lt;FirstName\u0026gt;ELENA\u0026lt;/FirstName\u0026gt; \u0026lt;MiddleName /\u0026gt; \u0026lt;ReporteeNumber\u0026gt;910457055\u0026lt;/ReporteeNumber\u0026gt; \u0026lt;AuthenticatedLevel\u0026gt;2\u0026lt;/AuthenticatedLevel\u0026gt; \u0026lt;AuthenticatedMethod\u0026gt;AltinnPIN\u0026lt;/AuthenticatedMethod\u0026gt; \u0026lt;Language\u0026gt;1044\u0026lt;/Language\u0026gt; \u0026lt;/UserEntity\u0026gt; \u0026lt;ReporteeEntity\u0026gt; \u0026lt;ReporteeID\u0026gt;50121508\u0026lt;/ReporteeID\u0026gt; \u0026lt;ReporteeNumber\u0026gt;910457055\u0026lt;/ReporteeNumber\u0026gt; \u0026lt;ReporteeType\u0026gt;Organization\u0026lt;/ReporteeType\u0026gt; \u0026lt;ReporteeName\u0026gt;SKÅNEVIK OG HAMRESANDEN REGNSKAP\u0026lt;/ReporteeName\u0026gt; \u0026lt;/ReporteeEntity\u0026gt; \u0026lt;CurrentService\u0026gt; \u0026lt;ReporteeElementID\u0026gt;0\u0026lt;/ReporteeElementID\u0026gt; \u0026lt;ServiceOwnerCode\u0026gt;TTD\u0026lt;/ServiceOwnerCode\u0026gt; \u0026lt;ServiceCode\u0026gt;2794\u0026lt;/ServiceCode\u0026gt; \u0026lt;ServiceEditionCode\u0026gt;987\u0026lt;/ServiceEditionCode\u0026gt; \u0026lt;FormID\u0026gt;0\u0026lt;/FormID\u0026gt; \u0026lt;/CurrentService\u0026gt; \u0026lt;Signature xmlns=\u0026#34;http://www.w3.org/2000/09/xmldsig#\u0026#34;\u0026gt; \u0026lt;SignedInfo\u0026gt; \u0026lt;CanonicalizationMethod Algorithm=\u0026#34;http://www.w3.org/TR/2001/REC-xml-c14n-20010315\u0026#34; /\u0026gt; \u0026lt;SignatureMethod Algorithm=\u0026#34;http://www.w3.org/2000/09/xmldsig#rsa-sha1\u0026#34; /\u0026gt; \u0026lt;Reference URI=\u0026#34;\u0026#34;\u0026gt; \u0026lt;Transforms\u0026gt; \u0026lt;Transform Algorithm=\u0026#34;http://www.w3.org/2000/09/xmldsig#enveloped-signature\u0026#34; /\u0026gt; \u0026lt;/Transforms\u0026gt; \u0026lt;DigestMethod Algorithm=\u0026#34;http://www.w3.org/2000/09/xmldsig#sha1\u0026#34; /\u0026gt; \u0026lt;DigestValue\u0026gt;uDzmSNfcC97AvgXtKV1G2STIEqQ=\u0026lt;/DigestValue\u0026gt; \u0026lt;/Reference\u0026gt; \u0026lt;/SignedInfo\u0026gt; \u0026lt;SignatureValue\u0026gt;O515Ufngnm11VKUawo7U/mpdWrg8n9V0nGwObwatYfjO/jSDrUM2XForcZSkC/wbSa6Ko2N+p0+iQ+RwAq/0A7ltrhlP8yfNxHSFdSIy7zDyP+80pr3Vl4RQj9ujO1QnB6DPgg0Lfdo0fg9DNcKsVwOB/MHp6Uw77MmjTOxDYQo=\u0026lt;/SignatureValue\u0026gt; \u0026lt;KeyInfo\u0026gt; \u0026lt;KeyValue\u0026gt; \u0026lt;RSAKeyValue\u0026gt; \u0026lt;Modulus\u0026gt;pnWPDVG3XHlo8N69T7uAG2dLoZb93/rey3XqQJ0hmeGQpBqtdrxVrgJRfZsGbhkgY8m3Gm3g5DclI+8CvKreXDOo2bDolYIrt4+yUNJyvv6sWlMqXiotujshrasWcwuPL8op1taXV1sx22wBsm5gVAHJs91RDOBM+XIrmKWrvK8=\u0026lt;/Modulus\u0026gt; \u0026lt;Exponent\u0026gt;AQAB\u0026lt;/Exponent\u0026gt; \u0026lt;/RSAKeyValue\u0026gt; \u0026lt;/KeyValue\u0026gt; \u0026lt;/KeyInfo\u0026gt; \u0026lt;/Signature\u0026gt; \u0026lt;/AltinnMapperContext\u0026gt; Sikkerhet Sertifikat Kommunikasjonen mellom en mapper i Altinn og tjenesteeier må gå kryptert via SSL eller TSL (via https). Dette krever et gyldig sertifikat. Dersom ikke serveren har et sertifikat utstedt av en godkjent sertifikatutsteder vil WCF avbryte operasjonen på grunn av manglende verifikasjon av sertifikatet.\nTo-veis sertifikat autentisering For å sikre overføringen av informasjon mellom mapperen og etatsystemene kan to-veis-sertifikater benyttes. Dette skrus på ved å legge til en endpointbehavior i config-filen som skrur på clientsertifikater i mapperen.\n\u0026lt;configuration\u0026gt; \u0026lt;system.serviceModel\u0026gt; \u0026lt;behaviors\u0026gt; \u0026lt;endpointBehaviors\u0026gt; \u0026lt;behavior name=\u0026#34;ECBehavior\u0026#34;\u0026gt; \u0026lt;clientCredentials\u0026gt; \u0026lt;clientCertificate storeLocation=\u0026#34;CurrentUser\u0026#34; storeName=\u0026#34;My\u0026#34; x509FindType=\u0026#34;FindByThumbprint\u0026#34; findValue=\u0026#34;3636E9BD1B32A1DA1A43E34EB8DE637289C03345\u0026#34;/\u0026gt; \u0026lt;/clientCredentials\u0026gt; \u0026lt;/behavior\u0026gt; \u0026lt;/endpointBehaviors\u0026gt; \u0026lt;/behaviors\u0026gt; \u0026lt;/system.serviceModel\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;!-- Legges til på bindingen til tjenesten --\u0026gt; \u0026lt;security mode=\u0026#34;Transport\u0026#34;\u0026gt; \u0026lt;transport clientCredentialType=\u0026#34;Certificate\u0026#34; proxyCredentialType=\u0026#34;None\u0026#34; realm=\u0026#34;\u0026#34; /\u0026gt; \u0026lt;/security\u0026gt; \u0026lt;!-- Legges til som parameter på endpointet til tjenesten--\u0026gt; Dersom to-veis sertifikater skal benyttes vil mapperen kun være testbar i TUL og ikke på lokalt utviklermiljø. Dette skyldes at Altinn sine sertifikater ikke vil bli distribuert til brukerene.\nOverstyre sertifikat under utvikling Dersom ikke serveren har et sertifikat utstedt av en godkjent sertifikatutsteder vil WCF avbryte operasjonen på grunn av manglende verifikasjon av sertifikatet. Dette kan unngås ved å legge inn en overstyring av denne funksjonaliteten. Det gjøres ved å legge inn en callback på ServerCertificateValidation-verifikasjonen på ServicePointManageren. Merk at man bør ha gyldige sertifikater også testservere også dette bare må gjøres unntaksvis og kun under utvikling. Overstyring av sertifikatsjekken må ikke være med i produksjonsklar kode.\npublic Mapper() { // For development purposes  // Remove before building .MSI  ServicePointManager.ServerCertificateValidationCallback += new System.Net.Security.RemoteCertificateValidationCallback( delegate(object sender, X509Certificate cert, X509Chain chain, System.Net.Security.SslPolicyErrors error) { return true; }); } For å unngå å måtte fjerne og legge til kode kan det være et parameter i config som skrur av eller på denne mekanismenavhengig av hvilket miljø koden kjører i.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/soap/funksjonelle-scenario/",
	"title": "Funksjonelle scenario",
	"tags": [],
	"description": "Altinn tilbyr flere tjenester innenfor flere funksjonelle områder for sluttbrukersystemer og dets brukere. Her finner du en beskrivelse av hvilken funksjonalitet som finnes med referanser til hvilke web services som benyttes.",
	"content": "Autentisering og autorisasjon av sluttbrukersystem og bruker Alle tjenesteoperasjoner som kan benyttes av et sluttbrukersystem vil alltid bruke et sluttbrukersystem id eller brukernavn og tilhørende passord for å autentisere system og autorisere rettigheter til at systemet har rettigheter til å utføre handlinger på vegne av en juridisk enhet.\nFor å utføre tjenesteoperasjoner på vegne av bruker er det også mulig å autentisere seg ved bruk av brukerens brukerprofil brukernavn og tilhørende passord, på samme måte som man ville brukt sluttbrukersystem id og passord. For å kunne bruke denne autentiseringsmetoden må man aktivere dette på sin brukerprofil side. Tjenesteoperasjoner som autentiseres med brukernavn kan kun gi rettighet til å utføre handlinger på vegne av denne brukeren.\nI de tilfeller i grensesnitt-beskrivelsene hvor det refereres til systemUserName vil man også kunne bruke brukerens brukernavn og passord for å autentisere seg, i stedet for en sluttbrukersystem ID.\nUtover dette vil det for noe funksjonalitet også være et behov for å autentisere den unike brukeren som benytter sluttbrukersystemet og autorisere at vedkommende har rettigheter til å levere eller hente spesifikke data eller utføre operasjoner på vegne av en juridisk enhet. Denne sjekken utføres ved at sluttbrukersystem først kaller en web service som autentiserer en bruker og ber om en spesifikk engangskode som skal sendes inn sammen med kallet til den web servicen som krever autentisering og autorisasjon av en bruker. Denne engangskoden kan være basert på følgende typer:\n Engangskode fra brev bestilt på Altinn Engangskode tilsendt per SMS (for registrert Altinn bruker)  Altinn vil svare på denne henvendelsen med å referere til hvilken engangskode som skal benyttes eller ved å sende en SMS til registrert mobiltelefonnummer på bruker.\nSluttbrukersystemet må håndtere skjermdialogen med brukeren og sørge for at informasjonen Altinn returnerer på forespørsel om hvilken engangskode som må sendes med web service kallet vises frem, og at engangskoden innhentes fra bruker og sendes med i neste kall til den tjenesteoperasjonen som krever autentisering / autorisasjon.\nEn slik autentisering / autorisasjonshandling er gyldig i 30 minutter fra første forespørsel blir gjort, og vil deretter fornyes med 30 minutters gyldighet hver gang en web service operasjon som benytter denne informasjonen blir kalt. Denne fornyingen vil gjøres inntil en maksimal grense på 8 timer.\nHvis det går for langt tid mellom hvert kall slik at gyldighetsperioden utløper må brukeren pånytt måtte autentiseres / autoriseres med ny engangskode.\nDet er en fordel om sluttbrukersystemet implementerer en klokkenedtelling etter at engangskoden blir mottatt slik at brukeren til enhver tid vet hvor lenge den nåværende engangskoden kan brukes. Dette vil redusere antall SMS utsendinger og medføre at engangskodebrev vil ha lenger holdbarhet. I tilfeller der engangskoden er/blir ugyldig, er det en fordel om sluttbrukersystem enkelt gir brukeren tilgang til å hente engangskoden på nytt og deretter sende inn den signerte forsendelsen på nytt.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic    Uthenting av tilgjengelige innsendingstjenester Sluttbrukersystemer kan alltid hente informasjon om hvilke innsendingstjenester, meldingstjenester, innsynstjenester og samhandlingstjenester (baser på parameter ServiceType i operasjonen GetAvailableServices) som til enhver tid er tilgjengelige og aktive i Altinn, samt hente de XML skjema som inngår i et skjemasett for en innsendingstjeneste. GetAvailableServicesV3 inkluderer mulighet for å filtrere resultatene fra de tilgjengelige tjenestene slik at man kan finne akkurat de tjenestene man leter etter.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Type Operasjon     ServiceMetadata GetAvailableServicesV2 Basic/WS   ServiceMetadata GetAvailableServicesV3 Basic/WS   ServiceMetadata GetFormTaskSchemaDefinitions Basic/WS    Benytt innsendingstjeneste Å benytte en innsendingstjeneste betyr å sende skjemadata fra et sluttbrukersystem med eventuelle vedlegg og eventuelt signere disse før en innsending. Men i dette scenarioet inngår også det å behandle en innsending gjennom livssyklus fra opprettelse, gjennom arbeidsflyt til oversendelse eller sletting.\nInnsendingstjenester er tilknyttet en arbeidsflyt som består av følgende steg:\n Utfylling – Alle påkrevde skjemafelter fylles med data Validering – data valideres funksjonelt og iht. regler som er angitt i et skjema Signering – En spesifikk autentisert bruker juridisk godkjenner de data som sendes inn Bekreft og Send inn – Data arkiveres og oversendes til tjenesteeier.  I forkant av disse fire arbeidsflytstegene kan bruker av sluttbrukersystemet også velge å hente ut preutfyllingsdata fra Altinn. Preutfyllingsdataene kan benyttes for å forenkle utfylling av innsendingstjenesten.\nFor noen tjenester vil man også kunne ha en såkalt brukerstyrt parallell signering. Med dette menes det at innsender selv kan velge et antall brukere som skal signere et steg i arbeidsflyten. For tjenester som har dette steget kan dette angis som del av innsendingen, eller gjøres som et separat tjenestekall.\nFra et sluttbrukersystem kan ett eller flere av disse stegene gjøres direkte gjennom ett eller flere tjenestekall. De ulike stegene er nærmere beskrevet i påfølgende kapitler.\nHent preutfyllingsdata Preutfyllingsdata er data for et gitt skjemasett og en gitt avgiver som sendes fra tjenesteeier til Altinn, og lagres i Altinn. Preutfyllingsdata brukes for å forenkle utfylling av innsendingstjenester, ved at sluttbrukersystemer henter ut preutfyllingsdata i forkant av innsending, for så å benytte dataene ved innsending av skjemasettet.\nFor å hente ut prefill data benyttes parametrene ReporteeNumber (fødselsnummer eller organisasjonsnummer), ExternalServiceCode (tjenestekode), og ExternalServiceEditionCode (tjenesteutgavekode).\nGetPrefillData Operasjonen returnerer en status og en liste med PreFillFormTask. Statusen indikerer om input er valid, eller hvorvidt det eksisterer prefill data for tjenesten det etterspørres for. PreFillFormTask er en liste fordi det kan eksistere flere preutfyllingsdata for samme skjemasett og avgiver. Settene med preutfyllingsdata er i så fall skilt ved hjelp av identifiserende felter satt av tjenesteeier i PreFillIdentityFieldBE. FieldValue. Det bør verifiseres at preutfylt data som benyttes er gyldig ved å sjekke PrefillFormTaskBE.ValidFromDate og PrefillFormTaskBE.ValidToDate\nPreutfylt skjemadata ligger i elementet PrefillFormBE.FormDataXML. Dette elementet følger tjenestens dataformat (XSD) og inneholder de preutfylte dataene. Den kan da benyttes som utgangspunkt for sluttbrukersystemet i stedet for å opprette en blank XML basert på dataformatet.\nGetPrefillDataV2 Ifm versjon 13.1 Altinn, tilgjengelig i TT2 (PROD 25. februar 2013) kan SBS nå benytte en ny operasjon for å hente ned preutfylte skjema.\nDefault vil denne operasjonen kun returnere preutfylt hovedskjema hvis det finnes preutfylte data. Informasjon om hva slags type prefilldata returneres med et sett av true/false parametere. Man kan velge eksplisitt å få returnert prefill for spesifikke skjema innenfor et skjemasett. Det er ikke lagt inn mulighet for å skille eksakt hvilke data som kommer fra hvilken kilde, bare hvilke kilder som er benyttet. Merk også at det er kun relevante felter med prefilldata som returneres, altså må SBS selv generere det endelige SOAP-kallet og skjema-XML ihht. XSD som tidligere. I tidligere versjon (GetPrefillData) var det kun én type prefillkilde som kunne hentes ned til SBS (ferdigutfylt skjema fra Tjenesteeier). Nå vil alle typer prefillkilder samt alle prefillmetoder en tjenesteeier kan benytte gi SBS tilgang til de samme data som i portal.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   Prefill GetPrefillData Basic/WS/EC   Prefill GetPrefillDataV2 Basic/WS/EC    Send inn skjemasett Dette steget innebærer å oversende data i henhold til XML-spesifikasjoner som utgjør tjenesten. Sluttbrukersystem kan selv velge om skjemasettet skal sendes komplett og/eller signert:\n Komplett / Ikke komplett Komplett betyr at alle påkrevde data leveres fra sluttbrukersystem Ikke komplett betyr at ikke alle felter kunne fylles ut i sluttbrukersystem og at utfylling må ferdigstilles på Altinn portal. Signert / usignert Hvis en innsending sendes komplett er det også mulig å signere (ett signeringssteg) disse fra sluttbrukersystemet gjennom samme innsending.  Inneholder skjemaet som skal sendes inn et brukerstyrt signeringssteg, kan informasjon for delegering for dette steget sendes sammen med skjemadata. For det første må parameter UserDefinedNumberOfSignaturesRequired angi det totale antallet av signaturer som skal til for å gå videre til neste steg etter det brukerstyrte signeringssteget. Hvilke brukere som så skal delegeres rettighet til å signere angis så i listen over DelegatedUserBE der brukerens fødselsnummer (SSN) og etternavn (Name) må angis. Hvis tjenesten tillater, kan en bruker signere mer enn en gang, i så tilfelle settes NumberOfSignaturesAllowed til antallet signaturer som er ønsket fra denne brukeren. Om bruker kun skal signere en gang må parameteren settes til 1.\nSendes innsendingstjenesten fra en juridisk enhet som regnes som en Trusted partner, det vil si at den har rettigheter til å opprette instanser av innsendingstjenester for andre brukere, kan denne velge å fylle ut informasjon om brukerstyrt signering og låse steget slik at dette ikke kan editeres av bruker selv. For å gjøre dette settes parameter IsUserDelegationLocked til true.\nHvis deler av skjemasettet inneholder sensitive felter må disse krypteres. Se 4.3.10 for utdypende beskrivelse av hvordan dette skal gjøres.\nSkjemaet som sendes inn kan knyttes til en samhandlingstjeneste. For å gjøre dette settes parameter CaseID til samhandlingstjenestens unike identifikator (se 4.7.1 for hvordan denne identifikatoren kan hentes).\nDersom skjemasettet skal signeres må sluttbrukersystem i forkant av innsending hente ut signeringsteksten for tjenesten, slik at denne kan presenteres for bruker som skal utføre signeringen.\nHvis alle krav til en komplett innsendingstjeneste er ivaretatt i forhold til validering av data og nødvendig signering så vil innsendingen blir arkivert og oversendt tjenesteeier.\nEnkelte tjenester i Altinn har definert regler for vedleggene som kan legges ved skjemasettet. Nærmere informasjon om disse reglene kan hentes ut med GetAvailableServicesV3. For å angi hvilken type vedlegg man sender med, benytter man AttachmentTypeName-feltet i vedleggsentiteten. Man kan sende inn vedlegg til skjemasett på tjenester med vedleggsregler både med SubmitFormTask IntermediaryInbound.SubmitFormTask, SubmitAttachmentStreamed og IntermediaryInboundStreamed.SubmitAttachmentStreamed.\nMerk at maksimal sammenlagt størrelse på vedleggene ikke kan overskride 30 MB. Hvis man har større vedlegg, se Legge til vedlegg til innsendt skjemasett\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeElementList GetReporteeElementListV2 Basic/WS/EC   Workflow GetSigningText Basic/WS   IntermediaryInbound SubmitFormTask Basic/WS/ EC    Sjekk transportkvittering for innsending Merk: release 20.11 ble SubmitFormtask gjort synkron, og det vil ikke lenger returneres en transportkvittering.\nKvitteringen som returneres er oppdatert og man trenger ikke å spørre på flere ganger.\n\rNår en innsending mottas fra sluttbrukersystem vil en transportkvittering returneres umiddelbart etter mottak. Transportkvitteringen vil inneholde informasjon om hvert enkelt element i innsendingen, med detaljer på hva kvitteringen gjelder og valideringsstatus på innsendingen. Mottak og prosessering av innsendte data skjer i flere trinn, vil kvitteringen endre status etter hvert som innsendingen behandles. En innsending kan ikke regnes å være mottatt og godtatt før transportkvitteringen viser at validering og videre prosesseringen for innsendingen er fullført i Altinn.\nDet vil derfor fra et sluttbrukersystem ofte være nødvendig å etterspørre kvittering flere ganger inntil en godkjent status blir returnert fra Altinn.\nVed innsending fra SBS utfører Altinn en prosess med formålet å stoppe innsendinger med feil, for eksempel i kalkyler. Denne prosessen er nærmere beskrevet her.\nDe statuser en transportkvittering typisk vil kunne vise under mottak og prosessering og videresending til etat er:\n Mottatt – Innsendingen er teknisk mottatt i Altinn og avsender er autentisert og autorisert Godtatt – Innsendingen er teknisk validert og videresendt til prosessering Prosessert – Innsendingen er prosessert og godtatt i Altinn. Sendt tjenesteeier – Innsendingen er sendt til tjenesteeier Mottatt tjenesteeier – Meldingen er mottatt av tjenesteeier.  Det er ikke alle tjenesteeiere som har mulighet til å bekrefte et mottak på en spesifikk innsending så Sendt tjenesteeier vil i mange tilfellervære endelig status.\nEventuelt kan status være:\n Avvist – Innsendingen er avvist  Hvis innsending feiler i et av stegene vil også dette beskrives i transportkvitteringen. Slike feil vil oftest være pga. feil i format, valideringsfeil på funksjonelle data, duplikat innsending eller ikke tilstrekkelige rettigheter i forhold til avgiver for et sluttbrukersystem eller en signerer.\nDet er ingen begrensning på hvor mange ganger en kvittering kan etterspørres, og disse vil være tilgjengelig i en lengre periode etter innsending.\nDet henstilles allikevel sluttbrukersystemene om ikke å overdrive hvor ofte en transportkvittering etterspørres da dette potensielt kan medføre ekstra treghet i systemet og prosessering av data vil forsinkes.\nEn tommelfingerregel på å vente minimum 5 sekunder mellom innsending og hver enkelt kvitteringsforespørsel kan legges til grunn, eller la brukeren av sluttbrukersystemet selv be om oppdatert transportkvittering.\nEn kvittering kan etterspørres med alle kjente referanser for innsendingen:\n Sluttbrukersystem referanse på innsending eller enkeltskjema Altinn transportkvittering returnert som respons på innsending Altinn innsendingsreferanse Tjenesteeier referanse  Det vil også finnes kvitteringshistorikk som viser de forskjellige kvitteringstekster / statuser en innsending historisk har hatt og tidspunkt for når disse ble satt.\nMerk at ReferenceTypeName av typen WorkFlowReference representerer ReporteeElementID, altså den unike identifikatoren for det detaktive elementet.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   Receipt GetReceiptList Basic/WS   Receipt GetReceipt Basic/WS    Legge til vedlegg til innsendt skjemasett Når man sender inn skjema og vedlegg med submitformtask-operasjonen kan ikke samlet vedleggsstørrelse overskride 30 MB. Dersom man skal laste opp store vedlegg til et skjemasett, kan man bruke SubmitAttachmentStreamed-metoden for å legge til et vedlegg til en innsending som ligger til utfylling i meldingsboksen. Maksstørrelse for vedlegg lastet opp med SubmitAttachmentStreamed er definert i den aktuelle tjenestens vedleggsregler (0-500 MB per vedlegg). For tjenester uten regler er maksstørrelsen 30 MB (per vedlegg).\nDette gjøres ved å benytte arbeidsflytreferansen (WorkflowReference) man får fra kvitteringskallet etter vellykket innsending og instansiering som ReporteeElementId-parameter i SubmitAttachmentStreamed-metoden. Når man har lagt til alle aktuelle vedlegg kan skjemasettet signeres og arkiveres ved å bruke samme arbeidsflytreferanse som inn-parameter i CompleteAndSign (alternativt tilsvarende metoder i Workflow).\nTjenester og tjenesteoperasjoner som inngår i beskrevetfunksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   Receipt GetReceipt Basic/WS   IntermediaryInboundStreamed SubmitAttachmentStreamed Basic/WS   IntermediaryInbound CompleteAndSign Basic/WS    Styr arbeidsflyt for innsendingstjeneste Altinn tillater at enkeltstående arbeidsflytsteg utføres fra sluttbrukersystem uten innlogging i portalen. Den mest vanlige typen aksjon å ta fra sluttbrukersystem vil være å utføre et enkeltstående signeringssteg, men det vil være støtte for flere andre operasjoner som er tilgjengelig i portalen. Et annet eksempel er å flytte et skjema tilbake til utfylling, eller hente ut arbeidsflythistorikk for et skjema.\nEt praktisk eksempel på bruk kan være at en sluttbruker sender inn sitt skjema til Altinn, og legger ved signaturinformasjon. Skjemaet opprettes, valideres, og signeres i første steg. Dette er et skjema som krever revisorsignering, og derfor blir ikke skjema arkivert, men liggende å vente på at revisor skal signere. På dette tidspunkt kan revisor benytte ”signer skjema” funksjonaliteten fra sitt sluttbrukersystem, og signere og sende inn skjema. Dermed vil skjema kunne passere gjennom avanserte arbeidsflyter uten at man behøver å logge inn i portalen.\nOperasjonen GetAvailableActionsV2 vil kunne kalles for et gitt element for å sjekke hvilken handling som skal utføres. For en tjeneste som er opprettet ikke komplett og innehar et brukerstyrt signeringssteg vil denne operasjonen kunne returnere verdien DoSignDelegation. Sluttbrukersystemet kan i så tilfelle benytte operasjonen PrepareUserControlledSigning til å delegere signering til brukere. Denne operasjonen tar inn reporteeElementID for å angi elementet som skal behandles. Videre må en delegatedUserBEList fylles med innhold, der Name skal angi etternavn og SSN er fødselsnummer for brukeren som skal signere, samt at NumberOfSignaturesAllowed kan settes avhengig av hvor mange signaturer denne personen kan angi avhengig av om tjenesten tillater flere signaturer fra samme bruker. userDefinedNumberOfSignaturesRequired må settes for å angi det totale antallet signaturer som kreves for det parallelle steget. Videre må parallelSigningStepLocked settes. Denne parameteren er kun tilgjengelig for avgivere som er definert som Trusted partner, og brukes til å låse forberedingen til det parallelle signeringssteget – det vil si at bruker selv ikke kan endre hvem og hvor mange som skal signere.\nFunksjonaliteten i hver enkelt av de tilgjengelige funksjonene forklares i detalj under.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeElementList GetReporteeElementListV2 Basic/WS/EC   Workflow GetAvailableActionsV2 Basic/WS   Workflow GetProcessDetailsV2 Basic/WS   Workflow GetNextWorkflowStateTypeInProcessFlowV2 Basic/WS   Workflow DoSendingInAction Basic/WS   Workflow DoSigning Basic/WS   Workflow SetBackToFormFilling Basic/WS   Workflow PrepareUserControlledSigning Basic/WS   Workflow GetProcessStepIDForParallelSigning Basic/WS    Slett innsendingstjeneste Et sluttbrukersystem kan velge å slette et aktivt eller arkivert element fra arbeidsliste eller fra arkivet i Altinn. Dette innebærer at elementet ikke lenger vil være synlig i portal eller tilgjengelig for sluttbrukersystem.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeElementList DeleteReporteeElement Basic/WS/EC    Se arkivert innsendingstjeneste Når en innsendingstjeneste sendes inn, enten fra et sluttbrukersystem eller i portal, opprettes det en kvittering for den arkiverte innsendingstjenesten. Kvitteringen kan senere hentes opp både for portalbruker, sluttbrukersystem og fra tjenesteeiers system. I kvitteringen ligger det funksjonalitet for å sende kvitteringen på e-post, vise utskriftsversjon av det innsendte oppgavesettet samt eventuell visning av digital signatur.\nVed innsending fra sluttbrukersystem vil det genereres en kvittering som angir status for forsendelsen (nærmere beskrevet i kapittel 4.3.3, Sjekk transportkvittering for innsending).\nDette må ikke forveksles med transportkvittering som beskrives i avsnitt Sjekk transportkvittering for innsending.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeArchiveExternal GetArchivedFormTask Basic/WS/EC    Finn aktive og arkiverte innsendingstjenester Et sluttbrukersystem kan hente ut detaljer på innsendingstjenester fra Altinn, både aktive som er opprettet i arbeidsflyt, og de som er sendt inn og arkivert. For å gjøre dette kalles typisk først en søkeoperasjon med filtrering som returnerer en liste (GetReporteeElementListV2). Deretter kan et enkelt element hentes med alle detaljer.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeElementList GetReporteeElementListV2 Basic/WS/EC   ReporteeElementList GetFormSetElementsV2 Basic/WS/EC   ReporteeArchiveExternal GetAttachmentData Basic/WS/EC    Hent prosesseringsstatus Sluttbrukersystem kan hente ut estimert tid (minutter) for hvor lang tid prosesseringen av en innsendingstjeneste vil ta.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     IntermediaryInbound GetAltinnSubmissionStatus Basic/WS/EC    Innsending av skjema med sensitive felt fra sluttbrukersystem Altinn versjon 2 støtter innsending av tjenester med sensitive felt. Slike skjema kan også sendes inn via sluttbrukersystem. For å støtte dette må sluttbrukersystem kryptere data før den sendes inn via web tjenester.\nPrinsippet som brukes er at hvert enkelt sensitivt felt krypteres med en symmetrisk nøkkel. Nøkkelen som genereres må være 128 bit lang. Algoritmen for å kryptere hvert enkelt felt skal være AES.\nSensitive felt i skjema som skal sendes inn til Altinn vil alltid være strengverdier i XSD. Dette fordi en kryptert verdi alltid vil overføres som en streng, og det vil ikke være mulig å validere den krypterte verdien.\nNår skjema er kryptert må den symmetriske nøkkelen krypteres ved hjelp av det offentlige sertifikatet til tjenesteeier. Algoritmen som benyttes for denne krypteringen er RSA. Sertifikatet til tjenesteeier hentes ut ved hjelp av operasjonen GetCertificatesExternal på tjenesten KeyManagementExternal. Basert på tjeneste og tjenesteutgave returneres en liste med gyldige sertifikater og ID for hver enkelt tjenesteeier som skal motta skjemadata. I de fleste tilfeller vil dette bare være et sertifikat da de fleste innsendingstjenester bare har en mottaker av skjemadata.\nHvis sluttbruker ønsker muligheten til å dekryptere data ved et senere tidspunkt må også den symmetriske nøkkelen sendes inn kryptert med et egendefinert passord. Dette passordet må minimum være på 8 tegn. Ved uthenting fra arkiv ved hjelp av sluttbrukersystem kan man da benytte passordet for å dekryptere den symmetriske nøkkelen for deretter å dekryptere feltene som har krypterte data.\nTjenesten som benyttes for å sende inn sensitive skjema er samme som vanlige skjema, SubmitFormTask), se også kapittel 4.3.2. Parameteren FormData settes da som vanlig, men nodene er kryptert som beskrevet over. I tillegg må data om brukt nøkkel fylles ut:\n\u0026amp;lt;ns:EncryptedKey\u0026amp;gt; \u0026amp;lt;!--Optional:--\u0026amp;gt; \u0026amp;lt;ns:ReporteeSymmetricKey\u0026amp;gt; \u0026amp;lt;!--Dette den symmetriske nøkkelen kryptert med selvvalgt passord--\u0026amp;gt; \u0026amp;lt;ns:Key\u0026amp;gt;\u0026amp;lt;/ns:Key\u0026amp;gt; \u0026amp;lt;/ns:ReporteeSymmetricKey\u0026amp;gt; \u0026amp;lt;ns:ServiceOwnerSymmetricKeys\u0026amp;gt; \u0026amp;lt;!--Zero or more repetitions:--\u0026amp;gt; \u0026amp;lt;ns:ServiceOwnerSymmetricKeyBE\u0026amp;gt; \u0026amp;lt;!--Dette er ID til sertifikat brukt til å kryptere nøkkel for tjenesteier. Id ble mottatt i kallet GetCertificatesExternal sammen med sertifikat--\u0026amp;gt; \u0026amp;lt;ns:CertificateId\u0026amp;gt;\u0026amp;lt;/ns:CertificateId\u0026amp;gt; \u0026amp;lt;!--Dette er den symmetriske nøkkelen kryptert med tjenesteeiers sertifikat angitt av id over--\u0026amp;gt; \u0026amp;lt;ns:Key\u0026amp;gt;\u0026amp;lt;/ns:Key\u0026amp;gt; \u0026amp;lt;/ns:ServiceOwnerSymmetricKeyBE\u0026amp;gt; \u0026amp;lt;/ns:ServiceOwnerSymmetricKeys\u0026amp;gt; \u0026amp;lt;/ns:EncryptedKey\u0026amp;gt; For å hente etaten (eller etatenes) offentlige sertifikat benyttes tjenesten KeyManagement og operasjonen GetCertificates. Denne tar som input de to påkrevde parameterne externalServiceCode og externalServiceEditionCode, og returnerer basert på disse hvilket hvilke) sertifikat (returparameter Certificate) som skal benyttes til å kryptere data. Når data sendes inn til Altinn må den unike identifikatoren for sertifikatet også sendes med (returparameter CertificateId). En tom liste returneres om ikke kombinasjonen av externalServiceCode og externalServiceEditionCode er definert for sensitive personopplysninger i TUL, eller ikke eksisterer.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     KeyManagement GetCertificates Basic/WS/EC    Signering ved hjelp av XMLDsig Det er i Altinn mulig for tjenesteeier å kreve digital signering ifølge XMLDSig standarden i tillegg til Altinns vanlig sikkerhets funksjonalitet. For tjenester som krever dette må hvert skjema signeres med et Signature element. Signature element må tilpasse XMLDSig standard og er beskrevet i mer detalj i kapittel 5.3.\nBenytt meldingstjeneste Meldingstjenester benyttes av tjenesteeiere for å sende informasjon eller tilbakemelding på innsendte data til sluttbrukere/avgivere i Altinn. Sluttbrukersystemer har mulighet for å hente ut meldinger for avgivere, samt utføre visse handlinger på tjenestene, deriblant å arkivere en melding.\nHent melding Det er mulig å hente ut meldinger for avgivere i Altinn, både aktive og arkiverte meldinger. Meldingene hentes først gjennom å hente en liste basert på søkeparametere, deretter kan en spesifikk melding hentes med identifikator for en ønsket melding. Denne identifikatoren vil være retur parameter for liste objektet.\nNår en melding hentes vil det også sendes en lesevarsling til tjenesteeier dersom de har bedt om dette. Både når man henter listen og den spesifikke meldingen vil man basert på parameteren CaseID kunne se om den aktuelle meldingstjenesten er knyttet til en samhandlingstjeneste.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeElementList GetReporteeElementListV2 Basic/WS/EC   Correspondence GetCorrespondenceForEndUserSystemV2 Basic/WS/EC    Bekreft melding For noen meldingstjenester krever tjenesteeier at bruker bekrefter at meldingen er lest. Denne bekreftelsen kan også gjøres fra sluttbrukersystem i tillegg til portal. Meldingen i Altinn oppdateres da med lesebekreftelsen, samt hvem som har bekreftet meldingen og tidspunkt for når dette ble gjort.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   Correspondence SaveCorrespondenceConfirmation Basic/WS/EC    Slett melding Grensesnittet for meldingstjenester har støtte for å slette aktive (ikke arkiverte) meldinger. Den autentiserte brukeren må ha skrivetilgang til elementet som ønskes slettet. Det er to former for sletting i Altinn. Det er permanent sletting og flytting av element til papirkurv. Sletteoperasjonen vil utføre permanent sletting hvis avgiver er en person. Hvis avgiver er en organisasjon vil elementet bli flyttet til papirkurv.\nPermanent slettede elementer vil ikke kunne gjennopprettes. Elementet blir helt borte. Elementer som flyttes til papirkurv vil kunne gjennopprettes i sluttbrukerportalen. Det er foreløpig ikke laget noe funksjonalitet for gjennoppretting over SOAP grensesnittet.\nHvis meldingen ikke har vært lest ved slettetidspunktet vil det likevel kunne sendes en lesevarsling til tjenesteeier. Tjenesteeier får på denne måten en indikasjon på at sluttbruker har tatt stilling til meldingen. Er det ønskelig å hindre bruker i å slette uleste meldinger må dette implementeres i sluttbrukerapplikasjonen.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   Correspondence DeleteCorrespondence Basic/WS    Arkiver melding Et sluttbrukersystem kan velge å arkivere en melding. Arkiveringen kan kun gjennomføres dersom meldingen er ferdig behandlet, dvs. meldingen må være lest og bekreftet (dersom bekreftelse kreves).\nFor å arkivere meldingen benyttes parameteren CorrespondenceID for å angi den unike identifikatoren for meldingstjenesten som skal arkiveres (denne identifikatoren tilsvarer ReporteeElementID). Operasjonen returnerer kvittering til sluttbrukersystemet.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   Correspondence ArchiveCorrespondenceFromEndUserSystem Basic/WS/EC    Hent arkivert melding Meldinger som er blitt arkivert må hentes fra avgiver arkivet. Slike meldinger er med i liten over elementer fra ReporteeElementList tjenesten, men for å kunne hente ned elementet i sin helhet med vedlegg og lignende må man benytte tjenesten for avgiverarkivet.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeElementList GetReporteeElementListV2 Basic/WS/EC   ReporteeArchiveExternal GetArchivedCorrespondence Basic/WS/EC    Benytt formidlingstjeneste Formidlingstjenester handler om å transportere data fra en eller flere avgivere til en eller flere mottakere, hvor Altinn fungerer som mellommann som sørger for transport og infrastruktur. Altinn er sådan en passiv part i prosessen, og både avsender og mottaker må benytte grensesnitt tilgjengeliggjort av Altinn.\nInnholdet i en formidlingstjeneste er data som er bestemt mellom aktørene som inngår i en formidlingstjeneste, og er ikke kjent av Altinn.\nData som skal overføres må pakkes i en ZIP-fil. For SFTP kanalen må den inneholde to forhåndsdefinerte Altinn XML filer for å definere metadata (manifest.xml) og mottakere (recipients.xml). Ved bruk av web service sendes først metadata og mottaker liste, før ZIP-arkivet overføres i en egen operasjon.\nDet er viktig at ZIP-arkivet sin interne liste med filnavn blir enkodet med UTF-8. Dette vil gi best støtte for filnavn med tegn utenfor ASCII tabellen. Det kan for eksempel bli feil med bokstavene æ, ø og å hvis man ikke angir UTF-8. Utover dette kan ZIP-filen i prinsippet inneholde hva som helst av data. Utover viruskontroll gjør ikke Altinn noen form for validering eller prosessering av dataene, men sørger for at oppgitt metadata og mottakerinformasjon er korrekt og validerer, samt holder orden på kvitteringer og sporingsinformasjon om forsendelsen.\nI tillegg til innhold i ZIP-fil kan avsender og mottaker også avtale bruk av FileList og PropertyList som er en del av manifestet. FileList kan benyttes til å oversende informasjon om innhold i formidlingstjenesten samt checksum for verifikasjon. PropertyList er en liste med nøkkel og verdi par som kan settes fritt for å overføre ytterligere informasjon i formidlingstjenesten.\nFormidlingstjenester er tenkt brukt primært for formidlinger:\n B2B (Business-to-Business), B2G (Business-to-Government), G2B (Government-to-Business), eller G2G(Government-To-Government)  Når en avsender laster opp en formidlingstjeneste vil Altinn verifisere metadata og mottakere. Når dette er gjort vil forsendelsen gjøres tilgjengelig for mottakere for nedlasting. Samtidig vil Altinn opprette et kvitteringshierarki med en hovedkvittering tilhørende avsender, samt en underkvittering per mottaker. Hver underkvittering vil inneholde status på nedlastingen for denne mottakeren. Alle kvitteringer vil være knyttet til referanse satt av avsender. Avsender og mottaker kan også utveksle ytterligere statustekst på disse kvitteringene gjennom web service. På denne måten kan avsender følge opp status for hver enkelt mottaker.\nTiden en formidlingstjeneste vil være tilgjengelig for nedlasting i Altinn vil kunne variere fra tjeneste til tjeneste og styres av tjenesteeier. Dette betyr at filene etter en viss tidsperiode vil bli slettet selv om filene ikke er lastet ned av en eller flere av mottakerne.\nFormidlingstjenesten kan av tjenesteeier også settes opp til å benytte seg av et tjenesteeier styrt rettighetsregister. Dette registeret kan begrense hvem som har tilgang til spesifikke tjenester på avgiver nivå, og styres av tjenesteeier.\nFormidlingstjenesten beskrives nedenfor i fire scenarioer ift. avsender og opplasting av filer vs. mottaker og nedlasting av filer, samt hvilken kanal opp- og nedlaster kan benytte. Se også Vedlegg C: Flytdiagram for formidlingstjeneste for overordnet flyt.\nLaste opp filer til mottaker(e) (WS) Når avsender ønsker å benytte web service for å laste opp og gjøre en formidlingstjeneste tilgjengelig for mottakere gjøres dette ved først å sende nødvendig metadatainformasjon til Altinn. Dette gjøres gjennom kallet InitiateBrokerService. Her må avsender gi informasjon tilsvarende innholdet i manifest.xsd og receipients.xsd (som definert i kapittel 6.15), men som del av tjenestekallet. Dette er blant annet nøkkelinformasjon om tjenesten som skal benyttes, avsenders referanse, og hvem som skal være mottaker av formidlingstjenesten. Se kapittel 6.14.2 for mer informasjon om operasjonen InitiateBrokerService.\nSom respons på denne tjenesten vil avsender motta en referanse, denne referansen benyttes så som nøkkel til å laste opp faktisk ZIP-fil gjennom operasjonen UploadFileStreamed. Etter at payload er lastet opp til Altinn, vil den gjøres tilgjengelig for angitte mottakere, og avsender får en kvittering på forsendelsen. Denne kvitteringen inneholder en kvitterings ID som avsender kan benytte for å hente et kvitteringshierarki som inneholder en hovedkvittering med en eller flere underkvitteringer. Hver enkelt underkvittering vil her representere forsendelsen til en mottaker, med tilhørende status på hvorvidt formidlingstjenesten er lastet ned eller ikke. Se kapittel 6.15.3 for mer informasjon om operasjonen UploadFileStreamed, og kapittel 6.4.1 for informasjon om GetReceiptV2.\nBatch grensesnitt eller tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste / Fil Operasjon / Format Type     BrokerService InitiateBrokerService Basic/WS/EC   BrokerServiceStreamed UploadFileStreamed Basic/WS/EC   Receipt GetReceiptV2 Basic/WS    Laste opp filer til mottaker(e) (SFTP) OBS: SFTP-grensesnitt for formidlingstjenesten skal fases ut og skal ikke tas i bruk av nye aktører\nFor formidlingstjenester tilbyr Altinn også en SFTP kanal for opp- og nedlasting. Denne kan blant annet benyttes dersom informasjonen som skal deles med mottakere er av en viss størrelse (ca. 200MB eller mer), da disse ikke vil være mulig å laste opp og ned gjennom web service kanalen.\nAvsender kobler seg da opp mot Altinns SFTP kanal ved hjelp av bruker opprettet i portal. Denne brukeren vil autentiseres mot SFTP serveren ved hjelp av brukernavn, passord og sertifikat. Se kapittel 8.2 Registrere SFTP-bruker for mer informasjon om hvordan slike brukere opprettes. Ved pålogging opprettes det en virtuell filstruktur basert på tilgjengelige formidlingstjenester. Se kapittel 4.5.3 for mer informasjon om formatet på denne filstrukturen.\nAvhengig av hvordan SFTP-klient benyttes, vil man laste opp nye formidlingstjenester til en egne opplastningsmappe. Filene som lastes opp her må være på et ZIP-format, og inneholde en manifest.xml og recipients.xml i henhold til kapittel 6.15.1 og 6.15.2. Altinn vil etter at fil er ferdig opplastet starte prosessering av filen. Dette innebærer blant annet validering av informasjon oppgitt i manifest-filen samt validering av mottakere oppgitt i Recipients. Ved en vellykket validering av opplastet data opprettes det en kvitteringshierarki med en hovedkvittering samt underkvitteringer for hver mottaker. For å hente denne kvitteringsdataen vil avsender benytte seg av operasjonen GetReceiptV2. For å kunne søke opp korrekt kvittering bør SendersReference som ble oppgitt i manifestfilen benyttes som søkeparameter. Se mer om GetReceiptV2 i kapittel 6.4.1.\nSe også Figur 2: Opp- og nedlasting over SFTP i kapittel 11.\nBatch grensesnitt eller tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste / Fil Operasjon / Format Type     BrokerService SFTP-server Opplasting av ZIP-fil inneholdende payload, manifest.xml og recipients.xml iht. spesifikasjon angitt i avsnitt 6.15 SFTP   Receipt GetReceiptV2 Basic/WS    Laste ned filer fra avsender (WS) En mottaker av formidlingstjenester kan benytte seg av web servicer for å sjekke og eventuelt laste ned tilgjengelige filer. Ved å benytte operasjonen GetAvilableFiles kan mottaker enkelt få en oversikt over hvilke filer som er tilgjengelig i Altinn. Denne operasjonen gir informasjon om formidlingstjenesten, samt status – hvorvidt den allerede er lastet ned av mottaker. Se kapittel 6.14.1 for mer informasjon om GetAvailableFiles.\nBasert på referansen som hentes i GetAvailableFiles kan mottaker så benytte seg av operasjonen DownloadFileStreamed til å laste nedformidlingstjenesten. Denne tjenesten er basert på strømming av data. Tilslutt må mottaker bekrefte at de har mottatt filen ved å utføre et kall til ConfirmDownloaded. Dette gjør at avsender kan se at mottaker har hentet ned filen. Se kapittel 6.14.4 for mer informasjon.\nSom mottaker har man tilgang til underkvittering som gjelder for akkurat denne mottakeren. Mottaker kan da benytte GetReceiptV2 til å hente kvittering med tilhørende status, samt UpdateReceipt til å legge på en kvitteringstekst som også avsender vil ha tilgang til. Se henholdsvis kapittel 6.4.1 og 6.4.3 for mer informasjon om disse operasjonen.\nBatch grensesnitt eller tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste / Fil Operasjon / Format Type     BrokerService GetAvailableFiles Basic/WS/EC   BrokerServiceStreamed DownloadFileStreamed Basic/WS/EC   Receipt GetReceiptV2 Basic/WS   Receipt UpdateReceipt Basic/WS    Laste ned filer fra avsender (SFTP) OBS: SFTP-grensesnitt for formidlingstjenesten skal fases ut og skal ikke tas i bruk av nye aktører\nSom ved opplasting, støtter Altinn også nedlasting over SFTP. På samme måte må en egen SFTP-bruker opprettes i portalen, se kapittel 8.2.\nNår bruker logger på Altinns SFTP server vil det opprettes en egen virtuell filstruktur. Denne bygges blant annet opp basert på informasjon om formidlingstjenester tilgjengelig for nedlasting som mottaker. Filstrukturen som presenteres vil være bygd opp med følgendemappestruktur:\n Upload – benyttes til å droppe filer som skal lastes opp til Altinn. Download – mappe som samler alle formidlingstjenester tilgjengelig for bruker. \u0026lt;Avgiver\u0026gt; - egen mappe for hver enkelt avgiver bruker kan representere. \u0026lt;Tjenestekode\u0026gt; - egen mappe for hver enkelt tjenestekode det finnes formidlingstjenester for. \u0026lt;Tjenesteutgavekode\u0026gt; - egen mappe for hver enkelt tjenesteutgave. \u0026lt;Filer for formidlingstjenesten\u0026gt; - en eller flere ZIP-filer som er tilgjengelig for nedlasting.  SFTP-klient kan navigere denne filstrukturen og laste ned ønskede filer. En implementasjon av SFTP-klient kan således også direkte basert på denne oppbyggingen sammen med informasjon hentet fra web service GetAvailableFiles hente ut filer basert på status. Se kapittel 6.14.1 for mer informasjon om operasjonen GetAvailableFiles.\nNår en fil er lastet ned fra Altinns SFTP-server vil Altinn markere denne filen som nedlastet og oppdatere metadata og kvittering. Mottaker av formidlingstjenesten kan verifisere dette ved å hente underkvittering som tilhører den konkrete overføringen. Til dette benyttes operasjonen GetReceiptV2 ved å angi kvitteringsidentifikator mottatt gjennom GetAvilableServices, eller ved å søke på referansen SendersReference som oppgitt i mottatt manifest fil. Se kapittel 6.4.1 for mer informasjon om GetReceiptV2.\nDersom avsender og mottaker ønsker, kan ytterligere informasjon om status utveksles ved å oppdatere kvittering relatert til mottakers fil. Mottaker kan da benytte operasjon UpdateReceipt til å legge på fritekst. Avsender kan på sin side hente denne basert på GetReceiptV2 operasjonen. Se kapittel 6.4.3 for mer informasjon om UpdateReceipt.\nNår man benytter nedlasting med SFTP er det ikke nødvendig å bekrefte nedlastingen med noe kall til ConfirmDownloaded. Det blir gjort automatisk.\nBatch grensesnitt eller tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste / Fil Operasjon / Format Type     BrokerService SFTP-server Nedlasting av ZIP-fil inneholdende payload og manifest.xml iht. spesifikasjon angitt i avsnitt 6.15 SFTP   BrokerService GetAvailableFiles Basic/WS/EC   Receipt GetReceiptV2 Basic/WS   Receipt UpdateReceipt Basic/WS    Benytt innsynstjeneste Innsynstjenester er en tjenestetype i Altinn som benyttes for å presentere data fra tjenester som tilbys av tjenesteeiere, og kan sees på som et oppslag mot tjenesteeiers system. Grensesnitt for å aksessere tjenestene eksponeres til sluttbrukersystemer gjennom Altinn, og Altinn formidler responsen fra tjenestene til sluttbrukersystemet.\nSluttbrukersystemer kan velge å lagre en signert kopi av en innsynstjeneste som benyttes. Den signerte innsynstjenesten lagres da i brukers arkiv i Altinn. En innsynstjeneste som ikke er signert og arkivert vil ikke være tilgjengelig i Altinn etter at den er benyttet.\nOperasjonene tilgjengelig vil variere fra innsynstjeneste til innsynstjeneste. Hver tjenesteeier vil eksponere sitt eget sett av operasjoner relatert til sine innsynstjenester, og funksjonaliteten for disse kan variere. Generelt vil operasjonene returnere data for innsynstjenesten, og enkelte vil også muliggjøre arkivering av dataen.\nFinn arkiverte innsynstjenester Et sluttbrukersystem kan hente ut detaljer på arkiverte innsynstjenester. For å gjøre dette kalles typisk først en søkeoperasjon med filtrering som returnerer en liste (GetReporteeElementListV2). Merk at operasjonen vil returnere parameter ReporteeElementType med type LookUp for innsynstjenester.\nDeretter kan et enkelt element hentes med alle detaljer ved å benytte operasjonen GetArchivedLookup. Parameter reporteeElementID benyttes her som input for å identifisere den unike innsynstjenesten som skal hentes. Operasjonen returnerer dataen fra den arkiverte innsynstjenesten i form av binærdata som en PDF i parameteren LookupPDF.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeElementList GetReporteeElementListV2 Basic/WS/EC   ReporteeArchiveExternal GetArchivedLookup Basic/WS/EC    Gjøre oppslag på innsynstjenester En sluttbruker eller sluttbrukersystem kan gjøre oppslag på innsynstjenester som er konfigurert med mulighet for direkte kall i Altinn. Dette gjøres ved kall til ExecuteLookUp operasjonen med input om hvilken innsynstjeneste man skal benytte (ServiceCode og ServiceEditionCode), hvem avgiver at oppslaget er (Reportee) og selve spørringen til tjenesten (QueryData). QueryData oppgis som en tekststreng og vil variere etter hvilke operasjoner innsynstjenesten tilbyr.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   LookUpExternal ExecuteLookUp Basic/WS/EC    Benytt samhandlingstjeneste En samhandlingstjeneste er en tjeneste som knytter sammen andre tjenester. Samhandlingstjenester kan være definert av sluttbrukere (samleside) eller av tjenesteeiere (e-dialog). Gjennom samhandlingstjenester kan sluttbrukere og sluttbrukersystemer benytte et sett med tjenester som for bruker og/eller tjenesteeier hører naturlig sammen.\nNedenfor beskrives funksjonaliteten som kan benyttes fra sluttbrukersystemer for samhandlingstjenester. En tjeneste som er del av en samhandlingstjeneste instans kan også behandles individuelt, det vil si at all funksjonalitet som er tilgjengelig for sluttbrukersystemer for f.eks. innsendingstjenester kan også benyttes for innsendingstjenester som er del av en samhandlingstjeneste. En instans av en samhandlingstjeneste er definert som en sak, ”case”, og der hvor det skal refereres til en spesifikk instans av en samhandlingstjeneste benyttes derfor parameteren CaseID.\nFinn aktive og arkiverte samhandlingstjenester En liste over samhandlingstjenester kan hentes ut ved å kalle GetReporteeElementListV2 med søkeparametre som begrenser søket til samhandlingstjenester. For å søke etter kun samhandlingstjenester kan man benytte parameteren CollectionPages eller EDialogue, for å henholdsvis begrense søk til samlesider eller e-dialoger. Eventuelt kan også parameteren CaseID angis med den unike identifikatoren for en spesifikk samhandlingstjeneste, operasjonen vil i så fall kun returnere informasjon om denne. Merk at operasjonen vil returnere parameter ReporteeElementType med type Collaboration for samhandlingstjenester.\nInformasjon som vil bli returnert vil variere etter hva slags tjeneste informasjonen gjelder. For samhandlingstjenester vil blant annet følgende parametre returneres:\n CaseID - unik identifikator for samhandlingstjenesten IsCaseArchved - angir om samhandlingstjenesten er arkivert Notice – eventuell merknad på samhandlingstjenesten  For tjenester som er tilknyttet en samhandlingstjeneste vil parameteren ParentCaseName angi den unike referansen til samhandlingstjenesten den tilhører.\nSluttbrukersystemer kan også hente en liste med detaljer for aktive samhandlingstjenester, det vil si samhandlingstjenester som ikke har blitt arkivert, ved hjelp av operasjonen GetCaseList. Denne operasjonen vil kunne hente ut detaljer over alle samhandlingstjenester\n av en bestemt tjeneste og utgave ved å benyttes parametrene externalServiceCode og externalServiceEditionCode eller for én bestemt samhandlingstjeneste ved å bruke parameteren caseID  Sammen med disse parametrene kan også languageID og reporteeNumber sendes inn for å begrense resultatet.\nDenne operasjonen returnerer:\n CaseID – informasjon om samhandlingstjenestens unike identifikator CaseName – navnet på tjenesten Comments – eventuelle kommentarer satt av bruker på samhandlingstjenesten CurrentStateFriendlyName – visningsvennlig navn basert på språkparameter CurrentStateID – unik identifikator for tilstanden CurrentStateName – tilstandens navn Notice – eventuelle merknader fra etat satt på samhandlingstjenesten  Tjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   ReporteeElementList GetReporteeElementListV2 Basic/WS/EC   Case GetCaseList Basic/WS/EC    Opprett ny samhandlingstjeneste Sluttbrukersystemer kan opprette en ny instans av en samhandlingstjeneste, og dermed starte arbeidsflyten for tjenesten. Det er kun tjenesteeierdefinerte samhandlingstjenester som kan opprettes fra sluttbrukersystemer.\nParametrene externalServiceCode og externalServiceEditionCode i operasjonen InstantiateCollaboration angir type instans av samhandlingstjeneste som skal opprettes, og reporteeNumber angir fødselsnummer eller organisasjonsnummer den opprettes for. Disse er obligatoriske parametre. I tillegg til disse kan externalSystemReference, visibleDateTime og dueDate sendes inn. visibleDateTime angir når tjenesten skal være synlig i portalen, om denne ikke angis vil den umiddelbart bli synlig.\nOperasjonen returnerer den unike identifikatoren, CaseID, som kan benyttes videre til for eksempel å opprette instanser av innsendingstjenester knyttet til samhandlingstjenesten.\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   Case InstantiateCollaboration Basic/WS/EC    Avslutt samhandlingstjeneste Sluttbrukersystem kan velge å avslutte en aktiv samhandlingstjeneste. Innsendings- og meldingstjenester som inngår i samhandlingstjenesten må være arkivert før samhandlingstjenesten kan arkiveres som helhet.\nAlternativt kan sluttbrukersystemet benytte parameteren forceArchive. Settes denne til true vil samhandlingstjenesten bli arkivert med mindre det er aktive meldingstjenester knyttet til samhandlingstjenesten. Eventuelle aktive innsendingstjenester vil bli atskilt fra den arkiverte samhandlingstjenesten. Om forceArchive settes til false vil samhandlingstjenesten ikke bli arkivert om det fremdeles er aktive elementer tilknyttet den.\nParameter caseID angir samhandlingstjenesten som skal arkiveres, og operasjonen vil ved vellykket arkivering returnere en arkiv identifikator for samhandlingstjenesten\nTjenester og tjenesteoperasjoner som inngår i beskrevet funksjonalitet:\n   Tjeneste Operasjon Type     SystemAuthentication GetAuthenticationChallenge Basic   Case ArchiveCase Basic/WS/EC    "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/maintainance/",
	"title": "Vedlikehold av app i produksjon",
	"tags": [],
	"description": "Applikasjoner i produksjon krever jevnlig vedlikehold og oppdateringer.",
	"content": "Når applikasjonen er satt i produksjon, vil det oppstå behov for å vedlikeholde applikasjonen. Den vanligste vedlikeholdstypen vil være å oppdatere avhengigheter.\nFor å gjøre en ny versjon av applikasjonen tilgjengelig, produksjonssetter man den på samme måte som vanlig.\nInstanser av appen i brukers innboks vil automatisk oppdateres til å bruke siste versjon av applikasjonen, så det er viktig at man ikke innfører endringer som knekker eksisterende instanser.\n\rOppdatere avhengigheter i app\rHvordan oppdatere avhengigheter i en app.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/grensesnitt/abonnement/",
	"title": "Abonnement",
	"tags": [],
	"description": "Tjenesteeier kan sette opp abonnement for et skjemasett.",
	"content": "Subscription Subscription inneholder operasjoner relatert til abonnement på tjenester i Altinn.\nSubmitSubscription SubmitSubscription kalles for å lagre abonnement for ett eller flere skjemasett i Altinn. Det er mulig å sende abonnementsdata for mer enn ett oppgavesett i ett kall til SubmitSubscription. Skjemasettet må være definert som en tjeneste i tjenesteutviklingsløsningen og migrert til Altinn før en tjenesteeier kan sette opp abonnement for et skjemasett. Operasjon GetAvailableServices kan kalles for å sjekke om tjenesten for skjemasettet eksisterer i Altinn.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     externalBatchId Unik id for forsendelse. Denne defineres og settes av tjenesteeier. Returneres i kvittering. Identifikatoren kan senere benyttes av tjenesteeier for å hente ut kvittering for den gitte forsendelsen   SubscriptionDetails Liste med SubscriptionDetailsBE-objekter som inneholder metadata og abonnement   Property Beskrivelse   SubscriptionDetailsBE    SubscriptionList Liste med abonnement (SubscriptionBE-objekter)   SystemUserCode Kode som unikt representerer kildesystem, f.eks. \u0026ldquo;ABC-123\u0026rdquo;. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier   SubscriptionBE    ReporteeId Fødselsnummer eller organisasjonsnummer som identifiserer hvem dataene gjelder   StartDate Dato for når abonnementet skal aktiviseres (yyyy-MM-dd)   ExpirationDate Dato for når abonnementet opphører (yyyy-MM-dd)   NextScheduleDate Dato for når abonnementet skal instansieres neste gang (yyyy-MM-dd). Første dato settes av tjenesteeier, neste kalkuleres av runtiejobb i Altinn (basert på periodetype)   NextDueDate Dato for når abonnementet/innsendingstjenesten må være fylt ut av bruker i portal/sluttbrukersystem (yyyy-MM-dd). Første dato settes av tjenesteeier, neste kalkuleres av runtiejobb i Altinn (basert på periodetype)   VisibleDate Dato for når abonnementet skal være synlig i portal/for sluttbrukersystemer (yyyy-MM-dd)   SubscriptionPeriodType Angir hvor ofte abonnementet skal instansieres (obligatorisk): Annual - årlig, Semiannual - to ganger årlig, Quarterly - tre ganger årlig, Tertiary - fire ganger årlig, Bimonthly - annenhver måned, Monthly - hver måned, Fortnightly - hver 15. dag, Weekly - hver uke, Daily - hver dag, Once -abonnementet instansieres én gang   IdentityFields Liste (SubscriptionIdentityField-objekt) som inneholder identifiserende felter for det abonnementet. Settes kun hvis abonnementet skal kobles til et gitt preutfylt skjemasett   ExternalServiceEditionCode Utgave av tjenesten det skal opprettes abonnement for   ExternalServiceCode Unik identifikator for tjenesten det skal opprettes abonnement for   CaseId Valgfri referanse til samhandlingstjeneste skjema skal knyttes til   SubscriptionIdentityField    FieldValue Verdi for identifiserende feltet. Må angis hvis abonnement skal kobles til et preutfylt skjemasett. Se avsnitt Identifiserende felter for mer info   ReceiptBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask - Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, Broker - Formidlingstjeneste, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata,\tRegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: NotSet (standardverdi som brukes når status ikke er satt – skal ikke kunne mottas som verdi), OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering)   References Liste med ReferenceBE-objekter for kvitteringen   SubReceipts Liste med tilhørende Receipt-objekter (dersom denne kvitteringen er en hovedkvittering)   ReferenceBE    ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse    "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/grensesnitt/altut/",
	"title": "Altut",
	"tags": [],
	"description": "For bakoverkompatibilitet tilbys AltUt grensesnittet for registrering av meldinger til eksisterende tjenesteeiere. Nye tjenesteeiere skal benytte grensesnittet correspondence. AltUt grensesnittet blir ikke lenger oppdatert ettersom Altinn videreutvikles.",
	"content": "SubmitAltutMessagePw Operasjonen SubmitAltutMessagePw benyttes av eksisterende tjenesteeiere for å sende meldinger til avgivere i Altinn.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     altutMessage Meldingen som skal sendes til Altinn. Må være i henhold til AltUt.xsd (versjon 6.0)   Password Tjenesteeiers passord   Returverdi Beskrivelse   submitAltutMessagePwResult Kvittering for innsendingen. Er i henhold til GovOrganReceipt.xsd (versjon 6.0)    Se avsnitt Batch grensesnitt – Altut format for bilde av xml struktur i Altut.xsd.\nTabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten\n   Property Beskrivelse     altutMessage (AltUt.xsd)    Se definisjonen på xsd i avsnittet Batch grensesnitt – Altut format        Element Beskrivelse     GovOrganReceipt Rotnode   schemaVersion Versjon på kvittering   GovOrganReceipt.DataUnitInReceipt Elementet inneholder status på og tidspunkt for forsendelse, samt elementer for melding til kallende system   receiptType Kvitteringstype (valgfritt): PREFILL, ALTUT   status Status på innsending   timeReceived Tidspunkt for innsending   GovOrganReceipt.DataUnitInReceipt.Message Overordnet element   GovOrganReceipt.DataUnitInReceipt.Message.MessageEntry Elementet inneholder melding som beskriver resultat for forsendelse    "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/",
	"title": "API for Tjenesteeiere",
	"tags": [],
	"description": "Som tjenesteeier får du tilgang til en ekstra del av Altinns APIer. Den generelle delen om API er også nyttig for deg som tjenesteeier.",
	"content": "\rSeksjonen gjelder Altinn II API-beksrivelsene i denne seksjonen handler om API-ene som er tilgjengelige i Altinn II. I Altinn 3 er det nye API-er. Disse er beskrevet i API-beskrivelser i docs.altinn.studio\n\r\rAlle offentlige virksomheter som har tjenester på Altinn-plattformen kalles tjenesteeiere. Tjenesteeiere får tilgang til en egen del av Altinns REST-API og SOAP-API, som er beskrevet på denne siden. Selv om du er tjenesteeier vil du også kunne ha behov for den åpne delen av Altinns APIer.\nPå disse sidene har vi trukket ut den viktigste dokumentasjonen for tjenesteeiere. Se menyen til venstre for fullstendig dokumentasjon.\nTjenesteeiers valg av grensesnitt Flere av tjenestene tilbys med både web service– og batch-grensesnitt. Som en tommelfingerregel kan man si at skal man overføre færre enn 100 elementer (alternativt mindre enn 30 MB) kan man benytte web service grensesnitt, men for store datamengder bør batch-grensesnitt benyttes. Tommelfingerregelen er scenarioavhengig og ingen absoluttgrense. Enkelte ressurser er også tilgjengelig i Altinns REST API for tjenesteeiere. Overtid vil Webservice grensesnittet erstattes med REST Api.\nLike webservice operasjoner med forskjellige protokoller og endepunkter Alle operasjonene er tilgjengelig på to protokoller (bindings).\n Operasjoner som benytter SOAP 1.1 er kjennetegnet med navnendelsen –Basic. Operasjoner som benytter SOAP 1.2 er kjennetegnet med navnendelsen –WS. Operasjoner som benytter SOAP 1.2 og sertifikat er kjennetegnet med navnendelsen –EC.  Sertifikatet er knyttet til avgiver, slik at flere brukere kan benytte samme sertifikat. For tjenesteeiere blir EC grensesnitt autentisert ved bruk av et sertifikat og agency system brukernavn og passord.\nAEC grensesnitt benytter SOAP 1.2 og sertifikat, men krever ikke bruk av agency systemer, med brukernavn og passord. I stedet hentes Organisasjonsnummer direkte fra sertifikatet som brukes til autentisering, som så valideres opp mot registrerte tjenesteeiere.\nVersjonering av webservice operasjoner Flere av operasjonene i dette dokumentet vil kunne eksistere i flere versjoner. Dette for å være tilbakekompatibel med eventuelt eksisterende klienter. Når en endring blir gjort for en gitt operasjon opprettes det en ny operasjon med tilsvarende navn som ender med et versjonsnummer, for eksempel V2. Dette gjør at gamle klienter vil kunne fortsette å benytte gammel metode og WSDL, mens nye klienter kan (og oppfordres til) benytte nyeste metode og WSDL.\nMerk at ikke alle grensesnitt nødvendigvis vil benytte denne endelsen. Dette gjelder i de tilfeller hvor operasjonen ikke tidligere er tilgjengeliggjort og dermed ikke har noen forgjenger, for eksempel gjelder dette for mange av EC grensesnittene.\nDette dokumentet vil dokumentere den nyeste versjonen av operasjonene. For dokumentasjon av tidligere versjoner henvises det til tidligere dokumentversjoner.\nRegistrering For å kunne sende og/eller motta data til/fra Altinn må tjenesteeier registrere sitt system og motta passord som skal benyttes ved overføring(ene). Registrering gjøres ved at tjenesteeier bestiller tilgang via skjema som finnes på Brønnøysundregistrenes selvbetjeningsportal (krever innlogging). Driftsleverandør registrerer systemet basert på registrert skjema, og passord kommuniseres tilbake til tjenesteeier. System og passord brukes da som henholdsvis systemUserName og systemPassword i kall mot Altinn.\nAutentisering og autorisering Når tjenesteeier via egne systemer benytter tjenester mot Altinn blir det registrerte systemet autentisert og autorisert før det kan utføre operasjoner mot Altinn. Tjenesteeiers system må være registrert i Altinn og passord mottatt før tjenestene kan benyttes.\nVed bruk av batch grensesnitt blir tjenesteeier autentisert gjennom FTP/SFTP protokollen på vanlig vis. Eller Altinn autentiserer seg ved henting på FTP/SFTP.\nVarselsmaler Altinn har mulighet til å sende ut predefinerte varsler til sluttbrukerne når tjenesteeier sender meldinger, legger inn prefill, og ved sending av frittstående varsel. Disse varslene må være definert i Altinn før de kan benyttes av tjenesteeier.\nFor å opprette en ny varslingsmal må tjenesteeier bestille dette ved å benytte skjema som finnes på Brønnøysundregistrenes eksternnett. Her kan det velges hvilke språk (norsk, nynorsk og engelsk) og varslingsmetoder (e-post og SMS) varslesmalen skal støtte. Når varselsmalen skal benyttes i web services eller batch vil kombinasjonen av navn på varslingsmalen (NotificationType), varslingsmetode (TransportType) og språk angi hvilken tekst som sendes ut.\nVarselsmalen kan også opprettes med såkalte tokens/substitusjonsvariabler angitt ved {0}, {1} osv. som lar tjenesteeier sende inn egendefinerte tekststrenger. Disse angis i rekkefølge ved å benytte parameteren TokenValue.\nVarsel sendes basert på informasjon om konkret angitte adresser, mobiltelefonnummer og/eller e-post adresse, som sendes Altinn, eller ved å oppgi enten fødselsnummer eller organisasjonsnummer. I de to siste tilfellene vil Altinn slå opp i informasjon lagret i Altinn for å sende varsel: for fødselsnummer i brukerens kontaktinformasjon i kontakt og reservasjonsregisteret til Difi, for organisasjonsnummer i organisasjonens profilside. Profilsiden til en organisasjon vil inneholde en liste over varslingsadresser lagt inn av organisasjonen selv.\nVarselsmakroer Det er en del varslings-makroer tilgjengelig for bruk i Notification løsninger for tjenesteeier. En makro er en kort tekst som byttes ut med data fra Altinns Register. Register data blir hentet ut basert på ReporteeNumber eller ReporteeElementId koblet til en Notification.\nMakroer legges inn som en del av NotificationTemplate, men kan også leveres i en text-token. Makroer er case-sensitive.\n   Makro Beskrivelse     $reporteeFirstName$ Fornavn til Reportee   $reporteeMiddleName$ Mellomnavn til Reportee   $reporteeLastName$ Etternavn til Reportee   $reporteeName$ Fullt navn til Reportee   $reporteeNumber$ Gir organisasjonsnummer for en organisasjon, gir en tom streng ikke noe for en person.   $reporteeBirthMonth$ $reporteeBirthDay$ $reporteeBirthYear$ $reporteeBirthDay(dd/mm/yy)$ $reporteeBirthDay(yyyy-mm-dd)$ $reporteeBirthDay(yy/dd/mm)$ $reporteeBirthDay(dd.mm)$ Forskjellige utgaver av en persons fødselsdag. Dersom man bruker $reporteeBirthDay(#)$, så vil fødsels-dato avgis på formatet som er avgitt av #, med en kombinasjon av yyyy, yy, mm og dd. Så om man gir $reporteeBirthDay(yyyy-mm-dd)$ vil man for eksempel få ut 1977-11-23.   $reporteePostalCode$ $reporteePostalArea$ $reporteePostalAddress1$ $reporteePostalAddress2$ $reporteePostalAddress3$ Post-addresse data til Reportee.   $reporteeEmail$ $reporteeMobileNumber$ Telefonnavn eller Email til Reportee.   $servicename$ Tjenestenavn på ReporteeElement som er koblet til en Notification. Brukes i Prefill/Correspondence sammenheng.   $servicename|SC:#|SEC:#$ Gir navn på en spesifisert tjeneste. # byttes her ut med relevant ServiceCode / ServiceEditionCode.    Tjenesteutvikling og samspill med integrasjon Tjenester for innsendinger, meldinger, formidling, innsyn og samhandling etableres i tjenesteutviklingsløsningen (TUL), og benyttes i sluttbrukerløsningen (SBL), dvs. Altinn portalen og integrerte systemer (sluttbrukersystemer og systemer hos tjenesteeiere). Samspillet mellom en tjeneste i TUL og integrasjonspunkter er etablert gjennom å benytte:\n   Begrep i TUL Begrep i AltinnII Begrep i AltinnI Beskrivelse     Tjenestekode ServiceCode (noen steder også angitt som ExternalServiceCode N/A Angir tjenestekode for Altinn tjenesten, for eksempel \u0026ldquo;MT0001\u0026rdquo; (innsendingstjeneste). Alfanumerisk verdi. Oppstår i TUL. Kombinasjonen av Tjenestekode og Tjenesteutgavekode er unik i Altinn.   Tjenesteutgavekode ServiceEdition (noen steder også angitt som ServiceEditionCode eller ExternalServiceEditionCode N/A Angir utgaven på tjenestekoden, for eksempel 12311 (for tjenestekode \u0026ldquo;MT0001\u0026rdquo;). Tallverd. Oppstår i TUL. Kombinasjonen av Tjenestekode og Tjenesteutgavekode er unik i Altinn.   N/A DataFormatId Skjemanummer Angir id som metadatakilde har satt på dataenheten (skjema), for eksempel \u0026ldquo;268\u0026rdquo;. Alfanumerisk verdi. Benyttes i Skjema elementet som omkranser faktiske skjemadata (xml). Metadatakilde kan for eksempel være Oppgaveregisteret (OR). Kombinasjonen av DataFormatId og DataFormatVersion er unik.   N/A DataFormatVersion Spesifikasjonsnummer Angir versjon som metadatakilde har satt på dataenheten (skjema), for eksempel 6370. Tallverdi. Benyttes i Skjema elementet som omkranser faktiske skjemadata (xml). Metadatakilde kan for eksempel være Oppgaveregisteret (OR). Kombinasjonen av DataFormatId og DataFormatVersion er unik.   Metode for oversending ShipmentDefinition N/A Angir forsendelsesoppsett, dvs. unik alfanumerisk id som peker til informasjon om hva slags data som sendes/mottas, og hvordan det skal pakkes/settes sammen før utsending. Oppstår ved etablering av grensesnitt mellom Altinn og system som vil integrere seg med Altinn.   N/A ReporteeElementID N/A Angir den unike identifikatoren for en spesifikk tjeneste (innsendings-, meldings-, innsyns-, eller samhandlingstjeneste)   N/A CaseID N/A Angir den unike identifikatoren for en spesifikk samhandlingstjeneste, benyttes blant annet til å knytte andre tjenester opp mot samhandlingstjenesten.    \rFunksjonelle scenario\rAltinn tilbyr flere tjenester innenfor flere funksjonelle områder for tjenesteeiere. Her beskrives hvilken funksjonalitet som finnes med referanser til hvilke grensesnitt som benyttes.\n\r\rREST\rSom tjenesteeier får du tilgang til en ekstra del av Altinns REST-api. Selv om du er tjenesteeier vil du også kunne ha behov for den åpne delen av REST APIet.\n\r\rSOAP\rSom tjenesteeier får du tilgang til en ekstra del av Altinns SOAP-api.\n\r\rBatch\rOversikt over hvilke batch grensesnitt som tilbys i Altinn.\n\r\rFAQ - Tjenesteeier API\rHer noteres svar på ofte spurte spørsmål om Tjenesteeiers API.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/grensesnitt/autorisasjon/",
	"title": "Autorisasjon",
	"tags": [],
	"description": "Operasjoner for Altinns autorisasjonskomponent.",
	"content": "AuthorizationAdministration AuthorizationAdministration er tjenesten i Altinn for import av eksterne regler og ressurser brukt til å ta avgjørelser der Altinns autorisasjonskomponent benyttes. Er tilknyttet tjenesten AuthorizationDecisionPointExternal som benytter importert informasjon.\nImportAuthorizationPolicy Operasjon for å importere XACML regler for ekstern autorisering.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     authorizationRulesXml XML på XACML standard som inneholder autorisasjonsreglene   Returverdi Beskrivelse   Boolsk Returnere status for regelimporten, true, vellykket eller false, feilet    Altinn spesifikke elementer XACML-forespørselen:\n   Foreldrenode AttributeId AttributeValue verdier     Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:rolecode Kode for rollen   Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:authenticationlevel Autentiseringsnivå 0, 1, 2, 3, 4. Hvilke nivå som skal kreves for en resurs.   Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:delegatable true / false kan rettigheten delegeres videre   Subject urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:external-resource Ekstern ressursdefinisjon   Subject urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id Read Write Sign ArchiveRead ArchiveDelete ServiceOwnerArchiveRead Delegate   Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:rolecode Kode for rollen    Følgende er et eksempel på valid XACML for eksterne regler: AuthorizationPolicy\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;xacml:Policy xmlns:xacml=\u0026#34;urn:oasis:names:tc:xacml:2.0:policy:schema:os\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;urn:oasis:names:tc:xacml:2.0:policy:schema:os http://docs.oasis-open.org/xacml/2.0/access_control-xacml-2.0-policy-schema-os.xsd\u0026#34; PolicyId=\u0026#34;#1\u0026#34; Version=\u0026#34;1.0\u0026#34; RuleCombiningAlgId=\u0026#34;urn:oasis:names:tc:xacml:1.0:rule-combiningalgorithm:deny-overrides\u0026#34;\u0026gt; \u0026lt;xacml:Description\u0026gt;This is an example RolePolicy XACML and how it should be sent from external systems to add external rules\u0026lt;/xacml:Description\u0026gt; \u0026lt;xacml:Target/\u0026gt; \u0026lt;xacml:Rule RuleId=\u0026#34;#1\u0026#34; Effect=\u0026#34;Permit\u0026#34;\u0026gt; \u0026lt;xacml:Description\u0026gt;This is a rule giving a person with DAGL READ for the external resource NAVRF1030\u0026lt;/xacml:Description\u0026gt; \u0026lt;xacml:Target\u0026gt; \u0026lt;xacml:Subjects\u0026gt; \u0026lt;xacml:Subject\u0026gt; \u0026lt;xacml:SubjectMatch MatchId=\u0026#34;urn:oasis:names:tc:xacml:2.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;DAGL\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:SubjectAttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:rolecode\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;/\u0026gt; \u0026lt;/xacml:SubjectMatch\u0026gt; \u0026lt;xacml:SubjectMatch MatchId=\u0026#34;urn:oasis:names:tc:xacml:2.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#integer\u0026#34;\u0026gt;2\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:SubjectAttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:authenticationlevel\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;/\u0026gt; \u0026lt;/xacml:SubjectMatch\u0026gt; \u0026lt;xacml:SubjectMatch MatchId=\u0026#34;urn:oasis:names:tc:xacml:2.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#boolean\u0026#34;\u0026gt;false\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:SubjectAttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:delegatable\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;/\u0026gt; \u0026lt;/xacml:SubjectMatch\u0026gt; \u0026lt;/xacml:Subject\u0026gt; \u0026lt;/xacml:Subjects\u0026gt; \u0026lt;xacml:Resources\u0026gt; \u0026lt;xacml:Resource\u0026gt; \u0026lt;xacml:ResourceMatch MatchId=\u0026#34;urn:oasis:names:tc:xacml:2.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#integer\u0026#34;\u0026gt;NAVRF1030\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:ResourceAttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:external-resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;/\u0026gt; \u0026lt;/xacml:ResourceMatch\u0026gt; \u0026lt;/xacml:Resource\u0026gt; \u0026lt;/xacml:Resources\u0026gt; \u0026lt;xacml:Actions\u0026gt; \u0026lt;xacml:Action\u0026gt; \u0026lt;xacml:ActionMatch MatchId=\u0026#34;urn:oasis:names:tc:xacml:2.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;Read\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:ActionAttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string \u0026#34;/\u0026gt; \u0026lt;/xacml:ActionMatch\u0026gt; \u0026lt;/xacml:Action\u0026gt; \u0026lt;/xacml:Actions\u0026gt; \u0026lt;/xacml:Target\u0026gt; \u0026lt;/xacml:Rule\u0026gt; \u0026lt;/xacml:Policy\u0026gt; GetRoles Operasjon for å hente ut en liste over roller etter angitte søkekriterier\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     systemUserName Org.nummer for enheter, fødselsnummer for enkeltpersoner   systemPassword Passord   roleSearchBE ExternalRoleSearchBE-objekt   Returverdi Beskrivelse   ExternalRoleBEList Liste med ExternalRoleBE-objekter   Returverdi Beskrivelse    ExternalRoleBE   RoleTypeSource    RoleCode Rollekode   RoleName Navn på rolle   OfferedBy Enhet/bruker som rollen gjelder for   Enhet/bruker som innehar rollen Enhet/bruker som innehar rollen   DelegatedBy Enhet/bruker som har delegert rollen    ExternalRoleSearchBE   CoveredByParty Enhet som innehar rollen   CoveredByUser Bruker som innehar rollen   LanguageID Språkid (English 1033, Bokmål 1044, Nynorsk 2068)   OfferedByParty Enhet som rollen gjelder for   RoleCodeFilter Filtrer med spesific rollekode. Støtte for kun 1 rolle om gangen    Dersom man sender med verdi i søket (RoleSearch-objektet) for OfferedByParty, kan man ikke samtidig sende med verdier for både CoveredByUser og CoveredByParty, og man kan heller ikke søke på OfferedParty uten å sende med verdi for enten CoveredByUser eller CoveredByParty.\nEksempelkall:\n\u0026lt;soap:Envelope xmlns:soap=\u0026#34;http://www.w3.org/2003/05/soap-envelope\u0026#34; xmlns:ns=\u0026#34;http://www.altinn.no/services/Authorization/Administration/2010/10\u0026#34; xmlns:ns1=\u0026#34;http://schemas.altinn.no/services/Authorization/Administration/2009/10\u0026#34;\u0026gt; \u0026lt;soap:Header/\u0026gt; \u0026lt;soap:Body\u0026gt; \u0026lt;ns:GetRoles\u0026gt; \u0026lt;ns:roleSearchBE\u0026gt; \u0026lt;ns1:CoveredByParty\u0026gt;orgnummer1\u0026lt;/ns1:CoveredByParty\u0026gt; \u0026lt;ns1:CoveredByUser\u0026gt;\u0026lt;/ns1:CoveredByUser\u0026gt; \u0026lt;ns1:LanguageID\u0026gt;1044\u0026lt;/ns1:LanguageID\u0026gt; \u0026lt;ns1:OfferedByParty\u0026gt;orgnummer2\u0026lt;/ns1:OfferedByParty\u0026gt; \u0026lt;ns1:RoleCodeFilter\u0026gt;\u0026lt;/ns1:RoleCodeFilter\u0026gt; \u0026lt;/ns:roleSearchBE\u0026gt; \u0026lt;/ns:GetRoles\u0026gt; \u0026lt;/soap:Body\u0026gt; \u0026lt;/soap:Envelope\u0026gt; GetReportees Operasjon for å hente ut en liste over mulige avgivere for et gitt fødselsnummer.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     userSSN Fødselsnummeret til brukeren det skal hentes avgivere for – pålagt parameter   retrieveInActiveReportee Flagg for å sette om også inaktive avgivere skal returneres, standard False – valgfri parameter   RetrieveSubEnitiy Flagg for å sette om også underenheter skal returneres, standard False – valgfri parameter   maximumReporteeCount Verdi for maksimum antall avgivere som skal returneres, standard satt til alle – valgfri parameter   Returverdi Beskrivelse   ExternalReporteeBEList Liste med ExternalReporteeBE-objekter   Returverdi Beskrivelse   ExternalReporteeBEList Liste med ExternalReporteeBE-objekter   Returverdi Beskrivelse    ExternalReporteeBE   Name Avgivers navn   OrganizationNumber Organisasjonsnummer for denne avgiveren hvis dette er en organisasjon   SSN Fødselsnummer for denne avgiveren hvis dette er en person   ReporteeType Typebeskrivelse for hvilken type avgiver dette er: None, Person, Organization, eller SelfIdentified (ikke et praktisk mulig scenario i denne sammenhengen)    GetReporteeByTempKey Operasjon for å hente ut informasjon om avgiver basert på nøkkel opprettet for lenketjenesten. Nøkkelen er kun gyldig i en tidsbegrenset periode, og kan kun benyttes en gang.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     tempKey Nøkkel som angitt i lenketjenestens request URL, vil utgå etter at informasjon er hentet ut – pålagt parameter   Returverdi Beskrivelse   ExternalReporteeBE ExternalReporteeBE-objekt   Returverdi Beskrivelse    ExternalReporteeBE   Name Avgivers navn   OrganizationNumber Organisasjonsnummer for denne avgiveren hvis dette er en organisasjon.   SSN Fødselsnummer for denne avgiveren hvis dette er en person   ReporteeType Typebeskrivelse for hvilken type avgiver dette er: None, Person, Organization, eller SelfIdentified (ikke et praktisk mulig scenario i denne sammenhengen)    AuthorizationDecisionPointExternal AuthorizationDecisionPointExternal er en tjeneste Altinn tilbyr til tjenesteeiere som ønsker å benytte Altinns autorisasjonskomponent. Tjenesten kan benyttes til autorisasjon både for eksterne resurser og for tjenester. Autorisasjons regler settes henholdsvis ved hjelp av AuthorizationAdministration tjenesten og i TUL.\nPåfølgende kapitler beskriver tjenesteoperasjonene for denne tjenesten.\nAuthorizeAccessExternalV2 Operasjon som benytter XACML standarden og regler lagret i Altinn til å returnere en autorisasjonsbeslutning.\nBesluttningsgrunnlaget til autorisasjon for eksterne resurser er de regler som tjenesteeier selv setter ved hjelp av tjenesten AutorizationAdministration når resursen defineres. Besluttningsgrunnlaget til autorisasjon for tjenester er de regler som tjenesteeier har satt på tjenesten i TUL.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     XACMLRequest XACML standardisert forespørsel   Returverdi Beskrivelse   Resultat XACML standardisert svar   Tjenesten benytter en XSD til å validere input.     I tillegg er det en del regler relatert til utfylling som XSD ikke klarer fange opp. XACML-forespørselen skal inneholde en kombinasjon av følgende elementer:\n   Foreldrenode AttributeId AttributeValue verdier     Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn Utførende brukers fødselsnummer   Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:orgno Utførende organisasjons organisasjonsnummer   Subject urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:oauth-accesstoken Referanse token for et spesifikk samtykke utførende bruker/org skal benytte. Må hentes fra AuthorizationExternal/TokenExternalEC.svc tjenesten.   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn Avgivers fødselsnummer   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno Avgivers organisasjonsnummer   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:external-resource Ekstern ressursdefinisjon   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode Eksterne tjenestekode   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode Ekstern utgavekode (tilhørende overnevnte tjenestekode)   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reporteeelementid Den unike id\u0026rsquo;en til et aktivt reportee element / correspondence   Resource urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:archivereporteeelementid Den unike id\u0026rsquo;en til et arkivert reportee element / correspondence   Action urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id Read, Write, Sign, ArchiveRead, ArchiveDelete, Access, ServiceOwnerArchiveRead, Delegate   Environment urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment De ulike miljøer    Mulige Subject kombinasjoner:\n Utførende brukers fødselsnummer (urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn) eller utførende oranisasjons org.nummer (urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:orgno) Utførende brukers fødselsnummer (urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn) eller utførende oranisasjons org.nummer (urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:orgno), og referanse token for relatert samtykke (urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:oauth-accesstoken).  Mulige Resource kombinasjoner:\n Ekstern tjenestekode og utgavekode: Avgivers fødselsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn) eller avgivers organisasjonsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno), og ekstern tjenestekode og utgavekode (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode og urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode) Ekstern ressursdefinisjon: Avgivers fødselsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn) eller avgivers organisasjonsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno), og ekstern ressursdefinisjon (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:external-resource). ReporteeElementId: Avgivers fødselsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn) eller avgivers organisasjonsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno), og ReporteeElementId (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reporteeelementid). ArchiveReporteeElementId: Avgivers fødselsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn) eller avgivers organisasjonsnummer (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno), og ArchiveReporteeElementId (urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:archivereporteeelementid).  Signeringsrettigheter oppfører seg noe annerledes enn de andre. Signering er en rettighet som kun kan gis på konkrete prosesssteg i livsløpet til et element. For å kunne gi helt korrekt svar på om en person har lov til å signere er Altinn derfor avhengig av å få oppgitt id til et reporteeelement.\nUnntaket fra dette er om en tjeneste har kun ett signeringssteg. I et slikt tilfelle kan Altinn anta at når det endelig skal signeres så vil aktivt prosesssteg være dette ene steget. På slike tjenester er det derfor trygt å oppgi tjenestekoder istedenfor reporteeelementid.\nHvis en tjeneste har flere signeringssteg vil Altinn velge det første signeringssteget i prosessen. Dette kan i enkelte tilfeller føre til feil konklusjon. Hvis for eksempel en revisor skal signere et element i signeringssteg 2 (etter regnskapsfører), så kan Altinn svare negativt på spørsmål om revisor kan signere (benytter sign steg 1) selv om revisor vil få lov når elementet endelig kommer til revisors signeringssteg i prosessen.\nAltinn selv har ikke mulighet til å sjekke signeringsrettighet uten å ha id til et reporteeelement. Sjekk av signeringsrettighet basert på tjenestekoder er logikk laget spesielt for AuthorizeAccessExternalV2.\nSjekk på arkiv operasjonene ArchiveRead og ArchiveDelete på element nivå kan gjøres både ved forespørsel på arkiv element id og på aktivt element eller correspondence id fra før elementet ble arkivert. Oppgir man aktivt element eller correspondence id vil Altinn selv forsøke å slå opp arkiv id og autorisere tilgang for denne, er elementet ikke arkivert enda får man besluttningen: Indeterminate.\nDet må også angis hvilke miljø det gjelder (urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment)\nNedenfor vises eksempler på gyldige forespørsler:\nAuthorizationRequest\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;Request xmlns=\u0026#34;urn:oasis:names:tc:xacml:2.0:context:schema:os\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;urn:oasis:names:tc:xacml:2.0:context:schema:os http://docs.oasis-open.org/xacml/access_control-xacml-2.0-context-schema-os.xsd\u0026#34;\u0026gt; \u0026lt;!-- Altinn Sample Request. --\u0026gt; \u0026lt;!-- This authorization request tries to verify if user 07037612345 is allowed to --\u0026gt; \u0026lt;!-- perform read operation on external resource belonging to reportee 010203401944 --\u0026gt; \u0026lt;!-- there is a registered consent for the record. --\u0026gt; \u0026lt;Subject\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;07037512345\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Subject\u0026gt; \u0026lt;Resource\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-ssn\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;010203401944\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:external-resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;RF1080NAV\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Resource\u0026gt; \u0026lt;Action\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;Read\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Action\u0026gt; \u0026lt;Environment\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;AT6\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Environment\u0026gt; \u0026lt;/Request\u0026gt; \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;Request xmlns=\u0026#34;urn:oasis:names:tc:xacml:2.0:context:schema:os\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;urn:oasis:names:tc:xacml:2.0:context:schema:os http://docs.oasis-open.org/xacml/access_control-xacml-2.0-context-schema-os.xsd\u0026#34;\u0026gt; \u0026lt;!-- Altinn Sample Request. --\u0026gt; \u0026lt;!-- This authorization request tries to verify if user --\u0026gt; \u0026lt;!-- 06069460079 is allowed to perform sign operation --\u0026gt; \u0026lt;!-- on behalf of reportee 910453777 --\u0026gt; \u0026lt;!-- on service 2298, edition 60804 --\u0026gt; \u0026lt;Subject\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;06069460079\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Subject\u0026gt; \u0026lt;Resource\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:reportee-orgno\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;910453777\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalservicecode\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;2298\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:externalserviceeditioncode\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;60804\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Resource\u0026gt; \u0026lt;Action\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;Sign\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Action\u0026gt; \u0026lt;Environment\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;TT02\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Environment\u0026gt; \u0026lt;/Request\u0026gt; \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;Request xmlns=\u0026#34;urn:oasis:names:tc:xacml:2.0:context:schema:os\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;urn:oasis:names:tc:xacml:2.0:context:schema:os http://docs.oasis-open.org/xacml/access_control-xacml-2.0-context-schema-os.xsd\u0026#34;\u0026gt; \u0026lt;!-- Altinn Sample Request. --\u0026gt; \u0026lt;!-- This authorization request tries to verify if user --\u0026gt; \u0026lt;!-- 06069460079 is allowed to perform ArchiveRead operation on an Archived reportee element --\u0026gt; \u0026lt;Subject\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:subject:urn:altinn:ssn\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;06069460079\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Subject\u0026gt; \u0026lt;Resource\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:resource:urn:altinn:archivereporteeelementid\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;1053165\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Resource\u0026gt; \u0026lt;Action\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:action-id\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;ArchiveRead\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Action\u0026gt; \u0026lt;Environment\u0026gt; \u0026lt;Attribute AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:action:urn:altinn:environment\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;AttributeValue\u0026gt;TT02\u0026lt;/AttributeValue\u0026gt; \u0026lt;/Attribute\u0026gt; \u0026lt;/Environment\u0026gt; \u0026lt;/Request\u0026gt; Operasjonen returnerer XML som også følger XACML standarden. Under vises et eksempel på en response.\nAuthorizationResponse\n\u0026lt;xacml:Response xmlns:tns=\u0026#34;urn:oasis:names:tc:xacml:2.0:policy:schema:os\u0026#34; xmlns:xacml=\u0026#34;urn:oasis:names:tc:xacml:2.0:context:schema:os\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;urn:oasis:names:tc:xacml:2.0:context:schema:os http://docs.oasis-open.org/xacml/2.0/access_control-xacml-2.0-context-schema-os.xsd\u0026#34;\u0026gt; \u0026lt;xacml:Result ResourceId=\u0026#34;\u0026#34;\u0026gt; \u0026lt;xacml:Decision\u0026gt;Permit\u0026lt;/xacml:Decision\u0026gt; \u0026lt;xacml:Status\u0026gt; \u0026lt;xacml:StatusCode Value=\u0026#34;urn:oasis:names:tc:xacml:2.0:response:urn:altinn:ok\u0026#34; /\u0026gt; \u0026lt;xacml:StatusMessage\u0026gt;\u0026lt;/xacml:StatusMessage\u0026gt; \u0026lt;/xacml:Status\u0026gt; \u0026lt;tns:Obligations\u0026gt; \u0026lt;tns:Obligation FulfillOn=\u0026#34;Permit\u0026#34; ObligationId=\u0026#34;\u0026#34;\u0026gt; \u0026lt;tns:AttributeAssignment AttributeId=\u0026#34;urn:oasis:names:tc:xacml:2.0:obligation:urn:altinn:authenticationlevel\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt; \u0026lt;tns:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#integer\u0026#34;\u0026gt;3\u0026lt;/tns:AttributeValue\u0026gt; \u0026lt;/tns:AttributeAssignment\u0026gt; \u0026lt;/tns:Obligation\u0026gt; \u0026lt;/tns:Obligations\u0026gt; \u0026lt;/xacml:Result\u0026gt; \u0026lt;/xacml:Response\u0026gt; "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/grensesnitt/batchlogging/",
	"title": "Batch logging",
	"tags": [],
	"description": "Hente ut feilmeldinger fra behandling av batch jobber",
	"content": "BatchLoggingAgencyExternal Denne tjenesten gir tjenesteeier tilgang til feil som har forekommet under behandling av batch jobber. Som en del av denne tjeneste-beskrivelsen vil følgende stikkord bli brukt:\n DataBatch - referer til en batch fil levert til altinn av tjenesteeier. DataItem - en Xml entitet i DataBatch. I en Correspondence fil vil for eksempel en enkel Correspondence være et DataItem. Issue - en feil, warning eller informasjons melding som forekom under behandling av DataBatch og DataItem.  GetStatusOverview Denne operasjonen gir en oversikt over DataBatcher som er blitt behandlet, og antall Issues som er opplevd under behandling.\n   Input Beskrivelse     BatchLoggingRequest Angir søke-kriterier for DataBatcher og DataItems   Returverdi Beskrivelse   BatchLoggingResult Resultat for søke-kriterier   Property Beskrivelse    BatchLoggingRequest   SystemUserCode Angir hvilken tjenesteeier requesten gjelder for. SystemUserCode er spesifikk for en gitt ShipmentDefinition, og er vanligvis angitt i filen som er blitt levert til Altinn   DataBatchType? Angir hva slags type Batch som ønskes returnert. Mulige verdier er: ActivateSubscription – Aktivering av en eksisterende subscription, Notification – Utsending av varsel, Correspondence – Innlesing av correspondence, Prefill – Innlesing av prefill, RgisterDSFProperty – Innlesing av DSF property, RegisterDSFPropertyAdd – Innlesing av DSF property husnumre, RegisterDSFStreet – Innlesing av DSF gate, RegisterDSFStreetAdd – Innlesing av DSF Gate husnumre, RegisterDSFUser – Innlesing av DSF person, RegisterER – Innlesing av organisasjons-data, Subscription – Innlesing av Subscription data   BatchLoggingDateTimeRequest Angir en Til og Fra dato hvor fil-innlesing blir gjort   FileName Angir filnavn på DataBatch. Må være eksakt fullt filnavn. (Correspondence.xml må altså angis som «Correspondence.xml»   DataBatchId? Angir en spesifikk DataBatchId å returnere data for   Sequence? Angir et spesifikt sekvensnummer å returnere data for. Sequence blir satt i hver fil som leveres til Altinn   FromIssueId? Begynn å returnere Issues fra denne IssueId. Det leveres aldri mer enn 10.000 issues fra et enkelt kall, så i tilfelle hvor mer enn 10.000 issues eksisterer vil resterende issues kunne returneres ved bruk av denne verdien    BatchLoggingStatusOverview   DataBatches (List) Liste av DataBatcher funnet med søke-kriterier   NumberOfIssues Totalt antall Issues som er blitt returnert    DataBatch   StartDate Når behandling av DataBatch startet   EndDate Når DataBatch var ferdig behandlet   DataBatchId Unik identifikator for DataBatch   Sequence Sekvensnummer angitt i DataBatch   ShipmentId Identifikator for Shipment opprettet for DataBatch   FileName Filnavn for DataBatch   NumberOfIssues Antall feil opplevd for DataBatch    Tabellen under angir feilmeldinger.\n   Feilkode Beskrivelse     31033 BatchLoggingRequest var ikke riktig angitt    GetDetailedStatus Denne operasjonen gir en oversikt over DataBatcher som er blitt behandlet, med tilhørende Issue og metadata for DataItem.\n   Input Beskrivelse     BatchLoggingRequest Angir søke-kriterier for DataBatcher og DataItems   Returverdi Beskrivelse   BatchLoggingResult Resultat for søke-kriterier   Property Beskrivelse    BatchLoggingDetailedStatus   DataBatches (List DataBatch) Liste av DataBatcher funnet med søke-kriterier   DataItems (List DataItem) Liste med metadata for DataItems som har opplevd Issues under behandling   Issues (List Issue) Liste med feil opplevt under DataBatch behandling   NumberOfIssues Totalt antall Issues som er blitt returnert    DataItem   DataItemId Unik identifikator for DataItem   DataBatchId Unik identifikator for DataBatch som DataItem hører til.   Line Linjenummer for DataItem i fil   Position Posisjon for DataItem i fil   Data Rå Xml data for DataItem. Returneres kun i GetDataItem (9.18.3)   State Status på DataItem   ServiceCode Tjenestekode for DataItem   ServiceEditionCode Tjenesteversjonskode for DataItem    Issue   DataItemId? DataItem for Issue   DataBatchId DataBach for Issue   ErrorDateTime Når Issue oppstod   IssueType Typen Issue som er opplevd    IssueType   Code ErrorCode for IssueType   Description Feilmelding for IssueType   Level Hvor alvorlig Issuet var. Verdier som kan avgis er: Other, Information, Warning, Error, Critical    GetDataItem Denne operasjonen returnerer metadata og rå Xml data for en spesifikk DataItem (Xml-entitet) som har feilet under behandling.\n   Input Beskrivelse     dataItemId Spesifikk identifikator for et DataItem   DataItem Inneholder metadata og rå Xml data for et DataItem    "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/grensesnitt/contexthandler/",
	"title": "Context handler",
	"tags": [],
	"description": "Benyttes for å hente ut medadata for elementer.",
	"content": "Context handler er en modul i Altinn som tilbyr metadata for elementer i Altinn. Et element kan for eksempel være en innsending fra en sluttbruker. Meta-data (eller context data som det kalles her) for elementet vil da inneholde informasjon om hvem som er avgiver, hvilke tjeneste elementet er knyttet til og hvilket prosess steg det er i.\nDette er informasjon som benyttes internt i Altinn for å avgjøre om en bruker har tilgang til å utføre en gitt operasjon på et gitt element. Tjeneste eiere kan bruke informasjonen på tilsvarende måte ved å benytte Altinn sin eksterne autorisasjonssjekk (se eget kapittel om AuthorizationDecisionPointExternal).\nGetReporteeElementContextExternal Denne operasjonen som tar som input en reporteeelementid og returnerer et objekt med en samling detaljer, meta-data, om elementet.\nTabellen under beskriver datakontrakten for operasjonen. (Merk at det finnes ulike grensesnittrelaterte variasjoner mellom Basic, WS-Security og EC grensesnittene.)\n   Input Beskrivelse     reporteeElementId Unik identifikator for et spesifikk reportee element   Returverdi Beskrivelse   ReporteeElementContextExternalBE Entitet med meta-data om elementet det ble spurt på. (Flere detaljer under)    ReporteeElementContextExternalBE   Reportee Unik id for avgiver knyttet til et element. Dette er somregel personnummer eller organisasjonsnummer   ServiceCode Tjenestekoden til tjenesten som elementet er knyttet til   ServiceEditionCode Tjenesteversjonskode til tjenesten som elementet er knyttet til   ServiceType Angir hva slags tjeneste elementet er knyttet til. De mest vanlige typene er Correspondence og FormTask. Henholdsvis melding fra etat og innsending fra sluttbruker   ProcessStepID Dette er en ID som indikerer hva slags prosess steg elementet står i. Dette er mest aktuelt ved innsendinger hvor et element går gjennom for eksempel skrive steg, signeringssteg og innsending    "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/grensesnitt/downloadqueue/",
	"title": "DownloadQueue",
	"tags": [],
	"description": "Hente ut elementer fra DownloadQueue.",
	"content": "DownloadQueue inneholder operasjoner for å hente ned en liste over elementer som ligger i tjenesteeiers DownloadQueue. For å bruke DownloadQueue må tjenesteeier spesifisere dette når man utvikler tjenesten i TUL.\nVed å sette tjenesteutgaven til å bruke DownloadQueue, vil innleverte skjemaer på denne tjenesten oppdatere DownloadQueue, og tjenesteeier vil dermed kunne hente ut disse ved å sende en forespørsel til Altinn. Når det ligger flere enn 500 elementer i DownloadQueue, vil ikke nyere elementer lengre hentes når man bruker GetDownloadQueueItems operasjonen. For å få tilsendt nyere elementer må DownloadQueueItems fjernes fra DownloadQueue ved å bruke PurgeItem-operasjonen.\nDownloadQueue funksjonaliteten har støtte for MTOM. Påfølgende kapitler beskriver tjenesteoperasjonenene for denne tjenesten.\nGetDownloadQueueItems Denne operasjonen henter en liste over DownloadQueueItems i tjenesteeiers DownloadQueue. Den henter et maksimum av 500 metadataobjekter med arkivreferanse knyttet til den innsendte meldingen. Den henter alltid de eldste objektene først. Man kan velge å filterere hentede objekter basert på ServiceCode.\n   Input Beskrivelse     ServiceCode ServiceCode som man ønsker å filtrere hentede DownloadQueueItems på. Denne inputen er valgfri   Returverdi Beskrivelse   DownloadQueueItemList En liste med metadata-objekter som beskriver arkivreferanse, ServiceCode, ServiceEdition, reportee, reporteetype og arkiveringstidspunkt for aktive (non-purged) DownloadQueueItems for tjenesteeier   Property Beskrivelse    DownloadQueueItemExternalBEList    DownloadQueueItemExternalBEList.DownloadQueueItemExternalBE   ArchiveReference Innsendingens arkiv-referanse   ServiceCode Tjenestekode   ServiceEditionCode Tjenesteutgavekode   ReporteeId Organisasjons eller fødselsnummer for Reportee   ReporteeType Type reportee: Person, Organisasjon, Selvregistrert bruker   ArchivedDate Arkiveringsdato   ShipmentMetadataList En liste med ShipmentMetadata-objekter, der hvert objekt inneholder Key (feltnavn) og Value. Retur av ShipmentMetadata forutsetter at det ved utvikling av tjenesten er spesifisert metadatafelt, og at det er angitt at DownloadQueue skal benyttes for tjenesten.    PurgeItem Denne operasjonen lar tjenesteeier markere et enkelt DownloadQueueItem som purged. Dette DownloadQueueItem vil deretter ikke lenger bli hentet når GetDownloadQueueItems operasjonen blir kjørt.\n   Input Beskrivelse     ArchiveReference Arkiv-referanse til DownloadQueueItem som skal markeres som purged    GetArchivedFormtaskDQ Denne operasjonen henter et arkivert FormTask object med tilhørende forms, signatur og attachment.\n   Input Beskrivelse     ArchiveReference Arkiv-referanse til DownloadQueueItem som skal hentes ned   ReturVerdi Beskrivelse   ArchivedFormTaskExternalDQBE Et ArchivedFormTask element    ArchivedFormTaskExternalDQBE   Property Beskrivelse   ServiceCode Tjenestekode   ServiceEditionCode Tjenesteutgavekode   CaseId Unik identifikator på eventuell samhandlingstjeneste skjemasettet er knyttet til   SOEncryptedSymmetricKey Representer informasjon for tjenesteeier kryptering. Se SOEncryptedSymmetricKeyDQBE   Approvers Liste med personer som har signert. Se ApproverDQBE   Forms Liste med alle forms som følger med i formsettet til formtasken. Se ArchivedFormExternalDQBE   Attachments Liste med alle vedlegg som er relatert til formtasken. Se ArchivedAttachmentExternalDQBE   Reportee Personnummer, organisasjonsnummer eller brukernavn på avgiver   ArchiveReference Unik id for formtasken slik den er lagret i tjenesteeierarkivet   ArchiveTampStamp Dato og tid for når elementet ble arkivert   CorrelationReference (Ikke i bruk)    SOEncryptedSymmetricKey   Property Beskrivelse   EnkryptedKey AES-nøkkel som er RSA-kryptert med tjenesteeiers sertifikat. Denne AES-nøkkelen benyttes for å dekryptere skjemainnhold   CertificateThumbPrint Thumbprint av tjenesteeiers sertifikat som ble benyttet for å kryptere AES-nøkkel. Vil unikt angi sertifikatet i de tilfeller hvor tjenesteeier har flere sertifikater registrert i Altinn    ApproverDQBE   Property Beskrivelse   ApproverID Identifikatoren til godkjenneren av skjemaet, d.v.s. fødselsnummer   AppprovedTimeStamp Tidspunktet for godkjennelsen av skjemaet   SecurityLevel Sikkerhetsnivå: notSensitive - Data er godkjent av bruker som er autentisert med sikkerhetsnivå 1, lessSensitive - Data er godkjent av bruker som er autentisert med sikkerhetsnivå 2, sensitive - Data er signert av bruker med sikkerhetsnivå 3, verySensitive - Data er signert av bruker med sikkerhetsnivå 4    ArchiveFormExternalDQBE   Property Beskrivelse   DataformatID Id til skjema fra metadata kilde   DataformatVersionID Versjon til skjema fra metadata kilde   Reference Unik id per skjema, satt av altinn   ParentReference Referanse til hovedskjema. Settes kun i underskjema dersom underskjema forekommer   FormData Skjemadata i xml format. ’My’ og ‘altinn’ elementer og deres namespace deklarasjoner i alle elementer er fjernet fra formdata xml    ArchivedAttachmentExternalDQBE   Property Beskrivelse   ArchiveReference Unik id for formtask elementet vedlegget er assosiert med   FileName Det orginale navnet til filen   AttachmentType Vedleggets innholds type. (MimeType)   IsEncrypted En verdi som indikerer om vedlegget er kryptert av innsender1   AttachmentData Det faktiske inholdet i filen. Tjenesten leverer dette som MTOM og vil inkludere alle filer på opp til 30 MB. Større vedlegg må lastes ned for seg selv ved hjelp av streaming operasjonen   AttachmentId En unik id på vedlegget slik det er lagret i tjenesteeierarkivet   AttachmentTypeName Det tekniske navnet på vedleggsregelen som ble valgt hvis tjenesten har en eller flere slike regler   AttachmentTypeNameLanguage Det oversatte navnet til vedleggsregelen    "
},
{
	"uri": "https://altinn.github.io/docs/api/datasystem/faq_datasystem/",
	"title": "FAQ - Datasystem API",
	"tags": [],
	"description": "Her finner du svar på ofte spurte spørsmål om datasystem API. FAQ er delt inn i ulike kategorier.",
	"content": "\rForarbeid\rSpørsmål og svar som gjelder forarbeidet før du starter implementering\n\r\rFunksjonelt\rSpørsmål og svar som gjelder det funksjonelle rundt implementasjon\n\r\rTeknisk\rSpørsmål og svar som gjelder det tekniske rundt implementasjon\n\r\rFeilkoder og feilmeldinger\rSpørsmål og svar som gjelder feilkoder og feilmeldinger\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/faq_tjenesteeier/",
	"title": "FAQ - Tjenesteeier API",
	"tags": [],
	"description": "Her noteres svar på ofte spurte spørsmål om Tjenesteeiers API.",
	"content": "Tjenesteeiers REST-API Her finner du svar på spørsmål som særlig gjelder REST-API\nSpørsmål: Hvorfor får jeg \u0026ldquo;401 Enterprise certificate authentication failed, verify that the supplied certificate is valid\u0026rdquo; når jeg mener virsksomhetssertifikatet vi bruker er riktig?\nForklaring: Feilmelding kan oppstå når man har glemt å sette ?ForceEIAuthentication parameteret på REST request for å trigge autentisering med virksomhetssertifikat, se dokumentasjon av REST(https://altinn.github.io/docs/api/tjenesteeiere/rest/\nTjenesteeiers SAOP-API Her finner du svar på spørsmål som særlig gjelder SOAP-API\n"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/grensesnitt/kvittering/",
	"title": "Kvitteringer",
	"tags": [],
	"description": "Hente ut og oppdatere kvitteringer",
	"content": "Receipt Tjenesten Receipt inneholder operasjoner for å oppdatere og hente kvitteringer i Altinn.\nGetReceiptV2 Denne operasjonen henter en kvittering basert på enten unik identifikator for kvitteringen eller en referanse for kvitteringen. Kvitteringen kan være knyttet til et skjemasett innsendt via Altinn fra sluttbruker eller sluttbrukersystem, data sendt fra tjenesteeier til Altinn (meldinger, PIN-koder, abonnement eller prefilldata) eller data sendt fra Altinn til tjenesteeier.\nNavnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel GetReceiptBasicV2 på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn GetReceipt finnes fortsatt, men kan i fremtiden bli fjernet.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     ReceiptSearch Objekt av typen ReceiptSearch som inneholder nødvendige søkeparametre for å hente ut en kvittering   Returverdi Beskrivelse   Receipt Objekt av typen Receipt som inneholder alle data for en kvittering som tilfredsstilte det gitte søkekriteriet    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      ReceiptSearch   ReceiptId Unik identifikator en kvittering i Altinn   References Liste med referansen som skal brukes i søket. I praksis er det kun en referanse som benyttes i søket. Følgende referansetyper kan benyttes i søk: ArchiveReference, OutboundShipmentReference, BatchReference, EndUserSystemReference, ExternalShipmentReference, SendersReference    Receipt   ReceiptId Unik identifikator kvitteringen i Altinn.   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptType Angir hva kvittering gjelder. Mulige verdier: NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger,\tPINCODE – bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)   ReceiptStatus Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent, OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet   References Liste med referanser   SubReceipts Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn.)    Reference   ReferenceType Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse. EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference. SendersReference - Referanse satt av avsender for del av en forsendelse. ParentReference - Referansen viser til et hovedskjema. WorkFlowReference - Arbeidsflytreferanse. BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn. OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn. ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse. OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres. PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen. ArchiveReference - Arkivreferanse.   Feilkode Beskrivelse   30008 Ingen kvittering funnet for angitt kvitterings ID eller referanse    GetReceiptListV2 Denne operasjonen kan kalles for å hente ut alle kvitteringer av en gitt kvitteringstype. I tillegg kan søket begrenses ved hjelp av en til og fra dato. Dette vil gi en liste med kvitteringer som ble sist endret i tidsrommet. Kvitteringstyper er obligatorisk, mens datoer er valgfritt.\nNavnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel GetReceiptListBasicV2 på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn GetReceiptList finnes fortsatt, men kan i fremtiden bli fjernet.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     receiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask –Skjemasett innsending. Correspondence – Innlesning av meldinger. PINCODE – Bestilling av PIN-koder. Subscription – Innelsning av abonnementer. Outbound – Forsendelse sendt fra Altinn. PreFill – Innlesning av prefill. RegisterDLS – DLS registerdata. RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd BrokerService – Overføring av fil på en Formidlingstjeneste   dateFrom Finner kvitteringer endret etter angitt dato   dateTo Finner kvitteringer endret før angitt dato   Returverdi Beskrivelse   ReceiptList Liste med kvitteringer av typen Receipt. (Vil være en tom liste hvis ingen kvitteringer ble funnet.)    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     Receipt    ReceiptId Unik identifikator kvitteringen i Altinn   ReceiptType Angir hva kvittering gjelder. Mulige verdier:NotSet – Brukes når type er ukjent FormTask – Skjemasett innsending Correspondence – Innlesning av meldinger PINCODE – Bestilling av PIN-koder.Subscription – Innelsning av abonnementer Outbound – Forsendelse sendt fra Altinn PreFill – Innlesning av prefill RegisterDLS – DLSregisterdata RegisterDSF – DSF registerdata RegisterER – ER registerdata RegisterDSFProperty RegisterDSFStreet RegisterDSFCountry RegisterDSFUser LookUp – Innsynstjeneste RegisterDSFStreetAdd RegisterDSFPropertyAddBrokerService – Overføring av fil på en Formidlingstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)   ReceiptStatus Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent OK UnExpectedError ValidationFailed Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet   References Liste med referanser   SubReceipts Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn)   Reference    ReferenceType Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse. EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference. SendersReference - Referanse satt av avsender for del av en forsendelse. ParentReference - Referansen viser til et hovedskjema. WorkFlowReference - Arbeidsflytreferanse BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres. PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen. ArchiveReference - Arkivreferanse   ReferenceValue Selve referansen (verdien). Vil variere basert på type referanse. Se over.    Tabellen under angir mulige feilkoder for operasjonen.\n   Feilkode Beskrivelse     30101 Kan ikke utføre et søk etter kvitteringer av typen NotSet. (NotSet er default verdi hvis receiptTypeName parameteret ikke oppgis)   30102 Oppgitt fra dato er høyere en oppgitt til dato    UpdateReceipt Operasjonen UpdateReceipt kan benyttes når tjenesteeier har behov for å oppdatere en kvittering i Altinn. Dette gjøres typisk når Altinn har sendt en batch forsendelse til tjenesteeier. Kvitteringen skal da oppdateres med at tjenesteeier har mottatt batch forsendelsen.\nAltinn vil endre kvitteringsteksten til å inneholde informasjon om hvem som utførte oppdateringen. For eksempel: \u0026ldquo;Receipt updated by AgencySystem: ACN\u0026rdquo;.\nNavnet på operasjonen kan variere noe fra grensesnitt til grensesnitt. Operasjonen heter for eksempel UpdateReceiptBasic på basic (SOAP 1.1) grensesnittet. En eldre versjon av operasjonen med navn SaveReceipt finnes fortsatt, men kan i fremtiden bli fjernet.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     ReceiptSave Informasjon om hvilken kvittering som skal oppdateres samt den nye informasjonen som skal legges på kvitteringen. Objektet må minimun inneholde ny statuskode og tekst. ReceiptId eller ArchiveReference brukes til å identifisere kvitteringen.   Returverdi Beskrivelse   Receipt Kvitteringen slik den frermstår etter oppdateringen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     ReceiptSave:    ReceiptId Unik identifikator for kvittering i Altinn. Kan benyttes for å spesifisere hvilken kvittering som skal oppdateres   ArchiveReference Arkivreferanse i Altinn. Kan benyttes for å spesifisere hvilken kvittering som skal oppdateres. Hvis det finnes flere kvitteringer som har samme arkivreferanse, så vil den nyeste (den med høyest ReceiptId) bli valgt   ReceiptText Oppdateringstekst for kvittering. Obligatorisk   ReceiptStatus Status for forsendelse som kvitteringen gjelder.Obligatorisk: OK, UnExpectedError, ValidationFailed, Rejected   References Liste med referanser man eventuelt ønsker å legge til på kvitteringen. Alle referansetyper utenom NotSet og OwnerPartyReference er gyldige, men det bør begrenses til følgende (Unntak kan gjøres etter avtale med forvaltning): BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn.ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse.(Det er mulig fremtidige versjoner av UpdateReceipt vil ha strengere validering/begrensninger.)   SubReceipts Liste med barnekvitteringer som også ønskes oppdatert i tillegg til hovedkvitteringen. Barne kvitteringer MÅ identifiseres med ReceiptId. Dette kan ikke benyttes til å lage nye barnekvitteringer   SubReceipts Liste med barnekvitteringer som også ønskes oppdatert i tillegg til hovedkvitteringen. Barne kvitteringer MÅ identifiseres med ReceiptId. Dette kan ikke benyttes til å lage nye barnekvitteringer   Receipt    ReceiptId Unik identifikator kvitteringen i Altinn   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptType Angir hva kvittering gjelder. Mulige verdier: NotSet – Brukes når type er ukjent, FormTask – Skjemasett innsending, Correspondence – Innlesning av meldinger, PINCODE – Bestilling av PIN-koder, Subscription – Innelsning av abonnementer, Outbound – Forsendelse sendt fra Altinn, PreFill – Innlesning av prefill, RegisterDLS – DLS registerdata, RegisterDSF – DSF registerdata, RegisterER – ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp – Innsynstjeneste, RegisterDSFStreetAdd, RegisterDSFPropertyAdd, BrokerService – Overføring av fil på en Formidlingstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering. (IKKE I BRUK)   ReceiptStatus Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent, OK, Status for forsendelse som kvitteringen gjelder: NotSet – Status er ukjent, OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer i et hierarki vil ParentReceiptId vise til ReceiptId for hovedkvitteringen i hierarkiet   References Liste med referanser   SubReceipts Liste med tilhørende kvitteringer. Dersom denne kvitteringen er en hovedkvittering med barn. Et hierarki kan ha kun 2 nivåer. (En kvittering som selv er et barn skal ikke ha barn)   Reference    ReferenceType Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse. EndUserSystemReference - Referanse satt av avsender for del av en forsendelse. For eksempel vedlegg. Brukes sjeldent da referanser fra sluttbruker ofte lagres som SendersReference.SendersReference - Referanse satt av avsender for del av en forsendelse. ParentReference - Referansen viser til et hovedskjema. WorkFlowReference - Arbeidsflytreferanse BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres. PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen. ArchiveReference - Arkivreferanse   ReferenceValue Selve referansen (verdien). Vil variere basert på type referanse. Se over   Tabellen under angir mulige feilkoder for operasjonen:        Feilkode Beskrivelse     30008 Fant ikke noen kvittering som kunne oppdateres   0 Kan ikke ha både kvitterings id og arkivreferanse som input. (Feilkode blir ikke angitt grunnet en bug)   0 Kan ikke ha både kvitterings id og arkivreferanse som input. (Feilkode blir ikke angitt grunnet en bug)   0 System/bruker har ikke tilgang til kvitteringen som forsøkes oppdatert. (Feilkode blir ikke angitt grunnet en bug)    "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/launched-apps/",
	"title": "Lanserte tjenester",
	"tags": [],
	"description": "Oversikt over hvilke tjenester som allerede er i produksjon, til informasjon og inspirasjon",
	"content": "April 2021  Skattemelding med næringsspesifikasjon - pilot (Sirius) (Skatteetaten).\nInfo | Repo | Kjørende tjeneste  Februar 2021  Søknad om forhåndsgodkjenning av innkvartering i forbindelse med innreisekarantene (Arbeidstilsynet).\nInfo | Repo | Kjørende tjeneste Digital pliktavlevering (Nasjonalbiblioteket).\nInfo | Repo | Kjørende tjeneste  Desember 2020  Søknad om autorisasjon som landmåler (Kartverket).\nInfo | Repo | Kjørende tjeneste Vedlegg til søknad om autorisasjon som landmåler (Kartverket).\nInfo | Repo | Kjørende tjeneste  Juni 2020  Ledige stillinger (RA0678) (SSB).\nInfo | Repo | Kjørende tjeneste Bestill tilgang til REST API (Digdir).\nInfo | Repo | Kjørende tjeneste Be om å bli tjenesteeier (Digdir).\nInfo | Repo | Kjørende tjeneste Godkjenning av bruksvilkår for skytjenester fra Altinn (Digdir).\nInfo | Repo | Kjørende tjeneste  "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/grensesnitt/meldingstjeneste/",
	"title": "Meldingstjeneste",
	"tags": [],
	"description": "Denne tjenesten inneholder operasjoner som benyttes av tjenesteeiere for å opprette meldinger til avgivere samt hente ut igjen status på disse meldingene.",
	"content": "InsertCorrespondenceV2 Denne operasjonen benyttes av en tjenesteeier for å sende meldinger til avgivere i Altinn. Operasjonen er versjonert, gjeldende versjon er V2. Tabellen under beskriver datakontrakten for operasjonen:\n   Parameter Beskrivelse     SystemUserCode Kode som unikt representerer kildesystem, f.eks. \u0026ldquo;ABC-123\u0026rdquo;. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier   ExternalShipmentReference Referanse satt av tjenesteeier. Benyttes ved utsending av meldingsbekreftelser og kvittering. Setter feltet SendersReference på meldingen blant annet brukt til oppslag   Correspondence Objekt av typen InsertCorrespondenceBEV2 med meldinger som skal lagres       Returverdi Beskrivelse     Receipt Kvittering for forsendelsen.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     InsertCorrespondenceBEV2    ServiceCode Tjenestekode, f.eks. \u0026ldquo;PSA\u0026rdquo;   ServiceEdition Tjenesteutgavekode, f.eks. \u0026ldquo;2009\u0026rdquo;   Reportee Fødselsnummer eller organisasjonsnummer eller brukernavn på selvregistrert bruker for den meldingen gjelder   Content Objekt med meldingsdetaljer (ExternalContentBEV2)   VisibleDateTime Tidspunkt for når meldinger blir synlig i portal   AllowSystemDeleteDateTime Angir når Altinn kan slette meldingen   DueDateTime Tidspunkt for forfall svar   ArchiveReference Referanse til arkivert element. Benytt dette til å indikere at meldingen er et svar på en konkret innsending.   ReplyOptions Objekt med linker til skjema/Altinn tjeneste/arkivelement (CorrespondenceInsertLinkBE). Bruk dette til å indikere hvordan avgiver kan svare på en melding   Notifications Liste av objekt med varsler som skal sendes mottaker ifbm meldingen (NotificationBE)   AllowForwarding Angir om meldingen skal kunne videresendes av bruker i portalen   Case Id ID som identifiserer saken som meldingen skal knyttes til   MessageSender Avsender som skal vises for sluttbruker, kan være forskjellig fra etat, hvis den ikke fylles ut brukes etaten som eier tjenesten. Merk: Avsender skal alltid være en offentlig virksomhet, ikke en privatperson eller privat virksomhet.   IsReservable I sammenheng med KRR (Kontakt og reservasjons registeret) kan en sluttbruker reservere seg imot å motta meldinger. IsReservable verdien kan brukes til å indikere om det er mulig å reservere seg mot meldingen eller ikke. Det er valgfritt å angi en verdi og standard (default) verdi er False (0). Denne verdien må derfor aktivt settes til True (1) om tjeneste eier ønsker og respektere reservasjoner.   SdpOptions Inneholder informasjon om hvordan en melding skal sendes til Digital postkasse til innbygger istedenfor eller i tillegg til at det opprettes correspondence. Hvis det ikke oppgis noe informasjon (null) så vil ikke videresending aktiveres. Har også mulighet for å bestille varsel og revarsel fra postkasseleverandør. (Klasse: SdpOptions)   OnBehalfOfOrgNr Gjør det mulig å levere Correspondence på vegne av en annen organisasjon. Krever et valid Organisasjonsnummer som input.   ExternalContentBEV2    LanguageCode 1033 - English, 1044 - Bokmål, 2068 - Nynorsk   MessageTitle Tittel på melding   MessageSummary Tekst som beskriver meldingen   MessageBody Selve meldingen   Attachments Liste av vedlegg til meldingen, binære eller xml vedlegg (AttachmentBEV2)   CustomMessageData Felt for angivelse av attributter spesifikke for den gitte Altinn tjeneste. For eksempel for å angi kommunenummer på selvangivelsen. Bruk av spesifikke attributter må avtales spesielt for de(n) aktuelle Altinn-tjenestene   AttachmentBEV2    BinaryAttachments Liste med objekter av binære vedlegg (BinaryAttachmentBEV2)   XmlAttachmentList Liste med objekt med xml vedlegg (XmlAttachmentBEV2). Benyttes hvis det er definert at i TUL at melding skal vises i Infopath skjema. Infopath-skjema må være utviklet som en del av meldingstjenesten i TUL   BinaryAttachmentBEV2    FileName Filnavn for det binære vedlegget   Name Dette er navnet på vedlegget, som det vises i portalen   Encrypted Sier om vedlegget er kryptert. True/False   Data Data for det binære vedlegget, byte array   SendersReference Referanse for vedlegget, som ennå ikke er tatt i bruk. Settes av tjenesteeier. Feltet er ikke påkrevd   FunctionType Hvilken funksjonstype vedlegget utgjør: Invoice - Faktura, Unspecified - Uspesifisert   DestinationType Hvor vedlegget er tilgjengelig: Default/ShowToAll – tilgjengelig i portal og for sluttbrukersystem. PortalOnly – kun tilgjengelig fra portal. EndUserSystemOnly – kun tilgjengelig fra sluttbrukersystem   XmlAttachmentBEV2    SendersReference Referanse for vedlegget. Settes av tjenesteeier, bør være unikt   FormDataXml XML data. Må legges i en CDATA blokk   DataFormatId Identifikator for XSD fra den valgte leverandøren, definert i TUL (XSD id)   DataFormatVersion Versjonen av XSD\u0026rsquo;en som er brukt i dette InfoPath-skjemaet, definer i TUL (XSD versjon)   DataFormatVersion Versjonen av XSD\u0026rsquo;en som er brukt i dette InfoPath-skjemaet, definer i TUL (XSD versjon).   CorrespondenceInsertLinkBE    Service Objekt med info om service (InsertCorrespondenceLinkServiceCodeBE)   URL Objekt med info om url (InsertCorrespondenceLinkServiceURLBE)   ArchiveReference Objekt med info om arkivert element (InsertCorrespondenceLinkArchiveRefBE)   InsertCorrespondenceLinkServiceCodeBE    ServiceCode Angir den tjenestekoden for svarmeldingen   ServiceEdition Angir tjenesteutgavekoden for svarmeldingen   InsertCorrespondenceLinkServiceURLBE    LinkURL Angir en link til en webside for svarmelding   LinkText Beskrivelse av link   InsertCorrespondenceLinkArchiveRefBE    ArchiveRef Elementet benyttes hvis man kan svare vha. et arkivert element. Referanse til element i arkiv   NotificationBE    ShipmentDateTime Når varsel skal sendes til mottaker   LanguageCode Språk kode: 1033 English, 1044 Bokmål, 2068 Nynorsk   FromAddress Avsender adresse (e-post). Hvis ikke satt benyttes avsenderadresse satt i varselmalen   NotificationType En unik streng som definerer en referanse til predefinerte varslingstekster   ReceiverEndPoints Liste av mottaker adresser (ReceiverEndPointBE)   TextTokens Liste av tekster som skal erstatte maltekst i varselmal   ReceiverEndPoint    ReceiverAddress Mobilnummeret eller epostadressen til mottaker av varsel. Dette må passe med TransportType Email eller SMS. Feltet er valgfritt og hvis feltet er tomt vil Altinn forsøke identifisere riktige mottakere basert på avgiver og TransportType. Feltet må være tomt for TransportType Both, SMSPreferred og EmailPreferred.   TransportType Angir om varsel skal sendes som epost eller SMS. Lovlige verdier er: SMS - Altinn vil sende varsel som SMS hvis det er oppgitt et mobilnummer i ReceiverAddress eller avgiver har registrert et eller flere mobilnummer. Hvis avgiver er en organisasjon vil det sendes varsel til alle registrerte mobilnummer.Email - Fungerer på samme måte som SMS, men med epost som kanal.Both - Altinn vil sende varsel både som epost og SMS om mulig. Hvis avgiver kun har registrert en epostadresse vil det sendes varsel som epost. Tilsvarende for mobilnummer. En organisasjon vil få varsel på alle registrerte varslingsadresser.SMSPreferred - Altinn vil sende varsel som SMS hvis avgiver har registrert et mobilnummer. Hvis avgiver ikke har registrert dette vil det isteden bli sendt varsel som epost. Forutsatt at det finnes en registrert epostadresse. En organisasjon vil bli sendt varsel på alle varslingsadresser av riktig type.EmailPreferred - Fungerer på samme måte som SMSPreferred, men med epost som kanal.   TextTokenSubstitutionBE    TokenNum Ikke i bruk, kan utelates.   TokenValue Tekst som skal ersatte maltekst. Substitusajonen gjøres i samme rekkefølge som parameterene er angitt. Varselmal må bestilles og lages på forhånd   SdpOptions    SdpSetting Her styres det om Altinn skal ha en kopi eller ikke. CopyAltinn – Det opprettes en correspondence i tillegg til det digitale brevet. ForwardOnly – Det opprettes ikke noen kopi i Altinn   BackupAltinn Dette styrer hva som skal skje hvis avgiver ikke har en digital postkasse. (BackupAltinn har ingen effekt hvis avgiver har en digital postkasse.). BackupAltinn = false – Det lages aldri noen correspondence. Isteden gis det en feilmelding i kvitteringen som returneres. BackupAltinn = true – Det vil alltid lages en correspondence. Kvitteringen som returneres vil ha en underkvittering med info om at det ikke kunne sendes noe digitaltbrev da postkassen er ukjent   PrimaryDocumentFileName For SDP må det være med minst ett binært vedlegg under Attachments. Dette vedlegget må ha angitt et filnavn (FileName) og navnet må stemme perfekt med innholdet i dette feltet. Vedlegget vil da benyttes som hoveddokument i det digitale brevet   SdpNotifications Container for varsel. Kan ha 0 eller ett epostvarsel og/eller 0 eller smsvarsel. (Klasse: SdpNotifications)   SdpNotifications    EmailNotification Varseldetaljer for epostvarsel. (Klasse: SdpEmailNotification)   SmsNotification Varseldetaljer for smsvarsel. (Kallse: SmsNotification)   SdpEmailNotification    NotificationText Varselteksten som skal med i meldingen til bruker. Maks 500 tegn.   EmailAddress Epostaddressen til mottaker. Altinn vil forsøke finne brukerens adresse fra KRR hvis etat ikke har dette. Hvis hverken etat eller Altinn finner noen noen adresse vil det gi feilmelding.   Repititions Varsel repetisjoner. Flere verdier vil produsere påminnelser   SdpSmsNotification    NotificationText Varselteksten som skal med i meldingen til bruker. Maks 160 tegn   MobileNumber Mobilnummeret til mottaker. Altinn vil forsøke finne brukerens mobilnummer fra KRR hvis etat ikke har dette. Hvis hverken etat eller Altinn finner noen noe mobilnummer vil det gi feilmelding.   Repititions Varsel repetisjoner. Flere verdier vil produsere påminnelser   DaysDelayedList    DaysDelayed Et tall mellom 0 og 25 som angir antall dager relativt til dagen hvor det digitale brevet ble gjort tilgjengelig for bruker. Tallet 0 vil gi varsel samme dag   ReceiptBE    ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering   ReceiptText Tekst i kvitteringen   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask - Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, Broker - Formidlingstjeneste, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp - Innsynstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder:\tNotSet (standardverdi som brukes når status ikke er satt – skal ikke kunne mottas som verdi), OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering)   References Liste med ReferenceBE-objekter for kvitteringen   SubReceipts Liste med tilhørende Receipt-objekter (dersom denne kvitteringen er en hovedkvittering)   ReferenceBE    ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference - Organisasjonsnummer eller personnummer til eier av kvitteringen, typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference -Arkivreferanse    CreateSimpleCorrespondenceService CreateSimpleCorrespondenceService er en operasjon som vil opprette en enkel meldingstjeneste (correspondence) basert på en mal. Malen (template) er i utgangspunktet en vanlig meldingstjeneste som er definert av ASF (Altinn sentralforvaltning). Malen blir gitt en midlertidig kode og versjonsnummer og disse verdiene kan senere benyttes av en tjenesteeier slik at de kan opprette sin egen unike tjeneste basert på malen.\nOperasjonen oppretter en fullverdig tjeneste, men siden malen skal kunne brukes som utgangspunkt for alle tjenesteeiere er den veldig enkel. Det er flere begrensninger. Tjenesten har ingen skjema, og det er ikke mulig å spesifisere at lesebekreftelser sendes på batch til tjenesteeier.\nI returen fra operasjonen kommer informasjon om den unike tjenesten for den spesifikke tjenesteeieren. Dette er ExternalServiceCode og ExternalServiceEditionCode som tjenesteeieren senere kan benytte i kall til operasjonen InsertCorrespondenceV2.\nFor flere detaljer om de ulike malene må man kontakte Altinn. De har også oversikt over eksisterende maler med koder og versjonsnummer.\n   Input Beskrivelse     templateServiceCode ServiceCode for malen man ønsker benytte   templateServiceEditionCode ServiceEditionCode for malen man ønsker benytte   Returverdi Beskrivelse   CorrespondenceServiceInfo Et dataobjekt med detaljer om tjenesten som ble laget. (se under.)   Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.        Property Beskrivelse     CorrespondenceServiceInfo    ExternalServiceCode Dette er koden for den nye unike tjenesten som operasjonen har laget for tjenesteeieren som kalte tjenesten   ExternalServiceEditionCode Dette er \u0026ldquo;editioncode\u0026rdquo; for den nye tjenesten    GetCorrespondenceStatusDetails Denne metoden bør helst ikke benyttes. Benytt isteden versjon 3.\nÅrsaken til versjonering av denne operasjonen er endring av kontrakten. Ved innføring av Kontakt og reservasjonsregisteret til difi ble det innført en ny status på Correspondence. Dette er en status som indikerer at mottaker har reservert seg mot å motta elektronisk kommunikasjon.\nGetCorrespondenceStatusDetailsV2 Denne metoden bør helst ikke benyttes. Benytt isteden versjon 3.\nÅrsaken til denne versjoneringen er ny funksjonalitet knyttet til Sikker Digital Post.\nGetCorrespondenceStatusDetailsV3 Operasjonen GetCorrespondenceStatusDetails benyttes av en tjenesteeier for å sjekke status på et sett av meldinger knyttet til en spesifisert tjeneste.\nTabellen under beskriver datakontrakten for operasjonen: Request entiteter:\n   Input Beskrivelse     CorrespondenceStatusFilter Entitet for å angi filter for søket   Returverdi Beskrivelse   CorrespondenceStatusResult Entitet med liste over meldingstjenestene som matcher søket   Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.        Property Beskrivelse     CorrespondenceStatusFilterV3    CreatedAfterDate Dato og klokkeslett som filtrere ut meldinger opprettet før angitt dato   CreatedBeforeDate Dato og klokkeslett som filtrere ut meldinger opprettet tidligere enn angitt dato   CurrentStatus Filter for å hente ut meldinger i en angitt status. Mulige verdier er: Created, Read, Confirmed   NotificationSent Filter for hvorvidt varsel er sendt for meldingene eller ei   Reportee Filter for å returnere melding for en gitt avgiver, angitt av fødselsnummer eller organisasjonsnummer   SendersReference Filter for meldinger med en gitt SendersReference fra tjenesteeier. SendersReference på meldingstjenesten settes av feltet ExternalShipmentReference ved bruk av web service InsertCorrespondenceV2 og feltet SendersReference i correspondence.2010.10.xsd for batch   ServiceCode Tjenestekode for meldingene som skal returneres – pålagt parameter   ServiceEditionCode Tjenesteutgavekode for meldingene som skal returneres – pålagt parameter   SdpSearchOptions Tilleggsinnstillinger for Digital postkasse til innbygger. Hvis det ikke oppgis noe her så vil tjenesten ikke inkludere SDP status detaljer   SdpStatusSearchOptions    IncludeCorrespondence Dette er et flag som styrer hvorvidt søkeresultatet skal inkludere correspondence status information   SdpStatusSearchOptions    IncludeCorrespondence Dette er et flag som styrer hvorvidt søkeresultatet skal inkludere correspondence status information   Respons entiteter:        Property Beskrivelse     CorrespondenceStatusResultV3    ServiceCode Tjenestekode for meldingene returnert   ServiceEditionCode Tjenesteutgavekode for meldingene returnert   CorrespondenceStatusInformation Status informasjon om meldinger i Altinn (CorrespondenceStatusInformation)   SdpStatusInformation Status informasjon om digitale brev som Altinn har videresendt til løsningen for «Digital postkasse til innbygger (SdpStatusInformation)   CorrespondenceStatusInformation    CorrespondenceStatusDetailsList Liste over meldinger og deres status historikk (StatusV2)   LimitReached Dette er et flag som indikerer hvorvidt listen er komplett eller ikke. Hvis dette feltet er true så betyr det at søkekriteriene bør endres slik at det er mer begrensende   StatusV2 (correspondence)    CorrespondenceID Meldingens unike id   CreatedDate Dato for når meldingen ble opprettet   Notifications Liste over varsler knyttet til meldingen angitt som en liste med Notification-entiteter (Notification)   Reportee Avgiver meldingen tilhører. Fødselsnummer eller organisasjonsnummer   SendersReference Verdien av referansen SendersReference hvis angitt av tjenesteeier   StatusChanges Liste over meldingens statusendringer som en liste av StatusChange-entiteter   Notification    Recipient Varselets mottaksadresse. E-postadresse eller telefonnummer   SentDate Dato og klokkeslett for når varselet er sendt. Om feltet er tomt (null) betyr det at varselet ikke er sendt   TransportType Angir om varsel ble sendt som SMS eller epost.   StatusChange    StatusDate Dato og klokkeslett for når statusen endret   StatusType Statusen meldingen endret til. Mulige verdier er: Created – meldingen ble opprettet av tjenesteeier, Read – meldingen ble lest av en bruker, Confirmed – meldingen ble bekreftet lest av en bruker, Reserved – mottaker har reservert seg mot elektronisk kommunikasjon. Meldingen er ikke synlig for mottaker   SdpStatusInformation    SdpStatusDetailsList Liste over digitale brev laget gjennom Altinn og deres status historikk (SdpStatusDetails)   LimitReached Dette er et flag som indikerer hvorvidt listen er komplett eller ikke. Hvis dette feltet er true så betyr det at søkekriteriene bør endres slik at det er mer begrensende   SdpStatusDetails    SdpId En unik ID for elementet definert i Altinn   CorrespondenceId Unik ID for correpondence hvis Altinn har fått kopi eller har fungert som backup   CreatedDateTime Tidspunktet for når det digitale brevet først ble registrert i Altinn   LastChangedDateTime Tidspunktet for når status på elementet ble sist oppdatert   Reportee Avgiver i form av personnummer eller organisasjonsnummer (Brevets mottaker)   Reference En referanseverdi som tjenesteeier kan gi alle digitale brev. Kan brukes hvis det lages mange brev samtidig for å identifisere alle som ble opprettet sammen   StatusHistory Brevets status historikk. Dette er en liste med de statuser brevet har hatt(SdpStatusChange)   SdpStatusChange    Status Unknown – Ukjent status, Sent_Meldingsformidler – Altinn har laget brevet og sendt det inn i SDP systemet, Delivered_EndUser – Brevet har gått gjennom systemet og blitt levert til sluttbruker, Delivery_EndUser_Failed – Brevet kunne ikke leveres, Reserved – Altinn lagde ikke noe brev fordi sluttbruker har reservert seg mot digital post, NoMailBox – Altinn lagde ikke noe brev fordi sluttbruker ikke har registrert noen postboks i kontakt og reservasjonsregisteret   StatusDateTime Tidspunktet for når statusen ble satt    GetCorrespondenceStatusHistory Operasjonen GetCorrespondenceStatusHistory benyttes av en tjenesteeier for å sjekke status på et sett av meldinger basert på SendersReference på meldingene.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     CorrespondenceStatusHistoryRequest Entitet for å angi filter for søket   Returverdi Beskrivelse   CorrespondenceStatusHistoryResult Entitet med liste over meldingstjenestene som matcher søket   Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.     Request entiteter:\n   Property Beskrivelse     CorrespondenceStatusHistoryResult    CorrespondenceStatusInformation Status informasjon om meldinger i Altinn. (CorrespondenceStatusInformation   SdpStatusInformation Status informasjon om digitale brev som Altinn har videresendt til løsningen for «Digital postkasse til innbygger (SdpStatusInformation)   CorrespondenceStatusInformation    CorrespondenceStatusDetailsList Liste over meldinger og deres status historikk (StatusV2)   LimitReached Dette er et flag som indikerer hvorvidt listen er komplett eller ikke. Hvis dette feltet er true så betyr det at søkekriteriene bør endres slik at det er mer begrensende   StatusV2 (correspondence)    CorrespondenceID Meldingens unike id   CreatedDate Dato for når meldingen ble opprettet   Notifications Liste over varsler knyttet til meldingen angitt som en liste med Notification-entiteter (Notification)   Reportee Avgiver meldingen tilhører. Fødselsnummer eller organisasjonsnummer.   SendersReference Verdien av referansen SendersReference hvis angitt av tjenesteeier   StatusChanges Liste over meldingens statusendringer som en liste av StatusChange-entiteter   Notification    Recipient Varselets mottaksadresse. E-postadresse eller telefonnummer   SentDate Dato og klokkeslett for når varselet er sendt. Om feltet er tomt (null) betyr det at varselet ikke er sendt   TransportType Angir om varsel ble sendt som SMS eller epost.   StatusChange    StatusDate Dato og klokkeslett for når statusen endret   StatusType Statusen meldingen endret til. Mulige verdier er: Created – meldingen ble opprettet av tjenesteeier, Read – meldingen ble lest av en bruker,Confirmed – meldingen ble bekreftet lest av en bruker, Reserved – mottaker har reservert seg mot elektronisk kommunikasjon. Meldingen er ikke synlig for mottaker   SdpStatusInformation    SdpStatusDetailsList Liste over digitale brev laget gjennom Altinn og deres status historikk (SdpStatusDetails)   LimitReached Dette er et flag som indikerer hvorvidt listen er komplett eller ikke. Hvis dette feltet er true så betyr det at søkekriteriene bør endres slik at det er mer begrensende   SdpStatusDetails    SdpId En unik ID for elementet definert i Altinn   CorrespondenceId Unik ID for correpondence hvis Altinn har fått kopi eller har fungert som backup   CreatedDateTime Tidspunktet for når det digitale brevet først ble registrert i Altinn   LastChangedDateTime Tidspunktet for når status på elementet ble sist oppdatert   Reportee Avgiver i form av personnummer eller organisasjonsnummer. (Brevets mottaker)   Reference En referanseverdi som tjenesteeier kan gi alle digitale brev. Kan brukes hvis det lages mange brev samtidig for å identifisere alle som ble opprettet sammen.   StatusHistory Brevets status historikk. Dette er en liste med de statuser brevet har hatt (SdpStatusChange)   SdpStatusChange    Status Unknown – Ukjent status, Sent_Meldingsformidler – Altinn har laget brevet og sendt det inn i SDP systemet, Delivered_EndUser – Brevet har gått gjennom systemet og blitt levert til sluttbruker, Delivery_EndUser_Failed – Brevet kunne ikke leveres, Reserved – Altinn lagde ikke noe brev fordi sluttbruker har reservert seg mot digital post, NoMailBox – Altinn lagde ikke noe brev fordi sluttbruker ikke har registrert noen postboks i kontakt og reservasjonsregisteret   StatusDateTime Tidspunktet for når statusen ble satt    "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/grensesnitt/prefill/",
	"title": "Preutfylling",
	"tags": [],
	"description": "Prefill tjenesten inneholder operasjoner som benyttes av tjenesteeier for å sende inn preutfylte oppgavesett for avgivere.",
	"content": "Det finnes tre typer preutfyllingsinformasjon:\n Preutfylling av oppgavesett. Hele oppgavesettet (hoved- og underskjema) sendes inn med preutfyllingsinformasjon. Tjenesteeier kan også velge å legge til binære vedlegg for preutfylte oppgavesett. Preutfyllingsinformasjon angitt som felt/verdi. Feltet viser til en unik id som benyttes i skjemaer, og det angis verdi for feltet. Registerdata. Statisk informasjon som sendes inn fra nasjonale registre.  Prefilltjenesten har kun støtte for skjemasettbasert prefill. For preutfyllingsinformasjon angitt med felt og verdi må tjenesteeier benytte batchgrensesnitt. Batchgrensesnittet kan også benyttes dersom mengden med preutfyllingsinformasjon er for stort for et tjenestekall, eller for tjenesteeiere som ikke ønsker å benytte tjenestegrensesnittet. Registerinformasjon blir overført til Altinn fra kilde registeret ved gjevne mellomrom. Det alternative batch-grensesnittet er beskrevet i avsnittet Preutfylling.\nTjenestene for skjemasettet må være definert i tjenesteutviklingsløsningen og migrert til Altinn før en tjenesteeier kan sende inn preutfyllingsinformasjon for tjenesten. Operasjon GetAvailableServices kan kalles for å sjekke om skjemasettet eksisterer i Altinn.\nTjenesteoperasjoner Preutfyllingskomponenten har følgende eksponerte operasjoner for bruk av tjenesteeiere.\nSubmitAndInstantiatePrefilledFormTask Denne operasjonen benyttes av tjenesteeiere for å preutfylle et oppgavesett for en avgiver, og umiddelbart aktivere oppgavesettet i brukers arbeidsliste. Ett oppgavesett kan preutfylles og instansieres per kall til SubmitAndInstantiatePrefilledFormTask. Kvittering til tjenesteeier vil angi om mottak, validering, lagring til prefilldatabase (dersom dette er valgt) og instansiering av skjema i portal (dersom dette er valgt) ble gjennomført.\n   Parameter Beskrivelse     externalBatchId Unik id for forsendelse. Denne defineres og settes av tjenesteeier. Returneres i kvittering. Identifikatoren kan senere benyttes av tjenesteeier for å hente ut kvittering for den gitte forsendelsen   preFillFormTask Parameter skal inneholde prefilldata for de ulike skjema i et oppgavesett. Se PrefillFormTask   doSaveFormTask Angir om det preutfylte oppgavesettet skal lagres i databasen for senere bruk   doinstantiateFormTask Angir om det preutfylte oppgavesettet umiddelbart skal instansieres i brukers arbeidsliste   caseId Referanse til samhandlingstjeneste preutfylt skjema skal knyttes til       Retur Beskrivelse     Receipt Kvittering for forsendelsen. Se ReceiptExternal    SubmitPrefilledFormTasks SubmitPrefilledFormTasks kalles av tjenesteeier for å lagre et preutfylt oppgavesett for en avgiver i Altinn. Ett eller flere oppgavesett kan sendes inn ved et kall til tjenesten. Grensesnittet har støtte for å angi en liste med helt uavhengige preutfyllingsdetaljer. I prinsippet et online batch grensesnitt. De ulike elementene kan gjelde helt separate tjenester og avgivere.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     externalBatchId Unik id for forsendelse. Denne defineres og settes av tjenesteeier. Returneres i kvittering. Identifikatoren kan senere benyttes av tjenesteeier for å hente ut kvittering for den gitte forsendelsen.   preFillFormTasksDetails Kontainerelement med preutfyllingsdata. Se PrefillFormTaskDetails       Retur Beskrivelse     Receipt Kvittering for forsendelsen. Se ReceiptExternal    Datakontrakter Preutfyllingskomponenten sine operasjoner benytter seg av følgende datakontrakter.\nPrefillFormTaskDetails Input element til operasjonen Se SubmitPrefilledFormTasks med støtte for å angi en liste med helt uavhengige preutfyllingsdetaljer. I prinsippet et online batch grensesnitt.\n   Property Beskrivelse     PreFillFormTaskList Liste med metadata og preutfyllingsdata. Se PrefillFormTask   SystemUserCode Kode som unikt representerer kildesystem. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier.    PrefillFormTask Dette er hovedkontrakten hvor det kan defineres opp alle detaljer for preutfylling av et oppgavesettet.\n   Property Beskrivelse     ExternalServiceCode Angir den unike tjenestekoden dataene gjelder   ExternalServiceEditionCode Angir tjenesteutgavekode dataene gjelder   ExternalShipmentReference Unik referanse som settes av tjenesteeier for å identifisere forsendelsen   IdentityFieldHashCode Skal ikke fylles ut av tjenesteeier. Brukes internt i Altinn.   LargeInboundReference Skal ikke fylles ut av tjenesteeier. Brukes internt i Altinn.   PreFillAttachments Liste med binære vedlegg som skal legges ved ny instanse av oppgavesettet. Se PrefillFormTaskAttachment   PrefillForms Liste med de faktiske skjemadata som skal benyttes i ny instanse av oppgavesettet. Se PrefillForm   PreFillIdentityFields Liste med identifiserende felter for det preutfylte oppgavesettet. Se PreFillIdentityFieldBE   PrefillNotifications Liste med varsler som skal sendes ut ved instansiering av oppgavesettet. Se Notification   ReceiversReference Referanse som settes av Altinn. Denne returneres i kvittering til tjenesteeier   Reportee Fødselsnummer eller organisasjonsnummer organisasjonsnummer eller brukernavn på selvregistrert bruker som identifiserer hvem dataene gjelder   ServiceOwnerCode Feltnavnet er misvisende. Verdien skal ikke være ServiceOwnerCode, men en kode som unikt representerer kildesystem. Format: XXX_YYYY. De tre første bokstavene er påkrevd og representerer tjenesteeier. De etter understreken representerer avdeling/system, og er valgfritt hvis det ikke finnes flere avdelinger/systemer innenfor samme tjenesteeier. I andre grensesnitt heter dette som regel SystemUserName.   SendersReference Referanse på preutfylt skjemasett som settes av tjenesteeier.   ValidFromDate Angir fra når preutfyllingsdata er gyldig (yyyy-MM-dd)   ValidToDate Angir til når preutfyllingsdata er gyldig (yyyy-MM-dd)   IsReservable Dette feltet er knyttet til avgivere av typen person og hvorvidt Altinn skal respektere om en person er reservert mot elektronisk kommunikasjon med det offentlige. Hvis IsReservable er satt til true vil Altinn gjøre et oppslag i Kontakt- og reservasjonsregisteret, og sjekke om avgiver er reservert. Altinn vil da eventuelt gi en feilmelding om at personen er reservert i stedet for å lagre Prefillinformasjonen. IsReservable feltet er valgfritt og standard verdi er false. Dette vil si at tjenesteeier aktivt må sette feltet til true hvis de ønsker å respektere reservasjoner.   ValidateButDoNotSendNotification Flag som kan brukes av tjenesteeiere som ønsker å sikre at Altinn har kontaktinformasjon som kan brukes ved varsling uten at det sendes varsel. Mer informasjon    Verifisering av kontaktinformasjon for varsel Flagget ValidateButDoNotSendNotification kan brukes av tjenesteeiere hvis de ønsker å sjekke at Altinn har nok informasjon til å kunne sende varsel uten at det faktisk sendes varsel. Dette kan da brukes i de tilfellene hvor de også skal lage et meldingselement (correspondence) og ønsker å knytte varsel til det isteden. Skulle verifisering av kontaktinformasjon resultere i en feil så vil tjenesten returnere en feilmelding om dette. Det blir ikke laget noe skjemaelement i en slik situasjon. Tjenesteeier kan da velge å likevel opprette skjema i en forespørsel uten varselinformasjon eller velge en helt annen kommunikasjonskanal. Mekanismen er avhengig av at forespørselen inneholder informasjon om varsel utsending, men vil ikke gi noen feil om det skulle mangle.\nPrefillForm    Property Beskrivelse     DataFormatID Id til skjema.   DataFormatVersion Versjon til skjema.   FormDataXML Preutfyllingsdata for angitt skjema. Må legges i en CDATA blokk. Bruk av etatid i skjema   SendersReference Unik referanse for skjemaet satt av tjenesteeier.   SignedByDefault Feltet er med på å styre hva bruker skal signere under signeringssteget. Når dette er satt til true så vil skjema signeres hvis bruker ikke velger det bort.   SigningLocked Feltet er med på å styre hva bruker skal signere under signeringssteget. Når dette er satt til true så blir bruker ikke gitt muligheten til å velge bort skjema under signering.    Håndtering av Etatid attributt i skjemadefinasjon fra OR ved Prefill Skjema definert av oppgaveregisteret har ofte en valgfri attributt kalt etatid som er en enum med gyldige etater for skjemadefinasjon. Denne verdien er ikke lenger i bruk og kan ikke benyttes. Hvis verdi settes i XML som sendes inn fra etatssystem vil skjema ikke validere.\nPrefillFormTaskAttachment    Property Beskrivelse     AttachmentData Data for det binære vedlegget   AttachmentName Dette er navnet på vedlegget, som det vises i portalen   AttachmentType Angir MIME-typen for vedlegget: application_none - ingen MIME type angitt, application_pdf - PDF format, application_msword - Microsoft Word, application_vnd_ms_excel - Microsoft Excel, application_vns_oasis_opendocument_text - Open document type Text, application_vnd_oasis_opendocument_presentation - Open docment type Presentation, application_vnd_oasis_opendocument_spreadsheet - Open docment, type Spreadsheet,\tapplication_rtf - Rich text format type, application_vnd_ms_powerpoint - Microsoft PowerPoint, application_postscript, application_zip - Type zip, text_plain, text_html, text_xml, text_rtf - Rich text format type, text_richtext - Rich text, binary_octet_stream - Binary format, not_Applicable   FileName Navn på fil for det binære vedlegget   SendersReference Referanse for vedlegget. Settes av tjenesteeier   SignedByDefault Feltet er med på å styre hva bruker skal signere under signeringssteget. Når dette er satt til true så vil vedlegget signeres hvis bruker ikke velger det bort.   SigningLocked Feltet er med på å styre hva bruker skal signere under signeringssteget. Når dette er satt til true så blir bruker ikke gitt muligheten til å velge bort vedlegget under signering.    PreFillIdentityFieldBE    Property Beskrivelse     FieldValue Verdi for identifiserende feltet. Må settes når det skal være mer enn ett preutfylt skjemasett for samme tjeneste og avgiver. Se avsnitt Identifiserende felter for mer info.   Index Index til identifiserende feltet. Må settes når det skal være mer enn ett preutfylt skjemasett for samme tjeneste og avgiver. Se avsnitt Identifiserende felter for mer info.    Notification Dette dataelementet kan brukes til å definere hvordan en avgiver skal varsles om at det er blitt opprettet et nytt element i deres meldingsboks i Altinn. Det er viktig å merke seg at informasjonen her kun benyttes av operasjonen SubmitAndInstantiatePrefilledFormTask da dette er eneste operasjon som lager noe som er synlig for avgiver.\n   Property Beskrivelse     FromAddress Avsender adresse (e-post). Hvis ikke satt benyttes avsenderadresse satt i varselmalen   NotificationID Skal ikke fylles ut av tjenesteeier. Brukes internt i Altinn.   NotifyType Type varsel. NotificationType.PreFill.   ReporteeElementID Skal ikke fylles ut av tjenesteeier. Brukes internt i Altinn.   ReporteeId Skal ikke fylles ut av tjenesteeier. Brukes internt i Altinn.   ShipmentDateTime Når varsel skal sendes til mottaker.   LanguageCode Språk kode:\t1033 - English, 1044 - Bokmål, 2068 - Nynorsk   NotificationType En unik streng som definerer en referanse til predefinerte varslingstekster.   TextTokens Liste av tekster som skal erstatte maltekst i varselmal. Se TextToken   ReceiverEndPoints Liste av mottaker addresser. Se ReceiverEndPoint    TextTokens    Property Beskrivelse     TokenNum Ikke i bruk, kan utelates   TokenValue Tekst som skal ersatte maltekst. Substitusajonen gjøres i samme rekkefølge som parameterene er angitt. Varselmal må bestilles og lages på forhånd    ReceiverEndPoint    Property Beskrivelse     ReceiverAddress Mobilnummeret eller epostadressen til mottaker av varsel. Dette må passe med TransportType Email eller SMS. Feltet er valgfritt og hvis feltet er tomt vil Altinn forsøke identifisere riktige mottakere basert på avgiver og TransportType. Feltet må være tomt for TransportType Both, SMSPreferred og EmailPreferred.   TransportType Angir om varsel skal sendes som epost eller SMS. Lovlige verdier er: SMS - Altinn vil sende varsel som SMS hvis det er oppgitt et mobilnummer i ReceiverAddress eller avgiver har registrert et eller flere mobilnummer. Hvis avgiver er en organisasjon vil det sendes varsel til alle registrerte mobilnummer.Email - Fungerer på samme måte som SMS, men med epost som kanal.Both - Altinn vil sende varsel både som epost og SMS om mulig. Hvis avgiver kun har registrert en epostadresse vil det sendes varsel som epost. Tilsvarende for mobilnummer. En organisasjon vil få varsel på alle registrerte varslingsadresser.SMSPreferred - Altinn vil sende varsel som SMS hvis avgiver har registrert et mobilnummer. Hvis avgiver ikke har registrert dette vil det isteden bli sendt varsel som epost. Forutsatt at det finnes en registrert epostadresse. En organisasjon vil bli sendt varsel på alle varslingsadresser av riktig type.EmailPreferred - Fungerer på samme måte som SMSPreferred, men med epost som kanal.    ReceiptExternal    Property Beskrivelse     ReceiptId Unik identifikator kvitteringen i Altinn. Benyttes for eksempel ved senere oppdatering av kvittering.   ReceiptText Tekst i kvitteringen.   ReceiptHistory Når en kvittering oppdateres så vil den gamle kvitteringsteksten flyttes og legges til øverst i denne historikken   LastChanged Dato og tidspunkt for når kvitteringen sist ble endret (yyyy-MM-ddThh:mm:ss)   ReceiptTypeName Angir hva kvittering gjelder. Mulige verdier: FormTask -Skjemasett, Correspondence - Melding, PINCODE - PIN-koder, Subscription - Abonnement, Outbound - Forsendelse sendt fra Altinn, PreFill - Preutfyllingsdata, Broker - Formidlingstjeneste, RegisterDLS - DLS registerdata, RegisterDSF - DSF registerdata, RegisterER - ER registerdata, RegisterDSFProperty, RegisterDSFStreet, RegisterDSFCountry, RegisterDSFUser, LookUp -Innsynstjeneste   ReceiptTemplate Angir malen (XML) som skal benyttes for kvittering   ReceiptStatusCode Status for forsendelse som kvitteringen gjelder: NotSet (standardverdi som brukes når status ikke er satt – skal ikke kunne mottas som verdi), OK, UnExpectedError, ValidationFailed, Rejected   ParentReceiptId Dersom denne kvitteringen er en av flere kvitteringer for en forsendelse vil ParentReceiptId vise til ReceiptId som gjelder for hele forsendelsen (hovedkvittering)   References Liste med referanser knyttet til kvitteringen. Se Reference   SubReceipts Liste med underkvitteringer. Dette benyttes gjerne for å detaljere resultatet til en del av forespørselen. For eksempel hvis forespørselen hadde en liste med preutfyllingsdata for flere mottakere.    Reference    Property Beskrivelse     ReferenceValue Selve referansen (verdien) satt på kvitteringen. Typisk forsendelsesreferansen   ReferenceTypeName Angir type referanse: ExternalShipmentReference - Referansen viser til en referanse satt av sluttbrukersystem for en forsendelse, EndUserSystemReference - Benyttes ikke, SendersReference - Referanse satt av avsender for del av en forsendelse, ParentReference - Referansen viser til et hovedskjema, WorkFlowReference - Arbeidsflytreferanse, BatchReference - Referanse til en forsendelse mottatt i eller sendt fra Altinn, OutboundShipmentReference - Referanse til en forsendelse sendt fra Altinn, ReceiversReference - Mottakers referanse hvis kvitteringen blir oppdatert av mottaker av en forsendelse, OwnerPartyReference -Organisasjonsnummer eller personnummer til eier av kvitteringen er typisk den som har sendt inn en forsendelse. Settes av Altinn og kan ikke endres, PartyReference - Organisasjonsnummer eller personnummer til en part som får rettigheter til å hente og oppdatere kvitteringen. Altinn legger automatisk til mottaker av en forsendelse som en part på kvitteringen, ArchiveReference - Arkivreferanse    "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/grensesnitt/rights/",
	"title": "Rettigheter",
	"tags": [],
	"description": "Benyttes for å hente ut opplysning om rettigheter.",
	"content": "RegisterSRRAgencyExternal GetRights Denne operasjonen benyttes for å hente ut gjeldende rettigheter for en tjeneste fra det tjenesteeierstyrte rettighetsregisteret.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     servicecode Angir tjenestekoden man skal hente regler for. Feltet er påkrevd   serviceEditionCode Angir tjenesteutgavekoden man skal hente regler for. Feltet er påkrevd   reportee Angir hvilken avgiver regler skal hentes for. Hvis ingen verdi angis vil regler for alle avgivere returneres   Returverdi Beskrivelse   GetRightResponseList Liste av typen GetRightResponse som angir reglene som ligger i registeret basert på input parametere    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      GetRightResponse (utvidelse av RegisterSSRRight)   ValidTo Angir dato og tid regel er gyldig til, (yyyy-MM-ddThh:mm:ss)   Reportee Angir avgiveren regelen gjelder for   Right Angir rettighet regelen gir. Mulige verdier er: None – rettighet er ikke satt, Read – rettighet les er satt, Write – rettighet skriv er satt, Access - rettighet tilgang er satt, Sign - rettighet signering er satt, ArchiveRead - rettighet les fra arkiv er satt, ArchiveDelete - rettighet slett fra arkiv er satt   Condition Kan angi en spesifikk betingelse for regelen, se mer informasjon om mulige verdier under respektive tjenester som benytter registeret    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     450210 Angitt avgiver (reportee) er ikke et valid organisasjons- eller fødselsnummer    AddRights Denne operasjonen benyttes for å legge til nye regler i det tjenesteeierstyrte rettighetsregisteret.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     servicecode Angir tjenestekoden man skal legge til regler for. Feltet er påkrevd   serviceEditionCode Angir tjenesteutgavekoden man skal legge til regler for. Feltet er påkrevd   insertRightList Liste (AddRightRequestList) av objekter av typen AddRightRequest som angir reglene som skal legges til i registeret   Returverdi Beskrivelse   AddRightResponseList Liste av typen AddRightResponse som angir reglene som skulle legges til (insertRightList) i registeret med en status på hver regel    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      AddRightRequest (utvidelse av RegisterSSRRight)   ValidTo Angir dato og tid regel er gyldig til, (yyyy-MM-ddThh:mm:ss)   Reportee Angir avgiveren regelen gjelder for   Right Angir rettighet regelen gir. Mulige verdier er: None – rettighet er ikke satt, Read – rettighet les er satt, Write – rettighet skriv er satt, Access - rettighet tilgang er satt, Sign - rettighet signering er satt, ArchiveRead - rettighet les fra arkiv er satt, ArchiveDelete - rettighet slett fra arkiv er satt   Condition Kan angi en spesifikk betingelse for regelen, se mer informasjon om mulige verdier under respektive tjenester som benytter registeret    AddRightResponse (utvidelse av AddRightRequest som sendes inn)   OperationResult Angir resultatet for regelen som skulle legges til. Mulige verdier er: Ukjent – status er ukjent, OK – regel ble lagt til som forventet, RuleNotFound – regel som skulle slettes ble ikke funnet, RuleAlreadyExists – regel som skal legges til eksisterer allerede. Regel må først slettes for å kunne oppdateres, EmptyOrNotAValidSsnOrOrganisation – avgiver for regel er ikke et valid organisasjons- eller fødselsnummer, RightAlreadyExpired – regel som skal legges til er allerede gått ut på gyldighetsdato   Validto Angir dato og tid regel er gyldig til, (yyyy-MM-ddThh:mm:ss)   Reportee Angir avgiveren regelen gjelder for   Right Angir rettighet regelen gir. Mulige verdier er: None – rettighet er ikke satt, Read – rettighet les er satt, Write – rettighet skriv er satt, Access - rettighet tilgang er satt, Sign - rettighet signering er satt, ArchiveRead - rettighet les fra arkiv er satt, ArchiveDelete - rettighet slett fra arkiv er satt   Condition Kan angi en spesifikk betingelse for regelen, se mer informasjon om mulige verdier under respektive tjenester som benytter registeret    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     450211 Angitt «condition» er ikke gyldig    DeleteRights Denne operasjonen benyttes for å slette eksisterende regler i det tjenesteeierstyrte rettighetsregisteret.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     servicecode Angir tjenestekoden man skal slette regler for. Feltet er påkrevd   serviceEditionCode Angir tjenesteutgavekoden man skal slette regler for. Feltet er påkrevd   deleteRightList Liste (DeleteRightRequestList) av objekter av typen DeleteRightRequest som angir reglene som skal slettes fra registeret   Returverdi Beskrivelse   DeleteRightResponseList Liste av typen DeleteRightResponse som angir reglene som skulle slettes (deleteRightList) fra registeret med en status på hver regel    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      DeleteRightRequest (utvidelse av RegisterSSRRight)   Reportee Angir avgiveren regelen gjelder for   Right Angir rettighet regelen gir. Mulige verdier er: None – rettighet er ikke satt, Read – rettighet les er satt, Write – rettighet skriv er satt, Access - rettighet tilgang er satt, Sign - rettighet signering er satt, ArchiveRead - rettighet les fra arkiv er satt, ArchiveDelete - rettighet slett fra arkiv er satt   Condition Kan angi en spesifikk betingelse for regelen, se mer informasjon om mulige verdier under respektive tjenester som benytter registeret    AddRightResponse (utvidelse av AddRightRequest som sendes inn)   OperationResult Angir resultatet for regelen som skulle slettes. Mulige verdier er: Ukjent – status er ukjent, OK – regel ble lagt til som forventet, RuleNotFound – regel som skulle slettes ble ikke funnet, RuleAlreadyExists – regel som skal legges til eksisterer allerede. Regel må først slettes for å kunne oppdateres, EmptyOrNotAValidSsnOrOrganisation – avgiver for regel er ikke et valid organisasjons- eller fødselsnummer, RightAlreadyExpired – regel som skal legges til er allerede gått ut på gyldighetsdato   Reportee Angir avgiveren regelen gjelder for   Right Angir rettighet regelen gir. Mulige verdier er: None – rettighet er ikke satt, Read – rettighet les er satt, Write – rettighet skriv er satt, Access - rettighet tilgang er satt, Sign - rettighet signering er satt, ArchiveRead - rettighet les fra arkiv er satt, ArchiveDelete - rettighet slett fra arkiv er satt   Condition Kan angi en spesifikk betingelse for regelen, se mer informasjon om mulige verdier under respektive tjenester som benytter registeret    "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/roadmap/",
	"title": "Altinn roadmap",
	"tags": [],
	"description": "Overordnet roadmap for videreutvikling av Altinn.",
	"content": "\rAltinn Roadmap 2021\rOverordnet roadmap for videreutvikling av Altinn i 2021.\n\r\rAltinn Roadmap 2020\rOverordnet roadmap for videreutvikling av Altinn i 2020\n\r\rAltinn Roadmap 2019\rOverordnet roadmap for videreutvikling av Altinn i 2019.\n\r\rAltinn Roadmap 2018\rOverordnet roadmap for videreutvikling av Altinn i 2018.\n\r\rRoadmap for Altinn 3\rOverordnet roadmap for videreutvikling av Altinn 3.\n\r\rRoadmap Altinn Autorisasjon\rOverordnet roadmap for videreutvikling av Altinn Autorisasjon i 2021 og 2022\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/grensesnitt/samhandlingstjeneste/",
	"title": "Samhandlingstjeneste",
	"tags": [],
	"description": "Administrere samhandlingstjenestene",
	"content": "CaseAgencySystem Case er tjenesten i Altinn for administrering av samhandlingstjenester for tjenesteeiere.\nInstantiateCollaborationAgencySystem Denne operasjonen brukes av tjenesteeier til å instansiere samhandlingstjenester for en gitt person eller organisasjon.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     externalServiceCode Angir tjenestekoden for samhandlingstjeneste som skal instansieres   externalServiceEditionCode Angir tjenesteutgavekoden for samhandlingstjenesten som skal instansieres   reporteeNumber Fødselsnummer eller organisasjonsnummer som saken skal opprettes for   visibleDateTime Angir når samhandlingstjenesten skal være synlig (yyyy-MM-dd / yyy-MM-ddThh:mm:ss)   dueDate Angir når samhandlingstjenesten skal være ferdig (yyyy-MM-dd / yyy-MM-ddThh:mm:ss)   Returverdi Beskrivelse   CaseId Unike identifikator for samhandlingstjenesten    Tabellen under angir mulige feilkoder for operasjonen\n   Feilkode Beskrivelse     60002 Tjenestekode og tjenesteutgavekode er ikke angitt   60012 Angitt avgiver er ikke gyldig   60024 Angitt tjenesteeier er ikke autorisert for valgt tjeneste    GetCaseListAgencySystem Denne operasjonen brukes av tjenesteeier til å hente informasjon om eksisterende samhandlingstjenester.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     caseID Enten: Unike identifikator for samhandlingstjenesten som skal hentes   externalServiceCode Eller: Tjenestekoden for samhandlingstjenesten det skal slås opp mot   externalServiceEditionCode Og: Tjenesteutgavekoden for samhandlingstjenesten det skal slås opp mot   languageID Språk id: 1033 - English, 1044 - Bokmål, 2068-Nynorsk   reporteeNumber Fødselsnummer eller organisasjonsnummer det skal hentes for   Returverdi Beskrivelse   CaseList Liste med ExternalCaseBE objekter    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      ExternalCaseBE   CaseID Unik identifikator for samhandlingstjenesten   CaseName Samhandlingstjenestens navn definert i TUL   CurrentStateFriendlyName Visningsvennlig navn for samhandlingstjenestens tilstand basert på languageID parameter, satt i TUL   CurrentStateID Unik identifikator for samhandlingstjenestens tilstand, som satt i TUL   CurrentStateName Navn for samhandlingstjenestens tilstand, som satt i TUL   NoticeTemplateID Unik identifikator for eventuell merknad satt på samhandlingstjenesten    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     60001 Angitt CaseID er ikke gyldig   60002 Tjenestekode og tjenesteutgavekode er ikke angitt, eller er ikke en gyldig tjeneste   60012 Angitt avgiver er ikke gyldig   60014 Angitt CaseID er arkivert   60015 Angitt CaseID er slettet   60024 Angitt tjenesteeier er ikke autorisert for valgt tjeneste    NotifyEventAgencySystem Denne operasjonen benyttes for å registrere en hendelse på en eksisterende samhandlingstjeneste.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     notificationInfo Objekt av typen StateMachineEventNotificationBE som angir hendelse og hva hendelsen gjelder for   Returverdi Beskrivelse   StateMachineNotificationResultBEList Liste av typen StateMachineNotificationResultBE som angir resultat av hendelsen    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse     CaseID Enten: Unik identifikator for bestemt samhandlingstjeneste hendelsen gjelder for   ExternalServiceCode Eller: Tjenestekoden for samhandlingstjenestene hendelsen gjelder for   ExternalServiceEditionCode Og: Tjenesteutgavekoden for samhandlingstjenestene hendelsen gjelder for   Event Hendelsen som skal registreres   ReporteeElementID Eventuell id til sub-element som trigger hendelsen, benyttes kun i logg sammenheng    StateMachineNotificationResultBE   CaseID Identifikator for samhandlingstjenesten hendelsen ble registrert for   IsStateChanged Boolsk verdi som angir om en tilstandsendring skjedde   ConditionName Navn på betingelsen som er assosiert   ConditionEvaluationResult Boolsk verdi som angir resultatet for betingelsen hvis en betingelse er tilknyttet (satt til True om ingen betingelse er involvert)   CurrentStateName Samhandlingens nåværende tilstand   HasException Boolsk parameter som antyder om det oppstod en feil i tilstandsmaskinen   ExceptionDetail Inneholder feilinformasjon for en eventuell feil i tilstandsmaskinen   ErrorCode Inneholder feilkoden for en eventuell feil i tilstandsmaskinen    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     60001 Angitt CaseID er ikke gyldig   60002 Tjenestekode og tjenesteutgavekode er ikke angitt, eller er ikke en gyldig tjeneste   60014 Angitt CaseID er arkivert   60015 Angitt CaseID er slettet   60022 Hendelsesinformasjon er ikke angitt   60023 Hendelse er ikke angitt   60032 Hendelsen kunne ikke registreres for valgt tjeneste    SetNoticeAgencySystem Denne operasjonen lar tjenesteeier sette en merknad på en instans av en samhandlingstjeneste, eller en underliggende instans av meldingstjeneste, innsendingstjeneste, eller arkivert innsynstjeneste.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     reporteeElementID Identifikator for elementet merknaden skal settes på: 1. Saks identifikator – caseId.\t2. Arkivert element tilknyttet samhandlingstjenesten – reporteeElementID prefikset med AR 3. Aktivt element tilknyttet samhandlingstjenesten – reporteeElementID   noticeInfo Objekt av typen NoticeBE som inneholder mal og eventuelle substitusjoner   Returverdi Beskrivelse   N/A N/A    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\n   Property Beskrivelse      NoticeBE   NoticeTemplateID Identifikator for merknadsmalen opprettet i TUL.   NoticeTokens Liste av typen NoticeTokenBE objekter som inneholder key-value par for substitusjoner    NoticeTokenBE   TokenKey Nøkkel for substitusjon   TokenValue Verdi for substitusjonen    Tabellen under angir mulige feilkoder for operasjonen:\n   Feilkode Beskrivelse     60005 Angitt element er ikke på gyldig format   60014 Angitt saks identifikator er arkivert   60015 Angitt saks identifikator er slettet   60016 Angitt element eksisterer ikke   60017 Angitt element er ikke assosiert til en samhandlingstjeneste   60018 Angitt element er slettet   60019 Angitt element er arkivert, benytt valid arkivreferanse   60024 Angitt tjenesteeier er ikke autorisert for valgt tjeneste    "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/grensesnitt/tjenesteeiers-arkiv/",
	"title": "Tjenesteeiers arkiv",
	"tags": [],
	"description": "Hente ut element fra tjenesteeiers arkiv",
	"content": "ArchiveCommon Tjenesten ArchiveCommon inneholder operasjoner for uthenting av arkivdata fra tjenesteeiers arkiv.\nPåfølgende kapittel beskriver tjenesteoperasjonen for denne arkivtjenesten.\nGetServiceOwnerArchiveReporteeElementsV2 Denne operasjonen benyttes for å hente ut data for en gitt avgiver (privatperson eller foretak) fra en tjenesteeiers arkiv. Data kan være skjemasett arkivert i nåværende eller tidligere versjoner av Altinn, eller meldinger sendt fra tjenesteeier til avgiver. Merk at siden samhandlingstjenester og innsynstjenester ikke arkiveres til tjenesteeiers arkiv vil de ikke kunne hentes ut på denne måten. Kun elementer som innlogget bruker har tilgang til returneres, typisk ikke elementer for tjenester tilknyttet andre tjenesteeiere.\nDet er for eksempel nødvendig å kunne ha direkte tilgang til disse dataene i tilfeller hvor tjenesteeier ønsker å veilede en avgiver i sanntid basert på avgivers arkiverte data.\nTjenesteeier får rutinemessig tilsendt alle arkiverte elementer for alle avgivere via batch-grensesnittet Innsendingstjenester.\nOperasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     SearchServiceOwnerArchive Objektet av typen ExternalSOASearchBE, som inneholder søkeparametre for uthenting av elementer fra tjenesteeiers arkiv.   languageID Språk id: 1033 Engelsk 1044 Bokmål 2068 Nynorsk. Språk angitt på arkivert element benyttes uavhengig av hva som settes.       Returverdi Beskrivelse     ServiceOwnerArchiveReporteeElementList Liste med objektet av typen ServiceOwnerArchiveReporteeElementBEV2, som inneholder elementer fra tjenesteeiers arkiv som tilfredsstiller angitte søkeparametre.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\nExternalSOASearchBE\n   Property Beskrivelse     SSNOrOrgNumber Fødselsnummer eller organisasjonsnummer   ReferenceId Unik referanse id   Subject Hvilket emne søket gjelder   DateFrom Fra dato i arkivet   DateTo Til dato i arkivet   CaseID Identifikator for samhandlingstjeneste elementet skal tilhøre   UserName Søk basert på brukernavn    ServiceOwnerArchiveReporteeElementBEV2\n   Property Beskrivelse     Subject Emne for elementet   IsSubjectMessageTitle Angir om tittel er satt av MessageTitle   LastChangedDate Dato for siste endring   DatReporteeId Intern id   SSNOrOrganizationNumber Fødselsnummer eller organisasjonsnummer tilknyttet arkivert element   ReporteeName Navn på avgiver som eier arkivert element   ReporteeElementId Intern id   Altinn1ArchiveUnitId Intern id fra AltinnI arkivet. Kan være tomt   Altinn1AMReference AM referansen fra AltinnI arkivet. Kan være tomt   Altinn1FormCode Skjemanummer fra AltinnI arkivet. Kan være tomt   EndUserSystemId Id for sluttbrukersystem. Kan være tomt   SendComplete Hvorvidt forsendelsen er komplett eller ikke for elementet. Kan være tomt   ElementType Element type: Archive, Active, Correspondence, ArchiveCorrespondence, LookUp, Collaboration   IsAltinn1 Flagg som indikerer om elementet eksisterer i AltinnI   IsCorrespondenceConfirmationRequired Hvorvidt meldingsbekreftelse er påkrevd eller ikke   ArchiveReference Referansen fra Altinn arkivet.   SystemTypeName Typenavn på sluttbrukersystem. Kan være tomt   ExpiryDate Angir eventuelt når elementet er planlagt slettet    ServiceOwnerArchive Tjenesten ServiceOwnerArchive inneholder operasjoner for uthenting av elementer fra tjenesteeiers arkiv (ikke tilgang til arkiverte elementer fra tidligere versjoner av Altinn).\nPåfølgende kapitler beskriver operasjonen for denne tjenesten.\nGetArchivedFormTaskV2 Denne operasjonen benyttes for å hente ut alle skjemaer og vedlegg som tilhører et gitt skjemasett. Operasjonen er versjonert, gjeldende versjon er V2.\nTabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     reporteeElementId Unik identifikator for skjemasettet som skal hentes. Identifikatoren er obligatorisk input til tjenesten   languageID Språk kode: 1033 Engelsk, 1044 Bokmål, 2068 Nynorsk       Returverdi Beskrivelse     ArchivedFormTask Objektet av typen ArchivedFormTaskBEV2 som skjemasettet som tilfredsstilte det gitte søkekriteriet.    Tabellen under gir en nærmere beskrivelse av objektene som inngår i datakontrakten.\nArchivedFormTaskBEV2\n   Property Beskrivelse     reporteeElementId Unik identifikator for skjemasettet.   LastChanged Tidspunkt for når det sist ble gjort endringer på skjemasettet   ReporteeID Intern id.   ArchivedDateTime Tidspunkt for når skjemasettet ble arkivert   ServiceOwner Unik identifikator for tjenesteeier for skjemasettet   InvoiceInformation Eventuell betalingsinformasjon som er vedlagt skjemasettet   ArchivedFormList Liste med ArchivedFormBE-objekter (nærmere beskrevet nedenfor), som inneholder alle skjemaene i skjemasettet   ExternalServiceCode Tjenestekode   ExternalServiceEditionCode Tjenesteutgavekode   ssnOrgNumber Fødselsnummer eller organisasjonsnummer tilhørende skjemasettet   PasswordEncryptedSymmetricKey Passordkryptert symmetrisk nøkkel for å dekryptere eventuell sensitive felter   SOEncryptedSymmetricdKey Samme symmetriske nøkkel som over, men kryptert med tjenesteeiers sertifikat. Tjenesteeier kan da bruke privat nøkkel til å dekryptere denne nøkkelen   ArchiveTaskList Liste med arkiv-objekter av typen ArchiveTaskBEV2    ArchivedFormBE\n   Property Beskrivelse     FormID Intern id   FormName Navn på skjema   FormDataXML Innhold i skjema. Må legges i en CDATA blokk   ParentReference Referanse til hovedskjema. Denne referansen er kun satt dersom gjeldende skjema er et underskjema   FormPresentationFieldValue Presentasjonsfelt for skjemaet, dersom dette finnes.   PaymentInformationE2B Betalingsinformasjon på E2B-format   PaymentInformationHTML Betalingsinformasjon på XML-format   DataFormatId Id til skjema fra metadata kilde   DataFormatVersion Betalingsinformasjon vedlagt skjema   FormPaymentInfo Skjemabeskrivelse    ArchivedAttachmentBEV2\n   Property Beskrivelse     AttachmentID Intern Id   AttachmentFunctionType Angir hvilken funksjonstype vedlegget utgjør: Invoice, Unspecified   AttachmentName Navn på vedlegg   MimeTypeName Angir MIME-typen for vedlegget: application_none, application_pdf, application_msword, application_vnd_ms_excel, application_vns_oasis_opendocument_text, application_vnd_oasis_opendocument_presentation, application_vnd_oasis_opendocument_spreadsheet, application_rtf, application_vnd_ms_powerpoint, application_postscript, application_zip, text_plain, text_html, text_xml, text_rtf, text_richtext, binary_octet_stream, not_Applicable   CreatedByUserID Intern Altinn identifikator på bruker som har lagt til vedlegget   CreatedDateTime Dato for når vedlegget ble opprettet   IsAddedAfterFormFillin Angir om vedlegget ble lagt til i løpet av signeringen (etter utfylling)   IsEncrypted Angir om vedlegget er kryptert    ArchivedFormTaskSigningStepBEV2\n   Property Beskrivelse     SignatureID Intern Id   SignedByUser Intern id bruker som har signert skjemasettet   SignedByUserSSN Fødselsnummer til bruker som har signert / organisasjonsnummer til virksomhetsbruker som har signert   SignedByUserName Navn på bruker som har signert skjemasettet.   CreatedDateTime Dato og tidspunkt for når skjemasettet ble signert   Signature Signaturen, binært format   SignatureText Signeringsteksten   RequiresGroupSigning Angir om signatur gjelder for alle elementer i skjemasettet   AuthenticationLevelID Intern id for autentiseringsnivået for bruker når signering ble gjort   AuthenticationMethod Autentiseringsnivået for bruker når signering ble gjort   CertificateIssuedByName Navnet sertifikatet er utstedt til   CertificateIssuedForName Navnet signaturen er utstedt til   CertificateValidFrom Tidspunkt (dato og klokkeslett) for når sertifikatet er gyldig   CertificateValidTo Tidspunkt (dato og klokkeslett) for når sertifikatet blir ugyldig   SignedAttachmentList Liste over signerte vedlegg.   SignedFromList Liste over signerte skjemaer   IsSigningAllRequired Angir om signering er utført for alle elementer i skjemasett: YES – signering på alle skjema, NO – valgfri signering på skjema, SET_PER_FORM – valg for signering satt på skjema nivå   ProcessStepID Den unike identifikatoren for steget signaturen gjelder for    ArchiveTaskBEV2\n   Property Beskrivelse     EndUserSystemID Sluttbrukersystem identifikator   LastChanged Angir dato for sist endring   NumberOfSignaturesAdded Antall signaturer som er lagt til   ProcessStepID_FK Intern ID for prosessteg   SentComplete Angir om element ble sent som komplett fra sluttbrukersystem   TaskID Identifikator for elementet, samme som ReporteeElementID   UserDefinedNumberOfSignaturesRequired Antall signaturer krevd for et evt brukerstyrt signeringssteg   WorkflowReference Intern ID forarbeidsflyt    GetArchiveShipmentStatusV2 Denne operasjonen benyttes for å hente ut status på oversending fra Altinn til Tjenesteeier for et arkivert skjema. Man kan hente ut status ved å bruke enten ArchiveReference eller ServiceReference. Disse kan ikke brukes samtidig. Operasjonen er versjonert, gjeldende versjon er V2. Tabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     ArchiveReference (string) Tar inn en ArkivReferanse for et arkivert element. Når dette elementet er brukt skal ikke ServiceReference brukes.   ServiceReference (objekt) Inneholder en liste med ArchiveShipmentStatusExternalV2 objekter. Hvert objekt representerer et elementen som ble funnet av tjenesten, og har en egen liste over statuser registrert på elementet.    ServiceReference   ServiceCode Unik identifikator. Dette er en mandatory parameter når man bruker ServiceReference til å hente ut status data.   ServiceEditionCode Unik identifikator. Dette er en mandatory parameter når man bruker ServiceReference til å hente ut status data. Unik identifikator. Dette er en mandatory parameter når man bruker ServiceReference til å hente ut status data.   DateFrom Definerer dato og tidspunkt tjenesten skal hente ut status data fra.   DateTo Definerer dato og tidspunkt tjenesten skal hente ut status data til    ArchiveShipmentStatusExternalBEV2List   LimitReached Når dette flagget er satt ble det funnet flere arkiverte elementer enn det som det er returnert statuser for   ArchiveShipmentStatusList Liste over de returnerte arkiv elementene som en liste av ArchiveShipmentStatusExternalV2-entiteter    ArchiveShipmentStatusExternalV2   ArchiveReference Unik arkiv referanse   TimeOfArchiving Tidspunkt for arkivering   ServiceCode Tjenestekode   ServiceEditionCode Tjeneste utgave kode   ShipmentStatusLog Liste over arkiv elementets status endringer som en liste av ShipmentStatusLogEntry-entiteter.    ShipmentStatusLogEntry   ShipmentDescription En beskrivelse av Shipment relatert til statusen, som inneholder navnet på ShipmentDefinition og TransportSekvensNummeret for shipmentet til tjenesteeier. Disse blir adskilt med et pipe-tegn   ShipmentStatus En beskrivelse av Shipment relatert til statusen, som inneholder navnet på ShipmentDefinition og TransportSekvensNummeret for shipmentet til tjenesteeier. Disse blir adskilt med et pipe-tegn ShipmentStatus ShipmentStatus for arkiv elementet. Kan være: NotSet - Elementet er ikke gjort klar til oversendelse. NotSent – Elementet er ikke sendt til tjenesteeier. Sent – Element er sent til tjenesteeier. Error – Overførsel til tjenesteeier feilet. Correlated – Correspondence er opprettet som er knyttet til denne ArkivReferansen   ShipmentStatusDateTime Dato og klokkeslett for når statusen ble satt på arkiv elementet    GetAttachmentDataStreamed Denne operasjonen benyttes for å hente ut data for ett gitt vedlegg in den tilfelle vedlegg er større en 30MB. GetArchivedFormTaskV2 må kalles for å få detailene om den binær filen returnerte av denne metoden.\nTabellen under beskriver datakontrakten for operasjonen.\n   Input Beskrivelse     AttachmentID Unik identifikator for et vedlegg   Returverdi Beskrivelse   Attachment Stream som inneholder et binært vedlegg    "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/grensesnitt/varseltjeneste/",
	"title": "Varseltjeneste",
	"tags": [],
	"description": "Varseltjenesten gjør det mulig for tjenesteeiere å opprette varsel uavhengig av andre elementer i meldingsboksen til avgiver.",
	"content": "Tjenesteoperasjoner Denne tjenesten har 3 versjoner av samme operasjon. Input og funksjonalitet for de ulike versjonene er den samme. Det som varierer er returen. Versjon 1 og 2 er betraktet som utgått, men fungerer fint for eksisterende klienter. Nye klienter bør benytte versjon 3 av operasjonen. Kun versjon 3 er dokumentert.\nSendStandaloneNotificationV3 Denne operasjonen kan benyttes til å sende frittstående varsel. Det vil si varsel som ikke nødvendigvis er tilknyttet noe element i meldingsboksen til avgiver. Operasjonen støtter en liste med varsel som også kan være helt uavhengig av hverandre. Det vil si ulike tema og avgivere.\nInputparameter Tabell med oversikt over operasjonens inputparameter.\n   Navn Beskrivelse     standaloneNotifications Liste med varseldefinisjoner. Se StandaloneNotification    Retur Beskrivelse av hva operasjonen returnerer.\n   Datakontrakt Beskrivelse     SendNotificationResultList Liste med oversikt over hvilke varsel som faktisk ble generert. Se SendNotificationResultList    Feilsituasjoner Tabell med oversikt over mulige feilkoder for operasjonen.\n   Feilkode Beskrivelse     1 Et av elementene: FromAddress, ShipmentDateTime, eller NotificationType mangler data. Teksten i meldingen angir hvilke felt som har mangler.   30009 Gis hvis man har oppgitt en adresse i ReceiverAddress når TransportType er Both, SMSPreferred eller EmailPreferred.   30010 Ugyldig epostadresse angitt på et ReceiverEndPoint.   30301 Altinn har ikke klart å finne noe mobiltelefonnummer å sende varsel til. Brukes når transporttypen bør medføre varsel på SMS.   30302 Ugyldig/ukjent landkode i et mobiltelefonnummer.   30303 Ugyldig norsk mobiltelefonnummer.   30304 Avgiver av typen organisasjon har ikke registrert noen varslingsadresse som kan benyttes i varsel på angitt kanal.   30306 Avgiver har ingen varslingsadresse som kan benyttes til å sende varsel på angitt kanal.   30309 Avgiver har ikke varslingsadresse for både epost og SMS. Denne feilen kan oppstå for transporttype Both.   40001 Ugyldig angitt språkkode.   40014 Angitt antall varsler overstiger konfigurert grense.   40015 TransportType må være enten SMS eller Email.   40016 Angitt fødselsnummer er ikke gyldig.   40020 Parameter FromAddress må være en gyldig e-post adresse.   60012 Ugyldig avgiver. Altinn klarer ikke identifisere noen avgiver basert på angitt ReporteeNumber.    Datakontrakter StandaloneNotification    Property Beskrivelse     FromAddress Kan brukes til å angi hva som skal være avsender når varsel sendes på epost. Dette må derfor være en gyldig epostadresse. Feltet er valgfritt, men hvis det er blankt gis det feilmelding.   IsReservable I sammenheng med KRR (Kontakt og reservasjons registeret) kan en sluttbruker reservere seg mot å motta digital kommunikasjon fra norske myndigheter. IsReservable verdien kan brukes til å indikere om det er mulig å reservere seg mot meldingen eller ikke. Det er valgfritt å angi en verdi og standard (default) verdi er False. Denne verdien må derfor aktivt settes til True om tjenesteeier ønsker å respektere slike reservasjoner.   LanguageID Språket varselet skal være på. Her brukes det språkkoder: 1033 - English1044 - Bokmål2068 - Nynorsk   NotificationType Et unikt navn som refererer til predefinerte varslingstekster.   ReceiverEndPoints Liste med varsel mottakere. Se ReceiverEndPoint   ReporteeNumber Fødselsnummer, organisasjonsnummer eller brukernavnet til de det skal sendes varsel til. Hvis input er et brukernavn antas det at varselet sendes til en egenregistrert bruker. Altså en Altinnbruker med ukjent identitet.   Roles Dette feltet er ikke knyttet til noe logikk i tjenesten. Input blir altså ikke benyttet og er derfor unødvendig.   Service Tjenestekoder kan benyttes til å begrense hvem som får varsel når avgiver er en organisasjon. Mer informasjon   ShipmentDateTime Dato for når varselet ønskes sent (yyyy-MM-dd / yyy-MM-ddThh:mm:ss).   TextTokens Liste med TextTokens objekter som angir substitusjoner i varslingsteksten. Se TextTokens   UseServiceOwnerShortNameAsSenderOfSms I sammenheng med sending av SMS varsel, kan tjenesteeier velge om tjenesteeier selv skal stå som avsender i stedet for Altinn. Det er valgfritt å angi en verdi og standard (default) verdi er False.    Filtrering av varselmottakere Når det sendes varsel til organisasjoner så har Altinn to kilder til kontaktinformasjon. Den første og viktigste er offisielle varslingsadresser fra Kontakt- og fullmaktsregisteret for virksomheter (KoFuVi). Her har Altinn ingen filtrering på hvilke adresser som får varsel. Den andre kilden er det som kalles Din kontaktinformasjon for virksomheten. Dette er en Altinn funksjon som gir brukere i Altinn mulighet til å registrere sin personlige kontaktinformasjon mot en virksomhet. I denne sammenheng er det store forkjeller på hva slags tilganger de ulike personene har. Det kan være daglig leder, en regnskapsfører eller mer eller mindre tilfeldige personer som har tilgang til et eller annet på vegne av organisasjonen. Hvis oppgitt organisasjon er en underenhet uten noen registrerte kontaktpunkter vil hovedenhetens varslingsadresser bli benyttet isteden.\nVed å angi tjenestekoder vil Altinn sikre at personene med registrert kontaktinformasjon faktisk har nok tilganger til å kunne representere organisasjonen i kontekst av tjenesten. Det kjøres i praksis en autorisasjon hvor det sjekkes at personen har leserettigheter på tjenesten som er angitt. Hvis det ikke er angitt noe tjenestekoder vil Altinn ikke sende varsel til denne typen kontaktinformasjon overhodet.\nReceiverEndPoint    Property Beskrivelse     TransportType Angir om varsel skal sendes som epost eller SMS. Lovlige verdier er: SMS - Altinn vil sende varsel som SMS hvis det er oppgitt et mobilnummer i ReceiverAddress eller avgiver har registrert et eller flere mobilnummer. Hvis avgiver er en organisasjon vil det sendes varsel til alle registrerte mobilnummer.Email - Fungerer på samme måte som SMS, men med epost som kanal.Both - Altinn vil sende varsel både som epost og SMS. Denne transport typen krever at avgiver har registrert minst en epostadresse og et telefonnummer. Hvis en av disse mangler vil tjenesten returnere en feilmelding. En organisasjon vil få varsel på alle registrerte varslingsadresser.SMSPreferred - Altinn vil sende varsel som SMS hvis avgiver har registrert et mobilnummer. Hvis avgiver ikke har registrert dette vil det isteden bli sendt varsel som epost, forutsatt at det finnes en registrert epostadresse. En organisasjon vil bli sendt varsel på alle varslingsadresser av riktig type.EmailPreferred - Fungerer på samme måte som SMSPreferred, men med epost som hovedkanal.   ReceiverAddress Mobilnummeret eller epostadressen til mottaker av varsel. Dette må passe med TransportType Email eller SMS. Feltet er valgfritt og hvis feltet er tomt vil Altinn forsøke identifisere riktige mottakere basert på avgiver og TransportType. Feltet må være tomt for TransportType Both, SMSPreferred og EmailPreferred. En annen ting det er viktig å merke seg er at Altinn ikke vil søke opp andre mulige varslingsadresser fra for eksempel KoFuVi. Det antas altså at tjenesteeieren har angitt den best egnede mottakeren av varsel.    TextTokens    Property Beskrivelse     TokenNum Ikke i bruk, kan utelates.   TokenValue Tekst som skal ersatte maltekst. Substitusajonen gjøres i samme rekkefølge som parameterene er angitt. Varselmal må bestilles og lages på forhånd.    SendNotificationResultList Dette er en liste med informasjon om hvilke varsel som ble laget. Se NotificationResult.\n   Property Beskrivelse     Message Dette feltet blir ikke benyttet.    NotificationResult    Property Beskrivelse     EndPoints Liste med EndPoint resultater for Notification. Se EndPointResult   NotificationType NotificationType for notification. Brukes for å kunne se hvilken Notification resultatet gjelder   ReporteeNumber Avgiver som ble brukt til å generere mottakere. Brukes for å kunne se hvilken avgiver varsel resultatet gjelder.    EndPointResult    Property Beskrivelse     Name Navn på person som har mottatt melding. Dette blir hentet enten fra Organisasjonens mottaker-liste, eller fra brukerens innslag i Register databasen   ReceiverAddress Hvilken addresse meldingen er sendt til.   RetrieveFromProfile Satt til true dersom informasjonen er hentet fra en Organisasjons eller brukers profil   TransportType Type endepunkt varsel er sendt til.    "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/grensesnitt/webservice-mottak/",
	"title": "Webservice mottak",
	"tags": [],
	"description": "Sette opp mottak over webservice.",
	"content": "Online overføring til Tjenesteeier over webservice Det er mulig for tjenesteeiere å motta online forsendelser av innsendingstjenester med vedlegg over web service. Mottaket skal ha en metode som heter ReceiveOnlineBatchExternalAttachment. Denne kalles som en \u0026ldquo;SOAP Document\u0026rdquo; metode, og kan benyttes til å motta innsendingstjenester hvor vedleggene er pakket i en ekstern ZIP fil, ergo navnet.\nDenne tjenesten kan settes opp for MTOM for å støtte mer effektiv overføring av store binære vedlegg. Ved bruk av MTOM som dataoverføringsmetode kan det oppnås opptil 20-30% besparelse av båndbredde sammenliknet med vanlig dataoverføring mot web tjenesten.\nMerk: Det er fullt mulig å sende uten vedlegg eksternt i ZIP fil over dette grensesnittet. Vedlegg vil da komme base64encoded i XML i batch parameteren, og det er ikke lenger mulig å sette opp tjenesten for bruk av MTOM.\nReceiveOnlineBatchExternalAttachment Tabellen under beskriver datakontrakten for operasjonen:\n   Input Beskrivelse     Username Brukernavnet som Altinn skal oppgi   passwd Passordet som Altinn skal oppgi   receiversReference    sequenceNumber Sekvensnummer på forsendelsen   batch Selve forsendelsen, iht. nyeste versjon av XSD for genericbatch   attachments ZIP-fil med evt. binære vedleggsfiler   Returverdi Beskrivelse   [returverdi] Status tilbake til Altinn for mottak av forsendelse iht. OnlineBatchReceipt.xsd    Dersom det ikke finnes vedlegg til batchen vil parameteren “attachments\u0026quot; bli satt til en byte array med lengde 0.\nTabellen under beskriver elementer og attributter relevante for kvittering som skal returneres av tjenesteeier:\n   Element Beskrivelse     OnlineBatchReceipt Rotnode. Denne XSDen beskriver kvitteringen som skal returneres fra et mottakssystem etter å ha mottatt en online forsendelse fra Altinn. Kvitteringen begrenser seg til å kun beskrive selve mottaket av batchen, og det er ikke lagt opp til at kvitteringen skal inneholde informasjon vedrørende prosessering av selve batchen   OnlineBatchReceipt.Result Dette elementet har ett attributt resultCode som beskriver status på mottatt batch. Innholdet i Result-elementet er en valgfri streng. Denne blir ikke brukt programmatisk, men vil bli lest av driftspersonell i tilfelle feil   resultCode De forskjellige resultatkodene som kan returneres fra mottaket: OK - Batch er mottatt OK, FAILED - Batch er ikke mottatt, eller det oppstod en feil i mottaket. Altinn kan forsøke forsendelse på ny, FAILED_DO_NOT_RETRY - Samme som FAILED, men Altinn skal ikke forsøke å sende batch på ny. Hvis web servicen returnerer vanlige errors vil ikke Altinn håndtere de riktig og oversendelsen vil feile. Alle feilmeldinger må derfor bygges inn under de to FAILED og FAILED_DO_NOT_RETRY.    Navnerom For at Altinn sin webserviceklient skal kunne kommunisere med mottaket, er det viktig at følgende er satt korrekt (definisjonene vil finnes igjen i WSDL-filen). Denne informasjonen skal ligge i WSDL-filen man blir presentert for når man åpner definisjonen for mottakets web service.\n   Definisjon Verdi Beskrivelse     /wsdl:definitions/@xmlns:tns http://AltInn.no/webservices/ Navneromsdefinisjon   /wsdl:definitions/@targetNamespace http://AltInn.no/webservices/ Navneromsdefinisjon   /wsdl:definitions/wsdl:types/s:schema/@targetNamespace http://AltInn.no/webservices/ Navneromsdefinisjon   /wsdl:definitions/wsdl:binding/wsdl:operation/soap:operation/@soapAction http://AltInn.no/webservices/ReceiveOnlineBatchExternalAttachment Identifikator for SOAP-metode   /wsdl:definitions/wsdl:service/wsdl:port/soap:address/@location Mottaksavhengig Dette er URLen til mottaket som Altinn skal benytte seg av    "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/feilhandtering/",
	"title": "Feilhåndtering",
	"tags": [],
	"description": "Altinn benytter en SOAP fault til å returnere feilmeldinger for en web service. Denne fault meldingen er i henholdt til AltinnFault kontrakten definert i WSDL for alle tjenestene. Kontrakten vil angi en feilkode og en feilmelding, henholdsvis ErrorID og AltinnErrorMessage, for å definere feilsituasjoner.",
	"content": "Eksempel på en feilmelding fra Altinn:\n\u0026lt;s:Envelope xmlns:s=\u0026#34;http://schemas.xmlsoap.org/soap/envelope/\u0026#34;\u0026gt; \u0026lt;s:Body\u0026gt; \u0026lt;s:Fault\u0026gt; \u0026lt;detail\u0026gt; \u0026lt;AltinnFault\u0026gt; \u0026lt;AltinnExtendedErrorMessage\u0026gt;No information available\u0026lt;/AltinnExtendedErrorMessage\u0026gt; \u0026lt;AltinnLocalizedErrorMessage\u0026gt;Incorrect username/password/pin given for user\u0026lt;/AltinnLocalizedErrorMessage\u0026gt; \u0026lt;ErrorGuid\u0026gt;ed4c23c0-7de6-4343-a442-89bd3a6f38d8\u0026lt;/ErrorGuid\u0026gt; \u0026lt;ErrorID\u0026gt;989\u0026lt;/ErrorID\u0026gt; \u0026lt;UserGuid\u0026gt;-no value-\u0026lt;/UserGuid\u0026gt; \u0026lt;UserId/\u0026gt; \u0026lt;/AltinnFault\u0026gt; \u0026lt;/detail\u0026gt; \u0026lt;/s:Fault\u0026gt; \u0026lt;/s:Body\u0026gt; \u0026lt;/s:Envelope\u0026gt; Feilkoder Listen under angir de generelle feilkodene som benyttes. Disse er først og fremst benyttet i sammenheng med autentisering og autorisering og benyttes derfor av flere av tjenestene i Altinn. Feilkoder mer spesifikke for operasjonene er listet opp under de respektive operasjonene i kapittel 9 Grensesnitt – web services.\n   Feilkode Beskrivelse     0 Denne feilen oppstår i følgende tilfeller, se tekst i AltinnErrorMessage for mer informasjon: En nødvendig parameter for autentisering/autorisering mangler i forespørsel, Systemet er ikke autorisert for denne operasjonen på vegne av angitt avgiver, Operasjonen krever høyere autentiseringsnivå enn mulig og må derfor utføres i portalen   5 Denne feilen oppstår i følgende tilfeller, se tekst i AltinnErrorMessage for mer informasjon: Ikke mulig å autorisere forespørsel basert på sendte parametere – verifiser gyldigheten/format, Autentisering av systemet vha sertifikat feilet pga feil brukernavn/passord, Systemet autentisert ved sertifikat er midlertidig låst ute, Systemet er ikke autorisert til å kalle tjenesten fra innkommende IP adresse, Systemet er ikke autorisert til å kalle forespurt ressurs (feil tjenesteeier), Angitt system ID er ikke gyldig – skal være et nummer   989 Denne feilen oppstår i følgende tilfeller, se tekst i AltinnErrorMessage for mer informasjon: Forespørsel mangler system ID eller system passord, Autentisering av systemet (uten sertifikat) feilet pga feil brukernavn/passord, Systemet (ikke sertifikat) er midlertidig låst ute    Hvis det ikke kommer en forståelig feilmelding, send en henvendelse til support@altinn.no. Legg med tidspunkt for innsending og systemUserName, den unike koden (ErrorGuid) samt beskrivelse av hva som har skjedd.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/soap/feilkoder/",
	"title": "Feilkoder",
	"tags": [],
	"description": "Feilkoder i Altinn.",
	"content": "   Feilkode  Beskrivelse (eng)     Common Error Codes 1 – 1000     GeneralError 0 Denotes a general error   NullObjectReference 1 Denotes an error caused by a null reference   MissingRight 14 Authorization error - Subject does not have required right   HookActivationFailed 90 Error given when hook activation fails   IncorrectLevel 17 User is not authenticated on the correct level   RequiresLevel1 18 Requires level 1   RequiresLevel2 19 Requires level 2   RequiresLevel3 20 Requires level 3   RequiresLevel4 21 Requires level 4   ExternalSystemAuthentication 989 External system authentication failed   Common Error Codes 10000 - 20000     AccessDenied 10000 Database error - Access denied   Hook Error Codes 20001 - 21000     ServiceCannotBeStarted 20001 Hook error - Service cannot be started   ServiceCannotBeStartedForCurrentReporte 20002 Hook error - Service cannot be started for the current reportee   NoValidSubscriptionData 20003    NoValidReporteeAgeAndStatus 20004    TUL Error Codes 21001 - 23000     ServiceEditionCodeAlreadyExists 21001 TUL Error - Service edition code exists already   FileNotFound 21002 TUL Error - File not found   DataAreaTypeNotFound 21003 TUL Error - Data area type not found   RootNodeNotFound 21004 TUL Error - Root node not found   DoesNotExists 21005 TUL Error - (something) does not exist   NotImpersonatedOrAuthorised 21006 TUL Error - User is not impersonated or authorized   EntrySiteDoesNotExists 21007 TUL Error - Entry site does not exist   IDZeroORNegative 21008 TUL Error - ID is zero or negative   ServiceEditionInProduction 21009 TUL Error - Service edition is already in production   RequiredFieldNotSupplied 21010 TUL Error - Required field is not supplied   CannotBeNull 21011 TUL Error - (something) cannot be null   UserNotAuthorized 21012 TUL Error - User is not authorized   IncorrectClientConfiguration 21013 TUL Error - Incorrect client configuration   IncorrecctArguement 21014 TUL Error - Incorrect argument   GetDeploymentPackagesFailed 21015 TUL Error - GetDeploymentPackages failed   GetDeploymentPackageFailed 21016 TUL Error - GetDeploymentPackage failed   ServiceEditionValidationFailed 21017 TUL Error - Service edition validation failed   DeploymentPackageCreationFailed 21018 TUL Error - Deployment package creation failed   ServiceEditionMigrationFailed 21019 TUL Error - Service edition migration failed   UnableToReachSBLService 21020 TUL Error - Unable to reach SBL service   CallToSBLWCFOperationFailed 21021 TUL Error - Call to SBL WCF operation failed   UnexpectedErrorDuringMigration 21022 TUL Error - Unexpected error during migration   ValueNotDefinedInEnum 21023 TUL Error - Value is not defined in enum   BEObjectCannotBeNull 21024 TUL Error - Business Entity object cannot be null   XsdNotFoundOrXsnNotUploaded 22985 TUL Error - XSD not found or XSN not uploaded   ServiceDoesNotExist 22986 TUL Error - Service does not exist   ServiceHasAlreadyBeenDeleted 22987 TUL Error - Service has already been deleted   ServiceEditionHasAlreadyBeenDeleted 22988 TUL Error - Service edition has already been deleted   ServiceEditionHasBeenDeleted 22989 TUL Error - Service edition has been deleted   ServiceHasBeenDeleted 22990 TUL Error - Service has been deleted   ServiceOwnerUrlAlreadyExists 22991 TUL Error - Service owner URL already exists   UserDoesNotHaveRightsToCreateSites 22992 TUL Error - User does not have rights to create sites   UnexpectedErrorInRetrievingGuid 22993 TUL Error - Unexpected error in retrieving GUID   DataRetrievalFailed 22994 TUL Error - Data retrieval failed   UnexpectedErrorInSettingStatus 22995 TUL Error - Unexpected error in setting status   SiteCreationFailed 22996 TUL Error - Site creation failed   SuppliedGuidIsNullOrEmpty 22997 TUL Error - Supplied GUID is null or empty   DuplicateXsdInFormSet 22998 TUL Error - Duplicate XSD in formset   ServiceShortNameExists 22999 TUL Error - Service short name already exists   ServiceEditionShortNameAlreadyExists 21025 TUL Error - Service edition short name already exists   ServiceCodeAlreadyExists 21026 TUL Error - Service code already exists   SpecificationDataMissing 21027 TUL Error - Specification data missing   NoAuthorizationRulesDefined 21028 TUL Error - No authorization rules have been defined for this service edition.   RoleNameAreadyExists 21029 TUL Error - No authorization rules have been defined for this service edition.   SBLOperationTimedOut 21030 TUL Error - Migration timed out   Integration Error Codes 30001 - 31000     NotAuthorizedForReportee 30001 Integration error - Not authorized for reportee   NotAuthorizedForSignature 30002 Integration error - Not authorized for signature   NotAValidService 30003 Integration error - Not a valid service   ArgumentNullException 30004 Integration error - Argument is null   NotAValidServiceOwnerCode 30005 Integration error - Not a valid service owner code   InValidServiceEditionVersion 30006 Integration error - Invalid service edition version   FileNotExist 30007 Integration error - File does not exist   SBL External Error Codes 40001 - 41000     LanguageCodeCannotBeNull 40001 SBL External error - Language code cannot be null   MessageBodyCannotBeNull 40002 SBL External error - Message body cannot be null   MessageTitleCannotBeNull 40003 SBL External error - Message title cannot be null   MessageSummaryCannotBeNull 40004 SBL External error - Message summary cannot be null   ExternalReferenceCannotBeNull 40005 SBL External error - External reference cannot be null   ExternalServiceCodeCannotBeNull 40006 SBL External error - External service code cannot be null   ReporteeCannotBeNull 40007 SBL External error - Reportee cannot be null   SystemUserCodeCannotBeNull 40008 SBL External error - System user code cannot be null   CorrespondenceCanNotBeDeleted 40009 SBL External error - Correspondence cannot be deleted   ElementCanNotBeDeleted 40010 SBL External error - Element cannot be deleted   PersonHasStrictlyConfidentialAddress 40011 SBL External error - Person has strictly confidential address   FormDataIsNotValid 40012 SBL External error - Form data is not valid   ServiceIsNotValid 40013 SBL External error - Service is not valid   InValidNumberOfReceipents 40014 SBL External error - Invalid number of receipients   InvalidFormatSmsAndEmail 40015 SBL External error - Invalid SMS   InvalidSSN 40016 SBL External error - Invalid SSN   ReceiverAddressNull 40017 No receiver address   ControlWorkflowSentComplete 40018 Control Workflow Sent Complete   InvalidServiceType 40019 Invalid Service Type   InvalidEmailAddressForFromAddress 40020 The From Address must be skipped or contain a valid email address.   Authorization Error Codes 50001 - 51000     DelegateRolesBEInputInvalid 50001 This error code is used when the party a user wants to delegate a role or right to, does not exist.   GeoLocationIsMandatory 50002 This is used when geo location has not been supplied   InvalidGeoLocation 50003 This is used when geo location format is not correct   CoveredByUserIDRequired 50004 This is used when delegation type is SSN,UserName and CoveredByUserID has not been supplied   CoveredByPartyIDRequired 50005 This is used when delegation type is Organization and CoveredByPartyID has not been supplied   CannotDelegateToEnterpriseCertifiedUser 50006 This is used when roles or rights of an enterprise/user not represented by an enterprise certified user is being delegated to an enterprise certified user.   CannotDelegateANonDelegatableRole 50007 This is used when someone is trying to delegate a non-delegatable role   InvalidOrgNumber 50008 When the OrgNo is not proper or does not exist   InvalidUserDetails 50009 When the SSN or Last Name or UserName are not valid or a user with the combination does not exist   UserDoesNotHaveProfessionalConsent 50010 When user does not have professional consent   InvalidGeoLocationFormat 50011 Geo location is in incorrect format   CannotDelegateDenyOnOtherResources 50012 Cannot delegate Deny type right on resources other than reporteeElement.   RoleTypeNameNotUnique 50013 RoleTypeName is not unique   RoleTypeBeenDelegated 50014 RoleType has been Delegated   RoleTypeLanguagesNotValid 50015 RoleTypeLanguagesNotValid   DeleteRolesAndRightsFailure 50016 DeleteRolesAndRightsFailure   SelfDelegationIsNotAllowed 50017 Delegation to self is not allowed   RoleTypeCodeNotMigrated 50018 RoleTypeCodeNotMigrated   ResourceHasNoRule 50019 RuleHasNoRight   Collaboration Service Error Codes 60001 - 70001     InvalidCaseID 60001 Invalid Case ID   InvalidCaseIdentifier 60002 Invalid Service Code and Service Edition Code Combination and Invalid CaseID   InvalidLanguage 60003 Invalid Language ID   ExceededCharacterLimit 60004 Character Limit Exceeded.   InvalidReporteeElement 60005 Invalid Reportee Element   UnarchivedCorrespondenceException 60006 For correspondences services which have not been archived   UnarchivedReportingServicesException 60007 For Form Task services which have not been archived   ReporteeElementInAnotherCase 60008 For Reportee element is already associated to another case   InvalidServiceInCollaborationServiceSet 60009 For A Service, not available in Collaboration Service Set   InvalidReporteeID 60010 Invalid Reportee ID   InvalidNoticeTemplateID 60011 Invalid NoticeTemplateID   InvalidReporteeNumber 60012 Mandatory ReporteeNumber   ArchivedOrDeletedCaseID 60013 Case is already archived or deleted   ArchivedCaseID 60014 Case is archived.So no processing allowed.   DeletedCaseID 60015 Case is Deleted. So no processing allowed.   InvalidElement 60016 The element is unavailable.   UnassociatedElement 60017 The element is not associated with any Case.   DeletedElement 60018 The element is deleted.   ArchivedElement 60019 The element is archived.   InvalidNoticeTokenID 60020 Invalid notice Token   InvalidNoticeTokenValue 60021 Invalid notice Token Value   InvalidEventIdentifier 60022 Invalid Event Identifiers   InvalidEventName 60023 Invalid Event Name   UnauthorizedServiceOwner 60024 Service Owner is unauthorized   MissingNoticeTokens 60025 Missing Notice Tokens   WorkFlowValidationException 60026 Received WorkFlow Exception   WorkFlowInitiationException 60027 Workflow Initiation Exception   MissingWorkflowInstance 60028 Missing Workflow Instance   WorkFlowGenericException 60029 WorkFlow Generic Exception   EventDeliveryFailed 60030 Event Delivery Failed   MissingEventName 60031 Missing Event Name   UnavailableStateMachineEvents 60032 Unavailable State Machine Events   SMDI Error Codes - 70001 - 80001     IncorrectService 70001 Incorrect service details   IncorrectWorkFlow 70002 Incorrect process work flow details   IncorrectServiceEditionVersion 70003 Incorrect Service Edition Version details   IncorrectEventHook 70004 Incorrect Event Hook details   IncorrectReportingService 70005 Incorrect Reporting Service details   IncorrectCorrespondenceService 70006 Incorrect Correspondence Service details   IncorrectLookupService 70007 Incorrect Lookup Service details   IncorrectCollaborationReUse 70008 Incorrect Collaboration Service - ReUseData details   IncorrectFormset 70009 Incorrect Form Set details   IncorrectLogicalForm 70010 Incorrect Form Set details   IncorrectSplitData 70011 Incorrect Split of data details   IncorrectTranslation 70012 Incorrect Translation details   IncorrectDeployForm 70013 Incorrect FormTemplate uploaded   IncorrectSecurity 70014 Incorrect Roles \u0026amp; Rights details   IncorrectCollaborationServices 70015 Incorrect Collaboration Service - ServicesInCollaboration details   IncorrectCollaborationStateMachine 70016 Incorrect Collaboration Service - StateMachine details   IncorrectStyleSheet 70017 Incorrect StyleSheet details   IncorrectPIImages 70018 Incorrect StyleSheet - Images details   IncorrectPI 70019 Incorrect PI details    "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/prodsetting/",
	"title": "Produksjonssettinger i Altinn 2",
	"tags": [],
	"description": "Planlagte releaser i 2021.",
	"content": "\r\r\r\rRelease\rAT Cloud\rDeploy AT Feature Freeze\rCode Freeze\rDeploy TT02\rDeploy PROD\r\r\r\r v21.1 AT24 17.11.2020 21.12.2020 07.01.2021 11.01.2021 14.01.2021   v21.2 AT24 15.12.2020 15.01.2021 04.02.2021 08.02.2021 15.02.2021 \r v21.3 AT23 19.01.2021 01.03.2021 11.03.2021 15.03.2021 22.03.2021 \r v21.4 AT22 16.02.2021 22.03.2021 08.04.2021 12.04.2021 19.04.2021 \r v21.5 AT24 23.03.2021 26.04.2021 06.05.2021 10.05.2021 19.05.2021 \r v21.6 AT23 20.04.2021 25.05.2021 03.06.2021 07.06.2021 14.06.2021   v21.7 AT22 20.05.2021 14.06.2021 22.06.2021 24.06.2021 01.07.2021 \r v21.8 AT24 15.06.2021 02.08.2021 16.08.2021 18.08.2021 25.08.2021 \r v21.9 AT23 02.07.2021 30.08.2021 09.09.2021 13.09.2021 20.09.2021 \r v21.10 AT22 26.08.2021 04.10.2021 14.10.2021 18.10.2021 25.10.2021 \r v21.11 AT24 21.09.2021 01.11.2021 11.11.2021 15.11.2021 22.11.2021 \r v21.12 AT23 26.10.2021 29.11.2021 09.12.2021 13.12.2021 20.12.2021 \r\r "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/roadmap/altinn3/",
	"title": "Roadmap for Altinn 3",
	"tags": [],
	"description": "Overordnet roadmap for videreutvikling av Altinn 3.",
	"content": "Altinn 3 er under stadig utvikling. Her får du vite mer.\nFor informasjon om hvordan man bruker funksjonalitetene som er beskrevet her, se brukerdokumentasjonen for Altinn Studio.\n\r\r\rSluttbruker-funksjonalitet i Altinn 3\rDette er funksjonaliteten for sluttbrukere som allerede eksisterer, og noen av de større endringene som er planlagt framover i Altinn 3.\n\r\rTjenesteeier-funksjonalitet i Altinn 3\rDette er funksjonaliteten for tjenesteeier som allerede eksisterer, og noen av de større endringene som er planlagt framover i Altinn 3.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/roadmap/roadmap_autorisasjon/",
	"title": "Roadmap Altinn Autorisasjon",
	"tags": [],
	"description": "Overordnet roadmap for videreutvikling av Altinn Autorisasjon i 2021 og 2022",
	"content": "Planlagte endringer for Altinn Autorisasjon Altinn har sett på hvilke planlagte større endringen vi kommer til å på autorisasjonsløsningen i 2021. Endrinene retter seg mot to hovedprosjekter og er en del av leveranser planlagt for disse\n Fufinn - fullmaktsløsning for innbyggere HELT - Helhetlig tilgangsstyring for virksomheter Altinn 3.0  I tillegg så har vi flere andre endringer relatert til autorisasjonsfunksjonalitet som ikke er prosjektspesifikk men som kan være spilt inn fra tjenesteeiere eller som er nødvendig videreutvikling for å sikre en effektiv drift, forvaltning og videreutvikling av Altinn autorisasjon fremover.\nEndringene er listet opp i prioritert rekkefølge.\nBacklogg for Altinn Autorisasjon er stadig under revisjon og kan forandres når som helst i løpet av året. Generelt kan man si at jo lenger frem i tid leveranse er planlagt jo mer usikker er prioritet og angitt leveransetidspunkt.\n2021 Høyest prioritet 1 - Tilby tilgangsstrying på app-nivå for tjeneste 3.0 (Q2 - 2021) Altinn Autorisasjon skal utvikle støtte for tilgangsstyring og autorisering av applikasjoner i Tjenester 3.0. Dette inkluderer autorisering på operasjonsnivå (f eks les, skriv, signer) og skal støtte applikasjoner med egne\n2 - Tilby alternativ til cookie-autentisering i REST (2.0) med OIDC/OAuth2-basert autentisering/delegering av tilgang til sluttbruker-API) (Q2 - 2021) Ferdigstille funksjonalitet knyttet til autentisering via REST API ved bruk av ID-porten. Dette inklurderer blandt annet å gi bruker oversikt over hvilke samtykker som er gitt til hvilke apper og nettsteder og vil gi en bedre oversikt over sammenhengen mellom IDporten og Altinn.\n3 - Oppgavebasert tilgangsstyring - erstatte roller med brukerorienterte oppgaver og tilgangsstruktur som begrenser innsyn (Q4 - 2021) Dagens roller i Altinn er forholdsvis store og rommer tilgang til veldig mange tjenester. Det er derfor ønskelig å utforme brukerorienterte delegeringspakker/roller forenkler tilgangsstrying for de fleste. dette vil også sikre at man ikke får tilgang til mer enn man strengt tatt trenger.\n4 - Nødvendige endringer knyttet til KS svarut og behandling av meldinger med taushetsbelagt informasjon (Q1 - 2021) For å sikre tilgang til meldinger med sensitiv innhold skal KS benytte Altinn Autorisasjon som informasjonspunkt for å gi tilgang til meldinger på instansnivå. Dette betyr at delegering av tilgang til instanser i innboksen må videreføres ved arkivering av melding. Endringen\n5 - Integrasjon mot AA registeret (Q2 - 2021) AA-registeret (arbeidsgiver- og arbeidstakerregisteret) eies og forvaltes av NAV og er et grunndataregister som gir en oversikt over alle arbeidsforhold i Norge med noen få unntak. AA registeret skal tas i bruk som et hjelpemiddel og forenkling av tilgangsstyring i Altinn.\n6 - Omskriving av Autorisasjon-kapitlet i Docs (Q2 - 2021) Beskrivelse av løsning for tilgangsstyring må oppdateres slik at den i større grad harmonerer med våre råd om hvordan bruke løsningen for å styre tilgang til andre tjenester.\n7 - Vergemålsregister (Q2-2021) Ta i bruk eksisterende vergemålsregister som autorisasjonskilde i Altinn\n8 - Hente og videreformidle Advokat registeret (Q3 - 2021) Hente informasjon fra advokatregisteret for å fornekle tilgangsstyring for advokater samt legge til rette for videreformidling av informasjon fra advokatregisteret til andre offentlig og private aktører\n9 - Ferdigstille prioritert funksjonalitet knyttet til \u0026ldquo;be om tilgang\u0026rdquo; (Q1 - 2021) Ferdigstille nødvendig funksjonalitet knyttet til be om tilgang\n10 - Tilby favoritter/alfabetisk visning ved valg av avgiver når man starter tjenste (Q1 - 2021) Endringen gjelder 2.0 tjenester. Når bruker starter en 2.0 tjeneste i dag så må han velge hvilken aktør han skal utføre tjenesten for. Denne visningen skal forbedres og fornyes slik at aktørene viser valgte favoritter samt lister opp aktører alfabetisk, i tillegg til at aktør kan søkes opp.\n2021 - lavere prioritet 11 - Integrasjon mot eHelses fullmaktsdatabase (Q4 - 2021) Gi innbygger oversikt i Altinn over hvilke fullmakter som er registert hos eHelse\n12 - Tilgangsstyring i kunde-leverandør forhold (Q4 - 2021) Ofte leier personer/virksomheter inn andre virksomheter til å utføre oppgaver for seg som innebærer bruk av tjenester i Altinn, f eks bistand på HR eller regnskapsføring.\nI dagens Altinn delegerer en rettighet/rolle til Leverandørens organisasjonsnummer og nøkkelrolleinnehaver hos leverandør (eks daglig leder). Ofte er det andre ansatte enn daglig leder hos Leverandør som faktisk skal utføre oppgaven for kunden. Det er ingen enkel og oversiktlig måte å kunne delegere dette videre til egne ansatte for Leverandøren. I tillegg er det krevende å følge opp når ansatte hos leverandør skifter jobb.\nDet skal etableres en løsning for tilgangstyring mellom Kunde og Leverandør som inkluderer en mer oversiktlig håndtering av tilganger på vegne av kunde. Løsningen vil gjøre det mulig for Leverandør å be Kunde om de tilganger de har behov for. I tillegg skal leverandør kunne administrere disse tilgangene for egne ansatte.\n13 - Økt sikkerhet ved delegering (Q4 - 2021) Det skal innføres krav til ekstra pålogging på nivå 4 når en bruker delgerer såkalte \u0026ldquo;risky role types\u0026rdquo; til andre. En risky role type vil f eks være tilgangsstyrer og hovedadministrator.\nNår fullmakter gis på vegne av en person så skal det sendes et varsel til brukers kontaktinformajson registert hos KRR. Varselet vil informere om at en fullmakt er gitt på brukers vegne med beskjed om å kontakte Altinn hvis dette ikke er greit.\n14 - Mulighet til å delegere tidsbegrenset rettighet og rolle (Q2 - 2021) Det skal innføres en mulighet for bruker å tidsbegrense en rettighet som gis med et utløpstidspunkt (utløpstidpunkt). Denne funksjonalitet finnes i dag for samtykke og fullmkater men ikke for roller og rettigheter til tjenester.\n15 - Forenkle og videreutvikle innbyggers oversikt over fullmakter (Q4 - 2021) Altinn skal tilby biometrisk pålogging og pushvarsel som gir enkel tilgang til \u0026ldquo;mine fullmakter\u0026rdquo; og som gir beskjed når noen trenger en fullmakt. Denne appen vil også være tilgjengelige for brukere som opptrer på vegne av virskomheter, men vil være særlig tilpasset virksomheter med forholdvis få brukere. Det er også ønskelig å tilby pushvarsel som en alternativ varslingskanal til varsling på sms og epost\n16 - Vise informasjon om rettigheter for altinn-tjenester i skjemakatalogen i altinn (Q4 - 2021) For å gjøre det enklere for bruker å se hva vedkommende kan og ikke kan gjøre knyttet til en tjeneste ønsker vi å flytte autorisasjonsinformasjon i den kontekst hvor den trengs. Derfor ønsker vi å vise brukers rettigheter når hun slår opp et tjeneste i skjemakatalogen, se illustrasjon nedenfor.\n17 - Gjenstående arbeid etter første integrasjon mot FREG (Q2 - 2021) For å reduesere risiko har Altinn i en periode hatt to løsnigner for å lese data fra folkeregisteret, gammel DSF-integrasjon og integrasjon mot nytt FREG. For å sikre effektiv forvaltning og drift av autorisasjonsløsningen skal vi konsolidere og rydde opp i kode som ikke lenger er i bruk knyttet til gammel DSF-integrasjon.\n\rVis/skjul innhold\r\r2022\r\r\rListen er i prioritert rekkefølge for de 5 øverste oppgavene.\n1 - Nytt vergemålsregister inn i Altinn (beskrivelse av tiltaket kommer)\n2 - Reimplementere BrokerService tjenester på REST (beskrivelse av tiltaket kommer)\n3 - Hendelsesdrevet løsning for publisering av formidlingshendelser (beskrivelse av tiltaket kommer)\n4 - Utvidelse av hendelsesfeed med standalone notification (beskrivelse av tiltaket kommer)\n5 - Vise informasjon om rettigheter for ekstern tjeneste i kontekst av tjenesten (beskrivelse av tiltaket kommer)\nIntegrasjon mot eHelse for å ta i bruk helsefullmakt for å styre tilgang til tjenester via Altinn Autorisasjon (beskrivelse av tiltaket kommer)\nTa i bruk API hos Finanstilsynet for å verifisere krav til autorisasjon (regn/revi/andre?) (beskrivelse av tiltaket kommer)\nTilby avgiverliste for virksomhet via SO-REST (beskrivelse av tiltaket kommer)\nForberede flytting av autorisasjon til sky (?) - analyse og muligheter (beskrivelse av tiltaket kommer)\nMulghet for å \u0026ldquo;si ifra seg\u0026rdquo; rettighet til tjeneste som man finner i innboksen (beskrivelse av tiltaket kommer)\nTa i bruk foreldreansvar som autorisasjonskilde i Altinn (FREG) (beskrivelse av tiltaket kommer)\n\r\r "
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/",
	"title": "Ny funksjonalitet",
	"tags": [],
	"description": "Vi jobber stadig med forbedringer i Altinn. Her kan du se hva vi har gjort og hva som er planlagt å gjøre fremover.",
	"content": "\rAltinn endringslogg\rOversikt over endringer i Altinn\n\r\rAltinn roadmap\rOverordnet roadmap for videreutvikling av Altinn.\n\r\rProduksjonssettinger i Altinn 2\rPlanlagte releaser i 2021.\n\r\rProduktstrategi\r\n\r\rProsjektbeskrivelser\rDokumentasjon for pågående prosjekter i Altinn\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/produktstrategier/",
	"title": "Produktstrategi",
	"tags": [],
	"description": "",
	"content": "Vår strategi er delt opp i en hovedstrategi for hele Altinn som er beskrevet iAltinnstrategien\nAltinn deles deretter opp i 5 hoved-produkter som tilbys gjennom vår plattform.\n Tjenester Autorisasjon Digital post Formidlingstjenesten Altinn.data.no  Her finner du produktstrategien for alle produktene i Altinn.\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/prosjekter/",
	"title": "Prosjektbeskrivelser",
	"tags": [],
	"description": "Dokumentasjon for pågående prosjekter i Altinn",
	"content": "\rHelt og Fufinn\r\n\r\rTjenester 3.0\rProsjektet Tjenester 3.0 skal levere neste generasjon av offentlige tjenester.\n\r\rVidereutvikling av Altinn Autorisasjon Helhetlig tilgangsstyring (HELT og Fufinn) beskriver innhold og mandat til satsningen Helhetlig tilgangsstyring (HELT) og Fullmaktsløsning for innbyggere (FUFINN)\n"
},
{
	"uri": "https://altinn.github.io/docs/api/soap/roller-og-rettigheter/",
	"title": "Roller og rettigheter",
	"tags": [],
	"description": "Beskrivelse av hvem sluttbrukersystemet kan rapportere for.",
	"content": "Sluttbrukersystemet baserer seg på en ”reportee” og en systemUser. Sluttbrukersystemet kan rapportere for en participant A (bruker eller organisasjon) eller en participant B, som participant A har rettighet til å rapportere for.\nNår en sluttbrukersystemtype er lagt inn i Altinn, står innrapportører fritt til å disponere sitt eget oppsett av systemer som skal rapportere inn til Altinn. En sluttbrukersystembruker bestemmer selv om han ønsker å opprette kun ett system (enterprisesystemid) som skal rapportere for flere avgivere, eller om han ønsker å opprette flere systemer som skal rapportere for hver enkelt avgiver. Poenget er at systemet må ha rettighet til å rapportere for avgiveren. Det er en forskjell hvordan rettighetene blir håndtert på ny og gammel plattform. På gammel plattform (tjenester som slutter på .asmx) baserer autorisasjonssjekk seg på en enkeltrolle som heter ”systeminnsendingsrettighet gamle tjenester”. Når en avgiver gir denne rollen til eier av systemet vil systemet kunne rapportere for denne avgiveren.\nEksempel 1: System med enterprisesystemid=1 er registrert på regnskapsbyrå A. Klient B delegerer systeminnsendingsrettighet til regnskapsbyrå A. Klient C delegerer også systeminnsendingsrettighet til regnskapsbyrå A. System med enterprisesystem=1 kan rapportere for både B og C.\nEksempel 2: Klient B oppretter et eget system med enterprisesystemid=2 i stedet for å delegere systeminnsendingsrettighet til regnskapsbyrå A. Klient C delegerer systeminnsendingsrettighet til regnskapsbyrå A. I dette tilfellet vil enterprisesystem=2 kunne rapportere for B, mens centerprisesystem=1 vil kunne rapportere for C.\nEksempel 3: Klient B oppretter et eget system med enterprisesystemid=2, og klient C oppretter et eget system med enterprisesystemid=3. I dette tilfellet kan enterprisesystemid=2 rapportere for B, mens enterprisesystemid=3 kan rapportere for C. Enteprisesystemid=1 kan ikke rapportere for verken B eller C.\nFor tjenester på ny plattform settes det strengere krav til hvilken rettighet systemet har. Her må det delegeres den rollen/rettigheten for den aktuelle tjenesten hvor det skal utføres innsending/uthenting eller modifisering av data.\nEksempel 4 Klient B ønsker at regnskapsbyrå A skal fylle ut RF-1070 som er en tjeneste på ny plattform. Tjenesten krever rollen utfyller/innsender. Klient B må da delegere rollen utfyller/innsender til regnskapsbyrå A for at enterprisesystemID=1 skal kunne rapportere for Klient B på denne tjenesten.\nHvordan delegere systeminnsendingsrett Det er mulig å delegere sluttbrukersysteminnsendingsrett til en revisororganisasjon. Et sluttbrukersystem som er registrert på denne organisasjonen vil dermed kunne sende inn for avgiveren som delegerte rettigheten.\nDu kan kun delegere de rettighetene du har selv. For å kunne delegere må du ha en\nadministrasjonsrettighet i Altinn. Velg Deleger roller enkeltvis i Administrasjonsmenyen, og registrer fødselsnummer og navn til den personen du vil at skal utføre rapportering på vegne av deg. Deretter krysser du av de rettighetene denne personen skal få\n"
},
{
	"uri": "https://altinn.github.io/docs/api/soap/skjemasett-sammenlikning/",
	"title": "Skjemasett sammenligning",
	"tags": [],
	"description": "Altinns behandling av skjemasett som mottas.",
	"content": "Ved innsending fra sluttbrukersystem skal i utgangspunktet følgende tre prinsipper gjelde etter innføring av 18550:\n Altinn skal ikke endre på skjemasettet som blir sendt inn av SBS. Altinn kan imidlertid tilføye kalkulerte felter som SBS unnlater å sende inn (eller sender inn uten verdi, se punkt XML og syntaks-konvensjoner. Skjemasett med feil skal i utgangspunktet stoppes av Altinn og innsending skal feile.  Det andre prinsippet åpner for at SBS kan benytte seg av kalkyler og registerprefill som er bygget inn i skjemasettet ved å unnlate å sende inn de aktuelle feltene. Altinn vil da tilføye feltene med beregnet eller forhåndsutfylt verdi. Kvitteringen til SBS vil indikere alle felter som ikke ble sendt inn fra SBS, men ble tilføyd av Altinn og sendt videre til tjenesteeier. Feltverdien (fra kalkyle eller prefill) er også angitt i kvitteringen.\nMerk imidlertid at SBS kan hente prefilldata selv dersom disse skal benyttes. Denne metoden er mer robust ettersom den ikke krever kunnskap om hvilke felter som har prefilldata. Man vil da verken få advarsel eller feil på registerprefill-felter.\nTjenesteeier har mulighet til å fravike det tredje prinsippet ved å definere overstyrbare felter. Overstyrbare felt vil kun gi advarsel ved ulik verdi (ikke feilmelding). Tjenesteeier kan også fravike fra det tredje prinsippet ved å bruke opsjonen \u0026ldquo;Kun XSD-validering\u0026rdquo;. Dersom et skjema har kun XSD-validering vil verken sammenlikningsreglene beskrevet i dette vedlegget eller eventuelle valideringer og kalkyler i skjemaet kjøres for skjemaet ved innsending fra SBS.\nSammenlikning av skjemasett Når SBS sender inn et skjemasett tar Altinn en kopi av innsendingen. Kopien gjennomgår så samme behandling som innsendinger i SBL, hvilket medfører at denne kopien modifiseres; felter kan bli lagt til eller skrevet over. Det kan også resultere i advarsler eller feil fra skjemamotoren (valideringsfeil i skjemaet, for eksempel at et påkrevd felt mangler eller at organisasjonsnummer ikke er oppgitt på et gyldig format).\nAltinn sammenlikner deretter den modifiserte kopien av skjemasettet med den innsendte originalen. I hovedsak består dette i å sammenlikne felt for felt de to versjonene. Når feltverdier er ulike fører det til en feil (slik at innsending feiler) eller advarsel (når feltet er flagget som overstyrbart). Hva dette betyr er mer presist definert i det påfølgende.\nFunksjonaliteten Endringen har blitt implementert som en modul som kjøres under komplett innsending fra SBS. Denne vil kjøre i tillegg til de vanlige modulene (XSD-validering, instansiering av skjema med kjøring av valideringer, kalkuleringer og dynamikk, prefill-validering). Tidspunktet 18550-modulen kjøres er etter instansiering av skjema.\n Opprinnelig XML for skjema sendes inn fra sluttbrukersystem (SBS). XSD validering av opprinnelig XML utføres. Dersom XSD validering feiler så gis det en god, tydelig og informativ valideringsfeil til SBS og innsending feiler. XSD-valideringen er nå en fullstendig XSD-validering i motsetning til tidligere hvor tomme element alltid ble godtatt uansett type (Integer, decimal, string, osv). b. Dersom XSD validering er ok så fortsetter prosessen til neste validering steg. Altinn kjører nå kalkyler basert på innsendte data fra SBS. Deretter sammenlignes verdiene fra SBS med de kalkulerte verdiene (registerprefill, verdioverføringer, kalkyler) fra Altinn. Resultatet av sammenligningen resulterer i en liste med feil og advarsler som vises i kvitteringen. Merk at advarsler ikke resulterer i at innsending stoppes, men er kun ment som informasjon at noe er ulikt det som forventes. Sluttbrukersystem trenger ikke å agere på dette ved mindre de oppdager at innsendte data faktisk er feil. Det er opp til tjenesteeier å bestemme hvilke felter som skal gi advarsel eller feilmelding ved ulik verdi. Overstyrbare felter vil resultere i advarsel.  XML og syntaks-konvensjoner Reglene er formulert med begrepene felt og feltverdi. Det er derfor nyttig å først relatere disse begrepene til XML-representasjonen. Noen ganger finnes det mer enn én måte å representere det samme på.\nTabellen under oppsummerer syntaks-konvensjonene.\nLike og ulike feltverdier Nedenstående tabell oppsummerer hvordan Altinn bedømmer feltverdier som like eller ulike.\nDette er for det meste som man ville forvente, men med et par unntak det er verdt å merke seg:\n Dersom SBS sender inn tom streng men \u0026ldquo;InfoPath-verdi\u0026rdquo; er nil betraktes dette som likt - men det omvendte er ikke tilfellet. (Årsaken til dette er at InfoPath endrer alle felter med tom streng til NIL.) Preutfylte felter sammenliknes alltid som strenger (case insensitivt). Andre felter sammenliknes med en betinget tallsammenlikning når det er mulig (oppsummert i tabell under). Betinget tallsammenlikning betyr at \u0026ldquo;4.0\u0026rdquo;, \u0026ldquo;4\u0026rdquo; og \u0026ldquo;0004.00\u0026rdquo; alle betraktes som like. Merk imidlertid at XSD som regel begrenser hva slags tallrepresentasjoner som er tillatte!  Betinget tallsammenlikning kan oppsummeres som følger:\nTabellen nedenfor oppsummerer når det gis feil eller advarsel, samt hva som sendes til tjenesteeier.\n   XML er i henhold til XSD Kun XSD-validering Ulik feltverdi Overstyrbart felt Resultat Hva sendes til tjenesteeier     Nei N/A N/A N/A Feil ingenting (innsending feiler)   Ja Ja N/A N/A OK Innsendt verdi fra SBS.   Ja Nei Nei N/A OK Innsendt verdi fra SBS.   Ja Nei Ja Ja Advarsel Innsendt verdi fra SBS hvis denne eksisterer (feltverdi \u0026lt;\u0026gt; nil), ellers Altinn-beregnet verdi.*)   Ja Nei Ja Nei Feil/Advarsel*) ingenting (innsending feiler) Altinn-beregnet Verdi hvis SBS ikke angir påstand ved å utelate XML-element/nil *)    N/A = har ingen betydning.\n Merk at Altinn kan legge til data i kalkyler og preutfylte felt utover det SBS har sendt inn hvis følgende scenario er tilstedet:\\ SBS har ikke sendt inn en påstand (XML element ikke tilstedet/NIL uavhengig om feltet er satt til overstyrbart eller ikke av Tjenesteeier. Det vil da bli gitt en Advarsel til SBS i kvittering. Merk at dette er i tillegg til feil og advarsler som kommer fra valideringsregler i skjemasettet (myke valideringer gir advarsel, harde valideringer gir feil).  I praksis I praksis vil 18550-endringen by på mindre til ingen endringer for sluttbrukersystemene. Det sluttbrukersystemleverandørene må ta høyde for nå er at det kan komme advarsler i kvitteringer på innsendinger som har blitt instansiert korrekt. Advarslene vil komme på samme måte som myke skjemavalideringer og må eventuelt presenteres for brukeren av systemet. Feilmeldinger som blir produsert av denne 18550-endringen vil komme på samme måte som vanlige skjemavalideringsfeil og innsendingen vil stoppes.\nSluttbrukersystem brukerne vil nok ikke merke store forskjellen fra tidligere. De vil oppleve å få tilbake mer informasjon i kvitteringen enn tidligere.\nKjente feil/mangler for SBS  Det blir gitt en advarsel hvis grupper i XML er utelatt. Ikke språkstøtte på advarsel og feilmelding i kvittering  "
},
{
	"uri": "https://altinn.github.io/docs/api/soap/teknisk-implementasjon/",
	"title": "Sikkerhet og feilkoder",
	"tags": [],
	"description": "For å tilby funksjonalitet for sikkerhet gjennom autentisering og autorisasjon benyttes ulike varianter tjenesteparametere for sluttbrukersystemer.",
	"content": "Autentisering  Basic operasjoner med autentiseringsinformasjon (brukernavn/passord) i meldingen. I en web service operasjon vil dette typisk bety at de første elementene i en melding er forbeholdt autentiseringsinformasjon.  Eksempel på en SOAP melding med basic:\n  WS som benytter WS-Security hvor autentiseringsinformasjon (brukernavn/passord) følger SOAP meldingen på en standardisert måte gjennom definerte SOAP header elementer.\n  I en web service operasjon vil dette bety at autentiseringsinformasjonen ligger i SOAP header basert på innhold definert i WS-Security standarder.\n  Eksempel på en SOAP melding med bruk av WS-Security:\n EC operasjoner hvor autentiseringsinformasjon i form av sertifikat blir formidlet via SOAP header, mens tilhørende brukernavn og passord blir sent som del av meldingen.  Eksempel på en SOAP melding med bruk av EC:\nFeilhåndtering Altinn returnerer feilkoder hvis noe går galt. For å formidle feilsituasjonen benyttes en SOAP Fault med en egen kontrakt som inneholder felter som identifiserer feilen og gir en tekstlig feilmelding.\nSOAP Fault Altinn benytter en SOAP fault til å returnere feilmeldinger for en web service. Denne fault meldingen er i henholdt til AltinnFault kontrakten definert i WSDL for alle tjenestene. Kontrakten vil angi en feilkode og en feilmelding, henholdsvis ErrorID og AltinnErrorMessage, for å definere feilsituasjoner.\nEksempel på en feilmelding fra Altinn:\nFeilkoder Listen under angir de generelle feilkodene som benyttes. Disse er først og fremst benyttet i sammenheng med autentisering og autorisering og benyttes derfor av flere av tjenestene i Altinn.\nFeilkoder mer spesifikke for operasjonene er listet opp under de respektive operasjonene under Grensesnitt.\n   Feilkode Beskrivelse     0 Autentisering av sluttbruker feilet pga feil brukernavn/passord/pin. Maks bruk av pinkode oppnådd, benytt ny pinkode. Sesjon for pinkode har gått ut, benytt ny pinkode. Bruker er midlertidig låst   5 Ikke mulig å autorisere forespørsel basert på sendte parametere – verifiser gyldigheten/format. Autentisering av systemet feilet pga feil brukernavn/passord. Systemet eller virksomhetsbrukeren er midlertidig låst ute. Systemet er ikke autorisert for denne operasjonen på vegne av angitt avgiver. Angitt system ID er ikke gyldig – skal være et nummer   989 Autentisering av sluttbruker feilet pga feil brukernavn/passord/pin. Maks bruk av pinkode oppnådd, benytt ny pinkode. Sesjon for pinkode har gått ut, benytt ny pinkode. Bruker er midlertidig låst    Hvis det ikke kommer en forståelig feilmelding, send en henvendelse til support@altinn.no. Legg med tidspunkt for innsending, avgiver (reportee) og sluttbrukersystem id, den unike koden (ErrorGuid) samt beskrivelse av hva som har skjedd.\nBenytt XMLDSig - digital signatur Noen tjenesteeiere krever XMLDSig-signering i tillegg til Altinns vanlige sikkerhetsfunksjoner. Altinn støtter skjema signert med enveloped»-metoden. Følgende XML viser hvordan signaturen skal dannes for å bli betraktet som gyldig av Altinn. Kanonisering (prosessen hvorved XML-dokumentet representeres på kanonisk form), signering og transformasjon må være samme som nedenfor; i tillegg må sertifikatet brukt for å signere dokumentet være inkludert i signaturen.\nNøyaktig ett «Signature»-element er tillatt i «XMLDSig»-elementet. Signaturen må være definert ifølge XMLDSig-navneromspesifikasjonen. Sertifikatet brukt for å signere dokumentet må være gyldig på det tidspunkt skjema leveres til Altinn. Skjemaene signerte med XMLDSig må sendes inn “komplett” og signaturen valideres av Altinn før skjemasendes videre til tjenesteeier. Tjenesteeier kan validere signaturen etter mottak fra Altinn. Merk at innhold i «XMLDSig»-elementet er definert i tjeneste-XSD-en som et «any»-element med processContents=lax og namespace lik XMLDSig-navnerommet. Lax prosessering betyr i praksis at ingen valideringsfeil resulterer hvis validatoren ikke er gitt et XSD-skjema som inkluderer XMLDSig-navnerommet, i.e. XMLDSig-XSD\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/samtykke/anbefalinger/eksempler/",
	"title": "Eksempler på bruk",
	"tags": [],
	"description": "Her finner du eksempler på ulike integrasjoner av Altinn Samtykke",
	"content": "\rSamtykkebasert lånesøknad\rSamtykkebasert lånesøknad er et samarbeid mellom flere offentlige og private aktører i DSOP-samarbeidet (Digital Samhandling Offentlig Privat). Tjenesten gjør det mulig å hente skattegrunnlag og inntektsdata hos Skatteetaten med samtykkeløsningen fra Altinn.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/prosjekter/tjenester30/",
	"title": "Tjenester 3.0",
	"tags": [],
	"description": "Prosjektet Tjenester 3.0 skal levere neste generasjon av offentlige tjenester.",
	"content": "Du kan lese mer om Altinn Studio her.\n\rMålsettinger\rEn oppsummering av de overordnede hovedmålsettingene for tjenester 3.0.\n\r\rStatus\rDette er siste overordnede status for utviklingen av tjenester 3.0.\n\r\rSatsingsforslag 2018\rKort oppsummering av satsingsforslag for 2018.\n\r\rArkitektur\rBeskrivelse av arkitekturen til 3.0.\n\r\rFAQ\rSvar på noen av de vanligste spørsmålene om tjenester 3.0.\n\r\rSlide\rEn presentasjon om målsettinger og konsepter for tjenester 3.0\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/api/info/",
	"title": "Nyttig Informasjon",
	"tags": [],
	"description": "Størrelsesbegrensninger, tips og triks",
	"content": "\rStørrelsesbegrensninger\rStørrelsesbegrensninger\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/_header/",
	"title": "",
	"tags": [],
	"description": "",
	"content": "docs\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/releases/2016/16-1/",
	"title": "16.1",
	"tags": [],
	"description": "Samtykkebasert datadeling, betalingsløsning, nytt design for roller og rettigheter, videresending av post til innbygger, +++",
	"content": "Denne versjonen inneholder flere store endringer, blant annet nytt design for roller og rettigheter, innføring av samtykkebasert datadeling og betalingsløsning.\nSom vanlig inneholder februar-versjonene av Altinn endringer for selvangivelsen. I år er det i tillegg en rekke endringer på andre områder.\nTilgangsstyring Nye sider for roller og rettigheter (17593) Vi gjør store endringer i design og oppbygging av hvordan brukerne delegerer tilganger i Altinn. Styring av roller og rettigheter vil bli en utvidelse av dagens profil-side, og ha samme design som denne. Det nye designet er laget for å gjøre det mer intuitivt hvordan man gir andre tilgang til en tjeneste, og å gjøre det tydeligere hvem som har tilgang til hvilke tjenester på vegne av en person eller virksomhet. Det gjøres ingen endringer i hvilke Altinn-roller som fins eller knytningen mot tjenester.\nhttps://altinn.no/no/Portalhjelp/Administrere-rettigheter-og-prosessteg/\nSamtykkebasert deling av data (18736) Altinn har utviklet en løsning som gjør det mulig at sluttbruker skal kunne samtykke i at data om dem kan deles mellom en datakilde (tjenesteeier) og en datakonsument (den som trenger data). Bruker vil kunne gi samtykke til at andre (for eksempel en bank) kan se data om seg i en tidsbegrenset periode. Bruker vil kunne se hva de samtykker til å dele, hvem de deler data med, hvor lenge, og innenfor hvilken kontekst dataene skal brukes.\nI praksis innføres det mulighet for tidsbegrensning på rettigheter, en samtykke-side for å gi samtykke, en oversikt over aktive samtykker, en aktivitetslogg og ny funksjonalitet for kontrollert overføring av opplysninger.\n  Ytelsesforbedring klientroller enkeltvis (19309) Tilgangsstyringsmetoden \u0026ldquo;Klientroller enkeltvis\u0026rdquo; har blitt optimalisert ytelsesmessig. Denne har ved en del anledninger hatt dårlig ytelse.\nTjenester/meldingsboks Betalingsløsning i Altinn (16940) Betalingsløsning er innført som kan brukes som del av prosessflyt i Altinn. Flere prosessflyt-maler er utarbeidt. Eksempelvis fyll ut skjema, gjør betaling og send inn basert på data i skjema. Betalingsleverandører er mulig: Nets, Payex og DIBS. Funksjonalitet støttes også via Rest-API\nRevisorsignatur (18634) Signering forenkles ved at brukergrensesnittet er tilpasset for mer effektiv og enklere signering av flere skjemaer.\nIntegrasjon av ELSA i selvangivelsen for næringsdrivende (18827) Tilpassinger av Altinn for å støtte at SKDs ELSA-løsning skal kunne integreres i selvangivelsen for næringsdrivende.\nFeilretting: Visning av \u0026amp; for innsendingstjeneste (19309) Tegnet \u0026amp; har blitt byttet ut med \u0026amp;amp i tittel i meldingsboksen på innsendingstjeneste i en del tilfeller. Dette er nå rettet.\nFeilretting: Ikke mulig å fullstendig slette en Correspondence melding - fortsatt tilgjengelig i full URL (18829) Vi gjør en feilretting i Altinn Meldingsboks slik at meldinger som er slettet ikke lengre kan nås med direktelenken til den aktuelle meldingen, når meldingen er slettet. Dette vil ikke merkes av sluttbrukere eller tjenesteeiere. Grunnen til at endringen utføres er at dette er en funksjonell feil.\nPlassering av skattyters navn i vedleggsskjemaer for PSA/PSAN (18970) Visuell forbedring av hvor skattyters navn plasseres i vedleggsskjemaer.\nFeilretting: Skjema hvor det er både infopath- og regelmotor-kalkuleringer (18969) Det gjøres en merge av de kalkulerte verdiene fra infopath, og de som ble kalkulert av regelmotor. Når dette skjer blir verdiene som ble kalkulert av regelmotor overskrevet av verdiene i skjema som kommer fra infopath. Dette rettes.\nEksterne grensesnitt Videresending av Post til Innbyggers valgte postkasse via Altinn (18395) Altinn vil kunne videresende Post som skal til innbyggers valgte postkasse. Altinns tjenesteeier kan da sende både virksomhetspost og innbyggerpost via Altinn, så sørger Altinn for videre forsendelse der dette er relevant. Det gjøres noen mindre endringer i integrasjonsgrensesnittet mellom tjenesteeier og Altinn, slik at tjenesteeier kan angi om post skal videresendes eller ikke. Altinn har innebygget støtte for å kontrollere mot Kontakt- og reservasjonsregisteret, slik at innbyggere som har valgt postkasse og som ikke har reservert seg mot offentlig post vil få denne i Digipost eller e-Boks. Altinn vil også i denne løsningen legge til rette for at innbyggere som ennå ikke har valgt postkasse skal kunne motta denne i Altinns meldingsboks, i henhold til Digitaliseringsrundskrivet som beskriver dette.\nTjenesteeier kan angi i sin forsendelse av innbyggerpost til Altinn om:\n post kun skal videresendes til Digital postkasse til innbygger post skal videresendes til Digital postkasse til innbygger, men hvis innbygger ikke har valgt postkasse så legges den i Altinn post skal videresendes til Digital postkasse til innbygger, og det skal legges en kopi i Altinn  Altinn gir tilbakemelding og status for alle forsendelser. Hvis innbygger ikke har valgt postkasse eller har reservert seg, vil dette gis som respons på postforsendelsene. For tjenesteeierne vil da Altinn sørge for håndtere logikk for både virksomhetspost og innbyggerpost, og Tjenesteeiere slipper å utvikle egen integrasjon mot Kontakt-og reservasjonsregisteret og mot innbyggerpostløsningen.\nOppslagstjeneste til Kontaktinformasjon for næringslivet (17415) Det innføres en ny oppslagstjeneste for «Kontaktinformasjon for virksomheter» i Altinn. Tjenesten vil bli tilgjengelig gjort i et nytt REST API for tjenesteeiere. Oppslagstjenesten vil gi tilgang til registrert kontaktinformasjon for alle aktive virksomheter i Altinn. Både offisiell felles kontaktinformasjon for virksomheten og kontakt informasjon registrert på personer med roller og rettigheter for virksomhetene vil være tilgjengelig, og det vil være mulig å søke på spesifikke telefonnummer og epostadresser, for å se hvor disse er registrert. Informasjon om når kontaktinformasjonen sist er oppdatert og bekreftet vil også være tilgjengelig. Årsaken til at denne tjenesten innføres er tjenesteeieres behov for å varsle virksomheter, og få informasjon om og hvilke adresser virksomheten har registert.\nFor å ta i bruk tjenesten må tjenesteeieren bestille API-nøkkel. Autentisering gjøres med bruk av virksomhetssertifikatet til tjenesteeieren og krever ingen bestilling mot ASF, annet enn at tjenesteeieren er registrert i Altinn. Tekniske detaljer for bruk av den nye tjenesten vil bli tilgjengelig her: https://tt02.altinn.no/api/serviceowner/help\nREST-støtte for innsending og signering på tjenester med flere signeringssteg (18149) Tjenesteeiere kan nå tilby også tjenester som har flere signeringssteg via app/eksterne portalløsninger. Endringen utføres blant annet for å legge til rette for ELSA.\nIntegrasjonsplattform og grensesnitt Splitt av dataoverføringer til tjenesteeiere med mulighet for krypterte vedlegg (18260) En innlevering i portal eller fra sluttbrukersystem vil normalt sett rutes av Altinn til eieren av tjenesten sitt mottakssystem. Ved at tjenesteier setter opp tjenesten med splitt av data vil man samtidig kunne sende disse dataene til en annen interessent/tjenesteier, noe som er med å understøtte at data kun trenger å rapporteres en gang.\nTidligere har vi manglet muligheten for at denne splitten kunne inneholde krypterte vedlegg. Dette er nå kommet på plass. Endringen er hovedsakelig tiltenkt å gi forskjellige tjenesteiere mulighet til å foreta datauthenting fra allerede etablerte Altinn tjenester. For sluttbrukere vil bruk av splitt av data føre til at de får enklere/færre innrapporteringer å forholde seg til.\nAutomatisk rapportering på avvik ved batchinnlesing og instansiering (18487) I 15.2 og 15.3 (endring 17621) innførte vi mulighet for automatisk å sile ut elementer med feil som kom med batch-filer fra tjenesteeiere på en langt bedre/enklere måte enn tidligere. Dette har betydelig forbedret driftbarheten, med tanke på feilhåndtering, av innkommende batcher for vår driftsleverandør. Denne endringen tar dette et steg videre.\nTidligere har uthenting av elementer som har feilet krevd betydelig involvering av driftsleverandør og manuell overføring/tilbakeføring til tjenesteeiere. Nå skal tjenesteiere selv/alene kunne anvende et sett med web service-operasjoner for å hente ut status om inngående batch-forsendelser/elementer til Altinn som feilet under oppsatt kjøring.\nFeilretting: Krav om refusjon (18914) Feilretting som kun påvirker overføring av SPKs skjema \u0026ldquo;Krav om refusjon\u0026rdquo;.\nDriftsrutiner og registerintegrasjon Standardisert prosedyre for deaktivering og sanering av grensesnitt (17690) Det blir mulig for driftsleverandør på bestilling fra tjenesteeier på en forutsigbar og effektiv måte å kunne deaktivere et grensesnitt midlertidig eller sanere det permanent.\nFeilretting – Enhetsregisterinnlesing for enheter med lange navn I enkelte tilfeller blir mellomrom fjernet i enhetsnavn som er lengre enn 35 tegn – rettes slik at de leses inn korrekt.\nAutentisering/signering Standardisering av egenregistrerte brukere (16121) Endringen går ut på å rute egenregistrerte brukere til den delen av løsningen som de andre brukerne benytter. Dette medfører ingen funksjonelle endringer. Endringen utføres for å konsolidere løsningen og det forventes forenklet vedlikehold og driftbarhet forbundet til disse brukerne\nSignering nivå 4 med BankID uten java (18633) Dagens signering krever java for å signere på nivå 4 med BankID. For å unngå at sluttbrukere fortsatt skal ha utfordringer med bruk av java, så vil vi støtte javafri signering på nivå 4 med BankID. Signering med Buypass vil videreføres uten endring (det vil si at signering med og uten java for Buypass støttes).\nAnnet Støtte for æ/ø/å i e-postadresser (17297) Vi endrer i Altinn slik at æ, ø og å er gyldige tegn sluttbrukere kan registrere i sine e-postadresser.\nStøtte for ikke-numeriske tegn i dataFormatId (18985)** Det blir mulig å benytte ikke-numeriske tegn i dataFormatId-attributt i meldingsformat (XSD) ifbm. tjenesteutvikling.\nEntLib-forbedringer (18370) Fjerning av biblioteker som ikke lengre benyttes. Dette er en teknisk endring uten funksjonell påvirkning som gjensto fra forrige release.\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/diverse/administrators-oppgaver/",
	"title": "Administrators oppgaver",
	"tags": [],
	"description": "Oppgaver for administrator fra den enkelte tjenesteeier.",
	"content": "I TUL er langt fra alle administratorer, og det anbefales kun at en eller to personer fra hver tjenesteeier har administratorrettigheter. Disse er kalt tjenesteeieradministrator. I tillegg vil det være en eller to såkalte ASF-administrator. Disse er da administratorer for hele TUL, og ikke bare den enkelte tjenesteeier. Felles for disse to administratorgruppene er at de skal og kan utføre oppgaver som ikke er tiltenkt vanlige tjenesteutviklere. Dette være seg å legge inn nye prosessflytmaler, legge til betingelser, opprette brukere eller angi rettigheter i TUL. Denne beskrivelsen vil ta for seg noen av scenarioene, men ikke hvor standardproduktene dekker hele funksjonaliteten som ikke er spesifikk for TUL.\nProsessflytmaler Som nevnt ifbm. prosessflyt i innsendingstjenesten, finnes to typer prosessflytmaler i TUL, en felles og en spesifikk for tjenesteeieren. ASF-administrator legger til nye felles maler, mens de enkelte tjenesteeier-administratorene legger til for den enkelte tjenesteier. Begge typer maler er bygget på samme måte, men tjenesteeierspesifikk mal har utfylte verdier.\nMalene behøver kun å lastes opp i riktig dokumentbibliotek for å fungere. For felles maler legges de i dokumentbiblioteket Tomme prosessflytmaler på startsiden. Dette biblioteket er ikke synlig direkte, men aksesseres via Områdehandlinger. For tjensteeierspesifikke maler lastes de opp i dokumentbiblioteket Pre-definerte prosessflytmaler på den enkelte tjenesteeierarbeidsflaten. Ei heller dette biblioteket er synlig for alle, men må aksesseres via Områdehandlinger. Ved opplasting i bibliotekene er det viktig at dokumenttype settes til prosessflytmal og at prosessflytmal-id er unikt innad i dokumentbiblioteket.\nMalene er XML-filer som har en proprietær struktur som prosessflytsiden i TUL kan tolke.\nKapitlene nedenfor forklarer de ulike seksjonene i XML filen.\nXML seksjon – Malinformasjon Denne seksjonene inneholder generell informasjon om prosessflytmalen og vises i brukergrensesnittet på prosessflytsiden.\n\u0026lt;WorkflowId\u0026gt;12\u0026lt;/WorkflowId\u0026gt; \u0026lt;Name\u0026gt; \u0026lt;Text lcid=\u0026#34;1044\u0026#34;\u0026gt;Navn …\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;1033\u0026#34;\u0026gt;Namn …\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;2068\u0026#34;\u0026gt;Name of process flow\u0026lt;/Text\u0026gt; \u0026lt;/Name\u0026gt; \u0026lt;Description\u0026gt; \u0026lt;Text lcid=\u0026#34;1044\u0026#34;\u0026gt;Beskrivelse …\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;1033\u0026#34;\u0026gt;Beskrivnong …\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;2068\u0026#34;\u0026gt;Description of workflow\u0026lt;/Text\u0026gt; \u0026lt;/Description\u0026gt; \u0026lt;WorkflowId\u0026gt; identifiserer hvilken arbeidsflyt som skal benyttes I SBL. P.t. skal den alltid være 1. ID’en er ikke vist i brukergrensesnittet.\n\u0026lt;Name\u0026gt; er navnet på malen og skal finnes på minimum språkene bokmål (1044) og engelsk (1033). Attributtet lcid angir dette. Teksten i noden vises i brukergrensesnittet i nedtrekkslisten over tilgjengelige maler.\n\u0026lt;Description\u0026gt; inneholder malens beskrivelse på flere språk. Denne teksten vises under nedtrekkslisten etter at bruker har byttet mal i nedtrekkslisten.\nAll informasjonen i denne seksjonen i XML-filen er statisk i brukergrensesnittet, og må endres direkte i XML-filen.\nXML seksjon – Steg Denne seksjonen inneholder informasjon om stegene, og det kan være mange steg-noder i denne seksjonen. Steg-noden beskriver steget mtp. oppførsel i SBL. Det vil også være et navn og en beskrivelse for hvert steg som vist i XML nedenfor:\n\u0026lt;Step activityId=\u0026#34;1\u0026#34; activityType=\u0026#34;Signing\u0026#34;\u0026gt; \u0026lt;Name\u0026gt; \u0026lt;Text lcid=\u0026#34;1044\u0026#34;\u0026gt;Navn …\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;1033\u0026#34;\u0026gt;Namn …\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;2068\u0026#34;\u0026gt;Name of process flow\u0026lt;/Text\u0026gt; \u0026lt;/Name\u0026gt; \u0026lt;Description\u0026gt; \u0026lt;Text lcid=\u0026#34;1044\u0026#34;\u0026gt;Beskrivelse …\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;1033\u0026#34;\u0026gt;Beskrivnong …\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;2068\u0026#34;\u0026gt;Description of workflow\u0026lt;/Text\u0026gt; \u0026lt;/Description\u0026gt; \u0026lt;/Step\u0026gt; I hovedsak er det to attributter:\n ActivityId: Identifiserer ID’en til steget. Steg-ID’en skal være i sync mellom SBL og TUL, og to steg kan ikke ha same ID, og det må angis i stigende rekkefølge. ActivityType: Beskriver type steg. Skal enten være Formfilling, Signing eller SendIn.  Hvert steg må også ha noder som omhandler sikkerhetsnivå og rettigheter. Disse deklarer at sikkerhetsnivå og rettighetsvelgeren skal vises for steget, og det er viktig at actionType i AuthorizationRequirements er det samme activityType som i stegbeskrivelsen, som vist under:\n\u0026lt;AuthenticationLevel propertyType=\u0026#34;AuthenticationLevel\u0026#34;/\u0026gt; \u0026lt;AuthorizationRequirements propertyType=\u0026#34;AuthorizationRule\u0026#34; actionType=\u0026#34;Signing\u0026#34; /\u0026gt; XML seksjon – Egenskaper Denne seksjonen i XML-filen kan forekomme ingen eller flere ganger pr steg, og gir muligheten for å definere ekstra parameter utover sikkerhetsparametere. Et typisk slikt parameter vil være signeringstekst. En egenskapseksjon består av flere deler, hvorav tre er påkrevd:\nTabell 2 – XML egenskaper\n   Del Påkrevd Beskrivelse     Value Yes Kan brukes til å definere egenskapen defaultverdi, men er tom for felles maler   Label Yes Vil være ledeteksten som vist for egenskapen I TUL. Språkstøttet.   Description Yes Beskrivelsen som vist under ledeteksten for egenskapen. Språkstøttet.   Validation No Valideringsregel for egenskapen. Vises hvis validering feiler. Språkstøttet. Benytter regulæruttrykk.    Eksempel på XML’en er vist under:\n\u0026lt;Property name=\u0026#34;SomeIntegerProperty\u0026#34; propertyType=\u0026#34;xs:int\u0026#34;\u0026gt; \u0026lt;Value\u0026gt;\u0026lt;/Value\u0026gt; \u0026lt;Label\u0026gt; \u0026lt;Text lcid=\u0026#34;1044\u0026#34;\u0026gt;Antall\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;1033\u0026#34;\u0026gt;Count\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;2068\u0026#34;\u0026gt;Antal\u0026lt;/Text\u0026gt; \u0026lt;/Label\u0026gt; \u0026lt;Description\u0026gt; \u0026lt;Text lcid=\u0026#34;1044\u0026#34;\u0026gt;Viser antall\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;1033\u0026#34;\u0026gt;Shows the count\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;2068\u0026#34;\u0026gt;Visar antal\u0026lt;/Text\u0026gt; \u0026lt;/Description\u0026gt; \u0026lt;Validation regExp=\u0026#34;\\d\\d\\d\\d\u0026#34;\u0026gt; \u0026lt;Text lcid=\u0026#34;1044\u0026#34;\u0026gt;Må være fire tall\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;1033\u0026#34;\u0026gt;Must be four digits\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;2068\u0026#34;\u0026gt;Må vere fire tal\u0026lt;/Text\u0026gt; \u0026lt;/Validation\u0026gt; \u0026lt;/Property\u0026gt; \u0026lt;Property\u0026gt;-noden er rotnode for parameteret og inneholder et navn som må være unik innad i malen og samsvare med SBL, og viktigst propertyType-attributten. Mulige verdier i PropertyType følger i de neste delkapitlene. Undernodene til rotnoden er angitt i tabellen over.\nXML propertyType Tabellen under viser hvilke typer som kan benyttes.\nTabell 3 – XML PropertyType\n   Type UI-element Beskrivelse     xs:choice RadioButton\nNedtrekksliste Beskrives under denne tabellen   xs:string TekstBox Fritekst iht evt validering   xs:date Datovelger Dato   xs:integer TekstBox Kun numeriske verdier iht evt validering   xs:boolean Sjekkboks Checked, Unchecked, True, False, 1, 0    xs:choice benyttes for ferdigdefinerte valg i prosessmalen, og krever derfor litt mer informasjon enn de andre typene. Da verdiene er språkstøttet, må det være en tekst for hvert språk. Hvis antall valg overskrider tre, vil det bli presentert en nedtrekksliste istedenfor radioknapper. Et eksempel er gjengitt under:\n\u0026lt;Property name=\u0026#34;ChooseFruit\u0026#34; propertyType=\u0026#34;xs:choice\u0026#34;\u0026gt; \u0026lt;Choice value=\u0026#34;Apple\u0026#34;\u0026gt; \u0026lt;Text lcid=\u0026#34;1044\u0026#34;\u0026gt;Eple\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;1033\u0026#34;\u0026gt;Apple\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;2068\u0026#34;\u0026gt;Eple\u0026lt;/Text\u0026gt; \u0026lt;/Choice\u0026gt; \u0026lt;Choice value=\u0026#34;Orange\u0026#34;\u0026gt; \u0026lt;Text lcid=\u0026#34;1044\u0026#34;\u0026gt;Appelsin\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;1033\u0026#34;\u0026gt;Orange\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;2068\u0026#34;\u0026gt;Appelsin\u0026lt;/Text\u0026gt; \u0026lt;/Choice\u0026gt; \u0026lt;Choice value =\u0026#34;Banana\u0026#34;\u0026gt; \u0026lt;Text lcid=\u0026#34;1044\u0026#34;\u0026gt;Banan\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;1033\u0026#34;\u0026gt;Banana\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;2068\u0026#34;\u0026gt;Banan\u0026lt;/Text\u0026gt; \u0026lt;/Choice\u0026gt; \u0026lt;Value\u0026gt;\u0026lt;/Value\u0026gt; \u0026lt;Label\u0026gt; \u0026lt;Text lcid=\u0026#34;1044\u0026#34;\u0026gt;Velg frukt\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;1033\u0026#34;\u0026gt;Choose fruit\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;2068\u0026#34;\u0026gt;Velg frukt\u0026lt;/Text\u0026gt; \u0026lt;/Label\u0026gt; \u0026lt;Description\u0026gt; \u0026lt;Text lcid=\u0026#34;1044\u0026#34;\u0026gt;Du kan velge en av fruktene\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;1033\u0026#34;\u0026gt;You can choose only one fruit\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;2068\u0026#34;\u0026gt;Vel berre ein frukt\u0026lt;/Text\u0026gt; \u0026lt;/Description\u0026gt; \u0026lt;/Property\u0026gt; Tjenesteeiers maler Tjenesteeiers maler har mulighet til å være helt eller delvis preutfylte. Dvs. at et sett med rettigheter autoimatisk kan settes pr. steg. Det vil også si at sikkerhetsnivå og andre egenskaper kan preutfylles.\nSikkerhetsnivå og rettigheter angis ved å legge de i XML-nodene i malen:\n\u0026lt;AuthenticationLevel propertyType=\u0026#34;AuthenticationLevel\u0026#34;\u0026gt;1\u0026lt;AuthenticationLevel/\u0026gt; \u0026lt;AuthorizationRequirements propertyType=\u0026#34;AuthorizationRule\u0026#34; actionType=\u0026#34;Signing\u0026#34;\u0026gt;ALLEA-SIGNE\u0026lt;AuthorizationRequirements/\u0026gt; Signeringstekst og andre egenskaper.\n\u0026lt;Property name=\u0026#34;SigningText1\u0026#34; propertyType=\u0026#34;xs:string\u0026#34;\u0026gt; \u0026lt;Value\u0026gt;Dette er min signeringstekst\u0026lt;/Value\u0026gt; \u0026lt;/Property\u0026gt; \u0026lt;Property name=\u0026#34;ChooseFruit\u0026#34; propertyType=\u0026#34;xs:choice\u0026#34;\u0026gt; \u0026lt;Choice value=\u0026#34;Apple\u0026#34;\u0026gt; \u0026lt;Text lcid=\u0026#34;1044\u0026#34;\u0026gt;Eple\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;1033\u0026#34;\u0026gt;Apple\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;2068\u0026#34;\u0026gt;Eple\u0026lt;/Text\u0026gt; \u0026lt;/Choice\u0026gt; \u0026lt;Choice value=\u0026#34;Orange\u0026#34;\u0026gt; \u0026lt;Text lcid=\u0026#34;1044\u0026#34;\u0026gt;Appelsin\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;1033\u0026#34;\u0026gt;Orange\u0026lt;/Text\u0026gt; \u0026lt;Text lcid=\u0026#34;2068\u0026#34;\u0026gt;Appelsin\u0026lt;/Text\u0026gt; \u0026lt;/Choice\u0026gt; \u0026lt;Value\u0026gt;Orange\u0026lt;/Value\u0026gt; \u0026lt;/Property\u0026gt; Administrasjon av brukere, grupper og rettigheter Beskrivelse av hvordan man administrerer brukere, grupper og rettigheter finnes i dokumentet Veiledning for brukeradministrasjon i TUL.pdf.\nLage ny tjenesteeier En etat i TUL kalles også en tjenesteeier, og fungerer som en samling for alle etatens tjenester og utgaver.\nForberedelser For å opprette en ny tjenesteeier i TUL må først noen praktiske ting være ordnet av driftsleverandør:\n Åpning av brannmur for å slippe inn nye tjenesteutviklere Tilgang til Citrix for the den nye etatens brukere Tjenesteeieren må være opprettet i Sluttbrukerløsningene som er knyttet til TUL. Tjenesteeierkodene må stemme overens.  Det normale vil være å gi etaten en tre/fire bokstavers forkortelse som identifikator. F.eks. vil Skatteetaten være SKD, Statistisk Sentralbyrå være SSB etc. Denne identifikatoren benyttes i adressen (URL) til tjenesteeiers arbeidsflate.\nActive directory Det første som må gjøres er å opprette kataloger (Organization unit) og grupper i Active Directory. Disse vil være tjenesteeierspesifikke og skal følge samme hierarki som for BRG:\nTabell 4 – Active directory\n   Navn Medlem av gruppe Medlemmer Plassering     Service Owner XXX Files and folders   Altinn/Service Owner XXX   Service Owner XXX SharePoint Administrators All Service Owner Administrators Brukere som skal være tj.eier administrator Altinn/Service Owner XXX   Service Owner XXX Users All Service Owner Users Alle etatens tjenesteutviklere Altinn/Service Owner XXX   Service Owner XXX Code List editors Service Owner Code List editors Alle som skal ha tilgang til å vedlikeholde kodelister Operations/Administrative Users and global groups   Service Owner XXX Group administrators AD Snap-In Access Alle som skal vedlikeholde brukere for etaten Operations/Administrative Users and global groups   Service Owner XXX Password administrators AD Snap-In Access Alle som skal vedlikeholde brukere for etaten Operations/Administrative Users and global groups   Service Owner XXX User administrators AD Snap-In Access Alle som skal vedlikeholde brukere for etaten Operations/Administrative Users and global groups    (XXX er den nye etatens kode)\nTjenesteeierverktøy Det er kun administratorer av TUL sin startside som kan opprette tjenesteeiere. For å opprette dette, må vedkommende navigere til følgende plassering:\nhttp://\u0026lt;miljø\u0026gt;/_layouts/altinn/ServiceOwner.aspx\rDer må administrator fylle ut i følgende skjermbilde:\nLegg inn relevant data og klikk på *Create/Opprett.*Tjenesteeieren opprettes og status vises:\nSom markert i rødt over, vil også en lenke til den nye arbeidsflaten vises. Klikker man på den, taes man til den nye tjenesteeieren.\nHvis opprettelse feiler, vil dette vises på samme sted.\nHvis arbeidsflaten ikke inneholder veiledningskomponent og tjenesteliste, må disse aktiveres.\nDette gjøres ved å klikke på Områdehandlinger.\nPå siden som kommer opp velger man Funksjoner for områdesamling, som vist under:\nMan får nå en liste hvor alle Altinnspesifikke elementer skal aktiveres.\nNår disse er aktivert vil alle elementer på arbeidsflaten være tilgjengelig. Nå gjenstår det å gi de riktige grupper og brukere tilgang til den nye arbeidsflaten. Alle nye tjenester og utgaver vil arve disse tilgangene.\nGå til den nylig opprette tjenesteierarbeidsflaten og velg Områdehandlinger.\nVelg så Administrator for områdesamling. Legg til brukeren(e) hos etaten som er tjenesteieradministrator.\nGå så til Personer og grupper. Her må du opprette tre grupper:\nTabell 5 – Personer og grupper\n   Gruppenavn Rettighet     XXX site members Bidra   XXX site owners Full kontroll   XXX site visitors Lese    Det er ikke påkrevd at gruppene skal ha navnene angitt i tabellen over, men det er å anbefale. Dette er SharePointgrupper som man knytter til Active Directory gruppene som følger:\nTabell 6 – Personer og grupper\n   Gruppenavn AD gruppe     XXX site members Altinntul\\Service owner XXX users   XXX site owners Altinntul\\ASF SharePoint Administrators   XXX site visitors Altinntul\\All service owner users    (XXX er tjenesteeierkode)\nNå er tjenesteeieren/etaten klar til bruk.\nBetingelser (conditions) Betingelser er SBL-kode som utvikles og sjekkes in i TFS av en utvikler. Disse betingelsene kan kjøres når en hendelse inntreffer som kan føre til endring av tilstand for en samhandlingstjeneste.\nNår koden er sjekket inn og migrert til tilhørende SBL-miljø, så må AFS-admin gå inn på følgende URL for å legge til den nye betingelsen for at den skal kunne benyttes av en samhandlingstjeneste:\nMerk: Navn på betingelse (tittel) er case-sensitiv og må samsvare med metodenavn som utvikler har kodet.\nGjenbrukbar logikk Gjenbrukbar logikk (“hooks”) er kode som kjøres i SBL ved gitte hendelser i en tjenesteutgaves livsløp. Hvilken logikk som kjøres for en gitt utgave defineres av tjenesteutvikler i TUL.\nNår en ny gjenbrukbar logikk er kodet og migrert i tilhørende SBL-miljø, så må administrator legge inn en rad i listen.\nDet er typisk Driftsleverandør som oppdaterer dette, men ASF-admin kan også gjøre det hvis nødvendig informasjon om hva som skal legges inn er gitt.\nFølgende typer logikk kan defineres:\n Instantiation: Logikk kjøres når en utgave opprettes i SBL, og hvilken logikk som skal kjølres defineres på utgaveparametersiden. Payment: Kjøres ved arkivering i SBL og velges på parametersiden for SKD betalingsinformasjon.  Betalingsadministrasjon Adgang til betalingsleverandøravtalesiden For å få adgang til betalingsleverandøravtalesiden hos en tjenesteeier må brukeren være medlem av betalingsadministratorgruppen for tjenesteeieren. Hva som er gruppe for betalingsadministrator blir avgjort av konfigverdien «PaymentAdminGroupName» i Altinn.TUL.config. Gruppen må inneholde navnet som er definert der. I utgangspunktet er denne verdien «Payment Admin Group». Anbefalt struktur er å styre tilgang gjennom grupper i AD som er medlem i disse SharePoint-gruppene. For eksempel en AD-gruppe «SKD betalingsadministratorer» som er medlem av SharePoint-gruppe «SKD Payment Admin Group». Adgang blir deretter styrt ved å legge til eller fjerne brukere i AD-gruppen.\nDersom konfigverdien blir endret vil den nye verdien brukes for å bestemme adgang til siden. Lenken til siden fra tjenesteeierarbeidsflaten blir derimot låst til en bestemt SharePoint-gruppe ved aktivering av tjenesteeier-featuren i SharePoint. Skal lenken oppdateres til å godta en ny verdi i konfig, må denne featuren aktiveres på nytt etter at konfig er endret.\nAdgang til siden bør begrenses til de personene som har ansvar for å opprette og vedlikeholde betalingsavtaler.\nBetalingsmetoder Betalingsmetodene som vil være mulig å velge i TUL blir styrt av en SharePoint-liste i Startside site collection. Denne listen vil du finne under «Områdeinnhold» med navn «Tilgjengelige betalingsmetoder».\nListen skal inneholde alle de betalingsmetoder som det er ønskelig å kunne velge gjennom TUL. Hver enkelt betalingsmetode må legges inn med et visningsnavn som er navnet som vil bli vist i TUL. I tillegg må det legges inn en kode for betalingsmetoden for hver enkelt betalingsleverandør. Disse kodene må stemme overens med den koden som betalings­leverandøren bruker for denne metoden. Dersom koden er feil vil ikke betalingsmetoden fungere for den leverandøren den er feil for. Beskrivelse er valgfritt, og vil ikke bli vist andre steder enn i denne listen.\nMetodene som blir lagt inn i listen er felles for alle tjenesteeiere og skal være alle betalingsmetoder som det skal være lov å velge mellom dersom du velger å tillate begrensing av betalingsmetoder på betalingsleverandøravtalesiden.\nProsessflytmal For at betaling skal fungere må det brukes en prosessflyt som inneholder et betalingssteg. Administrator må derfor gjøre tilgjengelig (se 23.1 Prosessflytmaler) minst en prosessflytmal med betalingssteg. Ved innføring av betalingsfunksjonaliteten ble det opprettet fire prosessflytmaler for betaling. Disse er «Betaling», «Utfylling og betaling», «Utfylling, signering og betaling» og «Utfylling, betaling og signering».\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/testing/local/apitests/",
	"title": "Testing av app API-er lokalt",
	"tags": [],
	"description": "Hvordan teste app-APIer lokalt.",
	"content": "\rAPI test org\rNår man kjører applikasjonene lokalt sammen med den lokale testplattformen kan man teste API som applikasjon eksponerer.\n\r\rAPI bruk som sluttbruker\rNår man kjører applikasjonen lokalt så kan man teste API beregnet for sluttbruker.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/api/rest/kom-i-gang/idporten-legacy/",
	"title": "Autentisering med ID-porten (legacy)",
	"tags": [],
	"description": "",
	"content": "Denne metoden for autentisering er ikke lengre anbefalt da støtte for dette i nettlesere holder på å fases ut. For nye integrasjoner anbefales bruk av OIDC/OAuth2 via ID-porten.\rAltinn API benytter ID-porten til autentisering av brukere. ID-porten er en felles infrastruktur for å logge inn til offentlige tjenester. I ID-porten er det lagt til rette for at innbyggerene selv kan velge hvilken elektronisk ID de ønsker å benytte. Det er mulig å logge inn med elektronisk ID fra MinID, BankID, Buypass og Commfides.\nID-porten sine autentiseringsløsinger bruker OpenSSO/OpenAM som fødereringsplattform. Fødereringen baserer seg på SAML2 OASIS-standarden.\nSingle Sign-On (SSO) SSO vil si at du sømløst gjenbruker autentiseringen din. Med ID-porten/MinID betyr det i praksis at dersom du har logget inn på en tjeneste hos for eksempel NAV, vil det ikke være nødvendig å gjøre en ny pålogging for å få tilgang til Altinn, eller andre tjenester som benytter ID-porten/MinID. I utgangspunktet er alle tjenester som benytter ID-porten/MinID en del av SSO.\nVi vil nå forklare hvordan du kan implementere støtte for autentisering ved bruk av ID-porten i din applikasjon.\n1. Innebygd nettleser For at din applikasjon skal kunne benytte web-baserte autentiserings protokoller som SAML til autentisering, må du la brukerne logge inn med en innebygd nettleser.\nÅ bygge inn en nettleser i din applikasjon er enkelt på de vanligste plattformene:\n Android: bruk WebView. iOS: bruk UIWebView  Du kan peke nettleseren til starturl for Altinn API: https://www.altinn.no/api/my/messages/\nDa vil brukeren automatisk bli videreført til ID-portens påloggingsside med responsivt design. På denne siden vil brukeren få valget mellom å logge inn med MinID eller BankID. BankID har egne applikasjoner for pålogging (iOS og Android) og disse vil automatisk åpnes og lukkes ved autentisering.\n2. Hente ut påloggings-token Etter vellykket pålogging i ID-porten, vil brukeren bli ført tilbake til Altinn og Altinn oppretter et sett med tokens i form av HTTP cookies i Set-Cookie header.\nNår Altinn har opprettet disse token burde din applikasjon hente de ut og deretter lukke den innebygde nettleseren.\nHer er eksempler på hvordan du kan hente ut token i HTTP cookie på de vanligste plattformene:\n Android: CookieManager#getCookie(URL) kan brukes til å hente ut cookier satt av Altinn. Detaljert eksempelkode på denne teknikken kan du finne her. iOS: Din applikasjon kan hente ut cookies satt av Altinn ved å bruke NSHTTPCookieStorage. Dette blir ofte kalt \u0026ldquo;cookie jar.\u0026rdquo;  NSHTTPCookie *cookie; NSHTTPCookieStorage *cookieJar = [NSHTTPCookieStorage sharedHTTPCookieStorage]; for (cookie in [cookieJar cookies]) { NSLog(@\u0026#34;%@\u0026#34;, cookie); } Detaljert eksempelkode på denne teknikken for iOS finner du her.\n3. Videreføre påloggings-token i kall til Altinn API Tokenet .ASPXAUTH legges i HTTP header som \u0026ldquo;Cookie\u0026rdquo; i videre på kall til Altinn API:\nCookie: .ASPXAUTH=2AF7F203...., etc... API nøkkelen må også legges ved i HTTP header slik:\nApiKey: myKey API nøkkel får du etter registrering av din applikasjon.\n4. Autentisering ved integrasjon i andre portaler Det er mulig å integrere innhold i brukernes meldingsboks i Altinn i eksterne portaler ved å bruke Altinn API. Dette krever at den eksterne portalen også fødererer mot ID-porten og er medlem av samme Circle of Trust som Altinn.\nAltinn API benytter også CORS for ekstra sikkerhet ved kryssdomene forespørsler. For å integrere brukerens meldingsboks i Altinn i en ekstern nettside må dermed domenet til denne nettsiden ligge i Altinns CORS whitelist. Det er derfor nødvendig å registrere nettsiden som skal integrere Altinns meldingsboks. Bruk av Altinn API i eksterne nettsider er bare tilgjengelig for offentlige etater/institusjoner som er tjenesteeiere i Altinn.\nFor at kall mot Altinns API skal fungere fra eksterne sider må brukeren ha en sesjon både hos IDporten og hos Altinn. Ved innlogging med IDporten må man derfor benytte følgende redirect-løsning for å sikre at brukeren også har sesjon i Altinn. Om man logger brukeren inn med IDporten og kaller Altinn uten å bruke redirect, vil IDporten fjerne CORS-headerne som følger med, slik at Altinn ikke lenger har mulighet for å verifisere domenet mot de som er registrert hos oss.\nPer nå fungerer redirect bare med IDportens mekanismer, ikke med Altinn-innlogging.\nFlyten for redirect-løsningen for å få sesjon i Altinn:  1. Ekstern portal kontakter https://www.altinn.no/Pages/ExternalAuthentication/Redirect.aspx?returnUrl=https://www.minportal.no/portal\u0026amp;userToken=sha256-hash\n\u0026ldquo;sha256-hash\u0026rdquo; er hash av fødselsnummer på autentisert bruker på ekstern portal.\nUserToken er valgfri og brukes til å sikre at det ikke allerede eksisterer en sesjon i Altinn som tilhører en annen bruker enn den som er autentisert på ekstern portal.\n 2. Brukeren blir sendt til Altinn\n2-1a. Med userToken angitt:\nDersom brukeren allerede er logget inn i ID-porten opprettes .ASPXAUTH cookie som inneholder sesjonsopplysninger nødvendige for REST-kall. Om det finnes en sesjon i Altinn for en annen bruker, vil denne logges ut og ny sesjon opprettes for brukeren i userToken.\n2-1b. Dersom bruker ikke er logget inn sendes bruker til innloggingsside og må logge inn.\n2-1c. Dersom samme bruker er logget inn i Altinn fra før valideres sesjon.\n2-2a. Uten userToken:\nDersom bruker allerede er logget inn i ID-porten opprettes .ASPXAUTH cookie som inneholder sesjonsopplysninger nødvendige for REST-kall.\n2-2b. Dersom bruker ikke er logget inn sendes bruker til innloggingsside 2-2c. OBS! Dersom bruker velger Altinn-innlogging vil man bli sendt tilbake til idporten for å autentisere seg med idporten.\n 3\na. Bruker logger inn og det opprettes .ASPXAUTH-cookie som inneholder sesjonsopplysningene man trenger for ytterligere REST-kall b. Dersom bruker ikke logger inn, blir brukeren stående på innloggingsside\n 4. Altinn sjekker om verdien i returnUrl (https://www.minportal.no/portal i dette eksempelet) er gyldig og ligger inne i CORS whitelist\na. Dersom domenet er gyldig gjennomføres redirect til den eksterne adressen\nb. Dersom domenet ikke er gyldig sendes bruker til «Min Meldingsboks» i Altinn Adressen eksterne portaler må bruke blir da:\n\rhttps://www.altinn.no/Pages/ExternalAuthentication/Redirect.aspx?returnUrl=URL_SOM_BRUKER_SKAL_SENDES_TILBAKE_TIL_ETTER_INNLOGGING\r"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/configuration/process/auto-delete/",
	"title": "Automatisk sletting",
	"tags": [],
	"description": "En applikasjon kan konfigureres til å slette alle spor når prosessen er slutt.",
	"content": "For enkelte applikasjoner vil det være problematisk at det er spor av instanser i arkiv osv. på grunn av sikkerhetshensyn.\nDerfor er det mulig å sette ett flagg i applicationmetadata.json som sørger for at instansen blir fysisk slettet når tjenesteeier bekrefter at det er mottatt. Ved å sette autoDeleteOnProcessEnd til true vil man trigge denne funksjonaliteten.\nEksempel:\n{ \u0026#34;id\u0026#34;: \u0026#34;ttd/apps-test-prod\u0026#34;, \u0026#34;org\u0026#34;: \u0026#34;ttd\u0026#34;, \u0026#34;title\u0026#34;: { \u0026#34;nb\u0026#34;: \u0026#34;apps-test-prod\u0026#34; }, \u0026#34;dataTypes\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;default\u0026#34;, \u0026#34;allowedContentTypes\u0026#34;: [ \u0026#34;application/xml\u0026#34; ], \u0026#34;appLogic\u0026#34;: { \u0026#34;autoCreate\u0026#34;: true, \u0026#34;classRef\u0026#34;: \u0026#34;Altinn.App.Models.Skjema\u0026#34; }, \u0026#34;taskId\u0026#34;: \u0026#34;Task_1\u0026#34;, \u0026#34;maxCount\u0026#34;: 1, \u0026#34;minCount\u0026#34;: 1 }, { \u0026#34;id\u0026#34;: \u0026#34;ref-data-as-pdf\u0026#34;, \u0026#34;allowedContentTypes\u0026#34;: [ \u0026#34;application/pdf\u0026#34; ], \u0026#34;maxCount\u0026#34;: 0, \u0026#34;minCount\u0026#34;: 0 }, { \u0026#34;id\u0026#34;: \u0026#34;6aa7d237-f20f-4d42-9361-0c84cf1a8ed0\u0026#34;, \u0026#34;allowedContentTypes\u0026#34;: [], \u0026#34;taskId\u0026#34;: \u0026#34;Task_1\u0026#34;, \u0026#34;maxSize\u0026#34;: 1, \u0026#34;maxCount\u0026#34;: 3, \u0026#34;minCount\u0026#34;: 1 } ], \u0026#34;partyTypesAllowed\u0026#34;: { \u0026#34;bankruptcyEstate\u0026#34;: false, \u0026#34;organisation\u0026#34;: false, \u0026#34;person\u0026#34;: false, \u0026#34;subUnit\u0026#34;: false }, \u0026#34;created\u0026#34;: \u0026#34;2020-06-04T12:11:36.9601284Z\u0026#34;, \u0026#34;createdBy\u0026#34;: \u0026#34;someone\u0026#34;, \u0026#34;lastChanged\u0026#34;: \u0026#34;2020-06-04T12:11:36.9601305Z\u0026#34;, \u0026#34;lastChangedBy\u0026#34;: \u0026#34;someone\u0026#34;, \u0026#34;autoDeleteOnProcessEnd\u0026#34;: true } "
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/rest/autorisasjon/",
	"title": "Autorisasjon",
	"tags": [],
	"description": "Ved å bruke autorisasjonsdelen av REST-API for tjenesteeier kan man autorisere tilganger og verifisere roller og rettigheter til bruk utenfor Altinn, for eksempel som alternativ til XACML/webservice eller som oppslag i forbindelse med tilgangsstyring.",
	"content": "Ved å bruke autorisasjonsdelen av REST-API for tjenesteeier kan man autorisere tilganger og verifisere roller og rettigheter til bruk utenfor Altinn, for eksempel som alternativ til XACML/webservice eller som oppslag i forbindelse med tilgangsstyring.\nTilgangsstyring ved hjelp av roller og rettigheter   Hente liste over avgivere\n  Hente liste over rettigheter\n  Hente liste over roller\n  Opprette tilgangsforespørsel\n  Altinn som samtykke og fullmaktsløsing   Samtykke\n  Hente ut liste over samtykker/fullmakter\n  "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/maintainance/dependencies/",
	"title": "Oppdatere avhengigheter i app",
	"tags": [],
	"description": "Hvordan oppdatere avhengigheter i en app.",
	"content": "Appen er avhengig av flere ressurser som ligger utenfor selve appen. Dette inkluderer støttebiblioteker med felles funksjonalitet for alle apper og referanse til appen sin frontend.\nDisse avhengighetene er definert noen forskjellige steder i appen, og hver avhengighet refereres til med en spesifikk versjon. Når ressursene oppdateres, publiseres de på nytt som en ny versjon. En ny versjon kommer ofte med ny funksjonalitet eller forbedringer. For at appen skal kunne ta dette i bruk, må man oppdatere hvilken versjon av ressutsene appen henter.\nNuget pakker Nuget er .NET sin package manager, hvor vi publiserer kodebibliotek som brukes av alle appene.\nAppen bruker flere støttebiblioteker, som oppdateres fortløpende med forbedringer og ny funksjonalitet. En app refererer til konkrete versjoner av de forskjellige bibliotekene, og disse referansene må oppdateres for å hente inn siste versjon.\nOppgradere til nyeste versjon Tips: Installer Version Lens-utvidelsen for Visual Studio Code.\nDa kan du automatisk se hva som er nyeste versjon av alle pakker når du åpner App.csproj. Støtter også npm.\n\r\r Finn fram referansene til bibliotekene i appen. Referansene til biblioteker ligger i filen App/App.csproj i appens repo.  F.eks.:\n\u0026lt;ItemGroup\u0026gt; \u0026lt;PackageReference Include=\u0026#34;Altinn.App.Api\u0026#34; Version=\u0026#34;3.0.0\u0026#34; /\u0026gt; \u0026lt;PackageReference Include=\u0026#34;Altinn.App.Common\u0026#34; Version=\u0026#34;3.0.0\u0026#34; /\u0026gt; \u0026lt;PackageReference Include=\u0026#34;Altinn.App.PlatformServices\u0026#34; Version=\u0026#34;3.0.0\u0026#34; /\u0026gt; \u0026lt;PackageReference Include=\u0026#34;Microsoft.Extensions.Logging.Debug\u0026#34; Version=\u0026#34;3.1.3\u0026#34; /\u0026gt; \u0026lt;PackageReference Include=\u0026#34;Microsoft.VisualStudio.Web.CodeGeneration.Design\u0026#34; Version=\u0026#34;3.1.2\u0026#34; /\u0026gt; \u0026lt;/ItemGroup\u0026gt;  Sjekk om det har kommet en oppdatert versjon av bibliotekene:  Altinn.App.Api Altinn.App.Common Altinn.App.PlatformServices   Oppdater de aktuelle referansene til den siste versjonen og lagre filen. Sjekk om det er noen breaking changes ifm endringer i bibliotekene, og gjør ev. endringer som beskrives for å løse ev. problemer. Bygg og deploy appen på nytt.  App frontend App frontend lastes inn av appen runtime, via en lenke til javascript-filen som er app frontend. Denne javascript-filen versjoneres ihht. Semantic Versioning:\n Given a version number MAJOR.MINOR.PATCH, increment the:\nMAJOR version when you make incompatible API changes, MINOR version when you add functionality in a backwards compatible manner, and PATCH version when you make backwards compatible bug fixes.\nAdditional labels for pre-release and build metadata are available as extensions to the MAJOR.MINOR.PATCH format.\n App\u0026rsquo;en refererer som standard til en major versjon av app frontend, f.eks. versjon 1.x.y. Med mindre det kommer en ny major versjon vil alle oppdateringer med ny minor eller patch versjoner komme med automatisk. Om det kommer en ny major versjon må man eksplisitt oppdatere appen til å referere til denne.\nDersom man ønsker å refere til en spesifikk versjon av app frontend (f.eks. 1.2.3) så kan dette spesifiseres direkte i url\u0026rsquo;en som peker på app frontend.\nOppgradere til nyeste versjon / spesifisere versjon Referansen til app frontend ligger i App/views/Home/Index.cshtml.\nDet er 2 referanser som må oppdateres:\n Referansen til altinn-app-frontend.js-filen som er app frontend koden.  \u0026lt;script src=\u0026#34;https://altinncdn.no/toolkits/altinn-app-frontend/\u0026lt;VERSJONSNUMMER\u0026gt;/altinn-app-frontend.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;  Referansen til altinn-app-frontend.css som inneholder styling for app frontend.  \u0026lt;script src=\u0026#34;https://altinncdn.no/toolkits/altinn-app-frontend/\u0026lt;VERSJONSNUMMER\u0026gt;/altinn-app-frontend.css\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; Søk etter filnavnet (altinn-app-frontend.js eller altinn-app-frontend.css) og erstatt versjonsnummeret (f.eks. 1) med ønsket versjonsnummer (f.eks. 2).\nHusk: Dersom man setter kun major versjon (f.eks. 2), så vil alle oppdateringer innenfor denne major versjoner (bugfix, ny funksjonalitet som ikke er breaking) komme med automatisk. Dersom man setter en spesifikk versjon (f.eks. 2.0.0) så vil appen hente akkurat denne versjonen, helt til referansen evt. oppdateres til å bruke en annen versjon.\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/diverse/begrepsliste/",
	"title": "Begrepsliste for TUL",
	"tags": [],
	"description": "Liste over mye brukte begreper i tjenesteutviklingsløsningen (TUL).",
	"content": "  Datakilde\nEn samling felt og grupper som definerer og lagrer dataene for et InfoPath-skjema. Kontroller i skjemaet er bundet til feltene og gruppene i datakilden.\n  ELMER\nELMER er vedtatt som retningslinjer for brukergrensesnitt i offentlige skjemaer på Internett\n  Hovedskjema\nEn innsendingstjeneste vil Alltid ha ett skjema som er hovedskjema. Det kan knyttes null, ett eller flere underskjemaer til et hovedskjema.\n  Hovedspråk\nEn tjeneste vil alltid ha ett språk som hovedspråk. Dette angis når tjenesten opprettes og kan ikke endres i etterkant. Tjenesten kan oversettes til ett eller flere andre språk i tillegg til hovedspråket. En tjeneste kan ikke bli migrert til noe miljø uten at hovedspråket er komplett.\n  InfoPath\nInfoPath er et verktøy fra Microsoft som benyttes til å utvikle skjemaer. I TUL må tjenesteutviklere utvikle skjemaer i InfoPath og koble disse – gjennom å laste opp InfoPath-dokumentet – til TUL for å kunne spesifisere innholdet i skjemaet og bruken av det ytterligere.\n  Kodeliste\nEn kodeliste er en liste med faste verdier som for eksempel postnummer og poststed. Kodelisten brukes typisk i nedtrekkslister i skjema i sluttbruker­løsningen. En kodeliste kan brukes på tvers av tjenesteeiere og tjenester, eller den kan spesiallages for enkelte tjenesteeiere eller tjenester. Kodelister vil vedlikeholdes utenfor den enkelte tjeneste og må migreres over til sluttbrukerløsningen på linje med tjenestene.\n  Kortnavn\nBåde tjenester og utgaver har kortnavn. Kortnavnene både for tjeneste og for utgave benyttes kun i TUL for å angi navn på henholdsvis tjenestens og utgavens arbeidsflate i TUL.\n  Migrere\nPakke sammen alle data i en tjenesteutgave, versjonere, og legge det over til et sluttbrukermiljø.\n  Innholdsreferanser\nFelter som beskriver utfylt instans av en utgave\n  Preutfylling\nFelter fylles ut av SBL ved åpning av utgave\n  Prosessflyt\nAutomatisert navigasjon gjennom en spesifikk rekkefølge av handlinger eller oppgaver relatert til en forretningsprosess.\n  Sideegenskaper\nEgenskaper for en visning (side) fra InfoPath-skjema.\n  Skjemasett\nSamling av skjemaer og vedlegg som signeres og sendes inn i én prosess. Der innsendingsrutinen forutsetter at ett bestemt skjema alltid er med i sendingen, er dette et hovedskjema og resten er underskjema.\n  Sporvalg\nDefinerer en samling av sider som bare presenteres for en bestemt avgivergruppe eller avgivere i en bestemt situasjon. Grunnlaget for sporvalg kan være basert på tidligere svar i samme skjema eller på allerede kjente opplysninger hos oppgaveinnhenteren. Sporene kan delvis, men ikke utelukkende, være satt sammen av identiske sider.\n  Tjeneste\nEn tjeneste kan ha en eller flere tjenesteutgaver, for eksempel en utgave per år. Det er tjenesteutgaven som migreres over til sluttbrukerløsningen. Det finnes ulike tjenestetyper, for eksempel innsendingstjeneste og meldingstjeneste. Eksempel på tjeneste: Selvangivelse for næringsdrivende mv (RF-1030).\n  Tjenesteeier\nEn tjenesteeier er en etat som utvikler og eier tjenester som tilgjengeliggjøres gjennom Altinn. Eksempel på tjenesteeiere: Skattedirektoratet, NAV, Mattilsynet, Husbanken.\n  Tjenestekatalog\nListe over av alle tjenester i Altinn. Kan være nyttig i forbindelse med utvikling av mappere og betingelser (conditions). Ligger hos BRG på følgende adresse: https://altinn.brreg.no/sites/program/altinn%20II/Lists/Tjenestekatalog\n  Tjenesteparametre\nTjenesteparametre er egenskaper ved tjenesten som settes på tjenestenivå.\n  Underskjema\nEt underskjema er et skjema som benyttes som tillegg til et hovedskjema for en tjeneste. Et skjema kan eksistere kun som underskjema, eller det kan eksistere som hovedskjema for én tjeneste men benyttes som underskjema for én eller flere andre tjenester (da må det i så fall være forskjellige utgaver eller forskjellige tjenester som bruker samme xsn-fil). Et underskjema kan knyttes til ett eller flere hovedskjema.\n  Utgave\nOgså kalt tjenesteutgave. En tjeneste kan ha en eller flere utgaver, for eksempel en utgave per år. Det er tjenesteutgaven som migreres over til sluttbrukerløsningen.\n  Utgaveparametre\nUtgaveparametre er egenskaper ved utgaven som settes på utgavenivå.\n  Versjon\nHver gang en tjenesteutgave blir migrert til et miljø blir det opprettet en ny versjon av tjenesteutgaven.\n  WCAG\nWCAG er en forkortelse for Web Content Accessibility Guidelines. Dette er retningslinjer for å gjøre webinnhold tilgjengelig for mennesker med funksjonshemninger. Webinnhold generelt refererer til informasjon på en webside eller web-applikasjon, inkludert tekst, bilder, lyd og video.\n  XSD\nXSD er en forkortelse for XML Schema Definition. XSD er en filtype som brukes til å implementere et InfoPath-skjema. Også kalt datakilde. Denne filen styrer strukturen til XML som lagres i Altinn, og sluttbrukersystemene benytter XSD’en for å vite hvordan skjemadata som sendes inn skal være formatert.\n  XSN\nXSN er filtypen til InfoPath-skjema\n  TFS\nTeam Foundation Server er ALM og kildekodesystemet som benyttes i Altinn. Bruk av TFS er integrert i Visual Studio.\n  "
},
{
	"uri": "https://altinn.github.io/docs/tul/tjenestetyper/innsending/betaling/",
	"title": "Betaling",
	"tags": [],
	"description": "Altinn kan tilby tjenesteeiere å gjennomføre betaling på innsendingstjenester.",
	"content": "For å kunne ta i bruk dette må tjenesteeieren inngå en avtale med en eller flere av de betalingsleverandørene som Altinn har støtte for. Altinn har nå støtte for Dibs, Nets og Payex. Når en avtale er på plass må tjenesteeier legge inn nødvendig informasjon om avtalen i TUL. Det er nødvendig å ha spesielle rettigheter som betalingsadministrator for å kunne legge inn dette.\nLegge inn ny betalingsleverandøravtale Dersom du har de nødvendige rettigheter vil du få opp en lenke til betalings­leverandør­avtale­siden på tjenesteeierarbeidsflaten under «Felles ressurser for tjenesteeier». Lenken vil ikke være synlig for brukere uten adgang.\nBetalingsleverandøravtalesiden blir brukt til å administrere betaling for tjenesteeieren. Her skal administratorene av betaling hos tjenesteeier legge inn de avtalene som de vil gjøre tilgjengelig for bruk av utgavene. Det er først etter at minst en avtale har blitt lagt inn her at betalingsfunksjonaliteten vil bli tilgjengelig for utgavene hos tjenesteeieren.\nSiden er delt inn i to seksjoner. Den øverste seksjonen blir brukt til å legge inn eller vise detaljer om en bestemt avtale. Den nederste seksjonen gir en oversikt over alle avtalene som har blitt lagt inn hos tjenesteeieren.\nFor hver enkelt avtale må betalingsadministrator legge inn de opplysningene som er nødvendig for at Altinn skal kunne bruke avtalen. Du må først velge hvilken betalings­leverandør avtalen gjelder. Valgene du får her er de leverandørene som Altinn kan bruke.\nMerchant id er en unik id som du får hos betalingsleverandør når du inngår avtale. Denne brukes til å identifisere deg (den spesifikke avtalen) overfør betalingsleverandør. En tjenesteeier kan potensielt ha flere avtaler med den samme leverandøren, og merchant id vil da også identifisere hvilken avtale som brukes. Hos Nets og Payex vil du få to ulike merchant id-er. En er for bruk i produksjon, den andre er for testing. Du må fylle ut begge, og Altinn vil bruke id-en for test i testmiljøer og id-en for produksjon i produksjonsmiljøer. Dibs har ikke testmiljø, og har derfor bare en merchant id.\nDu kan bare legge inn en enkelt avtale en gang. Identifikasjonen av en avtale i TUL er kombinasjonen av betalingsleverandør og merchant id for produksjonsmiljø. Denne kombinasjonen må være unik for hver enkelt avtale.\nSecret key er en hemmelig nøkkel som brukes til å verifisere at betalingsanmodningen faktisk kommer fra rett avsender. Denne er knyttet til merchant id, og du får denne hos betalings­leverandør. De ulike leverandørene har ulikt navn for dette. Den kan være kalt ting som «MAC», «secret key» og «token». Til liks med merchant id må du legge inn for både produksjon og test. Dibs har ikke test og produksjonsnøkler, men har i stedet to ulike nøkler som begge må legges inn. Verdien du legger inn her er sensitiv informasjon, og vil derfor bli kryptert når du legger til avtalen. Det betyr at selve verdien ikke vil bli vist når du ser på avtalen senere. Du vil bare se noen tegn som viser at det finst en verdi, men ikke hva verdien er.\nMerchant id og secret key kan du ikke endre på etter at utgaver har tatt i bruk avtalen. Pass derfor på at de er korrekte, ellers vil ikke betaling fungere med avtalen. Både produksjons- og test-variantene bør legges inn med en gang. Det vil være komplisert å legge inn pro­duk­sjons­detaljer i etterkant på en avtale som har blitt tatt i bruk i testmiljøer. I et slikt tilfelle må du først fjerne betalingsleverandøravtalen fra alle utgaver som bruker den. Deretter gjøre endringene. Legge inn avtalen på nytt på alle utgavene og til slutt migrere alle utgavene på nytt.\nBetalingsmetoder (som Visa, MasterCard osv.) er noe som kan administreres på avtalen hos betalingsleverandøren. Dersom du ønsker at ulike utgaver skal kunne tilby ulike betalings­metoder på samme avtale, må du krysse av for «vil du begrense hvilke betalingsmetoder som skal være lov å bruke». Det samme må du gjøre dersom du bare vil tillate et utvalg av metodene som er tilgjengelig på avtalen.\nNår det er valgt å begrense metoder så vil du få opp en av­kryssings­boks for alle de betalingsmetodene som har blitt lagt inn som tilgjengelige i TUL (se 23.6.2 Betalingsmetoder). Du må velge minst en av disse for at avtalen skal være gyldig. Listen kan inneholde metoder som den avtalen du legger inn ikke har tilgjengelig. Du må derfor passe på at du bare velger betalingsmetoder som avtalen faktisk kan tilby. Bare de betalings­metodene du velger her vil kunne bli brukt som betaling på denne avtalen via Altinn.\nLar du være å krysse av her vil alle betalingsmetoder som avtalen godtar kunne brukes. Altinn vil ikke sette noen begrensing på metoder. Dette betyr at betalingsmetoder helt og holdent blir styrt i adminkonsollet hos betalingsleverandøren. Da vil alle metoder som til enhver tid er aktive der kunne brukes, også nye som skulle bli lagt til etter at avtalen er lagt inn i TUL og utgaver migrert.\nNår du har fylt inn alle opplysningene klikker du «Legg til avtale» for å legge den inn i listen over avtaler. Endringen vil ikke bli lagret før du sjekker inn siden. Det betyr at du kan legge til flere avtaler eller endre på flere avtaler før du lagrer.\nAdministrering av avtaler Etter at en avtale er tatt i bruk av en eller flere utgaver får du ikke lov å gjøre endringer på annet enn betalingsmetoder. Du kan heller ikke slette en avtale som er i bruk. Du vil i oversikts­listen se hvor mange utgaver som bruker avtalen. Ved å klikke på den infor­ma­sjonen vil du få opp en liste over disse utgavene.\nDersom du har behov for å endre på en avtale som er i bruk, så må du først fjerne avtalen fra alle utgavene. Merchant id og secret key er informasjon som er kritisk for at betalings­løsningen skal fungere. Dersom dette skulle være feil er det derfor viktig at alle utgavene som har tatt avtalen i bruk blir gjennomgått.\nAvtaler kan bare slettes dersom de ikke er i bruk av utgaver. Ønsker du å slette en utgave som er i bruk, må du først sjekke om utgavene trenger avtalen. Dersom avtalen ikke er nødvendig for alle utgavene, så kan du fjerne den fra utgavene og deretter slette avtalen.\n"
},
{
	"uri": "https://altinn.github.io/docs/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/rest/continuation-token/",
	"title": "Continuation token",
	"tags": [],
	"description": "Noen endepunkt i REST APIet til Altinn tilbyr bruk av continuation token. Denne siden beskriver hvordan man kan bruke continuation token i Altinn.",
	"content": "Hvordan bruke continuation token i Altinn Et continuation token er argumentet som brukes på continuation parameteret. Det peker på det siste elementet i listen som ble returnert. Ved oppgi dette ved neste kall ber man om at listen starter fra (og ikke inkluderer) det elementet som continuation tokenet representerer.\nFormatet på continuation tokenet er både menneskelig- og maskinlesbart. Det består av tidspunktet for siste endring for et element LastChanged, og en intern index. Det nøyaktige formatet er {LastChanged timestamp}_{id}, hvor {LastChanged timestamp} har formatet yyyy'-'MM'-'dd'T'HH':'mm':'ss.fff Eksempel på continuation token: 2020-02-01T08:30:39:148_1054\nDet er veldig mange som ønsker informasjon som ligger i Altinn og av ytelseshensyn er det derfor anbefalt å bruke continuation parameteret ved gjentatte kall til enkelte endepunkt. Vår anbefalte arbeidsflyt er:\n Ved det første kallet til endepunktet trenger man ikke benytte continuation parameteret. Da vil man få returnert en liste med elementer. Hvis listen inneholder minst ett element så vil man også få et continuation token returnert sammen med listen. Ved senere kall til endepunktet hvor de andre parametrene er uforandret bør man benytte continuation tokenet man fikk ved forrige kall som argument for continuation parameteret. Da vil kun nye elementer og elementer som har blitt endret siden sist kall, bli inkludert i listen.  For å finne ut om et endepunkt tilbyr bruk av continuation token, se detaljert dokumentasjon for endepunktet på altinn.no/api/serviceowner/Help\nPaginering med OData og continuation token REST-endepunktene som tilbyr continuation token bør ikke pagineres med OData parameteret $skip. Hvis et element som allerede har blitt returnert blir oppdatert mens man paginering, så vil dette elementet bli flyttet til enden av listen. Alle elementer som var plassert etter dette vil nå komme en plass tidligere i listen. Dette fører til at det første elementet på den neste siden havner på den siste plassen i siden som allerede har blitt returnert, og man vil ikke få returnert dette elementet.\nMan kan fortsatt bruke $top for begrense lengden på listen. $top kan også brukes sammen med continuation token.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/testing/local/debug/",
	"title": "Debugging av app",
	"tags": [],
	"description": "Når man kjører appene lokalt kan man debugge ved hjelp av ulike verktøy.",
	"content": "Følgende beskrivelse forutsetter at du har clonet applikasjonen fra Altinn Studio Repositories og har filene liggende på lokal harddisk.\nDebugging i Visual Studio Code For å debugge applikasjonen lokalt må du åpne applikasjonsprosjektet i Visual Studio Code. Velg åpne folder og bla deg frem til hvor repostoriet er lagret på din maskin.\nVelg debugging knappen til venstre i vertikal meny.\nDet er to måter å starte debugging av en applikasjon lokalt:\nStarte appen fra Visual Studio Code (.NET Core Launch) Denne metoden er den enkleste. Her vil Visual Studio Code starte applikasjonen og koble seg til i en og samme prosess\nVelg .NET Core Launch og trykk på den grønne \u0026ldquo;play\u0026rdquo; knappen.\nApplikasjonen vil da starte og han vil spørre om du skal starte en browser. Velg bare close.\nÅpne et browservindu og gå til http://altinn3local.no (forutsetter at du har startet lokal utviklingsplattform).\nStarte appen fra commando vindu Dette forutsetter at du har startet applikasjonen allerede. Gå til folderen hvor applikasjonen ligger og kjør kommando for å starte dotnet prosessen.\nI Visual Studio Code ha åpnet folderen med applikasjonsprosjektet. Attach deg til prosessen som heter Altinn.App.exe\nLegg til Breakpoints og analysere kode Sett breakpoints i code der du vil at debugger skal stoppe\nDer debugger stopper kan du analysere lokale verdier på objekter for å finne ut hvordan kode fungerer og eventuelt finne feil.\nLes mer om debugging i Visual Studio Code i dokumentasjonen til code.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/definisjoner/",
	"title": "Definisjoner",
	"tags": [],
	"description": "Beskrivelse av ulike begreper som benyttes i Altinn.",
	"content": "Beskrivelse av ulike begreper som benyttes i Altinn.\n   Betegnelse Beskrivelse     Abonnement Regelmessig aktivisering av innsendingstjeneste i avgivers arbeidsliste. Et abonnement kan forekomme 1 til X ganger.   Autentisering En betegnelse på det å verifisere en bruker eller et systems identitet. Dette vil typisk skje ved en sjekk av brukernavn og passord og/eller pin kode stemmer overens med registrert informasjon.   Autorisasjon En betegnelse på å verifisere at en gitt identifisert bruker eller system identitet har rettigheter til å utføre en handling eller har rettigheter til spesifikke data.   Base64 Standard for å representere binære data som tekst, slik at binære data kan være en del av f.eks. en XML struktur.   Batch En større mengde data av samme type gruppert sammen. Overføres i samme forsendelse, ofte rutinemessig.   E-dialog En tjenesteeierdefinert samhandlingstjeneste.   EnterpriseCertificate (EC) Sertifikat for en virksomhet, virksomhetssertifikat, som kan benyttes til autentisering og autorisering ifm implementasjon mot Altinn.   Formidlingstjeneste Formidling av data mellom eksterne aktører som er tilknyttet Altinn. Altinn forholder seg ikke til innhold, kun deler av formatet hvor metadata for tjenesten angis.   Innsendingstjeneste En innsendingstjeneste er en eller flere skjema definert av en tjenesteeier som fylles ut i portal eller sluttbrukersystem, evt. signeres, og sendes inn. Påbegynte og innsendte innsendingstjenester kan oppbevares i sluttbrukers meldingsboks i Altinn. Svardata sendes tjenesteeier   Innsynstjenester Tjenesteeiere kan gjøre informasjon i egne registre (for eksempel saksbehandlingsløsninger eller elektroniske saksarkiv/saksmapper) tilgjengelig for den enkelte brukeren eller dennes representant.   Lenketjeneste Formålet med en lenketjeneste er å overføre en bruker i Altinn til en annen nettside. En lenketjeneste er alltid assosiert med en URL.   Kvittering Ved innsending av data til Altinn, eller mottak av data fra Altinn opprettes kvitteringer som partene senere kan benytte for å få oversikt over datautveksling med Altinn.   Meldingsboks Samlingen av en sluttbrukers instansierte tjenester i Altinn (tjenestemotor og arkiv).   Meldingstjeneste Offentlige virksomheter sender informasjon/melding til sluttbrukers meldingsboks i Altinn. Meldingene støtter HTML og vedlegg. Brukeren kan varsles med e-post eller SMS om at informasjon er gjort tilgjengelig for innsyn eller behandling. Tjenesteeieren får informasjon om hvilke utsendte meldinger som er åpnet og kan eventuelt kreve at brukeren bekrefter mottaket innen en fastsatt frist. Meldingene kan oppbevares i sluttbrukerens meldingsboks i Altinn i en fastsatt periode, eventuelt slettes av brukeren.   MTOM Message Transmission Optimization Mechanism – Metodikk for effektiv forsendelse av binære vedlegg til og fra en web service.   Preutfylling Forhåndsutfylling av skjema/skjemasett i Altinn for bruker/organisasjon vha. data mottatt fra tjenesteeiere eller nasjonale registre (f.eks. Folkeregisteret, Enhetsregisteret)   Sak En instansiert samhandlingstjeneste, enten en samleside eller en e-dialog.   SBL Sluttbrukerløsningen. Applikasjon som privatpersoner eller næringslivet benytter for å kommunisere med tjenesteeiere.   Samhandlingstjeneste En tjeneste som knytter sammen andre tjenester som for sluttbruker og/eller tjenesteeier hører naturlig sammen.   Samleside En brukerdefinert samhandlingstjeneste.   Signering Tjenesteeier kan definere at spesifikke innsendingstjenester må signeres en eller flere ganger av bruker(e) før den aktuelle innsendingstjenesten kan ferdigstiller og sendes inn til Altinn.   Skjema Formular/dokument definert av en tjenesteeier som inneholder rubrikker som skal besvares av den som bruker formularet. Kan være trykket på papir eller elektronisk – sluttbrukerløsningen benytter elektroniske skjema.   Skjemasett En samling skjema som hører sammen. Gyldige kombinasjoner defineres av tjenesteeiere i TUL.   SOAP Uavhengig protokoll spesifikasjon for utveksling av strukturert informasjon gjennom web services.   TUL Tjenesteutviklingsløsningen. Applikasjon hvor tjenesteeiere bl.a. kan opprette tjenester for bruk i Altinn, for eksempel innsendingstjenester.   Web service Tjeneste på Internet aksessert vha. HTTP/HTTPS som utfører en bestemt oppgave, eller en bestemt type oppgaver.   WSDL Språk (xml) som beskriver en web service, dvs. informasjon om tjenester, protokoller og formater. Hensikten er å ha en velkjent måte for å etablere dialog mellom brukere og tilbydere av elektroniske tjenester.   XACML EXtended Markup Language - XML er en språkdefinisjon for strukturering og beskrivelse av data.   Web service Tjeneste på Internet aksessert vha. HTTP/HTTPS som utfører en bestemt oppgave, eller en bestemt type oppgaver.   WSDL Språk (xml) som beskriver en web service, dvs. informasjon om tjenester, protokoller og formater. Hensikten er å ha en velkjent måte for å etablere dialog mellom brukere og tilbydere av elektroniske tjenester.   XML EXtended Markup Language - XML er en språkdefinisjon for strukturering og beskrivelse av data.   XSD XML Schema Definition. Metabeskrivelse for XML data. Beskrivelse av hvordan XML dataene skal være strukturert og beskrivelse av alle dataelementene. Blir også brukt til å validere XML data.    "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/testing/authentication/delegate-scopes/",
	"title": "Delegere API-tilganger til en leverandør",
	"tags": [],
	"description": "Beskrivelse av hvordan tjenesteier kan delegere API-tilganger (scopes) til en underleverandør.",
	"content": "Enkelte tjenesteeiere ønsker at en underleverandør skal kunne agere på vegne av dem, f.eks. leverandører av fagsystemer. For å få til det, så må disse API-tilgangene delegeres til leverandøren ved bruk av Altinn.\nDet er tjenesteeiers ansvar å selv fjerne delegeringene om behovet for tilgang hos leverandør forsvinner.\nDelegering av API-tilganger til leverandør Som en bruker som er nøkkelrolleinnehaver for tjenesteeier (typisk daglig leder aka DAGL), åpne \u0026ldquo;Andre med rettigheter til virksomheten\u0026rdquo;.\nSå må de nødvendige rettighetene gis.\n Altinn tjenesteeier-API: Appinstanser (full tilgang) - gir tilgang til scopes for både read og write. Altinn tjenesteeier-API: Appinstanser (lesetilgang) - gir kun tilgang til read.  Fjerning av delegering Delegeringer som er gjort kan også fjernes. Om en leverandør ikke lenger har behov for API-tilganger så er det tjenesteeier sitt ansvar å fjerne disse.\nScopes Delegering gir tilgang til disse scopene for leverandør:\naltinn:serviceowner/instances.read altinn:serviceowner/instances.write "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/logic/dynamic/",
	"title": "Dynamikk",
	"tags": [],
	"description": "Hvordan legge til dynamikk?",
	"content": "Introduksjon Dynamikk er hendelser som skjer på klient-siden. Disse kan deles opp i to kategorier:\n Beregning - kjøre beregninger på klient-side, og oppdatere felter med ny verdi Vis/skjul felter - bestemme om felter skal vises eller skjules basert på verdier i skjema.  All dynamikk skrives som funksjoner i javascript, i filen RuleHandler.js. Denne filen finner man under App/ui-mappen i appen, og kan også redigeres direkte i Lage- visningen i Altinn Studio, ved å velge Rediger dynamikk i høyre-menyen. Funksjonene som er definert i denne filen kan da configurere til å kjøres for feltene i skjemaet.\nKoden som definerer beregninger eller regler for vis/skjul bør settes opp sånn at den håndterer ev. feil i input. F.eks. bør de takle å motta tom input, eller å motta en tekst selv om de forventer et tall, uten å kræsje. Om dynamikken ikke fungerer som forventet, ta en titt på koden som definerer beregninger eller regler for vis/skjul for å se om det er noe feilhåndtering som mangler.\rMERK: for å støtte beregning/vis-skjul felter på eldre nettlesere så må man skrive javascript koden man legger i RuleHandler.js i den versjonen av ECMA-script som den aktuelle nettleseren støtter. For IE11 vil dette være ECMA-script 5.\rLegg til/rediger funksjoner for beregninger eller vis/skjul I filen RuleHandler.js er det satt opp 2 javascript-objekter:\n ruleHandlerObject - funksjoner for beregninger conditionalRuleHandlerObject - funksjoner med regler for vis/skjul  Det er inne i disse at de forskjellige funksjonene skal defineres. I tillegg er det satt opp to hjelpe-objekter (ruleHandlerHelper og conditionalRuleHandlerHelper), hvor man skal sette opp hva slags input de forskjellige funksjonene forventer å få inn. Dette gjør det mulig å konfigurere opp reglene i Altinn Studio senere. For at en funksjon skal være tilgjengelig for å konfigureres som dynamikk, må selve funksjonen være definert i hoved-objektet (ruleHandlerObject eller conditionalRuleHandlerObject), og parametrene den forventer å få inn må være satt opp i det tilhørende hjelpe-objektet.\nStrukturen på hjelpe-objektet vises under:\nvar ruleHandlerHelper = { \u0026lt;name_of_rule\u0026gt;: () =\u0026gt; { return { \u0026lt;input_param\u0026gt;: \u0026#34;\u0026lt;description\u0026gt;\u0026#34;, \u0026lt;input_param\u0026gt;: \u0026#34;\u0026lt;description\u0026gt;\u0026#34;, \u0026lt;input_param\u0026gt;: \u0026#34;\u0026lt;description\u0026gt;\u0026#34; ... }; } } Strukturen på hoved-objektet, som inneholder funksjoner som brukes i dynamikk, vises under:\nvar ruleHandlerObject = { \u0026lt;name_of_rule\u0026gt;: (\u0026lt;input_variable_name\u0026gt;) =\u0026gt; { // Do something here  // Values from input parameters defined in  // helper can be accessed through the object passed  // into the rule, f.ex.  // \u0026lt;input_variable_name\u0026gt;.\u0026lt;input_param\u0026gt;  } } For eksempel, for å lage en regel som returnerer summen av to tall (beregning), vil man trenge følgende kode:\nvar ruleHandlerHelper = { sum: () =\u0026gt; { return { field1: \u0026#34;Field 1 in sum\u0026#34;, field2: \u0026#34;Field 2 in sum\u0026#34; }; } } var ruleHandlerObject = { sum: (data) =\u0026gt; { // Check if data is available  if (!data) return; // Check if value from input fields are available  // If not, use value 0 in sum  data.field1 = data.field1 ? data.field1 : 0; data.field2 = data.field2 ? data.field2 : 0; // return the sum  return data.field1 + data.field2; } } Noen standard-metoder for beregniner, med hjelpe-objekt, er satt opp automatisk når app\u0026rsquo;en lages i Altinn Studio. Noen av disse er vist i eksempelet under.\n   Method name Description Parameters Defined in object/helper     sum Returnerer summen av 2 verdier value1, value2 ruleHandlerObject/ruleHandlerHelper   fullName Returnerer to tekster (fornavn og etternavn) satt sammen med mellomrom mellom. firstName, lastName ruleHandlerObject/ruleHandlerHelper   lengthGreaterThan4 Returnerer true dersom verdien den får inn er lengre enn 4 karakterer lang. value conditionalRuleHandlerObject/conditionalRuleHandlerHelper    Regler for dynamikk kjøres dersom det har skjedd en endring i input-parametrene til de forskjellige reglene. Funksjonene som da kjøres må kunne håndtere dersom det f.eks. har kommet inn kun 1 av 2 parametre eller lignende.\nEt eksempel på hvordan dette kan gjøres er vist i sum-funksjonen under, hvor man tester hvilke parametre man har fått inn, og setter verdi til 0 på den/de parametre som mangler, sånn at regelen fortsatt fungerer.\nvar ruleHandlerObject = { sum: (obj) =\u0026gt; { obj.value1 = obj.value1 ? +obj.value1 : 0; obj.value2 = obj.value2 ? +obj.value2 : 0; return obj.value1 + obj.value2; }, fullName: (obj) =\u0026gt; { return obj.firstName + \u0026#39; \u0026#39; + obj.lastName; } } var ruleHandlerHelper = { sum: () =\u0026gt; { return { value1: \u0026#34;Value 1\u0026#34;, value2: \u0026#34;Value 2\u0026#34; } }, fullName: () =\u0026gt; { return { firstName: \u0026#34;First name\u0026#34;, lastName: \u0026#34;Last name\u0026#34; }; } } var conditionalRuleHandlerObject = { lengthBiggerThan4: (obj) =\u0026gt; { if (obj.value == null) return false; return obj.value.length \u0026gt;= 4; } } var conditionalRuleHandlerHelper = { lengthBiggerThan4: () =\u0026gt; { return { value: \u0026#34;value\u0026#34; } } } Konfigurere dynamikk for skjema-komponenter  Legg til de skjema-komponentene som ønskes i layout. I høyre-menyen, velg å legge til Regler for beregninger eller Regler for vis/skjul felt. Velg en tilgjengelig funksjon som gjør det du ønsker. Legg evt. til en ny funksjon, se beskrivelse over. Sett opp hvilke(t) felt som skal fungere som input til funksjonen - her er det felt i datamodellen som gjelder. Sett opp hvilke(t) fom skal påvirkes av regelen (skal motta beregnet verdi, eller skal vises/skjules) - her er det skjemakomponent som gjelder.   For regler for vis/skjul felt kan man velge flere felter som skal vises/skjules basert på samme regel.  Lagre konfigurasjonen. Test at det fungerer som forventet.  Eksisterende oppsett ligger synlig i høyre-menyen og kan redigeres/slettes.\nKonfigurasjonen legges i filen App/ui/RuleConfiguration.json. Denne kan også redigeres manuelt ved behov.\nEksempel på bruk av dynamikk i skjema Scenario:\nEn app med skjema som har flere felter for input. En av disse er en radioknapp-gruppe, med valgene \u0026ldquo;Ja\u0026rdquo; og \u0026ldquo;Nei\u0026rdquo;. Avhengig av hva sluttbruker velger her, skal forskjellig innhold vises i skjemaet:\n Ja: Et nytt input-felt vises, sammen med ekstra informasjon om hvordan feltet skal fylles ut. Nei: En annen informasjons-tekst vises.  Dette kan gjøres ved å legge inn følgende i RuleHandler.js, enten via Rediger dynamikk i Altinn Studio, eller ved å laste ned kildekoden til appen og redigere lokalt.\nvar conditionalRuleHandlerObject = { sjekkVirksomhetIDrift: (obj) =\u0026gt; { return (obj.value \u0026amp;\u0026amp; obj.value === \u0026#34;Ja\u0026#34;); }, sjekkVirksomhetIkkeIDrift: (obj) =\u0026gt; { return (!obj.value || obj.value != \u0026#34;Ja\u0026#34;); } } var conditionalRuleHandlerHelper = { sjekkVirksomhetIDrift: () =\u0026gt; { return { value: \u0026#34;Verdi\u0026#34; } }, sjekkVirksomhetIkkeIDrift: () =\u0026gt; { return { value: \u0026#34;Verdi\u0026#34; } } } Her har to funksjoner blitt opprettet, som sjekker om verdien er henholdsvis \u0026ldquo;Ja\u0026rdquo; eller ikke. Etter at denne koden er lagt til, kan regelen konfigureres i Altinn Studio. Resultatet vises under.\nDynamikk i repeterende gruppe Det er også mulig å sette opp dynamikk innad i en repeterende gruppe. Dette krever at man først setter opp regelen som vanlig, og så redigerer på oppsettet App/ui/RuleConfiguration.json manuelt. Helt konkret, er det følgende som må endres:\n For alle inputParams, må man legge til {0} etter gruppe-delen av data-modellen. F.eks. Datamodell.gruppe{0}.felt. Dette erstattes i koden av indeksen til hvert enkelt innslag av den repeterende gruppen. For alle selectedFields (altså feltene som påvirkes av reglen), må man legge til {0} bak felt-id\u0026rsquo;en. F.eks. skjemaFelt1{0} I tillegg må man legge enn en ny egenskap på regelen, repeatingGroups. Denne skal inneholde id\u0026rsquo;en til gruppen i layout-filen.  Et eksempel på en regel som er satt opp for repeterende grupper vises under:\n{ \u0026#34;data\u0026#34;: { \u0026#34;ruleConnection\u0026#34;: {}, \u0026#34;conditionalRendering\u0026#34;: { \u0026#34;9f9f2a50-360b-11ea-b69a-8510e2e248b9\u0026#34;: { \u0026#34;selectedFunction\u0026#34;: \u0026#34;lengthBiggerThan4\u0026#34;, \u0026#34;inputParams\u0026#34;: { \u0026#34;value\u0026#34;: \u0026#34;Skjemainnhold.personalia.arbeidserfaring{0}.stilling\u0026#34;  }, \u0026#34;selectedAction\u0026#34;: \u0026#34;Show\u0026#34;, \u0026#34;selectedFields\u0026#34;: { \u0026#34;962e2f60-3797-11ea-bfa5-9922024b4738\u0026#34;: \u0026#34;a-e-4{0}\u0026#34;,  \u0026#34;something\u0026#34;: \u0026#34;arbeidsgiver-adresse{0}\u0026#34; }, \u0026#34;repeatingGroup\u0026#34;: {  \u0026#34;groupId\u0026#34;: \u0026#34;arbeidserfaring-group\u0026#34;, } } } } } Eksempel med mer kompleks dynamikk Example with more complex dynamics\nScenario: Et skjema med to sett med radioknapper (ja/nei) og en avkrysningsboks.\n Når skjema lastes, er kun det første settet med radioknapper synlig. Hvis brukeren velder Ja, vises det andre settet med radioknapper.  Hvis brukeren velger Ja i det andre settet, blir avkrysningsboksen synlig. Hvis brukeren går tilbake til det første settet med radioknapper og velger nei, blir både det andre settet med radioknapper og avkrysningsboksen ikke lenger synlig.    Alternativ 1 Dette kan settes opp ved å lage 2 forskjellige betingelser for når feltene skal vises:\n En betingelse for det andre settet med radioknapper  Vises dersom Ja er valgt i det første settet   En betingelse for avkrysningsboksen  Vises når Ja er valgt i begge sett med radioknapper.    Koden for å løse dette kan være:\nvar conditionalRuleHandlerObject = { showField2: (obj) =\u0026gt; { if (obj \u0026amp;\u0026amp; obj.field1 \u0026amp;\u0026amp; obj.field1=== \u0026#34;yes\u0026#34;) { return true; } return false; }, showField3: (obj) =\u0026gt; { if (obj \u0026amp;\u0026amp; obj.field1 \u0026amp;\u0026amp; obj.field1 === \u0026#34;yes\u0026#34; \u0026amp;\u0026amp; obj.field2 \u0026amp;\u0026amp; obj.field2 === \u0026#34;yes\u0026#34;) { return true; } return false; } } var conditionalRuleHandlerHelper = { showField2: () =\u0026gt; { return { field1: \u0026#34;Field 1\u0026#34; }; }, showField3: () =\u0026gt; { return { field1: \u0026#34;Field 1\u0026#34;, field2: \u0026#34;Field 2\u0026#34; }; } } Alternativ 2 Dette kan også settes opp ved å bruke den samme betingelsen for å vise både det andre settet med radionkapper og avkrusningsboksen. I tillegg må man da ha en regel som sletter verdien i det andre settet med radioknapper dersom verdien i det første settet settes til Nei:\nvar ruleHandlerObject = { clearField: (obj) =\u0026gt; { if (obj \u0026amp;\u0026amp; obj.checkValue === \u0026#34;no\u0026#34;) { return \u0026#34;\u0026#34;; } return obj.currentValue; } } var ruleHandlerHelper = { clearField: () =\u0026gt; { return { checkValue: \u0026#34;check against this value\u0026#34;, currentValue: \u0026#34;the current value\u0026#34; } } } var conditionalRuleHandlerObject = { showField: (obj) =\u0026gt; { if (obj \u0026amp;\u0026amp; obj.checkField \u0026amp;\u0026amp; obj.checkField === \u0026#34;yes\u0026#34;) { return true; } return false; } } var conditionalRuleHandlerHelper = { showField: () =\u0026gt; { return { checkField: \u0026#34;check against this value\u0026#34; }; } } Dynamikk i PDF Fra versjon 3.0.0 er det også mulig å legge inn dynamikk for PDF. Dette gjøres i PDF Handler. Her kan man ved hjelp av logikk velge å skjulte felter eller sider i print.\nAppen må inkludere layout/ui/Settings.json filen som her.\nTeknisk er det veldlig likt hvordan man gjør det for validering.\nEksempel nedenfor som skjuler et gitt felt basert på innhold. Komponentene er basert på ID som man finner i layouts filene til skjema.\npublic async Task\u0026lt;LayoutSettings\u0026gt; FormatPdf(LayoutSettings layoutSettings, object data) { if (data is Skjema) { Skjema skjema = (Skjema)data; if (skjema?.Innledninggrp9342?.Kontaktinformasjongrp9344?.KontaktpersonNavndatadef2?.value.Contains(\u0026#34;tulling\u0026#34;) == true) { layoutSettings.Components = new Components(); layoutSettings.Components.ExcludeFromPdf = new System.Collections.Generic.List\u0026lt;string\u0026gt;(); layoutSettings.Components.ExcludeFromPdf.Add(\u0026#34;079f205b-c9ea-414d-9983-0d158e833e8a\u0026#34;); } } return await Task.FromResult(layoutSettings); } ``` "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/api/expose/",
	"title": "Eksponere APIer fra en app",
	"tags": [],
	"description": "I applikasjonene kan man som utvikler legge til flere API enn det som er definert som standard API for applikasjoner utviklet i Altinn Studio.",
	"content": "Applikasjonene som utvikles i Altinn Studio baserer seg i dag på ASP.NET Core for back-end. Dette gir høy fleksibiltet til å endre og modifisere applikasjonene.\nLegge til API kontroller For å kunne eksponere et nytt API i applikasjonen må det legges til en eller flere API kontrollere.\nNedenfor vises et eksempel fra en API controller som er lagt til i en gitt app. Her settes det opp hvilken path API skal lytte på og logikken.\nusing System; using System.Threading.Tasks; using Microsoft.AspNetCore.Mvc; namespace Altinn.App.Api.Controllers { [ApiController] [Route(\u0026#34;{org}/{app}/CustomApi\u0026#34;)]  public class CustomApiController : ControllerBase { [HttpGet(\u0026#34;TimeInfo\u0026#34;)]  public async Task\u0026lt;ActionResult\u0026gt; Get() { return Ok(DateTime.Now); } } } Koden kan ses i dette repositoriet.\nI dokumentasjonen til ASP.NET kan du lese flere detaljer om mulighetene for å eksponere API.\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/diverse/ekstern-stil/",
	"title": "Ekstern stil",
	"tags": [],
	"description": "Funksjonalitet som gjør det mulig å presentere Altinn-tjenester uten at Altinns visuelle profil er synlig.",
	"content": "Portaluavhengighet I Altinn-sammenheng er begrepet portaluavhengighet brukt for funksjonalitet som gjør det mulig å presentere Altinn-tjenester for en sluttbruker uten at Altinns visuelle profil er synlig.\nI TUL omfatter dette funksjonalitet for å laste opp en eller flere stiler for hver tjenesteeier. En stil består av stilark (CSS) og tilhørende grafikkfiler. Den må migreres til SBL for å kunne påvirke ”look \u0026amp; feel” til tjenesteeiers tjenester.\nDet defineres ingen fast kobling mellom stil og tjeneste. Om stilen skal benyttes, styres ved oppstart av hver enkelt tjeneste. Generelt startes en Altinn-tjeneste fra en ekstern portal, for eksempel tjenesteeiers sider, ved hjelp av en såkalt dyplenke. Ved å legge på ekstra parametre for hhv. stil og returside vil lenken kunne ta sluttbruker til en Altinn-tjeneste med tjenesteeiers visuelle stil, og returnere til tjenesteeiers portal etterpå.\nAdministrere stilark og grafikk Stilarkene vil legges til i et SharePoint-dokumentbibliotek som er tilgjengelig fra arbeidsflaten for tjenesteeier. Dokumentbiblioteket har versjonering, slik at det vil være mulig å rulle tilbake til tidligere versjoner av stilarkene.\nFiler for grafikk håndteres tilsvarende i et SharePoint-dokumentbibliotek for bilder som også er tilgjengelig fra arbeidsflaten for tjenesteeier. Flere stilark kan gjenbruke de samme grafikkfilene.\nDefinere stilark Stilark og grafikkfiler må defineres utenfor TUL i de verktøy tjenesteeier selv disponerer.\nEn stil vil ikke kunne endre funksjonalitet eller innhold; for eksempel vil det ikke være mulig å legge til en helt annen toppmeny ved hjelp av et stilark.\nStilarket kan inneholde få stildefinisjoner og for eksempel bare endre toppbanner og footer, eller det kan endre større deler av løsningens ”look \u0026amp; feel”. Endring av stil i InfoPath-skjema støttes ikke, men alle andre deler av sidene en tjeneste presenteres på kan endres; for eksempel navigasjonsområdet, knapperaden og informasjonsområdet i en innsendings­tjeneste.\nDet gis her ingen innføring i hvordan stilarket bør bygges opp generelt, men en beskrivelse av hvordan særskilte elementer som er spesielle for løsningen bør defineres for at det skal kunne påvirke SBL.\nLogo Bilder kan benyttes i stilark som bakgrunnsbilde. URL\u0026rsquo;en for bakgrunnsbilde må ha følgende format:\n/Pages/Images/\u0026lt;tjenesteeier-kode\u0026gt;/Content/\u0026lt;filnavn\u0026gt;\rFor eksempel: /Pages/Images/NAV/Content/navlogo.png.\nVed å bruke følgende stil-mal vil du kunne skjule altinn-logoen og vise logo knyttet til alternativ stil:\ndiv.logo a img { display: none !important; } div.logo { background: url(\u0026#34;/Pages/Images/\u0026lt;tjenesteeier-kode\u0026gt;/Content/\u0026lt;filnavn\u0026gt;\u0026#34;) no-repeat 5% 50% !important; height: 60px !important; } Laste opp stilark Du laster opp et nytt stilark ved å klikke på *Last opp-*lenken i dokumentbibliotekets header og laster opp et stilark på vanlig måte. Navnet på stilarket vil benyttes til å identifisere selve stilen; en stil-identifikator som består av stilarkets navn, tjenesteeierkode og et løpenummer genereres automatisk ved opplasting. Denne stil-identifikatoren vil benyttes som parameter i dyplenken for å indikere hvilken stil som skal benyttes i sluttbrukerløsningen.\nFor å lage en ny utgave av et eksisterende stilark, kan det samme stilarket lastes opp på nytt med et annet navn.\nLaste opp grafikk Grafikk kan lastes opp direkte i grafikkbiblioteket, eller det kan lages mapper og laste opp grafikken i mappene. OBS: Kun ett nivå av mapper støttes.\nDet vil ikke være noen tekniske begrensninger på hvilke typer grafikkfiler som kan lastes opp, men det anbefales sterkt at PNG benyttes istedenfor GIF. Særlig GIF med gjennomsiktighet bør ikke benyttes da det kan skape problemer i generering av PDF. Grafikkfilformater som ikke støttes av alle nettlesere som er relevante for sluttbrukerløsningen bør naturligvis ikke benyttes.\nMigrere stilark En stil må migreres til SBL før den kan påvirke visningen til tjenester. For å migrere en stil må du klikke på lenken Migrer til høyre i hver rad i stilarkbiblioteket. Dette tar deg til siden Stilarkmigrering. Her kan du velge miljø du vil migrere til. I tillegg kan du velge å migrere bilder som ligger i bildebiblioteket. For å starte migrering trykker du på OK-knappen.\nDu kommer nå til siden Stilarkmigreringsstatus. Denne siden viser status for migreringen og en liste over tidligere migreringer. Fra stilarksmigreringsstatus-siden kan du også teste stilarket. Dette gjør du ved å velge en tjenesteutgave fra nedtrekkslisten knyttet til stilarket du vil teste, klikk så på lenken Dyplenke. Et nytt nettleservindu vil åpnes med en dyplenke til en ny instans av tjenesteutgaven du valgte å teste stilarket med.\nDyplenke fra ekstern portal For å bruke stilen som er definert i stilarkene må det benyttes en dyplenke som er bygd opp med en stil-identifikator (StyleIdentificator) som knytter stilarket til tjenensteutgaven. For å starte en ny tjeneste, identifiseres tjenesteutgaven av ekstern tjenestekode og ekstern tjeneste­utgave­kode.\nDyplenken kan gå fra for eksempel en etats egen webside (for eksempel https://www.nav.no) eller fra en epost. Når sluttbruker klikker på lenken vil Altinn-portalen åpnes, men med den angitte stilen, slik at sluttbruker ikke nødvendigvis oppfatter at han/hun navigerer til et annet nettsted. Stilark kan kun knyttes til tjenester i TUL, og altså ikke andre sider som for eksempel Min meldingsboks eller Min profil. Alle tjenestetyper vises i SBL med liten toppbanner, og sluttbruker kan ikke navigere seg ut fra tjenesten annet enn ved en tilbake-lenke (Tilbake til Min meldingsboks).\nVanligvis vil sluttbruker komme tilbake til Min meldingsboks når han/hun trykker på tilbake-lenken, men om det er ønskelig at sluttbruker returnerer et annet sted kan dyplenken inneholde en returparameter (ReturnPage).\nEksempel på dyplenke med stil-identifikator:\nhttps://www.altinn.no/Pages/ServiceEngine/Start/StartService.aspx?ServiceEditionCode=983142\u0026amp;ServiceCode=2069\u0026amp;style=nav_12_helfo.css\rEksempel på dyplenke med stil-identifikator og returparameter:\nhttps://www.altinn.no/Pages/ServiceEngine/Start/StartService.aspx?ServiceEditionCode=983142\u0026amp;ServiceCode=2069\u0026amp;style=nav_12_helfo.css\u0026amp;returnPage=http://www.helfo.no\rHvis du i stedet for å starte en ny tjeneste skal dyplenke til et eksisterende tjenesteelement, vil selve lenken bygges opp annerledes, mens prinsippet for ekstern stil er det samme. Dette er bare aktuelt hvis datainnholdet du skal lenke til er kjent, for eksempel hentet fra Altinn via webservice.\nEksempel på dyplenke til arkivert element:\nhttps://www.altinn.no/Pages/ServiceEngine/Dispatcher/Dispatcher.aspx?RAReporteeElementID=\u0026lt;RAReporteeElementID\u0026gt;\rEksempel på dyplenke til aktivt element:\nhttps://www.altinn.no/Pages/ServiceEngine/Dispatcher/Dispatcher.aspx?ReporteeElementID=\u0026lt;ReporteeElementID\u0026gt;\r"
},
{
	"uri": "https://altinn.github.io/docs/tul/diverse/enhetstest/",
	"title": "Enhetstest",
	"tags": [],
	"description": "Det å verifisere enkeltdeler av en tjenesteutgave hver for seg.",
	"content": "Med enhetstest menes å verifisere enkeltdeler av en tjenesteutgave hver for seg.\nLayout og andre egenskaper som legges inn via InfoPath, kan enhetstestes I InfoPath. Regler definert i InfoPath kan testes direkte I InfoPath ved å bruke forhåndsvisning (preview).\nLayout for dialogsider kan bare i begrenset grad enhetstestes i TUL, siden utseende og innhold i dialogkomponentene vises fullstendig bare i portalmiljø. Det du kan teste i TUL, er overordnet sideinndeling, at de aktuelle komponentene er tilstede og riktig plassert i forhold til hverandre, og at de har forståelige overskrifter.\nFor tjenestespesifikasjon, utgavespesifikasjon og andre parametre knyttet til en utgave, må en eventuell enhetstest skje ved å gå gjennom definerte sjekklister for disse. Utfylte sjekklister kan eventuelt lagres under Designdokumenter i tjenestens arbeidsflate.\nEn videre test av tjenesteutgaven må foretas i portalmiljø.\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/tjenestetyper/felles-funksjonalitet/",
	"title": "Felles",
	"tags": [],
	"description": "Funksjonalitet som er felles for alle eller flere av tjenestetypene.",
	"content": "Her beskrives funksjonalitet som er felles for alle eller flere av tjenestetypene, innenfor hhv. tjenestespesifikasjon, utgavespesifikasjon og tjenesteinnhold.\nTjenestedefinering utføres fra tjenestens arbeidsflate, mens definering av utgave gjøres fra utgavens arbeidsflate.\nÅ definere tjenesten består i å utarbeide tjenestespesifikasjonen, som omfatter kun tjenesteparametere. Å definere utgaven består i å utarbeide utgavespesifikasjonen, som består av alle parametre som ikke er knyttet til eventuelt tjenesteinnhold. Eksempel på tjenesteinnhold er skjema som utvikles i InfoPath.\nTjenestespesifikasjonen vil være den samme for alle utgaver i gitt tjeneste, mens hver enkelt utgave kan ha forskjellige spesifikasjoner.\nTjenestespesifikasjon Tjenestespesifikasjonen initieres allerede idet du velger å opprette en ny tjeneste, ved at siden Tjenesteparametre åpnes.\nTjenesteparametre Når tjenesteparametrene er fylt ut, er tjenesten ferdig definert. Du kan senere komme til denne siden ved å klikke på Tjenesteparametere på arbeidsflaten for tjenesten. Et utsnitt fra skjermbildet av siden vises under.\nDet som er verdt å merke seg, er at ekstern tjenestekode og tjenestetype ikke kan endres etter at det er valgt og lagret.\nFølgende parametre kan defineres på tjenesteparametersiden:\n   Parameter Beskrivelse Obligatorisk Type Språk­støtte     Tjenestenavn Dette er tjenestens fulle navn og brukes i SBL for avansert søk og i rettighetsvisninger i SBL. Ja Tekst Ja   Kortnavn Tjenestens kortnavn er navnet på tjenestens arbeidsflate i TUL, og brukes i URL. Denne støtter ikke spesialtegn. Ja Tekst    Ekstern tjenestekode Ekstern tjenestekode brukes til å identifisere en tjeneste i Altinn, for eksempel ved dyplenking. Denne genereres automatisk. Ja Tekst    Tjenestetype Tjenestetype brukes til å definere type tjeneste. Tjenestetype må settes før man kan opprette en utgave av tjenesten. Nei Liste    Referanse Referanse kan for eksempel brukes som referanse til papirutgaven av tjenesten eller skjemanavn. Maksimalt 10 tegn (bokstaver, siffer eller spesialtegn). Nei Tekst     Utgavespesifikasjon Fra tjenestens arbeidsflate kan du opprette en utgave under tjenesten. Du kan senere komme til denne siden ved å klikke på Utgaveparametere på arbeidsflaten for tjenesteutgaven. Hvilke parametre som må angis for en tjenesteutgave, kommer an på hva slags tjenestetype som ble valgt for tjenesten. Oversikt over alle parametere gis i neste avsnitt.\nI tillegg til utgaveparametrene kan du fra utgavearbeidsflaten navigere deg inn på andre parametersider for å definere utgaven. For alle tjenestetyper kan du i tillegg til utgaveparametrene velge å overstyre rettighetene til tjenesteutgaven. For å definere dette må du velge Overstyr rettigheter under området for Utgavespesifikasjon.\nDe andre parametrene som definerer utgaven, vil avhenge av type tjeneste.\nUtgaveparametere og overstyr rettigheter er beskrevet i dette kapitlet, mens de parametersidene som er spesifikke for en gitt utgavetype, er beskrevet i kapitlet som omhandler den aktuelle typen.\nUtgaveparametere Utgaveparametrene brukes for å identifisere og konfigurere egenskaper ved utgaven. Parametrene er tilpasset den aktuelle tjenestetypen. Selve parametrene er listet midt på siden. Parametrene er gruppert etter type parameter og til venstre på siden fins en forklaring til parametrene.\nFigur 25 – Utgaveparametere, innsendingstjeneste\nFølgende parametre kan definers på utgaveparametersiden:\n\r\r\rParameter\rBeskrivelse\rTjeneste­type\rObl.\rType\rSpråk­støtte\r\r\r\r\rUtgavenavn\rUtgavens navn vises på utgavens arbeidsflate i TUL.\rAlle\rJa\rTekst\rJa\r\r\rKortnavn\rUtgavens kortnavn er navnet på utgavens arbeidsflate i TUL. Kan maksimalt inneholde 30 bokstaver eller siffer. Kan ikke inneholde spesialtegn, dog ‘–‘ og ‘_’.\r\rJa\rTekst\r\r\r\rTjenesteutgave­­­kode\rTjenesteutgavekode brukes sammen med ekstern tjenestekode til å identifisere en utgave i Altinn, for eksempel ved dyplenking. Tjenesteutgavekoden må være unik innenfor en tjeneste. Maksimalt 6 siffer. Dette feltet kan ikke endres i etterkant og vil være “read only” etter at utgaven er lagret første gang.\rAlle\rJa\rTekst\r\r\r\rHovedspråk\rAngir utgavens hovedspråk. Brukes som oversett-fra-språk ved oversetting.\rAlle\rJa\rListe\r\r\r\rGyldig fra\rAngir når utgaven er tilgjengelig i SBL. Gjelder i utg.punkt produksjonsmiljø, men også testmiljø hvis ”Gyldig fra-dato” overstyres ved migrering.\rAlle\r\rDato + Tid\r\r\r\rGyldig til\rAngir når utgaven ikke lengre er tilgjengelig i SBL. Gjelder i utg.punkt produksjonsmiljø, men også testmiljø hvis ”Gyldig til-dato” overstyres ved migrering.\rAlle\r\rDato + Tid\r\r\r\rKun underskjema\rAngir at denne utgaven kun blir brukt som et underskjema. Prosessflyt og skjemasett, samt migrering blir utilgjengelig.\rInnsending\r\rSjekk­boks\r\r\r\rMastertjeneste­utgave\rDenne brukes for å markere at utgaven skal være tilgjengelig for gjenbruk av andre tjenesteeiere\rInnsending\r\rSjekk­boks\r\r\r\rMeldingstype\rAngir hva slags meldingstype denne utgaven er. Vanligvis velges Binær/HTML. Øvrige valg er Skatteoppgjør og Foreløpig skatteoppgjør; disse brukes bare for meldinger som skal håndteres spesielt i SBL ifm. Selvangivelse­løsningen\rMelding\rJa\rListe\r\r\r\r\rOverfør ved bruk av spesifisert metode |\rHent ved bruk av webservice (DownloadQueue)\r\rAngir hvordan innsendte tjenesteutgaver skal overføres fra Altinn til tjenesteeiers mottakersystem. Innsendte tjenesteutgaver kan enten sendes til mottakersystem eller hentes av mottakersystem. Ved sending må det spesifiseres metode.\rInnsending\rJa\rRadio\r\r\r\rMetode for oversending av tjenesteutgaves data\rAngir hvordan en tjenesteutgaves data skal sendes fra Altinn til tjenesteeiers mottakssystem. Her kan det velges mellom de ulike grensesnittene som er gyldig for den gitte tjenesteeier. For innsynstjenester er det kun en kvittering på benyttet innsyn som sendes.\rInnsending, innsyn, melding\r\rListe\r\r\r\rInkluder PDF-skjema i oversendingen\rAngir om en PDF/A-1b-versjon av utgavens skjema(sett) skal oversendes sammen med tjenesteutgaves data til tjenesteeier. Denne vil være lik den som bruker selv kan åpne fra portalen, og inneholde alle hoved- og underskjema samlet. Benyttes funksjonaliteten sammen med sensitive opplysninger vil eventuelle krypterte felter vises med #-tegn tilsvarende bruker generert PDF.\nHvis innsendingstjenesten også er satt opp med split av data vil kun eieren av tjenesten motta PDF.\nPDF vil ikke kunne sendes ved bruk av flatfil for oversendelse, kun ved bruk av Altinn XML format.\nParameteren bør ikke brukes ved store volumer av tjenesten, og ytelse bør diskuteres med ASF.\n\rInnsending\r\rSjekk-boks\r\r\r\rUtskriftsvisning\rForteller hvilken visningsmetode som skal brukes når utskriftsvisning genereres i SBL. Eneste valg nå er pdf.\rInnsending\r\rListe\r\r\r\rKjør ved\rAngir når kontroll skal kjøres. Her kan man velge mellom før eller under instansiering avhengig av tjenestetype.\r\r\r\r\r\r\rKontroll\rAngi hvilken kontroll som skal kjøres ved instansiering av tjenesten.\rInnsending, lenke\r\rListe\r\r\r\rURL\rAngir hvilken URL lenketjenesten skal åpne.\nFor lenketjeneste som representerer en ekstern ressurs som ikke trenger åpning av lenke og ønsker å ta i bruk forenklet delegering i Altinn må denne settes til en spesifikk verdi.\nSe Lenketjenester for mer informasjon.\n\rLenke\r\rTekst\r\r\r\rVis ELMER\rAngir om skjema skal presenteres i sluttbrukerløsningen i henhold til ELMER-retningslinjene. Vis ELMER er satt som default valg i TUL. Dette vil gi et navigasjonsområde til venstre og et område for selvvalgt tilleggs­informasjon til høyre. I tillegg vil det være en knapperad med navigasjonsknapper under skjemaet.\nSe Vedlegg C: Utforming av brukervennlige tjenester for mer informasjon.\n\rInnsending\r\rSjekk­boks\r\r\r\rFri navigasjon | Styrt navigasjon\rAngir om navigasjonen skal være fri eller styrt. Bruk av ELMER med fri navigasjon er satt som default valg i TUL, og anbefales. Kun i spesielle tilfeller kan det være hensiktsmessig å velge styrt navigasjon, som for eksempel hvis det er nødvendig å lede sluttbrukeren gjennom et bestemt resonnement.\nSe Vedlegg C: Utforming av brukervennlige tjenester for mer informasjon.\n\rInnsending\r\rRadio\r\r\r\rLagre i arkiv\rAngir om tjenesteutgaven skal lagres under Sendt og arkivert i Min meldingsboks i SBL. Satt som default valg i TUL.\rInnsending\r\rSjekk­boks\r\r\r\rTillat instansiering fra arkiv\rAngir om om sluttbruker kan lage en ny kopi av arkivert tjeneste i SBL. Satt som default valg i TUL. Deaktiveres hvis Lagre i arkiv ikke er valgt.\rInnsending\r\rSjekk­boks\r\r\r\rTillat delvis kopiering\rUtgavens navn vises på utgavens arbeidsflate i TUL.\rInnsending\rNei\rSjekk-boks\r\r\r\rSend status om meldingen er lest\rAngir om det skal sendes melding om sluttbruker har lest meldingen\rMelding\r\rSjekk­boks\r\r\r\rSend status etter antall dager\rAngir antall dager det skal gå før det sjekkes og sendes melding om sluttbruker har lest meldingen. Deaktivert om Send status om meldingen er lest ikke er valgt.\rMelding\r\rTall\r\r\r\rLogge informasjon om leseaktivitet i tjenesteeiers arkiv\rAngir om leseaktivitet i tjenesteeiers arkiv skal logges eller ikke.\rInnsending, melding\r\rSjekk-boks\r\r\r\rLagring av sporings- og logginforma­sjon i loggarkiv (TTP-data)\rAngir i antall år hvor lenge sporings- og logginformasjonen skal lagres i loggarkivet (TTP). Default og minimum er 10 år.\rAlle\rJa\rTall\r\r\r\rLagringstid i tjenesteeieres arkiv\rAngir hvor lenge melding skal lagres om tjenesteeier sender melding til sluttbruker. Hvis ingen lagring, angis 0 år og 0 måneder.\rInnsending, melding\rJa\rTall\r\r\r\rTillat innsending fra SBS\rAngir om tjenesten kan sendes inn fra et eksternt sluttbrukersystem. Satt som default valg i TUL.\rInnsending\r\rSjekk­boks\r\r\r\rTillat instansiering for sluttbrukere uten brukerprofil\rAngir om tjenesten skal kunne instansieres fra etat for en bruker som ikke har samtykket til bruk av Altinn.\rInnsending\r\rSjekk­boks\r\r\r\rKvitteringstekst\nInformasjons­tekst\n\rEtter å ha fylt ut et skjema i SBL vil sluttbruker bli sendt til en egen kvitteringsside med kvitteringsteksten. Se Vedlegg C: Veiledning i utforming av brukervennlige tjenester for mer informasjon.\rInnsending\r\rTekst\rJa\r\r\rKvitteringstekst i portal\rEtter å ha fylt ut et skjema i SBL vil sluttbruker bli sendt til en egen kvitteringsside med kvitteringsteksten. Se Vedlegg C: Veiledning i utforming av brukervennlige tjenester for mer informasjon.\rInnsending\r\rTekst\rJa\r\r\rKvitteringstekst i e-post\rEtter å ha fylt ut et skjema i SBL vil sluttbruker bli sendt til en egen kvitteringsside med kvitteringsteksten. Se Vedlegg C: Veiledning i utforming av brukervennlige tjenester for mer informasjon.\rInnsending\r\rTekst\rJa\r\r\rKrav til avgivertype\rAngir hvilke type brukere som kan stå som avsender av en innsendingstjeneste. Kan være «privatperson», «juridisk enhet (foretak)», «bedrift», «bedrift eller en juridisk enhet (foretak)», «konkursbo», «person eller juridisk enhet», «bedrift, juridisk enhet eller konkursbo» eller «privatperson, juridisk enhet (foretak) eller konkursbo». Bedrift er enheter med type BEDR eller ADOS (Administrativ enhet – offentlig sektor). Konkursbo er enheter av type KBO. Juridisk enhet er de typene som ikke er BEDR, ADOS eller KBO. Hva som skal velges vil ofte være angitt i skjemadesignet.\rInnsending, samhandling\r\rListe\r\r\r\rSikkerhetsnivå\rAngir krav til hvilken innloggingsmetode som minimum kreves for tjenesten. Kan angis som Nivå 0-4. Se tabell under for informasjon om de ulike nivåene.\rAlle\r\rListe\r\r\r\rAvsender\rAngir hvem som står som avsender av meldingen i SBL.\rMelding\r\rTekst\r\r\r\rBekreftelse for mottatt: Sluttbruker må bekrefte\rAngir hvorvidt meldingen må bekreftes lest av sluttbruker. Satt som default valg i TUL.\rMelding\r\rRadio\r\r\r\rBekreftelse for mottatt: Sluttbruker trenger ikke bekrefte\rAngir hvorvidt meldingen må bekreftes lest av sluttbruker.\rMelding\r\rRadio\r\r\r\rBetrodd partner kan opprette ny forekomst\rAngir om betrodd partner (”Trusted Partner”, sluttbrukersystem med utvidede rettigheter) kan instansiere tjenesten.\rInnsending\r\rSjekk­boks\r\r\r\rKrypterte data kan låses opp for visning\rAngir om midlertidig dekryptering skal tillates hos sluttbruker hvis utgaven inneholder sensitive opplysninger som blir kryptert og uleselig etter at sluttbruker har lagt dem inn.\rInnsending\r\rSjekk­boks\r\r\r\rI SBL kan brukere logge inn som en virksomhet, uten å bli autentisert som en bestemt person. En virksomhets­bruker kan være en av flere ulike personer.\rAngir om en virksomhets­identifisert bruker ikke kan benytte seg av tjenesten.\rAlle\r\rSjekk­boks\r\r\r\rSend status for melding og når\rAngir hvorvidt status for melding skal sendes til tjenesteeier (ikke åpnet, åpnet, bekreftet; standard verdi er ikke åpnet) og hvor lenge innen informasjonen skal sendes (dager). Sjekkboksen angir om informasjonen skal sendes eller ikke, i tekstboksen angis antall dager innen informasjonen sendes (standard verdi er 7 dager). Tekstboksen aktiveres hvis sjekkboksen er sjekket.\rMelding\r\rSjekk­boks og tekst\r\r\r\rSend bekreftelse: Ja / Nei\rAngir om det skal sendes bekreftelse på at utgaven av innsynstjenesten er benyttet.\rInnsyn\r\rRadio\r\r\r\rTillat sluttbruker å lagre Altinn-signert kopi\rAngir om sluttbruker kan be om Altinn-signert kopi av innsynstjenesten som lagres i sluttbrukers meldingsboks.\rInnsyn\r\rSjekk­boks\r\r\r\rTillat videresending på e-post\rAngir om sluttbruker kan videresende Altinn-signert innsynstjeneste på e-post.\rInnsyn\r\rSjekk­boks\r\r\r\rInformasjon til sluttbruker\rAngir informasjon som vises til sluttbruker i høyre del av skjermbildet (samtidig med innsynstjenesten).\rInnsyn\r\rTekst\r\r\r\rMappernavn\rNavn på mapper-endepunkt\rInnsyn\r\rTekst\r\r\r\rRequestskjema\rSkjema for innkommende forespørsler som beskriver data som skal sendes inn.\rInnsyn\r\rTekst\r\r\r\rResponsskjema\rSkjema for utgående forespørsler som beskriver data som blir sendt ut\rInnsyn\r\rTekst\r\r\r\rKan inngå i samhandlings­tjeneste\rAngir om utgaven vises i listen over tjenesteutgaver som kan inngå i en samhandlingstjeneste.\rInnsending, melding, innsyn\r\rSjekk­boks\r\r\r\rErstatt standard instansiering I SBL med tilpasset programlogikk (URL)\rAngir en URL for programlogikken som skal aktiveres når instansiering normalt utføres. Benyttes hvis tjenesteutgaven har spesielle krav til instansiering.\rInnsending\r\rTekst\r\r\r\rErstatt standard skjemautfylling i SBL med tilpasset presentasjon (URL)\rAngir en URL for den tilpassede presentasjonen som skal åpnes når skjemautfylling normalt utføres. Benyttes hvis utgaven har spesielle krav til skjemautfylling.\rInnsending\r\rTekst\r\r\r\rErstatt standard signering/innsending i SBL med tilpasset programlogikk (URL)\rAngir en URL for programlogikken som skal aktiveres når signering/innsending normalt utføres. Benyttes hvis utgaven har spesielle krav til signering/innsending.\rInnsending\r\rTekst\r\r\r\rErstatt standard utskriftsvisning i SBL med tilpasset presentasjon (URL)\rAngir en URL for programlogikken som skal aktiveres når utskriftsversjonen av skjemasettet normalt åpnes. Benyttes hvis utgaven har spesielle krav til utskrift.\rInnsending\r\rTekst\r\r\r\rErstatt standard systemhjelp med tilpasset innhold og presentasjon (URL)\rAngir en URL for den tilpassede hjelpen som skal åpnes fra signerings-/innsendingssiden. Benyttes hvis utgaven benytter tilpasset logikk for skjemautfylling og det er ønskelig å tilpasse systemhjelpen tilsvarende.\rInnsending\r\rTekst\r\r\r\rBruk forenklet presentasjon i innsendingsprosessen\rAngir om SBL skal benytte forenklede sider for signering/innsending og kvittering.\rInnsending\r\rSjekkboks\r\r\r\rSlett filene etter at alle mottakere har lastet de ned\rAngir om filene som blir overført skal slettes med en gang alle mottakere har lastet de ned.\rFormidling\r\rSjekkboks\r\r\r\rAntall dager filene skal være tilgjengelige\rAngir antall dager filene skal være tilgjengelige for mottakerene før de ikke lenger kan lastes ned.\rFormidling\rJa\rTekst\r\r\r\rBruk tjeneste­eier­styrt rettighets­register\rAngir om utgaven kun skal være tilgjengelig for brukere som er registrert i tjenesteeierstyrt rettighetsregister. For lenke- og innsynstjenester gjelder dette for om samtykke skal være tilgjengelig bare for de som står i registeret.\rFormidling, Lenke, Innsyn\r\rSjekkboks\r\r\r\rTillat samtykke­basert deling av data\rAvgjør om utgaven kan brukes til å dele data basert på samtykke fra sluttbruker.\rLenke, Innsyn\r\rSjekkboks\r\r\r\rTillat bare engangssamtykker\rAvgjør om utgaven skal brukes for engangssamtykker. Ved bruk av engangssamtykke vil tilgangen bli fjernet etter at det har blitt logget henting av data én gang.\rLenke, Innsyn\r\rSjekkboks\r\r\r\rVelg samtykke-/fullmakts-mal\rAngir hvilken mal som skal benyttes for visning av samtykket/fullmakten i Altinn. Malene i listen prefikses med (S) for samtykkemaler og (F) for fullmaktsmaler.\rLenke, Innsyn\rDer­som sam­tykke er valgt.\rListe\r\r\r\rSamtykketekst som forklarer hva brukeren samtykker til\rTekst som skal opplyse sluttbruker om hva det er han gir tillatelse til dersom han velger å gi samtykke. Denne er obligatorisk dersom samtykke er valgt.\rLenke, Innsyn\rDer­som sam­tykke er valgt.\rTekst\r\r\r\r\rRettighetskrav settes på Rolleadministrasjon-siden som lenkes fra startsiden og Overstyr rettigheter-siden som lenkes fra tjenesteutgavens arbeidsflate.\nFor hver utgave må man også angi hvilket sikkerhetsnivå som kreves for å åpne tjenesteutgaven i SBL. Sikkerhetsnivåene er fra 0 til 4 og hvert nivå kan ha en eller flere innloggingsmetoder. Disse vises i tabellen under:\n   Sikkerhetsnivå Innloggingsmetode     0 Kun passord, uten fødselsnummer   1 Kun passord, med fødselsnummer   2 PIN-kode fra Altinn   2 PIN-kode fra selvangivelsen (utgått)   2 PIN-kode fra SMS   3 PIN-kode fra MinID   3 Virksomhetsertifikatpålogging   4 Buypass, BankID, Commfides    Overstyr rettigheter I TUL kan systemeier definere roller med tilhørende rettigheter, mens alle har tilgang til informasjon om hva som er definert. En rettighet gir sluttbruker tilgang til å utføre en bestemt operasjon på en bestemt ressurs for en bestemt avgiver – for eksempel å lese momsoppgavene i arkivet til virksomheten brukeren er ansatt i. Se Rolleadministrasjon for nærmere beskrivelse.\nI definisjon av roller i TUL settes rettigheter på tjenestenivå. En utgave vil arve disse rettighets­kravene automatisk når den migreres til SBL. Dette betyr at når du lager en helt ny tjeneste, må du vurdere hvilke rolledefinisjoner som skal oppdateres for å gi tilgang til tjenesten. Tilsvarende, når du lager en ny utgave, må du vurdere om rolledefinisjonene på tjenestenivå er tilstrekkelige, eller om de bør justeres eller overstyres for akkurat denne utgaven. Du kan hente fram en oversikt over alle rettigheter til tjenesten fra tjeste­arbeidsflaten, se rettigheter fra tjenestearbeidsflaten\nRoller som gir rettigheter til tjenesteeiers arkiv kan ikke overstyres. Dette er roller med rollekategori = tjenesteeier.\nEndring av roller på tjenestenivå må man be systemeier utføre, mens overstyring for den enkelte utgave kan gjøres av tjenesteutvikler fra utgavens arbeidsflate.\nOverstyring av rettigheter kan være aktuelt å bruke hvis en tjeneste har to utgaver som benyttes av forskjellige brukergrupper, f eks eBrev som kan benyttes av både virksomheter og privat person.\nRolle og rettighetskrav skal ALLTID settes på tjenestenivå før man evt benytter seg av funksjonaliteten \u0026ldquo;overstyring av rettigheter\u0026rdquo;.\rFor samhandlingstjenester har du også muligheten til å gi roller tilgang til spesifikke rollestyrte dialogsider gjennom å benytte Overstyr rettigheter. Ved å gi en rolle tilgang til en spesifikk dialogside vil man kunne skape ulike arbeidsflater for ulike roller for samhandlingstjenesten.\nI følgende tilfeller er det aktuelt å gå inn på siden Overstyr rettigheter:\n Rettigheter på tjenestenivå skal normalt gjelde, men det er spesielle behov knyttet til akkurat denne utgaven. Utgaven skal følge en prosessflyt med mer enn ett signeringstrinn. Samhandlingstjenesteutgaven har dialogsider som skal vises for bestemte roller.  Du kan overstyre rettigheter på utgave-, side- eller feltnivå; side- og feltnivå gjelder bare innsendingstjenester. For samhandlingstjenester kan du i tillegg overstyre på dialogsidenvå. Du velger først ressursnivå og deretter hvilke operasjoner som skal overstyres per rolle. Du kan definere flere overstyringer for hver utgave.\nFor å overstyre rettigheter som gjelder utgaven som helhet, velger du radioknappen Utgave/prosessflyt for innsendingstjeneste, Utgave for andre tjenestetyper, og trykker på knappen Legg til overstyring. Du vil da få opp en pop-up med en rettighetsmatrise*.* Her listes de roller som har rettigheter for valgt ressurs vertikalt. Horisontalt listes tilgjengelige operasjoner. Operasjonene som listes, vil avhenge av hvilken ressurs som er valgt. Hvis det for eksempel er en innsendingstjeneste med to signeringssteg, vil det være en kolonne for hvert signeringssteg.\nDu har også muligheten til å liste alle roller, noe som er nødvendig for å tildele rettigheter til roller som ikke allerede har det på tjenestenivå. Nederst til venstre i pop-up-vinduet er det en sjekkboks, og ved å ta bort haken i denne vil listen utvides til å vise alle roller.\nDu overstyrer rettighetene ved å legge til eller fjerne markeringer for hvilke operasjoner hver enkelt rolle skal kunne utføre. Deretter trykker du på OK­-knappen for å lagre og lukke pop-up-vinduet. Du vi se at det nederst på siden kommer et nytt innslag i listen over alle ressurser med overstyrte rettigheter.\nFor innsendingstjenester kan du i tillegg overstyre rettigheter for en enkelt side eller et enkelt felt. Du må da velge radioknappen Side/felt og deretter hvilken side og eventuelt hvilket felt det gjelder, før du klikker på knappen Legg til overstyring. Da kommer du til rettighets­matrisen og fortsetter som for overstyring på utgavenivå.\nFor samhandlingstjenester som har rollestyrte dialogsider, kan du gi tilgang til disse ved å velge radioknappen Dialogside og deretter velge aktuell dialogside. Bare dialogsider som er lagt til som ”rollekontrollert” på siden Tilstander, er tilgjengelig for slik overstyring. Marker valget i kolonnen Dialogside-tilgang for de rollene som skal få tilgang til siden. Også her har du mulighet til å liste alle roller, men det er uansett bare roller som har rettighet til selve tjenesteutgaven som vil kunne se tjenesten i sin meldingsboks. Merk at for en ny utgave opprettet ved å kopiere en eksisterende vil eventuelle overstyringer også bli kopiert.\nDu kan senere endre eller slette overstyringene ved å trykke på Endre- eller Slett-lenkene som er knyttet til hvert enkelt innslag i listen med overstyringer.\nFor å overstyre rettigheter på felter som blir hentet fra sekundær datakilde vil dette kun fungere sammen med følgende URL:\nhttp://mapperservices.altinn.no:87/ServiceEngine/FormsEngineFieldLevelDataSource.svc?wsdl\nFor mer informasjon om sekundær datakilde / kodelister.\nSkriv inn URL som er oppgitt over for å angi web service lokasjon:\nTrykk Neste.\nVelg GetFieldAuthorization method og Neste\nDu kan nå velge sample values. Velg \u0026ldquo;-1\u0026rdquo; i alle felter.\nVelg bort Hent data automatisk når skjemaet åpnes check box. Klikk Finish.\nDen sekundære datakilden kan ses i InfoPath skjema under Datakilder (Sekundær).\nLegg merke til at navn med prefix \u0026ldquo;ns6\u0026rdquo; vil kunne variere fra skjema til skjema.\nDen sekundære datakilden må nå legges inn i InfoPaths kodefil (FormCode.cs). Trykk Utvikler Innlastingshendelse i InfoPath.\nFølgende kode må være lagt inn i FormEvents_Loading-metoden:\nstring FormID = (FormState[\u0026#34;FormID\u0026#34;] != null) ? FormState[\u0026#34;FormID\u0026#34;].ToString() : string.Empty; string UserID = (FormState[\u0026#34;UserID\u0026#34;] != null) ? FormState[\u0026#34;UserID\u0026#34;].ToString() : string.Empty; string ReporteeID = (FormState[\u0026#34;ReporteeID\u0026#34;] != null) ? FormState[\u0026#34;ReporteeID\u0026#34;].ToString() : string.Empty; NamespaceManager.AddNamespace(\u0026#34;namespaceprefix\u0026#34;, \u0026#34;http://www.altinn.no/services/ServiceEngine/FormsEngine/2009/10\u0026#34;); // refer the figure below!! NamespaceManager.AddNamespace(\u0026#34;dfs\u0026#34;, \u0026#34;http://schemas.microsoft.com/office/infopath/2003/dataFormSolution\u0026#34;); XPathNavigator xnav = this.DataSources[\u0026#34;GetFieldAuthorization\u0026#34;].CreateNavigator(); XPathNavigator formid = xnav.SelectSingleNode(\u0026#34;copy \u0026amp; paste the XPath of the formID from the GetFieldAuthorization secondary data source\u0026#34;, NamespaceManager); XPathNavigator userid = xnav.SelectSingleNode(\u0026#34;copy \u0026amp; paste the XPath of the userID from the GetFieldAuthorization secondary data source\u0026#34;, NamespaceManager); XPathNavigator reporteeid= xnav.SelectSingleNode(\u0026#34;copy \u0026amp; paste the XPath of the reporteeID from the GetFieldAuthorization secondary data source\u0026#34;, NamespaceManager); formid.SetValue(FormID); userid.SetValue(UserID); reporteeid.SetValue(ReporteeID); this.DataSources[\u0026#34;GetFieldAuthorization\u0026#34;].QueryConnection.Execute(); Legg merke til at XPath brukt i XPathNavigator fra koden over må hentes fra feltene i den sekundære datakilden som ble lagt inn i skjemaet.\nHøyreklikk på de aktuelle feltene i InfoPath og velg kopier XPath for å finne korrekt XPath. Hvis den korrekte XPath ikke blir benyttet i koden vil det resultere i en \u0026ldquo;null reference\u0026rdquo; og en skjema exception vil bli kastet i SBL. Hvis koden over allerede finnes i skjemakoden bør denne koden sammenslåes med den eksisterende koden.\nFølgende elementer i InfoPath støttes av overstyring av rettigheter i Altinn:\n Text Box Rich Text Box Combo Box List Box Check Box  Repeterende tabeller og seksjoner støttes ikke.\nTjenesteutgavens innhold Tjenesteinnholdet består av den informasjonen som formidles mellom tjenesteeier og bruker. For de fleste tjenestetypene kan slikt innhold presenteres og eventuelt registreres gjennom et skjema som utvikles i InfoPath, som er et standard Microsoft Office-produkt. Et InfoPath-skjema representerer dermed tjenesteinnholdet og interaksjonen med sluttbruker i SBL. Det definerer utgavens ”brukergrensesnitt” og grafiske layout.\nFor innsendingstjenster og innsynstjenester er InfoPath-skjema en sentral og nødvendig del. For de andre tjenestetypene er andre innholdstyper sentrale, og disse beskrives under den enkelte tjenestetypen.\nInfoPath-skjema i Altinn Nedenfor følger en beskrivelse av prinsippene for håndtering av skjemaer i TUL. Mer informasjon som er rettet direkte mot hver enkelt tjenestetype, finnes i tjenestetype-kapitlene i underkapitler under ”Iinnhold”. Der refereres det også til vedlegg med detaljinformasjon rettet mot den enkelte tjenestetypen.\nEn generell brukerveiledning i InfoPath gis ikke i denne brukerveiledningen, og det henvises til Microsoft sin generelle brukerdokumentasjon på dette standardproduktet.\nSkjemabibliotek, skjema og visning Under området for Innholdsspesifikasjon på utgavens arbeidsflate kan du legge til et InfoPath-skjema og åpne og redigere skjemaet i Microsoft Office InfoPath.\nSkjemaet lastes opp og vedlikeholdes i skjemabiblioteket på arbeidsflaten, som vist i Figur 1. Dette er et standard SharePoint dokumentbibliotek, men godtar kun InfoPath-filer(.xsn). Sjekk ut/sjekk inn, versjonerings- og dokumentbibliotekfunksjonalitet er tilgjengelig. Se detaljer om hvordan sjekke ut og inn.\nEt skjema kan om ønskelig bestå av mange visninger som man kan navigere mellom under utfylling i SBL, eller benyttes for utskrift eller kvittering. En visning er synonymt med side. Det er verdt å merke seg at navnene og rekkefølgen som er på visningene inne i InfoPath, er irrelevant. Hvordan de ulike sidene skal benyttes, angis på utgavens arbeidsflate under Sideegenskaper.\nNår man utvikler skjema for en utgave, gjør man det for utgavens hovedspråk. Som nevnt tidligere angis hovedspråket blant utgaveparametrene. For at man skal kunne ha skjema på flere språk, er det flere ting som er viktig. Alle språkavhengige elementer i skjemaet (ledetekster, overskrifter og lignende) må defineres som uttrykksfelter (expression boxes) i InfoPath, slik at de skal kunne oversettes i oversettermodulen i TUL. Hvordan du setter opp uttrykksfelter er beskrevet i Vedlegg A: Skjemautvikling i InfoPath. Tekster som «flyter fritt» utenfor uttrykksbokser vil ikke la seg oversette. Det er da også viktig å merke seg at tekster knyttet til radioknapper og sjekkbokser, samt tabelloverskrifter etc. må ligge i uttrykksbokser.\nSkjemaet selv, og de ulike komponentene skjemaet består av, bør navngis i henhold til gjeldende navnestandard, se Vedlegg E: InfoPath navnestandard.\nNår skjemaet er ferdig og lagret, laster du det opp på utgavens arbeidsflate. Klikk på Last opp nytt dokument under området for Innholdsspesifikasjon, og velg den filen du ønsker å benytte.\nDersom det oppstår en feil i forbindelse med opplasting, så vil utgaven bli merket med at den har en skjemafeil. Da vil du se en advarsel i rød tekst på utgavearbeidsflaten. En utgave med en slik feil vil kunne få problem med funksjonalitet som baserer seg på skjema. Dersom dette har skjedd må du slette skjemaet og laste opp på nytt. Meldingen vil forsvinne når du sletter skjemaet. Dukker meldingen opp på nytt etter ny opplasting, bør du ta kontakt med Altinn support.\nSjekke ut, editere og sjekke inn InfoPath-skjema For å kunne editere InfoPath-skjemaet, er det viktig at du sjekker ut først. Hvis ikke vil du få en melding om at skjemaet er i bruk. Når du har sjekket ut, trenger du bare å klikke på skjemaets navn for å editere. Det som skjer nå er at skjemaet åpnes i design-modus, men du kan bli bedt om å taste inn brukernavn og passord. Dette er helt normalt og skyldes at InfoPath ikke deler sikkerhetsinformasjon med TUL SharePoint.\nNår skjemaet så åpnes, er det i read-only modus. Derfor må du lagre til TULShare før du begynner å editere. Grunnen til at du bør gjøre dette er at da har du en sikkerhetskopi på lokal disk. Velg derfor å lagre.\nNår alle endringer er gjort, så kan du lagre tilbake til TUL SharePoint. Velg Publiser fra Fil-meny. Så velger du Nettverksplassering, som vist i figuren under.\nTrykk Neste. Så skal du angi hvor du vil publisere skjemaet. Det vil være tilbake til TUL og skjemabiblioteket i Innholdsspesifikasjonen.\nDet som typisk vil stå i øverste feltet er:\nhttp://tul.altinn.basefarm.net/sites/\u0026lt;tjenesteeier\u0026gt;/\u0026lt;tj.kortnavn\\\u0026gt;/\u0026lt;tj.utg.kortnavn\u0026gt;/FormLibrary/Forms/\u0026lt;skjemanavn\u0026gt;.xsn\rF.eks.\nhttp://tul.altinn.basefarm.net/sites/skd/RF1113/RF11132009/FormLibrary/Forms/RF1113.xsn\nEn måtene å finner fram til denne adressen på, er å velge Vis egenskaper og så høyreklikke på skjemanavnet velge Kopier snarvei. Dette limer du så inn igjen i InfoPath. Merk at dette er noe du kun trenger å gjøre en gang for hvert skjema/utgave. Klikk Neste og verifiser at samme bane og filnavn som i forrige skjermbilde står også her. Klikk Neste, og så Publisér. Nå lagres skjema tilbake i TUL og du kan klikke Lukk når dette er fullført.\nDet er viktig å påpeke at valget Rediger i Microsoft InfoPath, som finnes i kontekstmenyen til skjemaet, ikke skal benyttes. Dette valget støtter ikke åpning i designmodus eller SharePoint sin utsjekk/innsjekk-funksjonalitet.\nXSD-egenskaper Informasjon om dataformat (tidligere meldingsformat eller “spesifikasjon”) angis per InfoPath-skjema etter at det lastes opp. Du kan senere endre informasjonen ved å velge XSD-egenskaper fra kontekstmenyen til hvert enkelt skjema.\nDette er informasjon som benyttes for skjemahåndtering i SBL for å identifisere dataformatet entydig på tvers av utgaver og versjoner. Informasjonen brukes også til å identifisere felles datakilde i skjemasett.\nI tidligere versjoner av Altinn benyttet man alltid dataformat fra Oppgaveregisteret. Nå er løsningen gjort mer fleksibel, slik at dataformater fra flere leverandører kan benyttes. Derfor har feltene fått mer generelle navn enn tidligere.\nXSD-egenskapene består av XSD-leverandør, XSD-id og XSD-versjon. Til sammen identifiserer disse tre parametrene unikt XSD’en som er benyttet som hoveddatakilde i InfoPath, mao. dataformatet som skjemadata lagres på. Alle parametrene er obligatorisk for migrering av skjema. Hvis XSD-leverandør er Oppgaveregisteret eller SERES, vil disse parametrene populeres automatisk når skjema lastes opp.\nTilleggsegenskaper for skjema Når et skjema er ferdigutviklet i InfoPath, kan det defineres tilleggsegenskaper i TUL for å gi tjenesten ønskede egenskaper. Tilleggsegenskapene som kan legges inn, er avhengig av tjenestetypen. Sideegenskaper og innholdsreferanser er relevant for flere tjenestetyper og beskrives i dette kapitlet. Øvrige egenskaper beskrives under den enkelte tjenestetypen.\nSideegenskaper Under Sideegenskaper kan du tildele egenskaper til skjemaets visninger fra InfoPath. Egenskapene bestemmer hvordan en visning fra InfoPath skal benyttes i sluttbrukerløsningen. Dette er relevant for innsendings- og innsynstjenester.\nDe neste seksjonene angir hva som må angis for hver visning. For at en migrering av utgaven til SBL skal være vellykket, må sideegenskaper være komplett utfylt.\nSidenavn i ELMER-skjema Sidenavn gjelder innsendingstjenester der man som utgaveparameter har valgt visning i henhold til ELMER-retningslinjene. Navnet du angir skal være gjeldene for utgavens hovedspråk. Navnet kan inneholde norske bokstaver, og vil kunne oversettes i språkverktøyet. Navnet på siden vises i venstre kant av skjermbildet under utfylling i SBL, også kalt navigasjonsmenyen i SBL. Navnet vil deles ved mellomrom hvis det er langt, men det er verdt å tenke på at navnene ikke bør inneholde lange ord uten mellomrom. Hvor mange bokstaver et ord kan ha, vil avhenge av oppløsningen sluttbruker har på sin skjerm under utfylling. Det bør dog tae hensyn til at denne kan være så liten som 1024x768.\nSiderekkefølge i ELMER-skjema Rekkefølge gjelder innsendingstjenester der man som utgaveparameter har valgt visning i henhold til ELMER-retningslinjene. I InfoPath er det ikke mulig å definere rekkefølge/sekvens på sidene, men dette er nødvendig for å styre sluttbrukers utfylling. Det er derfor i sideegenskaper mulig å angi et unikt nummer for en visning, hvor prinsippet med stigende rekkefølge vil være gjeldene. Det vil ikke være mulig å velge samme nummer på to sider da det nummeret man velger vil byttes med den siden som allerede har gjeldene nummer. Ved åpning av sideegenskaper vil visningene være listet i rekkefølgene de befinner seg i skjemaet. Dette medfører at en visning tiltenkt utskrift eller kvittering kan ligge i listen før andre visninger tiltenkt utfylling. Det er da viktig at sekvens/rekkefølge tar hensyn til dette.\nDet er derimot viktig at siden som er satt til å være først i TUL, i InfoPath har egenskapen ”Angi som standardvisning” avkrysset. Dette gjøres på egenskaper for gitt view i InfoPath.\nVisningstype InfoPath har mulighet for å angi utskriftversjon for et skjema, men denne funksjonaliteten skal ikke benyttes, da det setter begrensninger for PDF-generering av visninger.\nDu kan velge mellom følgende visningstyper:\n  Web: Dette vil være typen de fleste visninger har. Skjemaside skal vises til brukeren i SBL, for utfylling av en innsendingstjeneste, og for navigasjon og presentasjon av data i en innsynstjeneste. Denne typen blir også automatisk gjeldende for skjemaet i en meldingstjeneste.\n  Utskrift: Angir at denne visningen skal benyttes ved generering av utskriftsformat i sluttbrukerløsningen. Dersom man ønsker utskrift basert på webvisning av skjema, skal man opprette så mange visninger som det er sider i skjema og kopiere og lime inn innholdet fra hver side til tilhørende visning for utskrift. Utskrift-visningene kan settes til å være read-only ved å klikke på Fil, så Sideegenskaper og krysse av for Read-only. Der kan man også sette formatet på side som skal skrives ut, samt at man kan se forhåndsvisning for utskriftsversjon.\n  Kvitteringssammendrag (gjelder innsendingstjeneste): Vises til sluttbruker etter innsending. Kvitteringssammendrag opprettes ved at man lager ekstra visning og kaller den f.eks for Kvittering, definerer layout og legger deretter på de feltene som man ønsker å ha på kvitteringssammendraget. Man kan definere hjelpefelter og legge dem på utskriftsvisninger og på kvitteringen.\n  Signering: Angir at denne visningen skal brukes som signeringsversjon. Hvis signeringsversjon er definert ,er det denne sluttbruker signerer for en innsendingstjeneste, og det er denne Altinn signerer ved arkivering av en innsynstjeneste. Denne visningstypen er tenkt brukt hvis tjenesteeier vil ekskludere informasjon ved signering.\n  Sensitive opplysninger/SPO (gjelder innsendingstjeneste): Du velger denne visningstypen for en skjemaside som inneholder SPO. Alle feltene på denne siden vil krypteres ende-til-ende. Sluttbruker vil få informasjon om dette og mulighet for å låse opp med passord, hvis dette er satt som utgaveparameter. Merk at skjemasiden da bare må inneholde tekstbokser, ikke for eksempel nedtrekkslister og sjekkbokser.\n  Signeringssammendrag (gjelder innsendingstjeneste): Vises til sluttbruker under signering. Signeringssammendrag opprettes ved at man lager ekstra visning og kaller den f.eks for Sammendrag, definerer layout og legger deretter på de feltene som man ønsker å ha på signeringssammendraget.\n  Betalingssammendrag (gjelder innsendingstjeneste): Vises til sluttbruker i betalingssteget før bruker blir sendt videre til betalingsleverandøren. Dette kan brukes til å gi detaljerte opplysninger om hva betaling gjelder og/eller hvordan beløpet er regnet ut. Denne visningstypen vil bare bli vist på betalingssteget. Vil du at disse opplysningen skal vises på kvitteringen etter innsending, så må du legge det inn på kvitteringssammendrag. Vil du vise det begge steder må du ha både betalingssammendrag og kvitteringssammendrag. Betalings­sammendrag opprettes ved at man lager ekstra visning og kaller den for eksempel for Betalingssammendrag, definerer layout og deretter legger på de feltene som man ønsker å ha med.\n  For å gjøre det enklere å opprettholde riktig rekkefølge og sidetype i TUL så bør sidene i InfoPath gis navn som klart indikerer hva de skal brukes til: Web 1, Web 2 osv, Utskrift 1, Utskrift 2 osv og Kvittering.\nFiguren nedenfor viser skjermbilde av siden for sideegenskaper. For innsynstjeneste vil bare Visningstype være tilgjengelig.\nInnholdsreferanser Innholdsreferanser er en side i TUL der du kan definere referanser til utvalgte felter i InfoPath-skjema, for at det skal knyttes spesiell funksjonalitet til disse i SBL. Presentasjonsfelt brukes for innsendings- og innsynstjeneste, mens geografisk tilhørighet brukes bare for innsendingstjenester. Siden het tidligere Presentasjonsfelt.\nPresentasjonsfelt Presentasjonsfelt brukes i SBL for å skille flere innsendinger av samme utgave fra hverandre i meldingsboksen og i arkivet. Måten dette gjøres på er å vise det utfyller har skrevet i gitt(e) felt sammen med navnet på utgaven. Presentasjonsfeltene listes etter utgavenavnet og henter verdier som brukeren har oppgitt under utfylling av skjemaet. Naturlige presentasjonsfelt kan være f.eks. organisasjonsnummer, navn eller termin.\nI TUL velges presentasjonsfelt ved først å velge side. Rekkefølgen på de presenterende feltene kan endres. Det er mulig å oppgi maksimalt seks innholdsreferanser. Rekkefølgen vil være gjeldende i SBL hvor innholdsreferansen med ID 1 vil komme først etter utgavenavn, så ID 2 osv.\nDefinerte innholdsreferanser fjernes ved å klikke på Fjern.\nEksempel:\nTjenesten RR-0002 Årsregnskap for små, store og øvrige selskap kan benytte feltet Organisasjonsnavn som innholdsreferanser. I sluttbrukerløsningen vil ulike innsendinger av denne tjenesten bli listet med tjenestenavnet først og verdien i feltet Organisasjonsnavn bak, eksempelvis:\nRR-0002 Årsregnskap for små, store og øvrige selskap, Nordmanns advokatselskap\nRR-0002 Årsregnskap for små, store og øvrige selskap, Hansens Bygg og Håndverksselskap\nGeografisk tilhørighet Det er mulig å definere roller i Altinn som gir tilgang til skjema som «tilhører» et bestemt geografisk område. Dette gjelder for tjenesteeiers arkiv. Tilhørighet bestemmes ved innholdet i utvalgte felt i skjema.\nDu kan spesifisere hvilke felt i skjema som inneholder geografisk informasjon ved å velge visning og felt for hhv. fylke, kommune og bydel. Det er mulig å angi kun fylke, fylke og kommune, eller alle tre. Det kommer an på hvor nyanserte roller det er behov for. I de fleste tilfeller vil du ikke definere geografiske referanser i det hele tatt.\nFor at geografiske referanser skal fungere i SBL, må innholdet i feltene være format på det standardiserte formatet \u0026ldquo;NO-KKKK nnnn\u0026rdquo;:\n Fylke: KK Kommune: KK Bydel: nnnn  Dette formatet bygges på eksisterende standard for fylke, kommunenummer og bydel. Bruk av NO-KK for fylke er en ISO-standard (3166), mens kommunenummer består av 2 ekstra siffer.\nFelter som overstyres av sluttbrukersystem ved komplett innsending Ved komplett innsending fra sluttbrukersystem skal følgende tre prinsipper gjelde:\n Altinn skal ikke endre på felter i skjemasettet som blir sendt inn av SBS. Altinn kan tilføye kalkulerte felter for felter som er unnlatt å sende inn. Skjemasett med feil skal stoppes av Altinn og innsending skal feile.  Tjenesteeier har mulighet til å fravike det tredje prinsippet ved å definere overstyrbare felter i TUL. For felter som spesifiseres her, vil verdi fra sluttbrukersystem aksepteres også ved avvik fra validering/kalkulering i Infopath. Avvik som normalt gir valideringsfeil, gir i stedet kun advarsal tilbake til sluttbrukersystem.\nHvis \u0026ldquo;kun XSD validering\u0026rdquo; er angitt under XSD-egenskaper, er det ikke nødvendig å spesifisere felter her. Overstyrte felter påvirker ikke utfylling i SBL, uavhengig om det er definert her eller under «XSD-egenskaper».\nHvis skjema har et attributt med navn SentFromEUS i namespacet my (@my:SentFromEUS), så vil det bli lagt inn verdien true i dette feltet hvis skjema er sendt fra sluttbrukersystem. Denne attributten kan benyttes til å ha ulik validering/kalkulering for innsending fra SBS og fra portal selv om det kanskje ikke er ønskelig vedlikeholdsmessig.\nTrekk ut data fra innsendelse Tjenesteeier har mulighet til å definere metadatafelter som kan brukes til å styre videre behandling av skjema etter de er mottatt fra Altinn. Metadatafeltene legges i en liste utenfor skjema-XMLen og kan så brukes direkte uten at man trenger å pakke ut og tolke hele skjema-XML-en for å finne den samme informasjonen. Metadatafeltene returneres som ShipmentMetadata av webservicemetoden GetDownloadQueueItems, og utnyttelse av definerte metadatafelt forutsetter derfor at tjenesteeier har valgt \u0026ldquo;Hente ved bruk av webservice (DownloadQueue)\u0026rdquo; under seksjonsoverskriften \u0026ldquo;Oversending\u0026rdquo;.\nTjenesteeier kan spesifisere hvilke data i skjema som skal trekkes ut ved å velge visning, felt og skrive inn et nøkkelnavn (metadatafeltnavn) som kan brukes til uthentelse senere. Når tjenesteeier har skrevet inn et nøkkelnavn og klikker seg ut fra feltet vil en ny rad dukke opp hvis skjemaside og felt er valgt. Hvor mange rader som er maksimalt mulig å oppgi, er spesifisert i beskrivelsen av feltet rett under seksjonsoverskriften \u0026ldquo;Trekk ut data fra innsendelse\u0026rdquo;\nDefinerte metadatafelter fjernes ved å klikke på Fjern.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/api-delegering/api-bruker/",
	"title": "For API-bruker",
	"tags": [],
	"description": "Om hvordan du tar i bruk en tilgang til et Maskinporten-sikret API gitt via en Altinn-delegering.",
	"content": "Introduksjon Som leverandør som skal ta i bruk en tilgang delegert til deg fra en kunde (som selv har fått tilgang til et API i Maskinporten), trenger du å opprette en Maskinporten-integrasjon knyttet til det samme organisasjonsnummeret som er blitt gitt tilgang i Altinn.\nFor informasjon om dette, se integrasjonsguiden til Maskinporten.\nTilgang til API Tilgangene til scope gis via en delegering på en eller flere API-ressurser som omfatter det aktuelle scopet. Hvis du logger inn med en nøkkelrolle-innehaver for virksomheten din, vil kunden være synlig i \u0026ldquo;Velg aktør\u0026rdquo;-visningen hvis kunden din allerede har gitt deg tilgang. Ved å velge kunden din som aktør, vil du kunne verifisere at din virksomhet har fått tilgang med å se på \u0026ldquo;Skjema og tjenester du har rettighet til\u0026rdquo; på Profil-siden. Tilganger til API-ressurser vil stå listet opp som en enkelttjeneste.\nProvisjonering av OIDC-klient for uthenting av token For å hente ut access_token for tilgang til et scope som du har tilgang til via delegering, gjøres gjennom en spesiell forespørsel til Maskinporten hvor det oppgis at man ønsker token på vegne av en annen virksomhet (leverandør-token).\nDenne prosessen er beskrevet i integrasjonsguiden til Maskinporten.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/api-delegering/api-eier/",
	"title": "For API-eier",
	"tags": [],
	"description": "Om hvordan du som API-eier kan registrere ditt API som en delegerbar ressurs i Altinn.",
	"content": "Introduksjon For å kunne ta i bruk kreves per i dag følgende:\n Din virksomhet er tjenesteeier i ID-porten, er blitt provisjonert tilgang til Maskinporten Din virksomhet er tjenesteeier i Altinn Din virksomhet er gitt tilgang til Altinns Maskinporten-API  Merk at tilgang til Maskinporten-API per i dag kun deles ut til pilotkunder.\nDelegerbare API-ressurser \u0026ldquo;Delegerbare API-ressurser\u0026rdquo; er betegnelsen på det som er å regne som en slags lenketjeneste i Altinn. Disse kan i likhet med de fleste andre Altinn-tjenester delegeres fritt mellom alle virksomheter i portal eller API på vanlig måte.\nMerk at en delegering i seg selv gir ikke tilgang til API-et det representerer - dette må gjøres i Maskinporten. Delegeringer i Altinn eksisterer altså uavhengig av tilganger gitt Maskinporten.\nDelegering av tilganger til Maskinporten-API kan kun gjøres mellom virksomheter, og ikke mellom privatpersoner og/eller virksomhetsbrukere.\nOpprettelse av API i Maskinporten Les mer om denne prosessen i dokumentasjonen for Maskinporten.\nRegistrering av delegerbar ressurs i Altinn For å registrere scopes som delegerbare API-ressurser (\u0026ldquo;delegation schemes\u0026rdquo;) i Altinn kreves en Maskinporten-autentitisering med scopet altinn:maskinporten/delegationSchemes.write. Som regel vil en også ha altinn:maskinporten/delegationSchemes.read for å kunne administrere sine delegation-schemes.\nSikkerhetsnivå for delegering av Delegation Schemes fra Maskinporten Normalt kreves kun pålogging på sikkerhetsnivå 2 for å delegere rettigheter i Altinn. Hvis API-eier mener dette ikke er tilstrekkelig kan man ved opprettelse av ett delegation scheme oppgi minimum sikkerhetsnivå bruker må være innlogget med for å kunne delegere tilgang til delegation schemet.\nDersom en bruker forsøker å delegere tilgang til delegation scheme i portalen med for lavt innloggingsnivå, vil bruker bli bedt om å logge på med høyere nivå. Etter innlogging vil bruker bli sendt tilbake til portal for å fortsette og gjennomføre delegering av schemet.\nAPI-et er dokumentert på https://www.altinn.no/maskinporten-api/swagger/ui/index. Under er et eksempel på et delegationScheme:\nPOST /maskinporten-api/delegationSchemes HTTP/1.1 Host: www.altinn.no Authorization: Bearer eyJraWQiOiJIdFl.... Content-Type: application/json { \u0026#34;owner_org\u0026#34;: \u0026#34;974760673\u0026#34;, \u0026#34;scopes\u0026#34;: [ \u0026#34;altinn:sometestscope.read\u0026#34;, \u0026#34;altinn:sometestscope.write\u0026#34;, \u0026#34;altinn:someothertestscope\u0026#34; ], \u0026#34;title\u0026#34;: [ { \u0026#34;code\u0026#34;: \u0026#34;nb_NO\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;Full tilgang til et test-API\u0026#34; }, { \u0026#34;code\u0026#34;: \u0026#34;nn_NO\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;Full tilgang til eit test-API\u0026#34; }, { \u0026#34;code\u0026#34;: \u0026#34;en\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;Full access to a test-API\u0026#34; } ], \u0026#34;description\u0026#34;: [ { \u0026#34;code\u0026#34;: \u0026#34;nb_NO\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;Denne tjenesten gir full tilgang til et test-API\u0026#34; }, { \u0026#34;code\u0026#34;: \u0026#34;nn_NO\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;Denne tenesta gir full tilgang til eit test-API\u0026#34; }, { \u0026#34;code\u0026#34;: \u0026#34;en\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;This service grants full access to a test API\u0026#34; } ], \u0026#34;default_language\u0026#34;: \u0026#34;nb_NO\u0026#34;, \u0026#34;delegation_source_config\u0026#34;: { \u0026#34;required_security_level\u0026#34;: 3 } } Dette kallet vil returnere en GUID, som da kan brukes for å slå opp og endre på delegeringsoppsettet senere.\nDelegeringsoppsettet er nå tilgjengelig for delegering mellom vilkårlige virksomheter i Altinn, se kapitlet for tilgangsstyrer.\nScopes vs API-ressurs Maskinporten opererer med OAuth2-scopes, og tilganger i Maskinporten gis til konsumenter på enkeltscopes fra eierne av disse scopene.\nEn API-ressurs er en samling av én eller flere scopes, og delegeringer skjer altså på disse samlet. Et scope kan befinne seg i flere distinkte API-ressurser. Et typisk eksempel her er om det finnes to scopes, mittapi.read og mittapi.write, som representerer hhv. lese- og skrivetilgang til et API. Dette vil kunne registereres i to ulike API-ressurser som kan kalles \u0026ldquo;Lesetilgang til Mitt API\u0026rdquo; og \u0026ldquo;Full tilgang til Mitt API\u0026rdquo;, hvor det første inneholder bare det ene scopet mens det andre inneholder begge.\nPå denne måten utgjør API-ressurs et abstraksjonslag over de mer tekniske scopene, og API-eiere har du mulighet til å samle relaterte scopes sammen i forskjellige API-ressurser etter eget ønske.\nHusk at konsumentens faktiske tilganger til scopet i Maskinporten alltid ligger til grunn for utstedelse av tokens.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/api-delegering/tilgangsstyrer/",
	"title": "For tilgangsstyrer",
	"tags": [],
	"description": "Om hvordan du som tilgangsstyrer for en virksomhet som har fått tilgang til et API i Maskinporten delegerer denne videre til en leverandør.",
	"content": "Introduksjon Delegerbare API-ressurser delegeres på samme måte som vanlige Altinn-tjenester, og søkes opp på vanlig måte.\nDelegeringer for API-ressurser kan også administreres via sluttbruker-APIet.\nHvem kan delegere - rollekrav API-ressurser er ikke knyttet til noen vanlige Altinn-roller, kun nøkkelroller fra Enhetsregisteret. Dette betyr at API-ressurser i utgangspunktet må delegeres via enkelttjenestedelegering - du kan altså ikke gi tilgang gjennom å delegere en rolle.\nI likhet med delegering for øvrig i Altinn, må du være obs på hvordan delegering fungerer i forhold til rollen \u0026ldquo;Tilgangsstyring\u0026rdquo;.\nEksempel: Hvis du på vegne av organisasjon A gir tilgang til en API-ressurs til organisasjon B, og organisasjon B i tillegg er gitt rollen \u0026ldquo;Tilgangsstyrer\u0026rdquo; hos organisasjon A, vil nøkkelrolle-innehavere (daglig leder etc) i organisasjon B kunne delegere tilgang til API-et på organisasjons A vegne.\nArv av tilganger til API-ressurser Tilganger i Altinn blir vanligvis arvet - slik at en tilgang gitt til en overenhet også gjelder for eventuelle underenheter. Dette gjelder imidlertid ikke for API-ressurser - her gis tilgangene kun en-til-en mellom virksomheter (organisasjonsnummer).\nMerk imidlertid at disse delegeringene vil av tekniske årsaker vil vises som arvet i de ordinære autorisasjons-APIene, men arvede rettigheter blir altså ikke hensyntatt av Maskinporten og har ingen praktisk effekt.\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/tjenestetyper/formidling/",
	"title": "Formidling",
	"tags": [],
	"description": "Formidlingstjenesten bruker Altinn til å overføre (store) filer fra en avsender til en eller flere mottakere.",
	"content": "Tjenesten kan brukes med web servicer. Altinn vil ikke lagre filene lenger enn det som er nødvendig for å overføre filene, basert på innstillinger du gjør. Overføringen er passiv, og det blir ikke gjort noe validering eller prosessering av filene som overføres.\nSpesifikasjon – formidlingstjeneste For en formidlingstjeneste må det som for øvrige tjenestetyper registreres utgaveparametre, og det er mulig å overstyre rettigheter.\nUtgaveparametre Enhver utgave må ha utgaveparametre. Unikt for en formidlingstjeneste er innstillinger for hvor lenge filene skal lagres og hvordan tilgang til utgaven kan gis.\nDet er to ulike parametre som vil avgjøre når filene skal kunne fjernes av slettejobber og dermed ikke lenger være tilgjengelige. Et valg forteller om filene skal slettes med en gang alle mottakerne har lastet ned filene. Det andre valget forteller hvor mange dager filene skal være tilgjengelige for nedlasting. Når denne fristen er passert vil filene slettes selv om ikke alle mottakerne har lastet de ned.\nTjenesteeierstyrt register er et sted der tjenesteeier kan styre hvilke brukere som skal ha adgang til tjenesteutgaven. Tjenesteutvikleren kan bestemme om dette registeret skal brukes eller ikke. Dersom registeret blir brukt vil det sammen med vanlige roller og rettigheter avgjøre hvem som har tilgang.\nFor sikkerhetsnivå er det bare mulig å velge nivå 1-3 for formidlingstjenester. Tjenesten vil bare være tilgjengelig via web service eller SFTP, og vil ikke kunne brukes gjennom portalen.\nOverstyr rettigheter Rettigheter trenger du bare å overstyre hvis den utgaven du utvikler har andre rettighetskrav enn de som allerede er satt på tjenestenivå. Hver utgave vil arve disse rettighetene når den migreres til SBL, og få med seg overstyringene i tillegg.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/ux/grouping/",
	"title": "Gruppering av felter",
	"tags": [],
	"description": "Hvordan gruppere felter i skjema.",
	"content": "Støtte for gruppering av felter er på plass i appene, men ikke i Altinn Studio. Oppsettet må gjøres manuelt inntil videre. Dokumentasjonen oppdateres når støtte for oppsett er på plass i Altinn Studio.\rOppsett Felter i skjema kan settes opp til å bli del av en gruppe. Dette kan brukes til å f.eks. sette opp dynamikk på en enkelt gruppe av felter, i stedet for på hvert enkelt felt. I tillegg må felter kunnne grupperes for å støtte repeterende grupper i skjema.\nEn gruppe settes opp i FormLayout.json, sammen med de andre komponentene i skjemaet. Noen punkter å notere seg:\n Gruppen må ligge før ev. komponenter som skal inngå i gruppen i FormLayout.json. En gruppe MÅ ha type: \u0026quot;group\u0026quot; satt for at den skal registreres som en gruppe  Eksempel på en (repeterende) gruppe definert i FormLayout.json som inneholder 4 felter som kan repetere 3 ganger: En gruppe defineres på følgende måte i FormLayout.json:\n{ \u0026#34;id\u0026#34;: \u0026#34;\u0026lt;unik-id\u0026gt;\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;group\u0026#34;,  \u0026#34;dataModelBindings\u0026#34;: { \u0026#34;group\u0026#34;: \u0026#34;\u0026lt;gruppen i datamodellen (kun repeterende grupper)\u0026gt;\u0026#34; }, \u0026#34;maxCount\u0026#34;: \u0026lt;Antall ganger gruppen kan repetere\u0026gt;, \u0026#34;children\u0026#34;: [ \u0026#34;\u0026lt;felt-id\u0026gt;\u0026#34;, \u0026#34;\u0026lt;felt-id\u0026gt;\u0026#34;, ... ],  tableHeadings: [ \u0026#34;\u0026lt;felt-id\u0026gt; ], \u0026#34;textResourceBindings: { add_button: \u0026#34;tekstressurs.felt\u0026#34; } }    Parameter Påkrevd Beskrivelse     id Ja Unik ID, tilsvarer ID på andre komponenter. Må være unik i FormLayout.json-filen.   type Ja MÅ være \u0026ldquo;group\u0026rdquo;. Sier at dette er en gruppe.   dataModelBindings Nei MÅ være satt for repeterende grupper, med group-parameteren som i eksempelet over. Skal peke på den repeterende gruppen i datamodellen.   textResourceBindings Nei Kan være satt for repeterende grupper, med add_button-parameteren som i eksemepelt over. Denne bindingen til bli lagt til på knappen.   maxCount Ja Antall ganger en gruppe kan repetere. Settes til 1 om gruppen ikke er repeterende.   children Ja Liste over de feltene som skal inngå i gruppen. Her brukes felt-id fra FormLayout.json   tableHeadings Nei Liste over komponentener som skal inngå som en del av tabbel header feltene. Om ikke spesifisert så vises alle komponentene.    Repeterende grupper Grupper i datamodellen inneholder ett eller flere felter. Grupper er definert som repeterende dersom de har maxOccurs \u0026gt; 1 i xsd\u0026rsquo;en. En gruppe som er repeterende i datamodellen må også settes opp som repeterende i skjemaet, ellers vil lagring av data feile.\nEksempel Skjema med noen enkelt-felt, og en repeterende gruppe som:\n inneholder 3 felter kan repeteres opp til 3 ganger har lagt til egen streng på \u0026ldquo;legg til\u0026rdquo; knappen  Oppsett i FormLayout.json fra eksempelet over:\n1{ 2 \u0026#34;data\u0026#34;: { 3 \u0026#34;layout\u0026#34;: [ 4 { 5 \u0026#34;id\u0026#34;: \u0026#34;gruppe-1\u0026#34;, 6 \u0026#34;type\u0026#34;: \u0026#34;Group\u0026#34;, 7 \u0026#34;children\u0026#34;: [ 8 \u0026#34;ac555386-ac2b-47a0-bb1b-842f8612eddb\u0026#34;, 9 \u0026#34;5c079cd4-c80c-44ea-b8b8-18e323267a37\u0026#34; 10 ], 11 \u0026#34;maxCount\u0026#34;: 3, 12 \u0026#34;dataModelBindings\u0026#34;: { 13 \u0026#34;group\u0026#34;: \u0026#34;spesifisering-grp-5836\u0026#34; 14 }, 15 \u0026#34;textResourceBindings\u0026#34;: { 16 \u0026#34;header\u0026#34;: \u0026#34;person\u0026#34; 17 } 18 }, 19 { 20 \u0026#34;id\u0026#34;: \u0026#34;ac555386-ac2b-47a0-bb1b-842f8612eddb\u0026#34;, 21 \u0026#34;type\u0026#34;: \u0026#34;Checkboxes\u0026#34;, 22 \u0026#34;componentType\u0026#34;: 5, 23 \u0026#34;textResourceBindings\u0026#34;: { 24 \u0026#34;title\u0026#34;: \u0026#34;Avkrysningsboks\u0026#34; 25 }, 26 \u0026#34;dataModelBindings\u0026#34;: { 27 \u0026#34;simpleBinding\u0026#34;: \u0026#34;klage-grp-5805.spesifisering-grp-5836.KlageSpesifisering-datadef-25457.value\u0026#34; 28 }, 29 \u0026#34;options\u0026#34;: [ 30 { 31 \u0026#34;label\u0026#34;: \u0026#34;25795.OppgavegiverNavnPreutfyltdatadef25795.Label\u0026#34;, 32 \u0026#34;value\u0026#34;: \u0026#34;Verdi1\u0026#34; 33 }, 34 { 35 \u0026#34;label\u0026#34;: \u0026#34;25796.OppgavegiverAdressePreutfyltdatadef25796.Label\u0026#34;, 36 \u0026#34;value\u0026#34;: \u0026#34;Verdi2\u0026#34; 37 } 38 ], 39 \u0026#34;required\u0026#34;: true 40 }, 41 { 42 \u0026#34;id\u0026#34;: \u0026#34;5c079cd4-c80c-44ea-b8b8-18e323267a37\u0026#34;, 43 \u0026#34;type\u0026#34;: \u0026#34;AddressComponent\u0026#34;, 44 \u0026#34;componentType\u0026#34;: 11, 45 \u0026#34;textResourceBindings\u0026#34;: { 46 \u0026#34;title\u0026#34;: \u0026#34;Adresse\u0026#34; 47 }, 48 \u0026#34;dataModelBindings\u0026#34;: { 49 \u0026#34;address\u0026#34;: \u0026#34;klage-grp-5805.spesifisering-grp-5836.KlageSpesifiseringg-datadef-12345.value\u0026#34; 50 }, 51 \u0026#34;simplified\u0026#34;: true, 52 \u0026#34;readOnly\u0026#34;: false, 53 \u0026#34;required\u0026#34;: true 54 } 55 ] 56 } 57} "
},
{
	"uri": "https://altinn.github.io/docs/tul/tjenestetyper/innsending/",
	"title": "Innsending",
	"tags": [],
	"description": "Innendingstjenester brukes til å sende data fra Sluttbrukerløsningen eller fra sluttbrukersystemer til en etat/tjenesteeier.",
	"content": "Innsendingstjenester kan instansieres i SBL av sluttbruker, dvs initialiseres som et element tilhørende en gitt avgiver, eller den kan sendes til sluttbrukers meldingsboks fra en etat.\nSpesifikasjon - innsendingstjeneste For en innsendingstjeneste må det som for øvrige tjenestetyper registreres utgaveparametre, og det er mulig å overstyre rettigheter. I tillegg må du definere en prosessflyt, og du kan definere et skjemasett eller splitting av data som oversendes tjenesteeiere.\nUtgaveparametre Enhver utgave må ha utgaveparametre. Hvordan du registrerer disse, er beskrevet her.\nDownloadQueue Et av valgene man gjør for en innsendingstjeneste er valget av oversendingsmetode. Her kan tjenesteeier gjøre et valg mellom:\n La Altinn overføre innsendte tjenesteutgaver til tjenesteeiers mottakersystem ved bruk av angitt metode. Dette gir flere muligheter for overføringen men krever bestilling av grensesnitt hos drifsleverandør. Mottakersystem kan hente utgavene selv ved bruk av DownloadQueue web servicen.  Dersom en metode for overføring av innsendte tjenesteutgaver skal velges må en tjenesteeier først bestille et grensesnitt (oppsett av sendingsparametre, shipment definition) hos driftsleverandør. Dette gir stor fleksibilitet, og tjenesteeier kan da selv velge mellom tilgjengelige overførings protokoller og hyppighet for overføring (umiddelbart eller satsvis). Dette spesifiseres i bestillingsskjema. Det er for eksempel også mulig å benytte webservice til umiddelbar overføring av innsendte tjenesteutgaver, hvor tjenesteier er server og Altinn er klient. Et slikt system må kunne ta imot innkommende nettverksforbindelser, og dette medfører visse krav til sikkerhet og tilgjengelighet som er med på å heve terskelen for å ta i mot innsendte tjeneste utgaver.\nVed bruk av DownloadQueue vil klient- og tjener-rollene byttes om, slik at tjenesteeier opptrer som klient og selv tar initiativet til å hente innsendte tjenesteutgavedata fra Altinn. En slik løsning stiller mindre krav til tjenesteeierens system. Det er ikke mulig å bruke begge løsningene samtidig for en utgave, og det er heller ikke mulig å motta PDF kopi av innsendt tjenesteutgave ved bruk av DownloadQueue. DownloadQueue anbefales kun for mindre tjenesteordninger uten stort trykk ved innsendingsfrister. Dersom det er ønskelig å bruke DownloadQueue på større tjenesteordninger, må ASF kontaktes først.\nDelvis kopi Valget «Tillat delvis kopiering» endrer start-tjeneste prosessen til å inkludere et steg der sluttbruker kan velge å basere skjemaet på en tidligere kopi. Dersom sluttbruker velger et tidligere skjema, vil det oppføre seg som en «kopi fra arkiv»-instansiering (dvs. at alle kopierbare felter hentes fra det gamle skjema over i det nye). Dersom skjemautvikler har definert feltet PartialCopy i my namespacet (my:PartialCopy), vil dette være satt til true.\nSkjemautvikler kan legge på logikk via regler eller kode for å gjøre spesiell håndtering dersom «delvis kopi» er valgt, f.eks blanke ut enkelte felt eller oppdatere/beregne nye verdier basert på (det man må anta kommer fra) en tidligere kopi. Funksjonen i seg selv gjør ingen validering eller gir en garanti for at alle felt har verdi. Skjemautvikler må derfor ta høyde for de mulighetene sluttbrukeren har for å levere tall/tekst/blankt osv. når logikken utformes, også for utgaver som ligger tilbake i tid (som det kan kopieres fra).\nSe vedleggene for nærmere informasjon om hvordan man setter opp regler og kode i InfoPath.\nDet er ingen restriksjoner på hva og hvordan skjemautvikler benytter denne funksjonen.\nNB: Skjemalogikken må selv sette flagget til «false», slik at ikke logikken kjøres igjen neste gang skjema åpnes!\nDet mest hensiktsmessige er å benytte regelen «Form Load» eller metoden «FormEvents_Loading». Hvis man skal blanke verdier i en repeterende tabell og ikke ønsker at det skal ligge igjen tomme rader må dette gjøres i VSTA kode (se koden under), siden en regel-basert tilnærming ikke klarer å slette tomme rader.\nEksempel på kodebasert (VSTA) håndtering av \u0026ldquo;delvis kopi\u0026rdquo;:\nprivate void nullUt(string xmlRef) { XPathNavigator main = MainDataSource.CreateNavigator(); XPathNodeIterator nodesToDelete = main.Select(xmlRef, NamespaceManager); while (nodesToDelete.MoveNext()) { //nodesToDelete.Current.SetValue(string.Empty); // Denne er ikke god nok - valgfrie felt blir tilsynelatende obligatoriske etter utnulling  //Hentet fra SettVerdi  if (nodesToDelete.Current != null) { if (nodesToDelete.Current.MoveToAttribute(\u0026#34;nil\u0026#34;, \u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34;)) { nodesToDelete.Current.DeleteSelf(); } nodesToDelete.Current.SetValue(\u0026#34;\u0026#34;); //hvis verdien er blank må kanskje attributt xsi:nil=\u0026#34;true\u0026#34; legges til igjen. Avhengig av datatype  if (string.IsNullOrEmpty(\u0026#34;\u0026#34;)) { // Feltet skal tømmes  // Får man exception så skal ikke attributen legges til (feltet er obligatorisk)  try { //node.CreateAttribute(\u0026#34;xsi\u0026#34;, \u0026#34;nil\u0026#34;, \u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34;, \u0026#34;true\u0026#34;); //Denne funker bare i Infopath Preview  nodesToDelete.Current.ReplaceSelf(nodesToDelete.Current.OuterXml.Replace(\u0026#34;\u0026gt;\u0026lt;/\u0026#34;, \u0026#34; xsi:nil=\\\u0026#34;true\\\u0026#34;\u0026gt;\u0026lt;/\u0026#34;)); // Denne funker både i Infopath Preview og i SBL  } catch (InvalidOperationException e) //gives warning \u0026#34;The variable \u0026#39;e\u0026#39; is declared but never used\u0026#34; -\u0026gt; ignore  { //do nothing  } } } } } Kvitteringstekst Utgaveparametrene er forhåndsutfylt med standard kvitteringstekster for informasjonstekst, kvitteringstekst i portal og kvitteringstekst i e-post. Informasjonstekst er teksten som blir vist på toppen etter signering/arkivering (øverste røde ramme på bildet under) i Sluttbrukerløsningen og kvitteringstekst i portal er teksten i høyre marg på samme side (ramme til høyre på bildet). Kvitteringstekst i e-post er teksten som vil stå i e-post som blir sendt som kvittering. Dersom standardtekstene ikke passer for ditt tilfelle kan du endre teksten for utgaven til en tekst du mener passer bedre.\nBetaling Innsendingsutgaver kan ta i bruk betalingsløsningen i Altinn dersom tjenesteeier har gjort denne tilgjengelig. Dersom betaling er tilgjengelig vil du se en egen seksjon på utgaveparametersiden der du kan sette opp betaling. Seksjonen vil ikke dukke opp dersom tjenesteeier ikke har betaling tilgjengelig.\nFor å bruke betaling på utgaven må «Bruk betaling» være valgt. Når dette er valgt vil feltene i betalingsseksjonen bli obligatoriske og må fylles ut. Dersom betaling ikke er valgt, kan ikke disse feltene fylles ut. Eventuelle verdier som måtte stå i feltene vil da bli fjernet ved innsjekking.\nOrdrenummer kan enten bli laget av skjemaet (InfoPath) eller av Altinn. Du velger denne dersom du har et skjema som genererer et ordrenummer. Har du valgt denne er det altså skjemaet sitt ansvar å legge inn ordrenummeret i et felt i skjemaet. Du står fritt til bruke hvilken metode du vil for å komme fram til ordrenummeret, så lenge det blir gjort tilgjengelig i et felt. Ordrenummeret må kun inneholde bokstaver eller tall, ingen spesialtegn.\nBetalingsleverandøravtale forteller hvilken avtale som skal brukes. Alternativene du har her blir bestemt av tjenesteeier, og er basert på de avtalene tjenesteeier har med ulike betalingsleverandører. Avtalene blir identifisert med formelen {Betalingsleverandørnavn} – {merchant id}.\nBetalingsmetoder er de ulike metodene brukeren kan bruke for å betale via betalings­leverandøren. Dette er for eksempel «Visa» eller «MasterCard». Valg av betalingsmetoder er avhengig av hva som er definert på den betalings­leverandør­avtalen du velger. Den delen vil derfor kunne endre seg når du velger en avtale i nedtrekkslista.\nDersom avtalen ikke tillater begrensing av betalingsmetoder vil du ikke få opp dette valget. Alle betalingsmetoder som avtalen tillater vil i så fall automatisk bli tillatt.\nFor avtaler som tillater begrensing vil du få opp en avkryssingsboks for hver av de betalingsmetodene som avtalen tillater. Du må da sette kryss for alle de betalings­metodene du vil godta for utgaven. Dersom du har fått dette valget på en avtale, må du velge minst en betalingsmetode.\nDe fire XPath-parameterene brukes til å gi detaljer om det skjemaet som skal brukes på utgaven. Meningen med disse er å fortelle hvilke felter i skjemaet som skal inneholde informasjon om betaling. Du skal fylle inn en XPath som vil gi en unik sti til feltet.\nSum-feltet i skjemaet skal inneholde den summen som skal betales. Skjemaet har ansvar for å fylle ut rett sum i dette feltet, slik at betalingsløsningen i Altinn kan finne korrekt beløp som sluttbrukeren må betale. Dette feltet kan brukes til å ha en betinget betaling på utgaven. For å få til dette må du ha en logikk som setter sum-feltet til «0» dersom betaling ikke skal utføres. Motsatt må sum-feltet få et beløp større enn 0 for å sørge for at Altinn vil kreve betaling på utgaven.\nFeltet for beskrivelse skal inneholde den teksten som skal vises til sluttbrukeren som forklaring for betalingen inne i løsningen til betalingsleverandøren.\nOrdrenummer-feltet er det feltet som skal ha ordrenummeret for betalingen. Avhengig av valget gjort i «Ordrenummer generes av skjema» skal dette feltet enten fylles ut av skjema, eller så skal Altinn legge inn ordrenummer i dette feltet. Dersom du velger at skjema genererer ordrenummer, så må du sørge for at skjema legger dette inn i feltet.\nTransaksjons-id er en id som blir generert av betalingsleverandør ved betaling. Dette er et felt som skjemaet må ha for å kunne ta imot denne id-en. Feltet skal ikke fylles ut av skjema.\nFor at betaling skal fungere må du også velge en prosessflyt som inneholder et betalingssteg.\nOverstyr rettigheter Rettigheter trenger du bare å overstyre hvis den utgaven du utvikler har flere signeringssteg, eller hvis den har andre rettighetskrav enn de som allerede er satt på tjenestenivå. Hver utgave vil arve disse rettighetene når den migreres til SBL, og få med seg overstyringene i tillegg.\nProsessflyt Prossessflyt kan defineres for en innsendningstjeneste og angir hvilken flyt tjenesten skal følge i SBL. Med dette menes at man velger hvilke steg tjenesteeier vil at utgaven skal igjennom hos utfyller. F.eks. vil en prosessflyt med signeringssteg tvinge utfyller til å måtte signere skjemaet før den kan sendes inn og arkiveres.\nVelge mal På parametersiden Prosessflyt kan du definere en prosessflyt basert på en prosessflytmal.\nDet finnes to typer prosessflytmaler du kan velge mellom:\n Felles maler tilgjengeliggjør generelle maler som alle tjenesteeiere kan benytte i nedtrekkslisten. Disse er tomme. Tjenesteeiers maler - tilgjengeliggjør maler som allerede er tilpasset tjenesteeier i nedtrekkslisten. Disse kan være delvis eller ferdig utfylt.  Dette velges ved hjelp av radioknappene på toppen. Valget vil påvirke hvilke maler som er tilgjengelig i nedtrekkslisten. For å benytte en gitt mal trykker man på knappen Bruk Mal.\nStegene en prosessflyt kan bestå av, er utfyllingssteg, signeringssteg, betalingssteg og innsendingssteg. Det finnes flere typer signeringssteg: Enkelt, enkelt/betinget og brukerstyrt. Et betinget signeringssteg vil bare gjennomføres hvis en bestemt betingelse er oppfylt. I et brukerstyrt signeringssteg definerer du hvor mange signaturer som skal innhentes, og så vil brukeren bli bedt om å identifisere de aktuelle brukerne som skal signere.\nDu velger hvilke steg tjenesten skal inneholde ved å velge en mal som inneholder de rette stegene. Klikk på Bruk mal for å velge ønsket mal.\nP.t. finnes det ni felles prosessflytmaler tilgjengelig i TUL:\n Utfylling og innsending Utfylling og signering Utfylling og betinget signering Utfylling og dobbel signering Utfylling og betinget dobbel signering Betaling Utfylling og betaling Utfylling, betaling og signering Utfylling, signering og betaling  Nye prosessflytmaler settes opp i XML, noe som kan gjøres av tjenesteeiere. Dette er nødvendig for å ta i bruk ny versjon 2-funksjonalitet knyttet til signering. Se prosessflytmaler for informasjon om hvordan nye maler lages og tilgjengeliggjøres i TUL.\nBruke mal For hvert steg i prosessflyten kan du sette parametre som bestemmer hvordan hvert enkelt steg i flyten skal gjennomføres i sluttbrukerløsningen. Hvilke parametre som fremkommer, avhenger av stegtypen. Noen eksempler fra signeringssteg:\n Sikkerhetsnivå: Kan settes per steg i prosessflyten og overstyrer sikkerhetsnivået for utgaven for det enkelte steget. Signeringstekst: Det er mulig å angi en signeringstekst som vises for sluttbruker på signeringssiden. Gjelder per signeringssteg. Obligatorisk signering: Definerer om sluttbruker a) må signere på hovedskjema og alle skjemavedlegg, b) fritt kan velge å signere på enkeltskjema, eller c) kan velge innenfor de skjema som ikke er markert med obligatorisk signering på skjemasett-siden. Har ikke signert tidligere: Settes til ”ja” hvis signaturen som innhentes i steget må komme fra bruker som ikke har signert tidligere i arbeidsflyten. Antall signaturer: Gjelder brukerstyrt signering. Angir minimum antall signaturer som skal innhentes i steget; sluttbruker kan velge et større tall. Unike signaturer: Gjelder brukerstyrt signering. Settes til ”ja” hvis innhentede signaturer i steget må komme fra forskjellige brukere.  Hvis utvikler setter sikkerhetsnivå til 2 på en utgave av en innsendingstjeneste og setter sikkerhetsnivå til 3 på signeringssteg så vil det i praksis bety at sluttbruker får kjørt gjennom tjenesten på nivå 2, men i det øyeblikket sluttbruker trykker på signeringsknappen så blir han/hun tvunget til å logge inn på ny med en innloggingsmetode med sikkerhetsnivå 3.\nBetinget signering betyr at man kan avgjøre under utfylling om bruker må signere på skjema eller ikke, ved å sjekke inntastet verdi i et felt mot en gitt grenseverdi.\nFor prosessflytene som inneholder betinget signering, vil det på signeringssteget være noen ekstra parametere:\n Betinget felt: Her angis xPath til feltet som det skal sjekkes mot. Operator: Angir hvordan man skal sjekke grenseverdi mot felt. Grenseverdi: Angir hvilken verdi det betingete feltet skal matche iht operatoren.  F.eks. hvis man i et skjema vil at utfyller skal slippe å signere hvis han eller hun sender inn skjema for en bedrift som har under 500.000 kr i omsetning, kan verdiene være som følger:\n   Betinget felt Operator Grenseverdi     /skjema/grp_omsetning/AarligOmsetning \u0026gt; 500000    Skjemasett Et skjemasett er en hierarkisk samling av skjemaer som inngår i en innsendingstjeneste. Her bestemmer du hvilke underskjemaer som inngår i utgaven, hvor utgaven inneholder hovedskjemaet. Et skjemasett kan bygges basert på de skjemaene som tilhører gitt tjenesteeier. Det kan ikke velges underskjema fra samme tjeneste som utgaven du definerer tilhører.\nPå parametersiden Skjemasett er alle tjenesteeiers skjema listet med tjenestens kortnavn, utgavens kortnavn, informasjon om hvorvidt skjemaet er definert som hovedskjema eller ikke, versjonsstatus og produksjonsstatus sammen med en lenke (Legg til) for å legge til skjemaet i skjemasettet. Det er viktig å merke seg at man kun velger å benytte skjemaet og skjemaets parametre, være seg preutfylling, sideegenskaper etc fra utgaven man velger i listen. Disse dataene vil inngå i hovedskjemaets utgave ved en migrering. I forhold til i SUM (forgjengeren til TUL) er det derfor ikke nødvendig å migrere underskjema før hovedskjema. Underskjema vedlikeholdes derfor i sin egen utgave.\nNår et skjema blir valgt, legges det til en liste der tjenesteutvikler kan konfigurere egenskaper for valgte underskjema ved å sette følgende parametre:\n Parameteren Sluttbruker kan legge til manuelt vil gjøre det mulig for sluttbruker selv å legge dette skjema inn som underskjema. Satt som default valg i TUL. Parameteren Maks ett vil gjøre det umulig å legge til mer enn én forekomst av dette skjema for sluttbruker i SBL. Satt som default valg i TUL. Parameteren Inkluder i felles datakilde fører til at felter i underskjema blir tilgjengelig for hovedskjema. Satt som default valg i TUL. NB! Ved bruk av regelmotor er ikke dette nødvendig Parameteren Bruk felles datakilde betyr at underskjema vil få tilgang til felter fra andre utvalgte skjema i skjemasettet. NB! Ved bruk av regelmotor er ikke dette nødvendig Parameteren Obligatorisk signering vil gjøre det obligatorisk for sluttbruker å signere dette skjema, dersom signeringssteget i arbeidsflyten angir at signeringkrav settes på skjemanivå (dvs. avhengig av denne parameteren).  På skjemasett-siden ligger det også en parameter som styrer obligatorisk signering for hovedskjema, ref. ovenfor.\nEt skjema kan slettes fra skjemasettet i etterkant ved å trykke på lenken Fjern i listen over skjemaer som lagt til.\nVed åpning av skjemasettsiden vil viste utgaver være sortert alfabetisk på utgave-kortnavn.\nFelles datakilde\nFelles datakilde er en funksjon som tilgjengeliggjør ekstra datakilder i InfoPath-skjemaet. Man kan dermed benytte strukturen fra andre skjema og få eksempelvis verdioverføringer innad i et skjemasett.\nDet vil ikke være mulig å enhetsteste verdioverføringer. Dvs, man kan ikke teste en verdioverføring fra et underskjema til hovedskjema i InfoPath preview-modus.\nFelles datakilde genereres ved hjelp av Generér felles datakilde-knappen. Det er verdt å merke seg at siden et underskjema kan være del av flere skjemasett, vil det kunne forekomme flere datakilder i skjemaet enn det som er nødvendig. Disse kan, hvis ønskelig, slettes ved å navigere til Datakilde i hjelpefanen i InfoPa th, deretter velge Behandle datatilkoblinger og deretter markere den man vi slette og velge Fjern.\nEn god regel vil være å fjerne datakoblinger fra en felles datakilde, før en ny opprettes. Dette er fordi at i enkelte tilfeller vil man kunne få en ”sirkulær” datakilde, hvor felter kan referere til seg selv.\nFelles datakilde vil finnes i skjemaet som en sekundær datakilde. Dermed kan man velge å benytte felter fra underskjemaet i kalkyler, valideringer o.l. i hovedskjemaet. Disse feltene hentes fra InfoPath sin datakilde-meny på samme måte som for hovedkilden.\nDet er også mulig å benytte egendefinerte felter og altinn-namespace felter i felles datakilde.\nSplitt av data Ved innsending av et skjemasett sendes data registrert av sluttbruker i SBL til tjenesteeier. Splitt av data tilbyr en mer fleksibel håndtering av disse dataene ved å angi at alle eller deler av dataene skal distribueres til en eller flere andre tjenesteeiere.\nDet må defineres en splitt for hver tjenesteeier som skal motta data, og for hvert skjema i skjemasettet som skal avgi data til denne tjenesteeieren. Du kan enten velge å sende hele skjemaet, eller bare deler av det. Velger du «Send hele skjemaet», så vil alle feltene i skjemaet bli sendt over i denne splitten. Dersom du bare vil sende deler av skjemaet må du lage en XSLT-fil som mapper felter fra skjemaets XSD. Denne filen må du lage, for eksempel ved bruk av Visual Studio, før splitten kan registreres i TUL. Splitten registreres i TUL ved å laste opp XSLT-filen. Merk at dersom du har valgt å sende hele skjemaet, så vil opplastingskontrollen være deaktivert. Du må altså velge mellom å sende hele skjema, eller å bare sende deler ved hjelp av XSLT-fil.\nI tillegg må du fortelle hvilken tjenesteeier som skal motta dataene, hvilken oversendelsesmetode som skal brukes og hvilket skjema splitten skal hente data fra. Hvis en tjenesteeier skal motta flere splitter fra samme skjemasett, må oversendelsesmetoden være den samme. Du må da definere en ny splitt for hvert skjema som skal sendes.\nVed å trykke på knappen Legg til vil splittdefinisjonen legges til i en liste lengre ned på siden. Splitten kan slettes fra listen ved å klikke på lenken Slett.\nMetadatafiler En innsendingstjeneste kan benytte egne metadatafiler for å skreddersy tjenesten i SBL. På metadatasiden kan man laste opp metadatafiler som inneholder informasjon om hvordan skjemaene skal valideres og hvordan verdier kalkuleres og overføres mellom skjemaer. Man kan for eksempel velge om validering og kalkulering skal gjøres gjennom Infopath eller Altinns egen regelmotor ARE.\nARE regelfiler kan inneholde både valideringer og kalkuleringer. SBL har standardfunksjonalitet for å utnytte disse, såfremt filen overholder definerte formatkrav. Ved bruk av ARE må også filen inneholde definisjonen på alle reglene som skal brukes. For hjelp til å lage ARE-regelfiler se vedlegg om regelmotor.\nKun ARE er definert som standard metadatafiltype, men man kan også bruke andre metadatatyper om utgaven benytter tilpasset visning/programlogikk i SBL som utnytter disse filene.\nDet kan bare lastes opp én fil av hver metadatatype. Ved opplasting av ny fil av samme type, overskrives den eksisterende.\nFilvedlegg På filvedleggsiden avgjør du om det skal være tillatt å laste opp filvedlegg i tjenesteutgaven eller ikke. De andre valgene på denne siden vil ikke være tilgjengelige før du har valgt å tillate filvedlegg.\nFilvedlegginnstillinger Innstillinger for de binære filvedleggene. Disse tre valgene lå tidligere på utgaveparametersiden.\n Tillat vedlegg - Angir om sluttbruker kan laste opp egne filer som vedlegg til innsendingstjenesten. Satt som default valg i TUL. Kryptér binære filer - Angir om binære filvedlegg skal krypteres. Deaktiveres hvis «Tillat vedlegg» ikke er valgt. Kryptering kan ikke benyttes samtidig med vedleggstyper. Nye filvedlegg kan lastes opp under signering - Angir om bruker i SBL kan laste opp binære vedlegg etter utfylling, under signering. Alle filvedlegg har en begrensning på 10 MB.  Vedleggstyper For å bruke en eller flere vedleggstyper må tjenesteutvikleren gå inn på «Filvedlegg» fra tjenesteutgavearbeidsflaten. På denne siden kan du bestemme om filvedlegg skal være tillatt eller ikke. Dersom du tillater filvedlegg, men ikke velger noen vedleggstype, vil det være de globale innstillingene for filvedlegg som vil gjelde. Velger du derimot en eller flere vedleggstyper, vil det være innstillingene i de vedleggstypene du har valgt som vil gjelde. Om tjenesteutgaven har vedleggstyper vil sluttbruker måtte velge en av de for hver fil han vil laste opp.\nFor å legge en vedleggstype til en tjenesteutgave velger du rett vedleggstype fra nedtrekksmenyen «Vedleggstyper». Når du velger en vedleggstype vil du få opp regler som er definert for denne. For å ta den i bruk trykk på «Legg til»-knappen. De vedleggstypene du har valgt vil dukke opp i listen nederst på siden.\nFor å fjerne en vedleggstype fra tjenesteutgaven trykk på «Slett» bak den vedleggstypen du vil fjerne. Dette vil fjerne vedleggstypen fra denne tjenesteutgaven.\nFor å lagre endringer du har gjort må du sjekke inn siden.\nSe mer informasjon om vedleggstyper.\nInnhold – innsendingstjeneste Innholdet i en innsendingstjeneste er informasjonen som ligger i InfoPath-skjema. For at innholdet skal vises og behandles riktig i Altinn, er det nødvendig å registrere en del tilleggsinformasjon om hvordan det skal oppføre seg. Du må definere sideegenskaper, og du kan registrere innholdsreferanser. Andre eksempler er preutfylling, SKD betalingsinformasjon og hjelpetekster. For at skjema og tilleggsinformasjonen skal spille sammen, må skjema utvikles etter bestemte retningslinjer. Dette kapitlet gir en oversikt over hvordan du gjør dette, og refererer til vedlegg for detaljert informasjon og eksempler.\nSkjema Se InfoPath-skjema i Altinn for beskrivelse av prinsipper rundt skjemabibliotek, skjema og visning, samt inn-/utsjekking og publisering av skjema.\nEn tjenesteutgave av en innsendingstjeneste må ha ett, og bare ett, hovedskjema. Dersom tjenesten skal ha underskjemaer må underskjemaene defineres som egne tjenester og utgaver, og deretter knyttes opp mot tjenesten gjennom et skjemasett.\nI skjemaet bestemmes skjemaets layout, overskrifter/ledetekster, datafelt, kalkyler, valideringsregler og tilhørende feilmeldinger. Du kan også legge inn Hjelp-knapper som gir tilgang til hjelpeinformasjon under utfyllingen i SBL.\nFølgende vedlegg er relevante:\n Vedlegg A: Skjemautvikling i InfoPath inneholder en innføring i skjemautvikling i InfoPath for bruk rettet mot TUL. Vedlegg B: Utforming av brukergrensesnitt for skjema beskriver utvikling av brukergrensesnitt i InfoPath i forhold til presentasjon i SBL. Vedlegg C: Utforming av brukervennlige tjenester gir veiledning i utforming av brukervennlige og tilgjengelige tjenester.  Sideegenskaper Du må definere sideegenskaper for at det skal være mulig i SBL å vite for eksempel hvilke InfoPath-visninger som skal vises for utfylling, og hvilke som skal brukes for utskrift. Dette er beskrevet under fellesfunksjonaliteten sideegenskaper.\nInformasjonen som angis under Sideegenskaper er avgjørende for at skjema skal kunne presenteres og fylles ut i SBL iht. ELMER-retningslinjene.\nSporvalg Sporvalg er en funksjonalitet bestemmer hvilke sider som presenteres for sluttbrukeren avhengig av hva bruker fyller ut i skjema. Dette muliggjør å tilpasse skjemaet til flere formål.\nEt sporvalg består av flere spor. En utgave kan ha flere sporvalg, på ulike sider, det skal dog ikke være mer enn ett sporvalg pr side. Skal man ha flere sporvalg på samme side, må verdier mellomlagres i uttrykksbokser.\nEksempel:\nDersom spørsmålet «Er du gift?» ligger på side 1 i et skjema kan svaret medføre to ulike spor avhengig av om sluttbrukeren svarer «Ja» eller «Nei».\n Dersom sluttbruker svarer «Ja» skal skjemaside 2 «Informasjon om ektefelle» fylles ut før skjemaside 3 og 4. Dersom sluttbruker svarer «Nei» skal ikke skjemaside 2 «Informasjon om ektefelle» bli vist i det hele tatt, men sluttbruker skal tas direkte til skjemaside 3 og 4.  For å definere sporvalget videre i TUL, velg Sporvalg under område Innholdsspesifikasjon på utgavens arbeidsflate. Definer et spor ved å velge side og felt, og skriv inn verdi. Velg deretter hvilke sider som skal vises for denne verdien. Alle spor med felles side og felt vil danne et sporvalg. Figuren under viser to spor i samme sporvalget.\nHvis du endrer siderekkefølge under Sideegenskaper, vil dette kunne påvirke tidligere definerte sporvalg. Et sporvalg som er blitt ugyldig på grunn av endret siderekkefølge, vises innrammet i rødt, og en tooltip forklarer hva som har skjedd. Du kan da slette sporvalget og definere det på nytt med den nye siderekkefølgen, alternativt gå til Sideegenskaper og endre til opprinnelig siderekkefølge.\nInnholdsreferanser Presentasjonsfelt hjelper sluttbruker å finne skjemaet i SBL, referanser til geografisk informasjon i skjema gjør det mulig å styre tilgang til skjema i tjenesteeiers arkiv basert på avgivers tilhørighet, og metadatafelter brukes til å definere felter som kan trekkes ut etter skjema er sendt fra Altinn.\nPreutfylling Med preutfylling menes at felter i et skjema kan være forhåndsutfylt når skjemaet åpnes i sluttbrukerløsningen. Det er tre ulike måter å preutfylle på:\n Skjemaet leveres ferdig preutfylt fra tjenesteeier til Altinn. Sluttbruker vil se et utfylt skjema i sluttbrukerløsningen med data som tjenesteeier/etat har bestemt. Tjenesteeier sender prefilldata som nøkkel/verdi-par, i kombinasjon med avgiver-ID. Nøkkelen identifiserer skjema og felt (xPath) der verdien skal fylles inn. Her vil felt bli preutfylt hvis de matcher xPath som tjenesteeier/etat har angitt. Dette vil tilsvare preutfyllingen av spesifikke orid’er i Altinn 1. Preutfyllingsdata hentes fra sentrale registre og fylles ut i gitte felter. Tjenesteutvikler bestemmer hva som skal preutfylles i de enkelte feltene. Data til disse feltene hentes fra registeret i sluttbrukerløsningen ved instansiering av skjema.  I TUL må preutfyllingssiden fylles ut dersom dersom tjenesten skal benytte preutfyllingsmåte 2 eller 3.\nNøkkel/verdi-preutfylling Huk av for Tillat nøkkel/verdi preutfylling dersom tjenesteeier skal kunne sende inn prefilldata som nøkkel/verdi-par for denne tjenesten. Det er viktig at Xpath som ligger lagret i SBL må matche skjemaets felter sin xPath for at de skal forhåndsutfylles ved nøkkel/verdi preutfylling.\nRegisterpreutfylling Registerpreutfylling går ut på at man velger hvilke felt som skal inneholde data fra hvilke registerfelt. Dataene som vises er da basert på hvilken avgiver som utfyller sender inn for.\nVelg register, skjemaside, skjemafelt, kontekst og registerfelt for de feltene som skal hentes fra sentrale registre. Det legges til en ny blank linje i preutfyllingsbildet for hver linje som registreres, slik at man kan registrere så mange felt man vil.\nDet finnes tre registre, og hver av registrene har egne kontekster. Kontekster er på bakgrunn av hva man skal hente ut data\n   Registerforkortelse Registernavn Kontekst     DSF Det sentrale folkeregister Privatperson   ER Enhetsregisteret Enhet, juridisk enhet og valgt org.nummer   DLS Deltakerlignende selskap Ingen    Merk: DLS har p.t. ingen prefillfelter tilgjengelig.\nForskjell på kontekster i enhetsregisteret\n\r\r\rBedrift\rA: Om valgt organisasjonsnummer er en bedrift vil feltet bli fylt med data for bedriften.\nB: Om valgt organisasjonsnummer er en juridisk enhet vil ikke feltet bli fylt ut.\n\r\r\r\r\rJuridisk enhet\rA: Om valgt organisasjonsnummer er en juridisk enhet blir feltet fylt med data for den juridiske enheten\nB: Om valgt organisasjonsnummer er en bedrift blir feltet fylt med data for bedriftens juridiske enhet\n\r\r\rValgt org.nummer\rBlir fyllt med data for valgt organisasjonsnummer, uavhengig om organisasjonsnummer representerer juridisk enhet eller bedrift.\r\r\r\r Mulige preutfyllingsvalg:\n\r\r\rEnhetsregisteret\r\r\rTUL\rSBL\r\r\r\r\rKontekst\rNorsk visningsnavn\rEngelsk visningsnavn\rTabell\rKolonne\r\r\rJuridisk enhet\rOrganisasjons­nummer\rOrganisation number\rREG_Unit\rOrgNumber_AK\r\r\rJuridisk enhet\rNavn\rName\rREG_Unit\rUnitName\r\r\rJuridisk enhet\rAdresse\rAddress\rREG_Unit\rAdressPostAddress\r\r\rJuridisk enhet\rPostnummer\rPostal code\rREG_Unit\rPostalCodeMail_FK\r\r\rJuridisk enhet\rPoststed\rPostal district\rREG_Postal­Code\rCity\r\r\rJuridisk enhet\rForretnings­adresse\rBusiness address\rREG_Unit\rBusinessAddress\r\r\rJuridisk enhet\rForretnings­postnummer\rPostal code (business address)\rREG_Unit\rPostalCodeBusiness_FK\r\r\rJuridisk enhet\rForretnings­poststed\rPostal district (business address)\rREG_Postal­Code\rCity\r\r\rJuridisk enhet\rTelefon­nummer\rPhone number\rREG_Unit\rTelephoneNumber\r\r\rJuridisk enhet\rMobiltelefon­nummer\rMobile phone number\rREG_Unit\rMobilePhone\r\r\rJuridisk enhet\rFaxnummer\rFax number\rREG_Unit\rFax\r\r\rJuridisk enhet\rEpost\rEmail address\rREG_Unit\rEMailAddress\r\r\rJuridisk enhet\rInternett adresse\rWeb address\rREG_Unit\rInternetAddress\r\r\rBedrift (Unit)\rOrganisasjonsnummer\rOrganisation number\rREG_Unit\rOrgNumber_AK\r\r\rBedrift (Unit)\rNavn\rName\rREG_Unit\rUnitName\r\r\rBedrift (Unit)\rAdresse\rAddress\rREG_Unit\rAdressPostAddress\r\r\rBedrift (Unit)\rPoststed\rPostal district\rREG_Postal­Code\rCity\r\r\rBedrift (Unit)\rPostnummer\rPostal code\rREG_Unit\rPostalCodeMail_FK\r\r\rBedrift (Unit)\rTelefonnummer\rPhone number\rREG_Unit\rTelephoneNumber\r\r\rBedrift (Unit)\rMobiltelefonnummer\rMobile phone number\rREG_Unit\rMobilePhone\r\r\rBedrift (Unit)\rFaxnummer\rFax number\rREG_Unit\rFax\r\r\rBedrift (Unit)\rEpost\rEmail address\rREG_Unit\rEMailAddress\r\r\rBedrift (Unit)\rInternett adresse\rWeb address\rREG_Unit\rInternetAddress\r\r\rValgt org. nr.\rOrganisasjons­nummer\rOrganisation number\rREG_Unit\rOrgNumber_AK\r\r\rValgt org. nr.\rOrganisasjonsform\rEntity type\rREG_Unit\rUnitType\r\r\rValgt org. nr.\rNavn\rName\rREG_Unit\rUnitName\r\r\rValgt org. nr.\rAdresse\rAddress\rREG_Unit\rAdressPostAddress\r\r\rValgt org. nr.\rPostnummer\rPostal code\rREG_Unit\rPostalCodeMail_FK\r\r\rValgt org. nr.\rPoststed\rPostal district\rREG_Postal­Code\rCity\r\r\rValgt org. nr.\rForretningsadresse\rBusiness address\rREG_Unit\rBusinessAddress\r\r\rValgt org. nr.\rForretningspostnummer\rPostal code (business address)\rREG_Unit\rPostalCodeBusiness_FK\r\r\rValgt org. nr.\rForretningspoststed\rPostal district (business address)\rREG_Postal­Code\rCity\r\r\r\rFolkeregisteret\n   Norsk visningsnavn TUL) Engelsk visningsnavn (TUL) Tabell (SBL) Kolonne (SBL)     Fødselsnummer Personal ID number REG_USER FNumber_AK   Navn Name REG_USER Name   Fornavn First name REG_USER FirstName   Etternavn Surname REG_USER LastName   Postadresse Address REG_Alternative­Address­Line AddressLine1-4*   Postnummer Postal code REG_Alternative­Address­Line PostalCode_FK   Poststed Postal district REG_PostalCode City   Kommune­nummer Municipal Number REG_Municipal MunicipalNumber_AK   Kommunenavn Municipal Name REG_Municipal MunicipalName   Mellomnavn Middle Name REG_USER MiddleName   Gatenavn (bosted) Street Name REG_Street StreetName   Stedsnavn (bosted) Place Name REG_Property AddressName   Husnummer (bosted) House Number REG_AddressLine HouseNumber   Husbokstav (bosted) House Letter REG_AddressLine HouseLetter   Postnummer (bosted) Postal code ? ?   Poststed (bosted) Postal district ? ?    *unntatt linje 3 dersom den begynner med et postnummer\nMottaksdefinisjon Under mottaksdefinisjon kan man angi hvilket felt i skjemaet som skal styre hvor skjemaet havner etter at det er arkivert i Altinn.\nSKD betalingsinformasjon Betalingsinformasjonen er spesialtilpasset skjemaordningene MVA og Terminoppgaven (FLT) til Skatteetaten (SKD). Det er altså ingen generell løsning som kan brukes av alle.\nDen må ikke bli forvekslet med den generelle betalingsløsningen.\nDersom en innsendningstjeneste skal kunne generere betalingsinformasjon i sluttbrukerløsningen angir du her hvilke felter i innsendingen som skal benyttes for de ulike betalingsdetaljene.\nDu kan velge gjenbrukbar logikk for generering av betalingsinformasjon i et nedtrekksliste for Betalingslogikk øverst på siden. Hvilke felter som er påkrevd, avhenger av hvilken betalingslogikk som er valgt. Det vil derfor ikke i TUL valideres og må kjennes av den enkelte skjemautvikler basert på logikken som velges.\nHjelpetekster Til hvert felt i et skjema laget i InfoPath kan det knyttes en hjelpetekst. Hjelpteksten vises iht. ELMER-retningslinjene i høyre side i SBL. En hjelpetekst i TUL knyttes ikke direkte til et felt, men til en bildeknapp (PictureButton) som må plasseres i nærhet av feltet den skal tilhøre. Denne bildeknappen må ha et navn som begynner på HelpText_ for å kunne gjenkjennes i TUL. For hver bildeknapp i skjemaet som har et navn som begynner på HelpText_ vil det være mulig å definere én tekst.\nFørst oppretter du hjelpeknapper i InfoPath for enkeltfelter og overskrifter som skal ha hjelpetekster. Se Vedlegg A: Veiledning i skjemautvikling i InfoPath for en beskrivelse av hvordan dette gjøres.\nI TUL kan du velge å se alle hjelpeknappene i skjemaet eller velge side i nedtrekkslisten for å begrense innholdet i listen. En hjelpetekst bør inneholde en begrenset mengde tekst for ikke å ”flyte ut” i SBL. Begrensningen er dog ca. 5000 tegn, inklusive mellomrom og spesialtegn. Det er verdt å merke seg at dette er inkludert HTML-formatering.\nHjelpetekst nivå 1 og nivå 2\nDet er hensiktsmessig å begrense innholdet i hjelpeteksten som vises i sluttbrukerløsningen til så kort og konsist som mulig, men der hvor det ikke er hensiktsmessig eller mulig bør man tilstrebe å vises informasjon fra eksterne kilder i et eget vindu. Hjelpetekst som vises i sluttbrukerløsningen kalles Nivå 1, mens ekstern hjelpetekst kalles Nivå 2.\nFor å gjøre dette må man legge inn en lenke i hjelpeteksten i TUL. Dette gjøres i to steg via teksteditoren:\n(tekst innenfor $ vil variere)\n Plassér markøren i hjelpeteksten der du vil at lenken skal vises. Klikk på lenke-ikonet og tast inn url’en til den eksterne hjelpeteksten. Bytt til kildevisning av teksten ved å klikke på kilde-ikonet  Finn HTML-koden til lenken, angitt som \u0026lt;a href=\u0026quot;http://$adresse$\u0026quot;\u0026gt;$Lenke$\u0026lt;/a\u0026gt; Legg til target=\u0026quot;_blank\u0026quot; slik at HTML-koden blir \u0026lt;a href=\u0026quot;http://$adresse$\u0026quot; target=\u0026quot;_blank\u0026quot;\u0026gt;$Lenke$\u0026lt;/a\u0026gt;  Dette vil gjøre at lenken åpnes i nytt vindu.\nInnsendingstjeneste fra SBS Prinsipper Ved innsending fra sluttbrukersystem gjelder i utgangspunktet tre prinsipper:\n Altinn skal ikke endre på skjemasettet som ble sendt inn av SBS. Altinn kan imidlertid tilføye kalkulerte felter som SBS unnlater å sende inn. Skjemasett med feil skal i utgangspunktet stoppes av Altinn og innsending skal feile.  Det andre prinsippet åpner for at SBS kan benytte seg av kalkyler og prefill som er bygget inn i skjemasettet (ved å unnlate å sende inn de aktuelle feltene). Altinn vil da tilføye feltene med beregnet verdi. SBS får en kvittering som indikerer alle felter som ikke ble sendt inn fra SBS, men ble tilføyd av Altinn og sendt videre til tjenesteeier. Feltverdien (fra kalkyle eller prefill) er også angitt i kvitteringen.\nTjenesteeier har mulighet til å fravike det tredje prinsippet ved å definere overstyrbare felter.\nOverstyrbare felter Dersom det skal tillates at SBS sender inn en verdi som fraviker fra prefill eller kalkyle-verdi må feltet defineres som overstyrbart i TUL.\nNår SBS sender inn en verdi som fraviker fra en slik \u0026ldquo;forventet\u0026rdquo; verdi og feltet er overstyrbart vil innsendingen gå gjennom. Tjenesteeier mottar skjemasettet med den verdi som ble sendt inn fra SBS, men får ingen indikasjon på at feltverdien avviker fra \u0026ldquo;forventet\u0026rdquo; verdi. SBS får på sin side en kvittering som indikerer hvert felt hvor Altinn \u0026ldquo;forventet\u0026rdquo; en annen verdi, samt hvilken verdi Altinn \u0026ldquo;forventet\u0026rdquo;.\nEn teknisk beskrivelse av hvordan skjemasett sammenliknes, hva som menes med \u0026ldquo;ulik verdi\u0026rdquo;, og kriterier for feil (stoppe innsending) og advarsler finnes i \u0026ldquo;Implementasjonsguide for sluttbrukersystemer\u0026rdquo;.\nOverstyrbare felter defineres på siden innholdsreferanser i arbeidsflaten for tjenesteutgave. Velg skjemaside først, deretter felt.\nKun XSD-validering Kalkyler, prefill og valideringer i et skjema kan \u0026ldquo;skrus av\u0026rdquo; for innsendinger fra SBS. Dette tillater en markant ytelsesforbedring, men medfører at alle innsendinger tillates så lenge selve meldingsformatet for oppgavesettet er fulgt.\nMerk at innsendt XML alltid valideres mot XSD, uavhengig av om denne opsjonen er valgt eller ikke. Når opsjonen er valgt gjøres kun XSD-validering ved innsendinger fra SBS. Opsjonen har ingen effekt for SBL-brukere.\nKun XSD-validering settes på siden XSD-egenskaper i arbeidsflaten for tjenesteutgave. Opsjonen er normalt ikke valgt, som betyr at all funksjonalitet definert i skjemasettet er \u0026ldquo;på\u0026rdquo; - kalkyler, valideringer og prefill kjører også ved innsending fra SBS.\nIntegritetssjekk fra sluttbrukersystem Altinn støtter utvikling av skjemaer som kan signeres med XMLDsig standard. Foreløpig er dette begrenset til skjemaer som er signert av sluttbruker system og sendt komplett via webservice. Funksjonen kan ikke brukes i tjenesteutgaver som bruker skjemasett med felles datakilde.\nFor å nyttegjøre seg av XMLDsig må XSD oppdateres manuelt (inntil videre) med XMLDSIG deklarasjoner. Dette må gjøres i forkant av import til Infopath. Følgende deklarasjoner må gjøres:\n XMLDSig namespace må være definert i header xmlns:dsig=\u0026quot;http://www.w3.org/2000/09/xmldsig# XMLDSIG placeholder må angis direkte i sekvens etter siste element innenfor et rotelement i XSD for en innsendingstjeneste:\n\u0026lt;xs:any namespace=\u0026quot;http://www.w3.org/2000/09/xmldsig#\u0026quot; processContents=\u0026quot;lax\u0026quot; minOccurs=\u0026quot;0\u0026quot; maxOccurs=\u0026quot;unbounded\u0026quot;/\u0026gt;  Eksempel:\n\u0026lt;xs:schema xmlns:brreg=\u0026#34;http://www.brreg.no/or\u0026#34; xmlns:xs=\u0026#34;http://www.w3.org/2001/XMLSchema\u0026#34; xmlns:dsig=\u0026#34;http://www.w3.org/2000/09/xmldsig#\u0026#34; elementFormDefault=\u0026#34;qualified\u0026#34; attributeFormDefault=\u0026#34;unqualified\u0026#34;\u0026gt; \u0026lt;xs:element name=\u0026#34;Skjema\u0026#34;\u0026gt; \u0026lt;xs:complexType\u0026gt; \u0026lt;xs:sequence\u0026gt; \u0026lt;xs:element ref=\u0026#34;soknad-grp-5627\u0026#34; minOccurs=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;xs:any namespace=\u0026#34;http://www.w3.org/2000/09/xmldsig#\u0026#34; processContents=\u0026#34;lax\u0026#34; minOccurs=\u0026#34;0\u0026#34; maxOccurs=\u0026#34;unbounded\u0026#34;/\u0026gt; \u0026lt;/xs:sequence\u0026gt; … \u0026lt;/xs:complexType\u0026gt; \u0026lt;/xs:element\u0026gt; \u0026lt;/xs:schema\u0026gt; Merk at bruk av any element med lax direktiv er obligatorisk for at skjema skal kunne brukes av InfoPath, men inneholde vil bli validert av Altinns XSD validering.\nNår XSD er oppdatert kan den importeres til InfoPath. Pass på at «Ikke tillat signering av skjema» er valgt i InfoPath, vi bruker Altinn til å signere.\nNår man har laget et skjema som inneholder et XMLDSig element og lastet det opp i TUL, vil et nytt valg være tilgjengelig på siden \u0026ldquo;XSD-egenskaper\u0026rdquo;.\nHer finnes nå en nedtrekksliste som foreløpig har to valg:\n Integritetssjekk fra sluttbrukersystem Av/Ingen  Ved valget «Av/Ingen» gjøres ingen integritetssjekk, mens det ved valget «Integritetssjekk fra sluttbrukersystem» vil være mulig å legge ved en XMLDSig signatur i XML som sendes inn. XMLDSig signaturen vil bli validert før oversendelse til tjenesteeier og tjenesteeier har så mulighet til å validere signaturen i sine internesystemer.\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/tjenestetyper/innsyn/",
	"title": "Innsyn",
	"tags": [],
	"description": "Innsynstjenester brukes til å hente data ved å kalle en eller flere web services.",
	"content": "Forretningslogikk og data ligger hos tjenesteeier, mens presentasjonen av dataene ligger i Altinn. Dataene kan også gjøres tilgjengelig for sluttbrukersystem.\nSpesifikasjon - innsynstjeneste For en innsynstjeneste må det som for øvrige tjenestetyper registreres utgaveparametre, og det er mulig å overstyre rettigheter.\nUtgaveparametre Enhver utgave må ha utgaveparametre. Hvordan du registrerer disse, er beskrevet her.\nOverstyr rettigheter Rettigheter trenger du bare å overstyre hvis den utgaven du utvikler har andre rettighetskrav enn de som allerede er satt på tjenestenivå. Hver utgave vil arve disse rettighetene når den migreres til SBL, og få med seg overstyringene i tillegg.\nInnhold - innsynstjeneste Innholdet i en innsynstjeneste vil på samme måte som for innsendingstjenester være alt som har med skjema, datainnholdet og selve interaksjonen med sluttbruker i SBL å gjøre. Uthenting av data fra tjenesteeiers systemer håndteres gjennom en såkalt mapper, som er en komponent for fleksibel integrasjon mellom Altinn og andre systemer.\nNår et skjema er ferdigutviklet i InfoPath, defineres tilleggsegenskaper i TUL for å gi tjenesten ønskede egenskaper. Du må definere sideegenskaper, og du kan registrere innholdsreferanser.\nSkjema Tjenesteinnholdet defineres gjennom utvikling av skjema i InfoPath. Under området for Innholdsspesifikasjon på utgavens arbeidsflate kan du legge til et InfoPath-skjema og åpne og redigere skjemaet i Microsoft Office InfoPath. Se InfoPath-skjema i Altinn for beskrivelse av prinsipper rundt skjemabibliotek, skjema og visning, samt inn-/utsjekking og publisering av skjema.\nInfoPath-skjema må lages slik at det er basert på en XSD som hoveddatakilde, og alle data som skal arkiveres og være del av “datamodellen” til en innsynstjeneste må kopieres over i hoveddatakilden. Data fra sekundære datakilder bør mao som hovedregel kopieres over i hoveddatakilden. Dette er helt analogt med innsendingstjenester, der for eksempel data fra oppslag mot registre ikke lagres i skjema hvis dataene ikke bindes opp mot hoveddatakilden.\nDet er skjemaet som definerer utgavens ”brukergrensesnitt” og grafiske layout. Hvordan InfoPath-skjemaet ser ut og hvilken funksjonalitet det har, bestemmes av tjenesteeier. Det er laget tre eksempelskjema som er tenkt benyttet som utgangspunkt for utforming av brukergrensesnitt­et, basert på tre ulike interaksjonsmønstre.\nFølgende vedlegg er relevante:\n Vedlegg A: Skjemautvikling i InfoPath inneholder en innføring i skjemautvikling i InfoPath for bruk rettet mot TUL. Vedlegg B: Utforming av brukergrensesnitt for skjema beskriver utvikling av brukergrensesnitt i InfoPath i forhold til presentasjon i SBL. Vedlegg C: Utforming av brukervennlige tjenester gir veiledning i utforming av brukervennlige og tilgjengelige tjenester. Her forklares også de tre eksempelskjemaene som kan benyttes som utgangspunkt. Vedlegg G: Web Service-oppslag fra InfoPath beskriver hvordan data kan hentes til InfoPath ved bruk av sekundære datakilder.  Når du skal utvikle denne typen tjenester, anbefales det at du benytter følgende fremgangsmåte:\n Vurder innhold og eventuell funksjonalitet i innsynstjenesten du skal lage, og finn ut hvilket eksempel som best dekker behovene. Ta en kopi av eksempeldokumentet og last opp i skjemabiblioteket på utgavearbeidsflaten. Legg inn datakilde og kall av webservices (se Vedlegg G). Ferdigstill layout og eventuell funksjonalitet for navigasjon og datapresentasjon.  Altinn webservice-mapper InfoPath-skjemaet må designes slik at det kan hente data fra en Web Service hos en etat og presentere dette i Altinn. Kall til alle eksterne web services fra InfoPath i Altinn skal gå gjennom en proxy, eller såkalt mapper. Dette er en intern web service som kaller en ekstern web service, og som returnerer resultatet fra denne. Hovedgrunnen til at en slik proxy må benyttes er at adressen som legges inn i InfoPath skal være lik, uavhengig av hvor selve web servicen som returnerer data befinner seg. En mapper kan inneholde en eller flere operasjoner.\nDenne proxy-tjenesten vil være ansvarlig for:\n Kalle etatens web service(s) og returnere feltene på ønsket format for bruk i InfoPath og fasade. Hvis ønsket: Hente ut nødvendig ekstra informasjon fra Altinn (eksempelvis ER-roller for en reportee) Hvis ønsket: Sende bekreftelse til tjenesteeier for benyttet tjeneste hvis etatens web service returnerer uten feil Sørge for at eventuelle feilsituasjoner logges og håndteres forsvarlig.  For utarbeidelse av Web Service mappere av innsynstjenester så er dette kode som tjenesteeier utvikler i Visual Studio, og som deretter kvalitetsikres av både applikasjonsleverandør og driftsleverandør før driftsleverandør produksjonssetter dette.\nHver tjenesteeier vil ha sitt eget mapper-prosjekt.\nFiguren under viser i orange (med tall) de områdene som tjenesteeier kan utvikle selv, og hvordan de henger sammen.\n Innsynstjenestens InfoPath-skjema i TUL inneholder, i tillegg til den XSD-baserte hoveddatakilden, en sekundær datakilde (web service oppslag) som peker på mapperen som kjører i SBL. Dette betyr skjema kan enhetstestes mot mapperen før det migreres over i SBL. Et skjema kan gjøre oppslag mot flere mapper-operasjoner (inneholde flere sekundære datakilder), og rent teknisk gjøre oppslag mot flere mappere. Se Vedlegg G: Web Service-oppslag fra InfoPath-skjema for hvordan mapper (sekundær datakilde) legges inn med riktig adresse i InfoPath-skjema. De data som skal kunne arkiveres må kopieres over i hoveddatakilden. Mapperen kan benyttes både fra InfoPath i TUL, form server i SBL og fra eksterne mapper fasader som kan tilgjengeliggjøre én eller flere operasjoner i en mapper eksternt mot sluttbrukersystemer. I tillegg så kan også en mapper benyttes av en betingelse (condition). En mapper skal kodes i C# i Visual Studio, og kan benytte interne tjenester i Altinn. Det er mao ikke en absolutt nødvendighet at mappere gjør eksterne kall videre. Interne tjenester er definert i tjenestekatalogen. Web services som kjøres hos tjenesteeier er 100% tjenesteeiers ansvar. Før en slik tas i bruk fra Altinn bør krav til SLA, estimert belastning, svartid, etc nøye vurderes. Det må også bestilles brannmuråpning av Driftsleverandør. Fasade. Hvis ønskelig så kan tjenesteeier eksponere operasjoner i mapper ekstern mot sluttbrukersystemer. Da må et ekstra fasadelag utvikles i Visual Studio som igjen benytter mapperen for å hente data og interne tjenester for for eksempel arkivering og signering. Fasade behøves ikke å utvikles hvis ekstern tilgang ikke skal tilbys. Siden ekstern tjenestekode og utgavekode vil være naturlige inn-parametre i en fasadeoperasjon så er det fornuftig å også inkludere disse som inn-parametre for mapperen.\nFor detaljer og retningslinjer rundt design og utvikling av Altinn mappere, se:   Guide for mapperutvikling Vedlegg F: Bruk av Visual Studio Vedlegg G: Web Service-oppslag fra InfoPath  Komplekst datainnhold Det er viktig å forstå at innsynstjenesten i Altinn, og mapperen som den benytter, er to forskjellige ting. Det er innsynstjenesten som “eier” dataformatet (xsd) og som har ekstern tjenestekode og utgavekode. En innsynstjeneste kan benytte én eller flere mapper-operasjoner og også flere mappere. En mapper kan benyttes som datakilde av flere innsynstjenester.\nDette blir spesielt viktig å ha i minne hvis det er ønskelig å eksponere en innsynstjeneste eksternt mot sluttbrukersystem (SBS). Som du ser på figuren i forrige kapittel så er det teknisk sett mapperen som eksponeres via fasade, og ikke innsynstjenesten.\nDet innebærer at eksternt eksponerte mapper-operasjoner må returnere “komplette” data som oppfyller kravene som XSD-formatet til innsynstjenesten stiller, slik at InfoPath (innsynstjenesten) kan vise dataene etter at de er arkivert.\nDet vil si at Innsynstjenester som eksempelvis benytter flere mapper-operasjoner, eller en webservice sin output som input til en annen web service (to-stegs drilldown) ikke kan benyttes for sluttbrukersystemer uten at det tilgjengeliggjøres for eksempel en ”stor” mapper-operasjon som kan tilgjengeliggjøre et “komplett” datasett.\nHvis innsynstjenesten omfatter mer data enn det som kan hentes og/eller presenteres i én porsjon, må du legge omtanke i hvordan dataene struktureres, både mht. hvordan webservices kalles, og hvordan dataene lagres i skjema. Dette har betydning for funksjonalitet for utskrift og arkivering, og for bruken fra sluttbrukersystem.\nHvis arkivering og signering skal eksponeres eksternt, så må dette kodes inn i fasaden med bruk av operasjonen SignAndArchiveLookupService i den interne tjenesten Lookup.\nUtviklingstiden, og kompleksitet både i mapper og InfoPath vil derfor kunne reduseres kraftig hvis etatens web service returnerer data på XSD-formatet som benyttes i innsynstjenesten. Da vil data for alle felter kunne kopieres inn med noen få kodelinjer i InfoPath, og ekstern fasade vil kunne returnere data uforandret.\nInnsynstjenester med støtte for direkte kall Du kan lage en mapper som kan fungere uten hjelp av InfoPath. Dette er funksjonalitet du normalt kan se bort fra. For å lage en slik mapper må du implementere et spesielt grensesnitt kalt ILookUpMapper fra Altinn.SBL.ServiceEngine.LookUpMapper.PnC.dll biblioteket. I praksis betyr det at mapper­applikasjonen har en operasjon med navn «ExecuteLookUp». I SBL er det implementert en generisk klient som kan benyttes i direkte kall som da går utenom InfoPath. En mapper kan implementere dette alene eller i tillegg til andre operasjoner som brukes fra et InfoPath-skjema.\nSpesielle felter for mapper med direkte kall Disse feltene skal bare fylles ut dersom du bruker en mapper som har støtte for direkte kall.\nMappernavn Dette feltet skal inneholde en del av URI-en for mapperens endepunkt. Alle mappere har nesten nøyaktig samme URL for endepunktsadresse: http://mapperservices.altinn.no:87/ServiceEngine/Mappers/{0}/Mapper.svc\nMappernavn skal fylles ut med den delen som her er representert med \u0026ldquo;{0}\u0026rdquo;. Hvis URL-en for eksempel er http://mapperservices.altinn.no:87/ServiceEngine/Mappers/BRG/OA/Mapper.svc så skal mappernavn inneholde \u0026ldquo;BRG/OA\u0026rdquo;.\nDet er viktig å merke seg at dette feltet bare skal fylles ut om mapperen har implementert ILookUpMapper. Hvis feltet er fylt ut vil SBL tro at mapperen støtter direkte kall, og dermed fremstille tjenesten slik i ServiceMetaData-informasjon.\nResponsskjema Dette feltet skal inneholde en teknisk beskrivelse av innsynstjenestens svar. Det kan for eksempel være en XSD- eller et JSON-skjema som beskriver datatypen som blir returnert av innsynstjenesten (mapperen). Innholdet i feltet vil ikke bli brukt av Altinn (SBL), men kan gi verdifull informasjon til de som implementerer et sluttbrukersystem. Feltet er valgfritt selv for tjenester med støtte for direkte kall fra SBL.\nRequestskjema Dette har samme funksjon som responsskjema-feltet, men beskriver isteden datatypen til forespørselen. Dette feltet er mindre aktuelt siden det i dagens løsning ikke er laget støtte for å ha komplekse typer som input til en innsynstjeneste. Det er isteden laget støtte for noe som er blitt kalt QueryData. Her anbefales det at mapper implementeres til å kunne tolke OData (http://msdn.microsoft.com/en-us/library/hh169248(v=nav.70).aspx). OData-parameter vil sendes inn til mapper gjennom queryData-parameteren til ExecuteLookUp. OData vil normalt sett være knyttet til tjenestens svar (responsskjema), men i dette feltet kan man altså definere en annen type om ønskelig. Feltet er valgfritt selv for tjenester med støtte for direkte kall fra SBL.\nSideegenskaper Du må definere sideegenskaper for at det skal være mulig i SBL å vite for eksempel hvilke InfoPath-visninger som skal vises for presentasjon og navigasjon, og hvilke som skal brukes for utskrift og eventuelt for signering.\nDet er ikke nødvendig å lage egen visning for signering, hvis den kan inneholde det samme som utskriften. Når brukeren velger å arkivere i SBL, benyttes signeringsvisning hvis den finnes, hvis ikke brukes utskriftsvisning, hvis ikke brukes webvisningen direkte.\nInnholdsreferanser Presentasjonsfelt hjelper sluttbruker å finne skjemaet i SBL.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/api/instance/",
	"title": "Instans",
	"tags": [],
	"description": "Hvordan gjøre endringer på applikasjonsinstanser",
	"content": "Denne siden er foreløpig ikke fullstendig, mer informasjon vil komme på et senere tidspunkt.\nEn instansiert applikasjon vil ha et tilhørende instans-objekt. Dette objektet inneholder metadata om den spesifikke instansen. Om du ønsker å lære mer om instans og api\u0026rsquo;et rundt så kan du lese teknisk dokumentasjon om dette her..\nSubstatus Som app-eier kan man sette en substatus på instansen, dette for å kunne gi sluttbruker ytterligere informasjon om hvilken tilstand instansen befinner seg i. Substatus vil vises frem både i meldingsboksen i Altinn og på kvitteringssiden.\nSubstatusen er et objekt som kan settes på instansobjektet. Hvordan dette gjøres står beskrevet her.. Substatus er et enkelt objekt som inneholder label og description. Disse feltene kan enten inneholde ren tekst, eller en tekstnøkkel som referer til applikasjonstekstene. Verdt å merke seg at vi ikke støtter variabler i tekst for disse tekstene. I meldingsboksen er det satt en begrensning på 25 tegn på label, og inneholder label mer enn 25 tegn vil bare de 22 første tegnene bli brukt og \u0026ldquo;\u0026hellip;\u0026rdquo; lagt til på slutten.\nEksempel på et substatus-objekt:\n{ \u0026#34;label\u0026#34;: \u0026#34;some.label\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;Beskrivelse i klarteskst\u0026#34; } Under ser du du eksempler på hvordan substatus ser ut i meldingsboksen og i kvitteringen hvor substatusen er satt opp på følgende måte:\n{ \u0026#34;label\u0026#34;: \u0026#34;Godkjent\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;Din søknad er godkjent av kongen.\u0026#34; } Automatisert sletting av utkast Som applikasjonseier kan man i noen tilfeller ønske å slette sluttbrukerens utkast av en tjeneste dersom det har gått en viss tid siden instansiering. For å oppnå dette er det tre steg som må tas.\n Applikasjonen må konfigureres slik at tjenesteeier har lov til å slette instanser Identifiser hvilke instanser som ikke er fullført v.h.a. spørring mot storage Slette instans via endepunkt eksponert i applikasjonen  Steg 1: Konfigurasjon av applikasjon Standarden for en applikasjon er at tjenesteeier ikke har lov til å slette instanser. For å få lov til dette må det legges til en ny regel i policy.xml den finnes i App/config/authorization. Regelen kan kopieres fra regelbiblioteket.\nSteg 2: Identifiser hvilke instanser som ikke er fullført v.h.a. spørring mot storage Storage eksponerer et sett med queryparametre som kan brukes når man skal hente ut et sett med instanser. i eksempelet nedenfor får man ut alle instanser som av en gitt applikasjon som er instansiert 30. september 2020 eller tidligere, og som enda står i utfyllingssteget.\nHer kan man prøve seg litt fram for å finne de rette queryparameterene for akkurat deres tjeneste.\nHTTP GET https://platform.altinn.no/storage/api/v1/instances?appId={org}/{app}\u0026amp;created=lte:2020-09-30\u0026amp;process.currentTask=Task_1\nSteg 3: Slette instans via endepunkt eksponert i applikasjone Når man har identifisert instansene som skal slettes er det en smal sak å sende et kall til applikasjonen for å få slettet disse. Da må id på instansen (instanceOwner.partyId/instanceGuid) oppgis.\nHTTP DELETE https://ttd.apps.altinn.no/ttd/apps-test/instances/{instanceOwner.partyId}/{instanceGuid}\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/logic/instantiation/",
	"title": "Instansiering",
	"tags": [],
	"description": "Hvordan legge til logikk som skal kjøres ved instansiering?",
	"content": "Introduksjon Applikasjonslogikk knyttet til instansiering kan defineres i InstantiationHandler.cs. For en helt ny app vil det være to funksjoner implementert i denne klassen:\n RunInstantiationValidation - lag egne sjekker for å avgjøre om en bruker/avgiver får lov til å instansiere. DataCreation - lag tilpasset prefill data.  Egendefinerte valideringsregler for instansiering Som tidligere nevnt, kan sjekker for instansiering defineres i RunInstantiationValidation. Tilgang til Register- og Profile-tjenester er inkludert i InstantiationHandler.cs-filen, som tillater å gjøre sjekker mot disse. Valideringsregler for instansiering kan innebære å validere tidspunkt til spesifikke brukerrestriksjoner og komplekse sjekker som krever eksterne API-kall.\nEksempel 1 - Insansiering kun tillatt før kl 15:00 på en gitt dag public async Task\u0026lt;InstantiationValidationResult\u0026gt; RunInstantiationValidation(Instance instance) { DateTime now = DateTime.Now; if (now.Hour \u0026lt; 15)  { return new InstantiationValidationResult() { Valid = false, Message = \u0026#34;ERROR: Instantiation not possible before 3PM.\u0026#34; }; } return null; } Eksempel 2 - Instansiering kun tillatt for applikasjonseier Kodebasen som eksempelet er basert på er tilgjengelig her. (krever innlogging i altinn.studio)\nFor å kunne begrense instansiering til en gitt entitet, i dette tilfellet applikasjonseier, er det to filer som må endres: App.cs og InstantiationHandler.cs.\nI App.cs tilgjengeliggjøres http-konteksten og brukerdata (claims principals) hentes ut fra konteksten ved å kalle _httpContext.User.\nFor å validere instansieringen kan man sjekke ett av to claims i konteksten. Enten organisasjonsen trebokstavsforkortelse eller organisasjonsnummeret. Valideringen skjer i InstantiationHandler.cs og eksempelet nedenfor bruker organisasjonsforkortelsen.\nFor å validere basert på organisasjonsnummer kan du følge eksempelet nedenfor, og bytte ut AltinnCoreClaimTypes.Org med AltinnCoreClaimTypes.OrgNumber.\nom må gjøres i denne file ser du nedenfor.\npublic async Task\u0026lt;InstantiationValidationResult\u0026gt; RunInstantiationValidation(Instance instance, ClaimsPrincipal user) { var result = new InstantiationValidationResult(); string org = string.Empty; if (user.HasClaim(c =\u0026gt; c.Type == AltinnCoreClaimTypes.Org)) { Claim orgClaim = user.FindFirst(c =\u0026gt; c.Type == AltinnCoreClaimTypes.Org); if (orgClaim != null) { org = orgClaim.Value; } } if (!string.IsNullOrWhiteSpace(org) \u0026amp;\u0026amp; org.Equals(\u0026#34;ttd\u0026#34;)) { result.Valid = true; } else { result.Valid = false; result.Message = \u0026#34;Only ttd is allowed to instantiate this application.\u0026#34;; } return await Task.FromResult(result); } Eksempel 3 - Instansiering kun tillatt mellom gitte datoer For å kunne begrense instansiering til en gitt tidsrom, i dette eksempelet januar 2021, er det én fil som må endres:InstantiationHandler.cs.\nMetoden RunInstantiationValidation vil kjøre hver gang noen prøver å instansiere applikasjonen, så her plasseres logikk for å verifiere at tidspunktet er innenfor den tillatte rammen.\npublic async Task\u0026lt;InstantiationValidationResult\u0026gt; RunInstantiationValidation(Instance instance) { InstantiationValidationResult result = null; DateTime now = TimeZoneInfo.ConvertTime(DateTime.UtcNow, TimeZoneInfo.FindSystemTimeZoneById(\u0026#34;Central European Standard Time\u0026#34;)); if (now \u0026lt; new DateTime(2021, 01, 01)) { result = new InstantiationValidationResult { Valid = false, Message = \u0026#34;Application cannot be instantiated before 1.1.2021\u0026#34; }; } else if (now \u0026gt; new DateTime(2021, 01, 31)) { result = new InstantiationValidationResult { Valid = false, Message = \u0026#34;Application cannot be instantiated after 25.1.2021\u0026#34; }; } return await Task.FromResult(result); } Det er lagt inn logikk knyttet til datohåndtering for å forsikre oss om at det er norsk tid som gjelder og som blir brukt i valideringen.\nDateTime now = TimeZoneInfo.ConvertTime(DateTime.UtcNow, TimeZoneInfo.FindSystemTimeZoneById(\u0026#34;Central European Standard Time\u0026#34;)); Videre gjøres det en enkel sjekk for å se om nåværende tidspunkt er innenfor rammene\n(now \u0026lt; new DateTime(2021, 01, 01) Dersom man ikke oppfyller kravene blir returobjektet populert med et InstantiationValidationResult objekt som inneholder to felter: Valid: en boolean som benyttes for å si om instansieringen er gyldig eller ikke Message: en string som kan inneholde en feilmelding dersom det ikke er gyldig\nresult = new InstantiationValidationResult { Valid = false, Message = \u0026#34;Application cannot be instantiated before 1.1.2021\u0026#34; }; I tillegg har man muligheten til å legge benytte property ValidParties: en liste med de partiene som kan instansiere applikasjonen.\nResultatet av en feilet validering er vist nedenfor:\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/configuration/authorisation/json/",
	"title": "Regelbibliotek JSON - UNDER ARBEID!",
	"tags": [],
	"description": "Bibliotek av autorisasjonsregler som kan brukes i en app. Husk å bytte ut tags ([ORG], [APP], [RULE_ID]) med din egen data.",
	"content": "[ORG] can instantiate an instance of [ORG]/[APP] [ORG_1] og [ORG_2] kan her være like eller ulike. I tilfellet at de er ulike vil [ORG_1] tilsvare applikasjonseieren og [ORG_2] være en annen organisasjon som får lov til å instansiere.\n\u0026lt;xacml:Rule RuleId=\u0026#34;urn:altinn:example:ruleid:[RULE_ID]\u0026#34; Effect=\u0026#34;Permit\u0026#34;\u0026gt; \u0026lt;xacml:Description\u0026gt;[ORG_2] can instantiate an instance of [ORG_1]/[APP]\u0026lt;/xacml:Description\u0026gt;  \u0026lt;xacml:Target\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG_2]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG_1]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[APP]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:app\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;instantiate\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:1.0:action:action-id\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;/xacml:Target\u0026gt; \u0026lt;/xacml:Rule\u0026gt; { \u0026#34;$schema\u0026#34;: \u0026#34;https://altinncdn.no/schemas/json/policy/policy.schema.v1.json\u0026#34;, \u0026#34;Policy\u0026#34;: { \u0026#34;Rules\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Permit\u0026#34;, \u0026#34;Description\u0026#34;: \u0026#34;[ORG_2] can instantiate an instance of [ORG_1]/[APP]\u0026#34;, \u0026#34;Subjects\u0026#34;: [ \u0026#34;org:[ORG_2]\u0026#34;  ], \u0026#34;Resources\u0026#34;: [ \u0026#34;app:[ORG_1]/[APP]\u0026#34;  ], \u0026#34;Actions\u0026#34;: [ \u0026#34;instantiate\u0026#34;  ] } ] } } User with role REGNA can read instances of [ORG]/[APP] when it is in Task_1 Ved å endre på rolle og task i denne regelen vil du kunne gi rettigheter til å lese instansdata på en gitt task i prosessflyten.\n\u0026lt;xacml:Rule RuleId=\u0026#34;urn:altinn:example:ruleid:[RULE_ID]\u0026#34; Effect=\u0026#34;Permit\u0026#34;\u0026gt; \u0026lt;xacml:Description\u0026gt;User with role REGNA can read instances of [ORG]/[APP] when it is in Task_1\u0026lt;/xacml:Description\u0026gt;  \u0026lt;xacml:Target\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:3.0:function:string-equal-ignore-case\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;REGNA\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:rolecode\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[APP]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:app\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;Task_1\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:task\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;read\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:1.0:action:action-id\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;/xacml:Target\u0026gt; \u0026lt;/xacml:Rule\u0026gt; { \u0026#34;$schema\u0026#34;: \u0026#34;https://altinncdn.no/schemas/json/policy/policy.schema.v1.json\u0026#34;, \u0026#34;Policy\u0026#34;: { \u0026#34;Rules\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Permit\u0026#34;, \u0026#34;Description\u0026#34;: \u0026#34;User with role REGNA can read instances of [ORG]/[APP] when it is in Task_1\u0026#34;, \u0026#34;Subjects\u0026#34;: [ \u0026#34;role:REGNA\u0026#34;  ], \u0026#34;Resources\u0026#34;: [ \u0026#34;app:[ORG]/[APP]/Task_1\u0026#34;  ], \u0026#34;Actions\u0026#34;: [ \u0026#34;read\u0026#34;  ] } ] } } [ORG] can write to an instance of [ORG]/[APP] in any task or event Denne regelen kan brukes dersom applikasjonseier skal kunne oppdatere instanser uavhengig av hvor de er i prosessflyten sin.\n\u0026lt;xacml:Rule RuleId=\u0026#34;urn:altinn:example:ruleid:[RULE_ID]\u0026#34; Effect=\u0026#34;Permit\u0026#34;\u0026gt; \u0026lt;xacml:Description\u0026gt;[ORG] can write to instances of [ORG]/[APP] in any task or event\u0026lt;/xacml:Description\u0026gt;  \u0026lt;xacml:Target\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[APP]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:app\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;write\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:1.0:action:action-id\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;/xacml:Target\u0026gt; \u0026lt;/xacml:Rule\u0026gt; { \u0026#34;$schema\u0026#34;: \u0026#34;https://altinncdn.no/schemas/json/policy/policy.schema.v1.json\u0026#34;, \u0026#34;Policy\u0026#34;: { \u0026#34;Rules\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Permit\u0026#34;, \u0026#34;Description\u0026#34;: \u0026#34;[ORG] can write to instances of [ORG]/[APP] in any task or event\u0026#34;, \u0026#34;Subjects\u0026#34;: [ \u0026#34;org:[ORG]\u0026#34;  ], \u0026#34;Resources\u0026#34;: [ \u0026#34;app:[ORG]/[APP]\u0026#34;  ], \u0026#34;Actions\u0026#34;: [ \u0026#34;write\u0026#34;  ] } ] } } User with role REGNA or DAGL can confirm instances of [ORG]/[APP] when it is in Task_2 Denne reglen begrenser rettigheten til å bekrefte en instans i en bestemt task til kun to roller. Ved å enten modifisere task eller roller vil du her kunne sette regler for hvem som får bekrefte instansen i ulike faser av prosessen.\n\u0026lt;xacml:Rule RuleId=\u0026#34;urn:altinn:example:ruleid:[RULE_ID]\u0026#34; Effect=\u0026#34;Permit\u0026#34;\u0026gt; \u0026lt;xacml:Description\u0026gt;User with role REGNA or DAGL can confirm instances of [ORG]/[APP] when it is in Task_2\u0026lt;/xacml:Description\u0026gt;  \u0026lt;xacml:Target\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:3.0:function:string-equal-ignore-case\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;REGNA\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:rolecode\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:3.0:function:string-equal-ignore-case\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;DAGL\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:rolecode\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[APP]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:app\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;Task_2\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:task\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;confirm\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:1.0:action:action-id\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;/xacml:Target\u0026gt; \u0026lt;/xacml:Rule\u0026gt; { \u0026#34;$schema\u0026#34;: \u0026#34;https://altinncdn.no/schemas/json/policy/policy.schema.v1.json\u0026#34;, \u0026#34;Policy\u0026#34;: { \u0026#34;Rules\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Permit\u0026#34;, \u0026#34;Description\u0026#34;: \u0026#34;User with role REGNA or DAGL can confirm instances of [ORG]/[APP] when it is in Task_2\u0026#34;, \u0026#34;Subjects\u0026#34;: [ \u0026#34;role:REGNA\u0026#34;, \u0026#34;role:DAGL\u0026#34;  ], \u0026#34;Resources\u0026#34;: [ \u0026#34;app:[ORG]/[APP]/Task_2\u0026#34;  ], \u0026#34;Actions\u0026#34;: [ \u0026#34;confirm\u0026#34;  ] } ] } } User with role REGNA can read instanes of [ORG]/[APP] when it is in EndEvent_1 Denne regler tillatter en bruker med den gitte rollen å lese instansdata etter at prosessen er avsluttet. Dette vil bl.a. inkludere å laste ned vedlegg og kvitteringer knyttet til instansen.\n\u0026lt;xacml:Rule RuleId=\u0026#34;urn:altinn:example:ruleid:[RULE_ID]\u0026#34; Effect=\u0026#34;Permit\u0026#34;\u0026gt; \u0026lt;xacml:Description\u0026gt;User with role REGNA can read instanes of [ORG]/[APP] when it is in EndEvent_1\u0026lt;/xacml:Description\u0026gt;  \u0026lt;xacml:Target\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:3.0:function:string-equal-ignore-case\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;REGNA\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:rolecode\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[APP]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:app\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;EndEvent_1\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:end-event\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;read\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:1.0:action:action-id\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;/xacml:Target\u0026gt; \u0026lt;/xacml:Rule\u0026gt; { \u0026#34;$schema\u0026#34;: \u0026#34;https://altinncdn.no/schemas/json/policy/policy.schema.v1.json\u0026#34;, \u0026#34;Policy\u0026#34;: { \u0026#34;Rules\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Permit\u0026#34;, \u0026#34;Description\u0026#34;: \u0026#34;User with role REGNA can read instanes of [ORG]/[APP] when it is in EndEvent_1\u0026#34;, \u0026#34;Subjects\u0026#34;: [ \u0026#34;role:REGNA\u0026#34;  ], \u0026#34;Resources\u0026#34;: [ \u0026#34;app:[ORG]/[APP]/EndEvent_1\u0026#34;  ], \u0026#34;Actions\u0026#34;: [ \u0026#34;read\u0026#34;  ] } ] } } Rule that defines that [ORG] can complete an instance of [ORG]/[APP] which state is at the end event. Denne regelen tillatter applikasjonseier å utføre en kvittering på at de er ferdig med en instans. Instansen må ha en fullført process.\n\u0026lt;xacml:Rule RuleId=\u0026#34;urn:altinn:example:ruleid:5\u0026#34; Effect=\u0026#34;Permit\u0026#34;\u0026gt; \u0026lt;xacml:Description\u0026gt;Rule that defines that [ORG] can complete an instance of [ORG]/[APP] which state is at the end event.\u0026lt;/xacml:Description\u0026gt;  \u0026lt;xacml:Target\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[APP]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:app\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;EndEvent_1\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:end-event\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;complete\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:1.0:action:action-id\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;/xacml:Target\u0026gt; \u0026lt;/xacml:Rule\u0026gt; { \u0026#34;$schema\u0026#34;: \u0026#34;https://altinncdn.no/schemas/json/policy/policy.schema.v1.json\u0026#34;, \u0026#34;Policy\u0026#34;: { \u0026#34;Rules\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Permit\u0026#34;, \u0026#34;Description\u0026#34;: \u0026#34;Rule that defines that [ORG] can complete an instance of [ORG]/[APP] which state is at the end event.\u0026#34;, \u0026#34;Subjects\u0026#34;: [ \u0026#34;org:[ORG]\u0026#34;  ], \u0026#34;Resources\u0026#34;: [ \u0026#34;app:[ORG]/[APP]/EndEvent_1\u0026#34;  ], \u0026#34;Actions\u0026#34;: [ \u0026#34;complete\u0026#34;  ] } ] } } "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/logic/calculation/",
	"title": "Kalkuleringer",
	"tags": [],
	"description": "Hvordan legge til kalkuleringer?",
	"content": "Kalkulering Kalkuleringer kjøres på serveren, og er basert på input fra sluttbruker/skjemadata. Kalkuleringer trenger ikke å være rent matematiske, det kan også være å overføre verdier mellom felter, resultater av API-kall, osv.\nKalkuleringer kodes i C#, i filen CalculationHandler.cs. Denne filen kan redigeres enklest ved å laste ned kildekoden til app\u0026rsquo;en og redigere på egen maskin, f.eks. i Visual Studio Code. Datamodellen med skjemadata er tilgjengelig og kan redigeres/oppdateres etter ønske/behov.\nKalkuleringer kjøres hver gang data lagres. Med auto-lagring på (dette er standard) vil kalkulering kjøres hver gang en bruker har gjort en endring og hopper ut av et felt.\nVIKTIG: Når en kalkulering er kjørt som har oppdatert dataene på server, må front-end få beskjed om dette, sånn at de oppdaterte dataene kan lastes inn. For å gjøre dette, må Calculate-metoden returnere true om det er noen av dataene som har blitt oppdatert. Hvis dette ikke gjøres, vil de oppdaterte dataen ikke være synlig for sluttbruker før de ev. laster inn siden på nytt.\rEksempel på kode som erstatter en gitt verdi (12345678) med en annen verdi (22222222) i et gitt felt vises under:\npublic bool Calculate(object data) { if (data.GetType() == typeof(Skjema)) { // Cast the data object to model type to access all fields  Skjema model = (Skjema)data; // Get the existing value of a specified field, if it exists  string tlf = model? .OpplysningerOmArbeidstakerengrp8819? .OpplysningerOmArbeidstakerengrp8855? .OppgavegiverTelefonnummerdatadef27335?.value; // Check if the value exists and is equal to \u0026#34;12345678\u0026#34;  if (tlf != null \u0026amp;\u0026amp; tlf == \u0026#34;12345678\u0026#34;)  { // Replace the value in the field with a new value, \u0026#34;22222222\u0026#34;  model .OpplysningerOmArbeidstakerengrp8819 .OpplysningerOmArbeidstakerengrp8855 .OppgavegiverTelefonnummerdatadef27335.value = \u0026#34;22222222\u0026#34;;  // Return true to trigger a re-loading of data  return true; } } // Return false if no changes have been made  return false; } "
},
{
	"uri": "https://altinn.github.io/docs/tul/funksjonalitet/kodelister/",
	"title": "Kodelister",
	"tags": [],
	"description": "En kodeliste er en liste med faste verdier som for eksempel postnummer og poststed eller kommuner og landkoder.",
	"content": "Kodelisten brukes typisk i nedtrekkslister i skjema i sluttbrukerløsningen. En kodeliste kan brukes på tvers av tjenesteeiere og tjenester, eller den kan spesiallages for enkelte tjenesteeiere eller tjenester. Kodelister vil vedlikeholdes utenfor den enkelte tjeneste og må migreres over til sluttbrukerløsningen på linje med tjenestene.\nKodelistene nåes ved å klikke på kodeliste-lenken til høyre på startsiden. Du kommer da til kodelistebiblioteket.\nAdministrere kodelister Dette er en oversikt over alle kodelistene som finnes i TUL. Alle kodelister som er tilgjengelig vises med navn, hvilken person som har opprettet kodelisten (eier), samt informasjon om status og endringstidspunkt. Listen kan sorteres og filtreres ved å trykke på kolonneoverskriftene. Du henter fram en enkelt kodeliste ved å trykke på kodelistenavnet i listen. Klikk på Ny for å legge til en ny kodeliste.\nNy kodeliste En kodeliste opprettes ved å klikke på Ny i toppen av kodelistebiblioteket. Det er viktig at navnet på kodelisten ikke inneholder spesialtegn, samt norske bokstaver (æ,ø,å). Dvs, tegn som ikke kan brukes er typisk ”!” ,”}” ,” (” ,”\u0026amp;” ,”%” ,”$” ,” ’ ” ,”*” ,”é” ,”è” ,”á” ,”ä” ,”æ” ,”ø” ,”å” etc. Kodelistenavnet brukes kun for identifikasjon, og vil ikke vises noe sted for sluttbruker. Det er også mulig å legge til en beskrivelse. Denne heller brukes ikke annet i TUL SharePoint. For å endre beskrivelse i ettertid, må man navigere til kodelisten og navigere til innstillinger. Der kan beskrivelsen endres. Du kan migrere kodelisten ved å velge Migrer i Handlinger-menyen. For å se hvilke versjoner av kodelisten som finnes i hvilke miljøer, velg Migreringsstatus i samme meny.\nVedlikeholde kodelister Ved å klikke på ønsket kodeliste i listen kan du lese og endre kodelisten. Sorter listen ved å trykke på kolonneoverskriften du ønsker å sortere på, for eksempel Språk. Endre et enkelt element i listen ved å trykke på navnet til det elementet du ønsker å endre. Du kan også vedlikeholde kodelisten i Excel-visning ved å velge Rediger i dataark Handlinger.\nHver rad i listen inneholder følgende kolonner som kan editeres:\n Tittel: Denne verdien brukes kun i TUL i kodelistvisning, og er ikke brukt i skjema Kode: Denne verdien må være unik og angir koden/nøkkelen til verdiene for den gitte raden. Merk at koden må være den samme for alle språkene av den samme raden. Språk: Angir språket raden er på Verdi 1-3: Angir verdier som kan kobles mot gitt kode  I en kodeliste må det finnes like mange rader for alle språk det finnes rader på. F.eks., hvis man har tre rader på engelsk, og kodelisten skal defineres for bokmål også, så må det være tre rader med de samme kodene her også. Det må også være et likt antall verdier for alle rader. Grunnen til at det er tre verdier som kan defineres, er for at man skal kunne lagre mer informasjon om en kode. F.eks. kan en rad i kodelisten se slik ut:\n   Kode Verdi 1 Verdi 2 Verdi 3 Språk     NO Norge Oslo NOK 1044 (bokmål)   NO Noreg Oslo NOK 2068 (nynorsk)   NO Norway Oslo NOK 1033 (english)    Eller slik:\n   Kode Verdi 1 Verdi 2 Verdi 3 Språk     NOK Norge 100  1044 (bokmål)   SEK Sverige 100  1044 (bokmål)   USD USA 1  1044 (bokmål)    Kodelisten må deretter migreres etter den er ferdig definert. Statusen til kodelisten vil da endres fra Endret til Migrert.\nRediger i dataark Når du er inne på kodelisten du ønsker å redigere, så kan du velge \u0026ldquo;rediger denne listen\u0026rdquo;.\nAlternativt kan du velge \u0026ldquo;Hurtigredigering\u0026rdquo; fra ribbon.\nDa vil du åpne en dataarkredigering på en lignende måte som Excel. Man kan fritt kopiere innhold mellom visningen i dataark og Excel, så lenge man tar hensyn til noen felter. I kodelistene er det noen felter hvor innholdet fylles inn automatisk, eller er styrt av forhåndsbestemte verdier. Disse verdiene er: ID, Språk, Endret av og Endret, disse vil det derfor ikke være mulig å kopiere fra Excel og lime inn i kodelisten under dataarkvisningen. For å komme tilbake til vanlig visning kan du klikke på «Stopp redigering av denne listen» eller «Vis» i ribbon.\nMigrere kodeliste Før kodelisten kan tas i bruk i et skjema, må den migreres til SBL i samme miljø som utgave som benytter kodelisten migreres til. Kodelisten kan migreres til både testmiljøer og til produksjonsmiljø. Dersom du velger å migrere til produksjonsmiljø, sendes det en bestilling om produksjonssetting.\nDu kan migrere en kodeliste til flere miljøer samtidig ved å huke av sjekkboksen foran miljøene du ønsker. Deretter velge versjon; tidligere migrerte versjoner eller den nyeste. Den nyeste vil være den som er gjeldene i kodelistebiblioteket p.t. Ved å klikke OK startes migreringen og migreringsstatussiden med migreringsoversikt vises.\nMigreringsoversikten for kodelister inneholder en komplett oversikt over alle migreringer som er gjort av denne kodelisten. Du vil også få beskjed om migreringen var vellykket eller ikke. Denne meldingen vil ikke vises hvis du navigerer direkte til migeringsstatussiden fra kodelistebiblioteket.\nI migreringsloggen vil du også kunne se XML-kildekoden for den enkelte migrerte kodeliste ved å klikke på ”Vis XML” til høyre for hvert element i listen over migrerte versjoner av en kodeliste.\nEksportere kodeliste En kodeliste kan eksporteres fra TUL, både før og etter at denne er migrert. Du går da inn på kodelisten og velger “Handlinger” fra nedtrekksmenyen. I denne menyen velger du deretter “Eksporter til regneark”. Det er viktig og merke seg at når du skal eksportere en kodeliste, må du ha et program som er kompatibelt med SharePoint. Dette kan da være Microsoft Excel.\nSlette kodeliste En kodeliste kan enkelt slettes ved å velge slett fra kodelistens kontekstmeny, uavhengig av om den er migrert eller ikke.\nSortering av kodeliste Fast for alle kodelister er at de sorteres alfabetisk på kolonnen ”Verdi1”. Det betyr at når kodelisten migreres til SBL og hentes ut igjen og inn i skjema, presenteres verdiene sortert på kolonnen innefor hvert språk. Merk at dette er en tekstsortering, slik at man behøver ledende 0’ere for tall.\nDenne funksjonaliteten kan utnyttes på to måter:\n Benytte \u0026ldquo;Verdi1\u0026rdquo; som sortert visningsnavn.\nAlt som blir vist i nedtrekkslisten er da sortert alfabetisk. Benytte \u0026ldquo;Verdi2\u0026rdquo; eller \u0026ldquo;Verdi3\u0026rdquo; som visningsnavn og \u0026ldquo;Verdi1\u0026rdquo; for å angi sorteringsrekkefølge. Det vil si at man kan tvinge frem en annen sorteringsrekkefølge en rekkefølgen som er angitt i kodelisten i TUL.  Kodeliste inn i InfoPath For å benytte en kodeliste i et skjema, må som nevnt kodelisten først være migrert til det eller de miljøene man skal migrere utgaven med skjemaet til.\nEn kodeliste vil for et skjema opptre som en ekstra datakilde, som kan kobles til en nedtrekksliste etc. i skjema, på omtrent samme måte som felles datakilde for skjemasett.\nHvis kodelisten ikke er benyttet for valgt utgave før, starter man med å høyreklikke på feltet man vil kodelisten skal vises i. Dette må være et flervalgsfelt, typisk en nedtrekksliste.\nMan velger egenskaper for feltet, f.eks. Egenskaper for Rullegardinliste og angir at man vil Slå opp verdier fra en ekstern datakilde. Se figuren nedenfor.\nTrykk Legg til\u0026hellip; for å opprette en ny tilkobling og velg Motta data. Man må benytte en webservice som datakilde. Adressen til webservicen vil være gitt av sluttbrukerløsningen, og finnes på lenken under kodeliste-lenken på startsiden; Kodeliste-WS. Kodeliste-webservicen trenger åtte parametere som inndata, som vist i figuren under.\nParameterene er som følger:\n tns:CodeListName: Dette er navnet på kodelisten som den heter i kodelistebiblioteket. tns:CodeListVersion: Dette er versjonen av kodelisten du vil knytte mot skjemaet. Angis 0 vil siste versjon benyttes. For å benytte seg av en annen versjon må man åpne xml fila det er lenket til ved siden av hver versjon under migreringsloggen for en kodeliste, Man må altså bruke tallet som står etter «version» i XML. Det versjonsnummeret som vises i migreringsloggen er bare en teller som viser antall ganger du har migrert til et gitt miljø. tns:LanguageID: Dette er identifikatoren til språket. Dette må være det samme som hovedspråket til utgaven. Bokmål=1044, Nynorsk=2068, Samisk=1083 og Engelsk=1033. tns:code: Hvis angitt, så skal kun denne koden med verdier returneres tns:value1Filter: Hvis angitt så skal kun de koder der value 1 matcher returneres tns:value2Filter: Hvis angitt så skal kun de koder der value 2 matcher returneres tns:value3Filter: Hvis angitt så skal kun de koder der value 3 matcher returneres tns:filterMatchType: Kan ha følgende verdier:  1 (Exact) 2 (StartsWith) 3 (EndsWith) 4 (Contains)\nAlle sammenlikninger skal være case-insensitive    Det man nå må gjøre er å velge hva som skal vises, og hva som skal lagres fra kodelisten i skjemaet. Klikk på ikonet til høyre for feltet Oppføringer. Da åpnes et vindu som vist under. Velg CodeListRow (dette er den repeterende raden som datakilden/webservicen returnerer).\nDeretter velges verdi og visningsnavn ved å klikke på de samme ikonene til høyre for de gitte tekstboksene. Visningsnavn er det som vises i nedtrekkslisten, verdi er det som lagres.\nNå er kodelisten koblet til skjemaet og kan testes i forhåndsvisning. Hvis man ved forhåndsvisning for en advarsel om at man kobler til ekstern server, velger man ok, ja eller tilsvarende. Det er verdt å merke seg at hvis man ønsker å benytte samme kodeliste for et annet felt, behøver man ikke opprette en ny kobling, men bare benytte eksisterende ekstern datakilde.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/api/consume/",
	"title": "Konsumere APIer i en app",
	"tags": [],
	"description": "En applikasjon kan konsumere åpne og lukkede API som er tilgjengelig via Internett.",
	"content": "ASP.NET Core har gode muligheter til å konsumere forskjellige typer API.\nDette kan være nyttig dersom man ønsker å eksponere organisasjonens egne API via en app eller har behov for hjelp fra eksterne API i applikasjonslogikken.\nDet er mange måter å gjøre dette på, og på denne siden finner du eksempler på hvordan man kan konsumere REST APIer i en app.\nKalle et eksternt API direkte i en metode I dette eksemplet brukes et åpent API til å kalkulere et felt i skjemaet basert på input i et annet felt. Klientkallet implementeres direkte i kalkuleringsmetoden og det implementeres en modell for å kunne parse API responsen.\nREST Countries tilbyr et API som returnerer fakta om et land dersom man sender med navnet på landet. Vi ønsker å lage en app som tilbyr en bruker å søke opp hovedstaden i et land ved å bruke deres åpne API-endepunkt: https://restcountries.eu/rest/v2/name/.\nAPI-kallet er lagt til i kalkuleringsmetoden i App/logic/CalculationHandler slik at et nytt søk trigges hver gang man endrer et felt i appen.\nForutsetninger:\n Det er laget en app i Altinn Studio. Det er lastet opp en datamodell som beskriver verden bestående av land med et navn og en hovedstad. Autogenerert C# klasse av datamodellen er utvidet med JSON-property tags for å kunne gjenbruke klassen i parsing av API responsen.  Implementasjon:\n/// \u0026lt;summary\u0026gt; /// Perform calculations and update data model /// \u0026lt;/summary\u0026gt; /// \u0026lt;param name=\u0026#34;instance\u0026#34;\u0026gt;The data\u0026lt;/param\u0026gt; public async Task\u0026lt;bool\u0026gt; Calculate(object instance) { if (instance.GetType() == typeof(Verden)) { Verden verden = (Verden)instance; string navn = verden?.land?.Navn; if (!string.IsNullOrEmpty(navn)) { using var client = new HttpClient  { BaseAddress = new Uri(\u0026#34;https://restcountries.eu/rest/v2/name/\u0026#34;); }; HttpResponseMessage response = await client.GetAsync(navn);  if (response.StatusCode == System.Net.HttpStatusCode.OK) { var land = await response.Content.ReadAsAsync\u0026lt;List\u0026lt;Land\u0026gt;\u0026gt;(); Land l = land.FirstOrDefault(); verden.land.Hovedstad = l.Hovedstad; } else { verden.land.Hovedstad = $\u0026#34;Hmm.. Du skrev {navn}. Er det et land?\u0026#34;; } } } return true; } Konsumere REST API uten klientbibliotek I dette eksemplet setter man opp en klient som konsumerer et åpent API til bruk i ulike deler av appen. Vi dekker oppsett av et klient interface, implementasjon av klient, tilgjengeliggjøring av klienten i appen og dependency injection inn i ulike klasser.\nHvis REST API\u0026rsquo;et ikke tilbyr et klientbibliotek for sitt API må dette opprettes som en del av applikasjonen eller som et ekstern bibliotek.\nDefinere API modeller Hvis API-et som skal konsumeres er dokumentert ved hjelp av Swagger eller OpenAPI kan man relativt lett genere C# klasser basert på datamodellen. Dette kan gjøres manuelt eller ved hjelp av verktøy som tilbyr slik generering. Bruker man Visual Studio kan man konvertere dette direkte. Velg \u0026ldquo;Paste JSON as classes\u0026rdquo;.\nusing System; using System.Collections.Generic; using System.Linq; using System.Threading.Tasks; namespace Altinn.App.services.br.models { public class Enhet { public string organisasjonsnummer { get; set; } public string navn { get; set; } public Organisasjonsform organisasjonsform { get; set; } public Adresse postadresse { get; set; } public string registreringsdatoEnhetsregisteret { get; set; } public bool registrertIMvaregisteret { get; set; } public Naeringskode naeringskode1 { get; set; } public int antallAnsatte { get; set; } public Adresse forretningsadresse { get; set; } public string stiftelsesdato { get; set; } public Institusjonellsektorkode institusjonellSektorkode { get; set; } public bool registrertIForetaksregisteret { get; set; } public bool registrertIStiftelsesregisteret { get; set; } public bool registrertIFrivillighetsregisteret { get; set; } public string sisteInnsendteAarsregnskap { get; set; } public bool konkurs { get; set; } public bool underAvvikling { get; set; } public bool underTvangsavviklingEllerTvangsopplosning { get; set; } public string maalform { get; set; } public Links _links { get; set; } } } Eksempel modeller for API ses her.\nDefinere Klient Interface Det anbefales at det defineres et interface for klienten som skal kalle API. Dette gjør at man kan benytte seg av dependency injection ved enhetstesting for å kunne mocke vekk API kall. Definer interface som vist nedenfor.\nusing Altinn.App.services.br.models; using System; using System.Collections.Generic; using System.Linq; using System.Threading.Tasks; namespace Altinn.App.services.br.client { public interface IEnhetsregisteret { Task\u0026lt;Enhet\u0026gt; GetEnhetAsync(string orgnr); } } Eksempel interface kan sees her.\nImplementere klient Klienten er selve koden som gjøre kallene mot API og omformer resultatet til gitt datamodell.\nusing Altinn.App.services.br.models; using Newtonsoft.Json; using System; using System.Collections.Generic; using System.Linq; using System.Net.Http; using System.Threading.Tasks; namespace Altinn.App.services.br.client { public class EnhetsregistreretCI : IEnhetsregisteret { private HttpClient _apiClient; public async Task\u0026lt;Enhet\u0026gt; GetEnhetAsync(string orgnr) { string apiUrl = $\u0026#34;enheter/\u0026#34; + orgnr; var result = new Enhet(); HttpResponseMessage respons = await ApiClient.GetAsync(apiUrl);  if (respons.StatusCode == System.Net.HttpStatusCode.OK) { string data = respons.Content.ReadAsStringAsync().Result; result = JsonConvert.DeserializeObject\u0026lt;Enhet\u0026gt;(data);  } return result; } public HttpClient ApiClient { get { if (_apiClient != null) { return _apiClient; } string url = \u0026#34;https://data.brreg.no/enhetsregisteret/api/\u0026#34;; _apiClient = GetNewHttpClient(url); return _apiClient; } } private HttpClient GetNewHttpClient(string apiEndpoint) { var httpClient = new HttpClient { BaseAddress = new Uri(apiEndpoint) }; return httpClient; } } } Eksempel kan sees her.\nSett opp klient i applikasjon Når tjenesten med interface og klient er implementert kan den settes opp for bruk av applikasjonen.\nDette gjøres i App/Startup.cs hvor det settes opp interface og implementasjon av interface som tilbyr en gitt service til applikasjonen.\n// Custom service used by this application services.AddTransient\u0026lt;IEnhetsregisteret, EnhetsregistreretCI\u0026gt;(); Eksempel kan sees her\nKonsumere API fra applikasjonslogikk/API kontrollere For å få tak i service som er satt opp i applikasjonen må disse \u0026ldquo;injectes\u0026rdquo; inn i konstrukturøen på kontrolleren eller applikasjonslogikken.\nusing System.Threading.Tasks; using Altinn.App.services.br.client; using Altinn.App.services.br.models; using Microsoft.AspNetCore.Http; using Microsoft.AspNetCore.Mvc; namespace Altinn.App.controllers { [ApiController] [Route(\u0026#34;{org}/{app}/enhetsregisteret\u0026#34;)] public class EnhetsregisteretController : ControllerBase { private IEnhetsregisteret _enhetsregisteret; public EnhetsregisteretController(IEnhetsregisteret enhetsregisteret) { _enhetsregisteret = enhetsregisteret;  } [HttpGet(\u0026#34;enhet/{orgnr}\u0026#34;)] public async Task\u0026lt;ActionResult\u0026lt;Enhet\u0026gt;\u0026gt; GetEnhet([FromRoute] string orgnr) { Enhet enhet = await _enhetsregisteret.GetEnhetAsync(orgnr);  return Ok(enhet); } } } Eksempel kan sees her.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/tjenesteeiere/rest/kontaktinformasjon/",
	"title": "Kontaktinformasjon",
	"tags": [],
	"description": "Uthenting og søk i kontaktinformasjon for virksomheter",
	"content": "Hente kontaktinformasjon for alle organisasjoner GET https://www.altinn.no/api/serviceowner/organizations?ForceEIAuthentication HTTP/1.1 Accept: application/hal+json ApiKey: myKey Eksempel på respons:\n{ \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations\u0026#34; } }, \u0026#34;_embedded\u0026#34;: { \u0026#34;organizations\u0026#34;: [ { \u0026#34;Name\u0026#34;: \u0026#34;HERDLA OG SAULAND\u0026#34;, \u0026#34;OrganizationNumber\u0026#34;: \u0026#34;010000211\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;IS\u0026#34;, \u0026#34;LastChanged\u0026#34;: \u0026#34;2014-11-05T00:00:00\u0026#34;, \u0026#34;LastConfirmed\u0026#34;: null, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/010000211\u0026#34; }, \u0026#34;personalcontacts\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/010000211/personalcontacts\u0026#34; }, \u0026#34;officialcontacts\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/010000211/officialcontacts\u0026#34; } } } ] } } Søke opp kontaktpunkt i organisasjoner Søke opp kontaktpunkt i organisasjoner ved hjelp av e-post og/eller telefon.\nGET https://www.altinn.no/api/serviceowner/organizations?ForceEIAuthentication\u0026amp;email={email}\u0026amp;phoneNumber={phonenumber} HTTP/1.1 Accept: application/hal+json ApiKey: myKey Eksempel på respons:\n{ \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations\u0026#34; } }, \u0026#34;_embedded\u0026#34;: { \u0026#34;organizations\u0026#34;: [ { \u0026#34;Name\u0026#34;: \u0026#34;KYSTBASEN ÅGOTNES OG ILSENG REGNSKAP\u0026#34;, \u0026#34;OrganizationNumber\u0026#34;: \u0026#34;910514318\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;ASA\u0026#34;, \u0026#34;LastChanged\u0026#34;: \u0026#34;2015-10-27T12:43:02.23\u0026#34;, \u0026#34;LastConfirmed\u0026#34;: \u0026#34;2017-03-22T10:42:34.713\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/910514318\u0026#34; }, \u0026#34;personalcontacts\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/910514318/personalcontacts\u0026#34; }, \u0026#34;officialcontacts\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/910514318/officialcontacts\u0026#34; } } }, { \u0026#34;Name\u0026#34;: \u0026#34;LEINSTRAND OG HOMBORSUND\u0026#34;, \u0026#34;OrganizationNumber\u0026#34;: \u0026#34;810748532\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;BEDR\u0026#34;, \u0026#34;LastChanged\u0026#34;: null, \u0026#34;LastConfirmed\u0026#34;: null, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/810748532\u0026#34; }, \u0026#34;personalcontacts\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/810748532/personalcontacts\u0026#34; }, \u0026#34;officialcontacts\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/810748532/officialcontacts\u0026#34; } } } ] } } Hente kontaktinformasjon for én organisasjon GET https://www.altinn.no/api/serviceowner/organizations/{who}/?ForceEIAuthentication HTTP/1.1 Accept: application/hal+json ApiKey: myKey Eksempel på respons:\n{ \u0026#34;Name\u0026#34;: \u0026#34;HERDLA OG SAULAND\u0026#34;, \u0026#34;OrganizationNumber\u0026#34;: \u0026#34;010000211\u0026#34;, \u0026#34;Type\u0026#34;: \u0026#34;IS\u0026#34;, \u0026#34;LastChanged\u0026#34;: \u0026#34;2014-11-05T00:00:00\u0026#34;, \u0026#34;LastConfirmed\u0026#34;: null, \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/010000211\u0026#34; }, \u0026#34;personalcontacts\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/010000211/personalcontacts\u0026#34; }, \u0026#34;officialcontacts\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/010000211/officialcontacts\u0026#34; } } } Hente offisiell kontaktinformasjon for én organisasjon Dette tilsvarer \u0026ldquo;Felles kontaktinformasjon for virksomheten\u0026rdquo; på altinn.no.\nGET https://www.altinn.no/api/serviceowner/organizations/{who}/officialcontacts/?ForceEIAuthentication HTTP/1.1 Accept: application/hal+json ApiKey: myKey Eksempel på respons:\n{ \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/910021451/officialcontacts\u0026#34; } }, \u0026#34;_embedded\u0026#34;: { \u0026#34;officialcontacts\u0026#34;: [ { \u0026#34;MobileNumber\u0026#34;: \u0026#34;22334455\u0026#34;, \u0026#34;MobileNumberChanged\u0026#34;: \u0026#34;2017-06-15T09:07:20.84\u0026#34;, \u0026#34;EMailAddress\u0026#34;: \u0026#34;34234324@gg.com\u0026#34;, \u0026#34;EMailAddressChanged\u0026#34;: \u0026#34;2017-06-15T09:07:20.84\u0026#34; }, { \u0026#34;MobileNumber\u0026#34;: \u0026#34;33445566\u0026#34;, \u0026#34;MobileNumberChanged\u0026#34;: \u0026#34;2017-06-15T09:07:20.84\u0026#34;, \u0026#34;EMailAddress\u0026#34;: \u0026#34;eeee@bb.com\u0026#34;, \u0026#34;EMailAddressChanged\u0026#34;: \u0026#34;2017-06-15T09:07:20.84\u0026#34; } ] } } Hente personlig kontaktinformasjon for én organisasjon Dette er en liste over det de forskjellige med roller og rettigheter i en organisasjon har registrert under \u0026ldquo;Min kontaktinformasjon for virksomheten\u0026rdquo; på altinn.no.\nGET https://www.altinn.no/api/serviceowner/organizations/{who}/personalcontacts/?ForceEIAuthentication\u0026amp;roleDefinitionCode={roleDefinitionCode}\u0026amp;serviceCode={serviceCode}\u0026amp;serviceEdition={serviceEdition} HTTP/1.1 Accept: application/hal+json ApiKey: myKey Eksempel på respons:\n{ \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/910021451/personalcontacts\u0026#34; } }, \u0026#34;_embedded\u0026#34;: { \u0026#34;personalcontacts\u0026#34;: [ { \u0026#34;PersonalContactId\u0026#34;: \u0026#34;r50022994\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;ROLF BJØRN \u0026#34;, \u0026#34;SocialSecurityNumber\u0026#34;: \u0026#34;06117701547\u0026#34;, \u0026#34;MobileNumber\u0026#34;: \u0026#34;12345678\u0026#34;, \u0026#34;MobileNumberChanged\u0026#34;: \u0026#34;2017-06-15T09:05:00.86\u0026#34;, \u0026#34;EMailAddress\u0026#34;: \u0026#34;eok@br.no\u0026#34;, \u0026#34;EMailAddressChanged\u0026#34;: \u0026#34;2017-06-15T09:05:00.86\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roles\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/910021451/personalcontacts/r50022994/roles\u0026#34; } } }, { \u0026#34;PersonalContactId\u0026#34;: \u0026#34;r50041943\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;DRAGE TARALD\u0026#34;, \u0026#34;SocialSecurityNumber\u0026#34;: \u0026#34;11106700992\u0026#34;, \u0026#34;MobileNumber\u0026#34;: \u0026#34;12345678\u0026#34;, \u0026#34;MobileNumberChanged\u0026#34;: \u0026#34;2016-06-22T14:17:11.23\u0026#34;, \u0026#34;EMailAddress\u0026#34;: \u0026#34;pubg@gg.kd\u0026#34;, \u0026#34;EMailAddressChanged\u0026#34;: \u0026#34;2016-06-22T14:17:11.23\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roles\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/910021451/personalcontacts/r50041943/roles\u0026#34; } } } ] } } Hente roller for person {person} med oppført kontaktinformasjon på vegne av {who} Personidentifikatoren er altinn-id-en (r{id}) kalt {PersonalContactId} fra eksempelrespons på personalcontacts.\nGET https://www.altinn.no/api/serviceowner/organizations/{who}/personalcontacts/{person}/roles HTTP/1.1 Accept: application/hal+json ApiKey: myKey Eksempel på respons:\n{ \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/organizations/910514318/personalcontacts/r50051516/roles\u0026#34; } }, \u0026#34;_embedded\u0026#34;: { \u0026#34;roles\u0026#34;: [ { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 89, \u0026#34;RoleName\u0026#34;: \u0026#34;Basisrolle\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Rolle som følger automatisk med når en bruker får en annen Altinn-rolle\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;ALLEA\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/89\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 8, \u0026#34;RoleName\u0026#34;: \u0026#34;Begrenset signeringsrettighet\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Tilgang til å signere utvalgte skjema og tjenester\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;SISKD\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/8\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 12, \u0026#34;RoleName\u0026#34;: \u0026#34;Energi, miljø og klima\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Tilgang til tjenester relatert til energi, miljø og klima\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;UTOMR\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/12\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 131, \u0026#34;RoleName\u0026#34;: \u0026#34;Helse-, sosial- og velferdstjenester\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Tilgang til helse-, sosial- og velferdsrelaterte tjenester\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;UIHTL\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/131\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 15, \u0026#34;RoleName\u0026#34;: \u0026#34;Klientadministrator\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Tilgang til å administrere klientroller for regnskapsførere og revisorer\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;KLADM\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/15\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 134, \u0026#34;RoleName\u0026#34;: \u0026#34;Kommunale tjenester\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Rolle for kommunale tjenester\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;KOMAB\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/134\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 3, \u0026#34;RoleName\u0026#34;: \u0026#34;Lønn og personalmedarbeider\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Denne rollen gir rettighet til lønns- og personalrelaterte tjenester.\\r\\n\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;LOPER\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/3\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 5576, \u0026#34;RoleName\u0026#34;: \u0026#34;Parallell signering\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Denne rollen gir rettighet til å signere elementer fra andre avgivere.\\r\\n\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;PASIG\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/5576\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 87, \u0026#34;RoleName\u0026#34;: \u0026#34;Patent, varemerke og design\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Denne rollen gir rettighet til tjenester relatert til patent, varemerke og design.\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;PAVAD\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/87\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 5603, \u0026#34;RoleName\u0026#34;: \u0026#34;Post/arkiv\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Denne rollen gir rettighet til å lese meldinger som blir sendt til brukerens meldingsboks.\\r\\n\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;A0236\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/5603\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 272, \u0026#34;RoleName\u0026#34;: \u0026#34;Primærnæring og næringsmiddel\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Denne rollen gir rettighet til tjenester innen import, foredling, produksjon og/eller salg av primærnæringsprodukter og andre næringsmiddel, samt dyrehold, akvakultur, planter og kosmetikk.\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;A0212\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/272\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 6, \u0026#34;RoleName\u0026#34;: \u0026#34;Regnskapsmedarbeider\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Denne rollen gir rettighet til regnskapsrelaterte skjema og tjenester.\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;REGNA\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/6\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 85, \u0026#34;RoleName\u0026#34;: \u0026#34;Revisorattesterer - MVA kompensasjon\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Denne rollen gir revisor rettighet til å attestere tjenesten Merverdiavgift - søknad om kompensasjon (RF-0009).\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;ATTST\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/85\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 10, \u0026#34;RoleName\u0026#34;: \u0026#34;Samferdsel\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Rollen gir rettighet til tjenester relatert til samferdsel. For eksempel tjenester fra Statens Vegvesen, Sjøfartsdirektoratet og Luftfartstilsynet.\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;UILUF\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/10\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 130, \u0026#34;RoleName\u0026#34;: \u0026#34;Signerer av Samordnet registermelding\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Denne rollen gir rettighet til tjenester på vegne av enheter/foretak.\\r\\n\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;SIGNE\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/130\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 4, \u0026#34;RoleName\u0026#34;: \u0026#34;Tilgangsstyring\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Denne rollen gir administratortilgang til å gi videre rettigheter til andre.\\r\\n\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;ADMAI\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/4\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 11, \u0026#34;RoleName\u0026#34;: \u0026#34;Utfyller/Innsender\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Denne rollen gir rettighet til utvalgte skjema og tjenester.\\r\\n\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;UTINN\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/11\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 86, \u0026#34;RoleName\u0026#34;: \u0026#34;Økokrim rapportering\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Tilgang til tjenester fra Økokrim\u0026#34;, \u0026#34;RoleDefinitionCode\u0026#34;: \u0026#34;HVASK\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https://www.altinn.no/api/serviceowner/roledefinitions/86\u0026#34; } } } ] } } "
},
{
	"uri": "https://altinn.github.io/docs/credits/",
	"title": "Kred",
	"tags": [],
	"description": "Hyllest",
	"content": "Vi i Altinn benytter Hugo for å generere opp hele dokumentasjonen med søk som en statisk web site.\nDet hele tar typisk noen sekunder. Hugo er åpen kildekode i tillegg til å være lynrask. Anbefales.\nFor søk benyttes lunr.js.\nSom tema benytter vi docDock. Stor takk til Valere JEANTET.\nReveal.js er et fantastisk rammeverk for presentasjoner på web. Takk til Hakim El Hattab.\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/tjenestetyper/lenke/",
	"title": "Lenke",
	"tags": [],
	"description": "En lenketjeneste er en lenke fra Altinn til en tjeneste som ligger hos tjenesteeieren.",
	"content": "Bakgrunn for lenketjenesten er at tjenesteeiere ønsker å tilgjengeliggjøre sine tjenester i Altinn samtidig som de ønsker å beholde sin egen tjenestemotor. Tjenesteeier må har satt opp føderering mot IDPorten og lenken (tjenesten hos tjenesteeier) må være en beskyttet ressurs. For å få tilgang til tjenesten må dermed sluttbruker være logget inn hos ID-Porten gjennom Altinn. Sluttbruker foretar valg av avgiver i Altinn, og Altinn utfører autorisasjonskontroll og tjenestekontroller. Kun sikkerhetnivåer som er tilgjengelig i IDPorten kan brukes på tjenesten. Altinn har lenken til tjenesteeierens tjeneste i sin tjenestekatalog.\nEn lenketjeneste er alltid assosiert med en URL, og denne URL-en kan være enten intern eller ekstern. Lenketjenester opprettes i TUL på lik linje med andre tjenestetyper og skal også kunne inngå i samhandlingstjenester.\nSer også egen utviklingsguide for autorisasjon.\nSpesifikasjon – lenketjeneste For en lenke må det som for øvrige tjenestetyper registreres utgaveparametre, og det er mulig å overstyre rettigheter.\nUtgaveparametre Enhver utgave må ha utgaveparametre. Unikt for en lenketjeneste er definisjonen av hvilken URL den er knyttet til, og oppsett av preinstansieringskontrollere.\nPreinstansieringskontrollere er funksjonalitet for å angi at forhåndsdefinerte kontrollprosesser skal kjøres før sluttbruker får tilgang til lenketjenesten. Tjenesteutvikler kan velge fra en liste av flere forhåndsdefinert preinstansieringskontroller. Man kan for eksempel verifisere om brukeren har registrert gyldig e-postadresse i Altinn, eller validere at brukeren er over 18 år.\nOverstyr rettigheter Rettigheter trenger du bare å overstyre hvis den utgaven du utvikler har andre rettighetskrav enn de som allerede er satt på tjenestenivå. Hver utgave vil arve disse rettighetene når den migreres til SBL, og få med seg overstyringene i tillegg.\nForenklet tjenestedelegering Forenklet tjenestedelegering i Altinn vil fristille tjenesten fra de eksisterende operasjonene (Les, Skriv, Signer osv.), og i stedet knytte hver rolle som er satt opp for en av disse operasjonene til en generell operasjon: Access. Ved delegering av tjenesten i Altinn vil det da ikke være mulig å velge operasjoner, og visning av delegerte rettigheter for tjenesten vil heller ikke ha de vanlige operasjonsikonene.\nDersom man ønsker å ta i bruk forenklet tjenestedelegering i Altinn kan man aktivere dette ved å spesifisere URL for lenketjenesten som: https://schemas.altinn.no/authorization/administration/operation/access/2020/05/. Tjenesten er da ikke mulig å instansiere i Altinn, men vil bare fungere som en representasjon av en ekstern ressurs for Altinn autorisasjon. TUL vil fortsatt kreve at hver at de eksisterende operasjonene (Les, Skriv, Signer osv.) er dekket av minst ett rollekrav.\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/tjenestetyper/innsending/master/",
	"title": "Master",
	"tags": [],
	"description": "Mastertjenester er innsendingstjenester som utvikles med tanke på å at de skal bli delt av flere tjenesteeiere.",
	"content": "Selve tjenesten skal da utvikles av en tjenesteeier, mens en eller flere andre tjenesteeiere tar den i bruk. Dette vil da egne seg best for tjenester der flere tjenesteeiere skal utføre det samme. Alle som tar i bruk en slik mastertjeneste vil få sin egen eksterne tjenestekode og utgavekode, men nesten alle innstillinger vil være identiske med det som er definert i mastertjenesteutgaven. Bare oversendingsmetode og gyldighetsperiode vil være mulig å endre på.\nBare innsendingstjenester kan bli brukt som mastertjenester.\nNår du utvikler en utgave som skal bli master, må du gjøre den helt ferdig før du merker den som master. Valget vil av den grunn være deaktivert når du oppretter ny utgave. Med en gang du gjør den om til master vil den bli tilgjengelig for gjenbruk. De som skal ta i bruk en mastertjeneste vil forvente at den da fungerer helt fra starten av.\nNavnet du gir mastertjenesten og utgaven vil også være det navnet som alle utgaver basert på denne vil få. Derfor bør du tenke på at dette navnet skal brukes av flere tjenesteeiere før du bestemmer navn på tjeneste og utgave.\nEn utgave basert på master har i utgangspunktet bare sin egen tjenestekode, utgavekode, oversendingsmetode og gyldighetsperiode. Alle andre innstillinger henter den ved migrering fra mastertjenesten. Dette betyr at det er først ved migrering at en slik utgave blir «definert». Som en følge av dette er det også på migreringstidspunktet at utgaven vil synkronisere seg med masterutgaven. Det vil med andre ord være innstillingene i masterutgaven på migreringstidspunktet som vil avgjøre hvordan hver enkelt utgave blir i SBL. Dersom det blir gjort oppdateringer på masterutgaven etter at en utgave som bruker den er migrert, så vil ikke disse endringene bli brukt av utgaven før den eventuelt har blitt migrert på nytt. For å få en oppdatering inn i alle utgaver, må altså alle tjenesteeierne som bruker mastertjenesten migrere på nytt.\nSkjemasett kan bare bli brukt i mastertjenester dersom alle underskjemautgavene også er mastertjenester. En utgave merket som «kun underskjema» vil ikke kunne bli brukt som mastertjeneste direkte, og vil derfor ikke dukke opp i oversikten over mastertjenester. Den kan likevel bli brukt ved at den er del av skjemasettet til en hovedutgave som er master. Dersom du lager en utgave basert på en master med skjemasett, vil også underskjemautgavene bli opprettet i din tjenesteeier.\nFor å fjerne markeringen av en utgave som master, eller for å slette en masterutgave, så må først alle utgaver basert på denne slettes permanent. Dette er fordi alle disse utgavene er avhengige av at mastertjenesteutgaven eksisterer som mastertjeneste.\nVedleggstyper kan brukes i mastertjenester, men du bør da bruke vedleggstyper med navn som ikke risikerer navnekonflikt. Det kan bli problem om mastertjenesten bruker en vedleggstype som har samme navn som en vedleggstype i en annen tjenesteeier som bruker den. Skulle det skje så risikerer du at det ikke er vedleggstypen hos mastertjenestens tjenesteeierens som blir brukt. Ved bruk via sluttbrukersystem vil det da være vedleggstypen med samme navn hos den tjenesteeier mastertjenesten er i bruk som kommer til å brukes.\nFor å hindre et slikt problem bør du lage/bruke vedleggstyper med navn som er såpass spesifikke at en slik navnekonflikt er usannsynlig.\nOpprette tjeneste basert på en mastertjeneste For å ta i bruk en mastertjeneste som en annen tjenesteeier har laget starter du ved å klikke på lenken «Ny basert på mastertjeneste» på tjenesteeierarbeidsflaten.\nDette vil ta deg til en ny side som gir deg en oversikt over de mastertjenestene som er tilgjengelige. Du velger så den mastertjenesten du skal bruke og klikker på «Opprett tjeneste basert på master» bak denne.\nDette vil opprette både en ny tjeneste og en ny utgave i din tjenesteeier. Dersom din tjenesteeier allerede har en annen utgave fra samme mastertjeneste vil den nye utgaven bli lagt inn i samme tjeneste som denne. Når utgaven har blitt opprettet vil du havne på arbeidsflaten for den nye utgaven.\nEn utgave som er basert på mastertjeneste vil ha en veldig enkel utgavearbeidsflate. For å kunne se hva som er definert for utgaven, må du se på selve mastertjenesteutgaven. Du vil finne lenke til den på utgavearbeidsflaten.\nNår du tar i bruk en utgave basert på mastertjeneste, så vil din utgave være nesten identisk med mastertjenesteutgaven. Forskjellene vil være i hvilken tjenesteeier den tilhører og eksterne koder for tjeneste og utgave. Når utgaven er opprettet skal den være ferdig utviklet, og kan migreres med en gang.\nGyldighetsperiode og overføringsmetode kan du endre, men det er ikke nødvendig å gjøre det. Overføringsmetode er som standard satt til metoden «Hent ved hjelp av webservice» («Download queue») for alle tjenesteutgaver som er basert på mastertjeneste. Dersom du ønsker en annen overføringsmetode må du endre dette på utgaveparametersiden.\nEn slik utgave vil få samme tjenestenavn og utgavenavn som mastertjenesten. Disse navnene kan ikke endres. Det er bare lov å ha en utgave per mastertjeneste i en tjenesteeier. Du kan heller ikke ha en utgave basert på en mastertjeneste i samme tjenesteeier som mastertjenesten befinner seg.\nEn utgave basert på master har i utgangspunktet bare sin egen tjenestekode, utgavekode, oversendingsmetode og gyldighetsperiode. Alle andre innstillinger henter den ved migrering fra mastertjenesten. Dette betyr at det er først ved migrering at en slik utgave blir «definert». Som en følge av dette er det også på migreringstidspunktet at utgaven vil synkronisere seg med masterutgaven. Det vil med andre ord være innstillingene i masterutgaven på migreringstidspunktet for hver enkelt utgave som vil avgjøre hvordan utgaven blir i SBL. Dersom det blir gjort oppdateringer på masterutgaven etter at en utgave som bruker den er migrert, så vil ikke disse endringene bli brukt av utgaven som bruker den før den eventuelt har blitt migrert på nytt.\nIkonet foran lenken til mastertjenesten vil fortelle deg om mastertjenesteutgaven har blitt endret etter sist gang utgaven ble migrert.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/configuration/process/message/",
	"title": "Melding",
	"tags": [],
	"description": "Hvordan sette opp en melding i Altinn Studio",
	"content": "En melding i Altinn 3 er egentlig bare et data-steg, på samme måte som f.eks. skjemautfylling. Det settes opp med en datamodell for meldingen, og en layout for hva som skal vises på siden. Melding er dermed ikke en egen steg-type. Dette gjør at en melding i Altinn 3 er ekstremt fleksibel, og kan settes opp enten som eneste steg i en prosess, eller som en del av en større prosess.\nVi har lagd noen verktøy som skal gjøre det enkelt å komme i gang med å sette opp en melding i en app.\nDatamodell Vi har lagd en standard datamodell for meldinger, for å gjøre det enkelt å komme i gang. Denne datamodellen kan man finne her. Denne kan enten brukes som den er, brukes som et utgangspunkt, eller man kan bruke en helt annen datamodell.\nLayout Layout\u0026rsquo;en kan man definere helt selv, på samme måte som for skjema. Vi har allikevel opprettet en meldings-widget, for å gjøre det enklere å komme i gang. Denne widget\u0026rsquo;en inneholder alle komponentene som trengs for å lage visningen under. Den inneholder også tekster som legges til i ressurs-filene automatisk, som har variabler med referanser til feltene Title og Body i standard datamodell. Dersom man ønsker andre tekster eller å bruke en annen datamodell, er det bare å redigere enten komponentene eller tekstene etter ønske etter at de er lagt inn i siden.\nMerk at om en ønsker å bruke vedleggslisten, som er med i standard meldings-widget, må man i tillegg manuelt legge inn hvilke datatyper vedleggene som skal vises har i layout-filen. Det er lagt inn en placeholder for dette i komponenten når den legges til med widget\u0026rsquo;en. Funksjonalitet for å sette dette i Altinn Studio vil komme senere. Tilgjengelige datatyper ligger i applicationMetadata.json-filen til appen. Om dette ikke gjøres vil ikke generering av PDF fungere.\r"
},
{
	"uri": "https://altinn.github.io/docs/tul/tjenestetyper/melding/",
	"title": "Melding",
	"tags": [],
	"description": "Meldingstjenester definerer meldinger som kan sendes fra tjenesteeier til bruker.",
	"content": "En meldingstjeneste fungerer forskjellig fra en innsendingstjeneste. Mens en innsendingstjeneste instansieres i SBL, dvs initialiseres som et element tilhørende en gitt avgiver, er en meldingstjeneste en definisjon på en melding, men ikke selve meldingen. Det er ikke mulig å åpne en melding uten av en tjenesteeier har sendt deg en. Ergo, meldings­tjenester kan bare instansieres av etat enten via webservice eller batchgrensesnitt.\nSpesifikasjon - meldingstjeneste En meldingstjeneste kan ha utgaver akkurat som en innsendingstjeneste, og har også utgaveparametere. Generelt er utgavespesifikasjonen enklere for en meldingstjeneste, siden meldingsinnholdet i all hovedsak kommer fra tjenesteeier.\nUtgaveparametre Enhver utgave må ha utgaveparametre.\nOverstyr rettigheter Rettigheter trenger du bare å overstyre hvis den utgaven du utvikler har andre rettighetskrav enn de som allerede er satt på tjenestenivå. Hver utgave vil arve disse rettighetene når den migreres til SBL, og få med seg overstyringene i tillegg.\nInnhold - meldingstjeneste Innholdet i en melding kommer som sagt i all hovedsak fra tjenesteeier direkte til SBL.\nInnhold som sendes fra tjenesteeier Følgende overordnet informasjon er påkrevet i data sendt fra tjenesteeier:\n Mottaker. Avsender (Avsender i TUL vil overskrive denne). Meldingsinnhold. Varsling. Referanse til metadata (dvs. utgaven definert i TUL).  Når det gjelder meldingsinnhold, så kan dette i hovedsak bestå av to typer:\n Binært vedlegg: Meldingsinnhold er en PDF-fil som er generert av etat. Dette er det mest benyttede i Altinn I. HTML: Innholdet blir i sin helhet vist fram i meldingssiden i SBL. Dette er også benyttet i Altinn I.  Det mulig å sende med innhold som består av flere skjema/vedlegg.\nStøtte for meldinger med taushetsbelagt informasjon Medldingtjeneste støtter muligheten for å sende taushetsbelagt informasjon i meldingene. Tjenestene som støtter forsendelse av taushetsbelagt informasjon avviker noe fra «vanlige» Altinn-tjenester. Det spesielle med tjenestene er at rollen(e) som gir tilgang til tjenestene ikke er forhåndstildelt til roller fra Enhetsregisteret. Dette innebærer at det i utgangspunktet ikke er noen i virksomheten som har tilgang til tjenesten(e).\nFølgende roller kan knyttes til tjenester med taushetsbelagt informasjon:\n Taushetsbelagt post - helse, sosial og omsorg; delegerbar rolle Taushetsbelagt post - oppvekst og utdanning; delegerbar rolle Taushetsbelagt post - administrasjon; delegerbar rolle Eksplisitt tjenestedelegering; ikke-delegerbar rolle for tjenester som kun skal delegeres enkeltvis  For tjenester med særlig sensitivt innhold anbefaler vi at man benytter rollen \u0026ldquo;Eksplisitt tjenestedelegering\u0026rdquo;.\nHvordan gi tilgang til melding med taushetsbelagt informasjon For å gi tilgang til taushetsbelagte tjenester, må Hovedadministrator i virksomheten (denne rollen er forhåndstildelt til Daglig leder, Styreleder, Innehaver og Bestyrende reder) delegere tjenesterettigheter eller nødvendig rolle til de som skal ha tilgang til de taushetsbelagte tjenester. Hovedadministrator kan gi rettighetene til seg selv dersom han skal ha tilgang til tjenesten(e). Brukere som har tilgang til en taushetsbelagt melding i innboksen, kan også benytte Del og gi tilgang for å sende bare den ene meldingen til rette vedkommende i virksomheten, se bilde nedenfor. Vi anbefaler at man ikke tillater å videresende en melding med tausehtesbelagt informasjon på epost, selv om dette må vurderes opp mot innhold i meldingen og risiko knyttet til å sende dette som epost. Hvis melding ikke skal tillates vidreesendt på epost settes verdien på \u0026ldquo;AllowForwarding\u0026rdquo; settes til \u0026ldquo;false\u0026rdquo; i xml, se beskrivelse av InsertCorrespondence\nHvordan utforme melding med taushetsbelagt innhold For å sikre at det er rette vedkommende i virksomheten som får tilgang til de taushetsbelagte meldingene, er det viktig at avsender tilpasser innholdet i meldingen slik at Hovedadministrator vet hvem det skal delegeres til. Dette kan f.eks gjøres ved å ha entydig tekst i MessageTitle – gjerne navngi mottaker dersom dette er kjent, evt benytt saksnummer eller annen informasjon som kan knytte meldingen til rett person i virksomheten.\nVarsling er påkrevd for meldinger med taushetsbelagt informasjon Instansiering av melding må også varsles med Notification for å sikre at virksomheten får beskjed om at det er sendt en melding i innboksen. Varslingen må inneholde informasjon om at meldingen er taushetsbelagt, samt beskrivelse av hva virksomheten må gjøre for å sikre at rette vedkommende får tilgang til meldingen (hva meldingen gjelder, hvem som skal ha meldingen, hvilken enkelttjeneste eller rolle som må delegeres for å gi tilgang o.l).\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/funksjonalitet/migrering/",
	"title": "Migrering",
	"tags": [],
	"description": "En utgave av en tjeneste kan migreres til sluttbrukermiljø når tjenesten er tilstrekkelig definert og utviklet.",
	"content": "I TUL finnes fire ulike statusikoner som skal illustrere statusen for hver enkelt parameter­seksjon.\nNår en utgave av en tjeneste skal migreres til et sluttbrukermiljø, skal alle statusikoner vise ikonet for status komplett, eventuelt migrert.\n   Ikon Status      Ny, uendret    Endret, ikke komplett    Komplett    Migrert, uendret etter migrering    Ett unntak er språk, hvor sekundærspråk ikke behøver å være komplette.\nStart migrering Migrering skjer fra en egen side i TUL. Hit kommer man via lenken Migrer utgave under området for Migrering og status på utgavens arbeidsflate.\nFra migreringssiden kan tjenesteutvikler velge sluttbrukermiljø, versjon, språk som skal migreres og sette gyldighetsdato for test.\nSluttbrukermiljø kan være miljø for systemtest, akseptansetest og opplæring. Sluttbruker-miljøene vil kunne variere fra et tjenesteutviklingsmiljø til et annet. Tjenesteutvikler kan ikke migrere tjenester til produksjonsmiljø, da all migrering til produksjon skal kvalitetssikres av applikasjonsforvalter i forkant av migreringen. Tjenesteutvikler kan imidlertid velge å sende en bestilling av produksjonssetting fra migreringssiden. Sluttbrukermiljø velges fra en nedtrekksliste der alle miljø det er mulig å migrere til står listet, i tillegg til et valg om å bestille produksjonssetting.\nVersjon velges fra en nedtrekksliste med defaultvalg Nyeste. Det vil si at en lager en ny versjon bestående av de siste endringene som er gjort på tjenesteutgaven.\nSpråk velges fra en liste med sjekkbokser. Her listes hovedspråk samt eventuelle oversettelser (sekundærspråk).\nAlle tjenester har en gyldighetsperiode som er satt i utgaveparametrene. Utgavens ”Gyldig fra”-dato må overstyres for at man skal kunne teste tjenesten før den skal være tilgjengelig for sluttbruker.\nNår migrering igangsettes, starters en eksportjobb som pakker sammen tjeneste­komponentene til en pakke, versjonerer den og overfører den til valgt sluttbrukermiljø. Eksport­jobben kjøres automatisk, og status for migreringen gjøres tilgjengelig for tjenesteutvikler på en egen side for migreringsstatus. Velger man å migrere en tidligere versjon, hentes pakken fra denne versjonen fram igjen og migreres.\nDet er mulig å starte en ny migrering mens en annen migrering pågår, men du kan ikke migrere til et miljø der migrering av samme utgave allerede pågår. Hvis du prøver å starte ny migrering til samme miljø før foregående migrering er avsluttet, vil OK-knappen være grået ut.\nOm utgaven du skal migrere er en innsendingstjeneste med skjemasett kan du velge mellom å utføre komplett migrering eller å kun migrere enkeltskjema i skjemasettet. Migrering av enkeltskjema kan brukes for å spare tid om du har gjort endringer i enkelte skjema og ikke behøver å migrere hele tjenesten. Når du krysser av for «Oppdater kun enkeltskjema i SBL» vil det dukke opp en nedtrekksmeny hvor du kan velge hvilket enkeltskjema som skal migreres. Her kan du velge mellom alle skjema i skjemasettet, inkludert hovedskjema. Ved migrering av enkeltskjema vil eksisterende «Gyldig fra»-dato fortsatt benyttes.\nMigreringsstatus Hvis du nettopp har startet en migrering, vil du først komme til en visning som informerer om at tjenesten blir verifisert, pakket, versjonert og oversendt til sluttbrukermiljø. Når pakken er sendt til sluttbrukermiljøet blir du tatt til en egen side for løpende status og oversikt over alle gjennomførte migreringer. Øverst på siden vises resultatet av den pågående/gjennomførte migreringen. Først vises eventuelle advarsler/feil etter innledende validering, deretter vises løpende status og eventuelle advarsler/feil under behandling av skjema. Hvis migrering er vellykket, kommer melding om dette; i motsatt fall at migreringen feilet.\nI en tabell nederst på siden listes alle migreringsjobber som er utført. Listen inneholder et innslag per miljø som den enkelte versjonen er migrert til. Listen inneholder også migreringsdato, navn på den som har kjørt migreringen og lenke til en migreringsrapport. Rapporten er i excel-format og inneholder detaljer om hva som er inkludert i hver enkelt migrering. Denne informasjonen kan være nyttig hvis det blir nødvendig å rulle tilbake.\nListen med migreringsjobber inneholder også lenker til språkversjoner av hovedskjema, som du kan åpne i InfoPath. Klikk eventuelt på lenken Vis underskjema for å hente fram tilsvarende lenker til språkversjoner for resten av skjemasettet.\nFor å komme videre med testing kan du gå direkte til et portalmiljø fra listen over migreringer. Når du klikker på navnet til det aktuell miljøet, tas du til utgaven i SBL via en direktelenke. Direktelenken er beskrevet nedenfor. Alternativt kan du klikke på OK-knappen for å gå tilbake til utgavens arbeidsflate.\nDet er mulig å gå ut av siden med OK-knappen selv om det pågår en migreringsprosess. Migreringen vil fortsette, og løpende migreringsstatus vil vises på utgavens arbeidsflate. Det vil imidlertid ikke være mulig å returnere til denne siden som viser detaljer om advarsler og status. Hvis du går inn på nytt fra utgavearbeidsflaten, vil siden kun inneholde oversikten over alle migreringsjobber som er utført. Hvis du går inn på migreringsstatus-siden mens det pågår en migrering, må du oppdatere siden (refresh) for å få med den siste migreringsjobben i listen når prosessen er ferdig.\nEn innsendingstjenestes utgave kan inngå som underskjema i et skjemasett for en annen innsendingstjeneste. Om utgaven er migrert som underskjema i et skjemasett vil det dukke opp et område på arbeidsflaten for utgaven som lenker til en migreringsstatusside for skjemaet som underskjema. På denne siden vil du finne referanser til alle skjemasett utgaven har blitt migrert som del av, hvor det har blitt migrert, tidspunkt for migreringer, hvem som har migrert, og lenker til de aktuelle utgavene.\nDirektelenke Direktelenken er konstruert på bakgrunn av utgavens eksterne tjenestekode og eksterne utgavekode:\nhttps://\u0026lt;A\u0026gt;/Pages/ServiceEngine/Start/StartService.aspx?ServiceEditionCode=\u0026lt;B\u0026gt;\u0026amp;ServiceCode=\u0026lt;C\u0026gt;\r \u0026lt;A\u0026gt; er adressen til miljøet \u0026lt;B\u0026gt; er den eksterne tjenesteutgavekoden \u0026lt;C\u0026gt; er den eksterne tjenestekoden  F.eks.\nhttps://tt02.altinn.no/Pages/ServiceEngine/Start/StartService.aspx?ServiceEditionCode=635821\u0026amp;ServiceCode=854214\nMigreringsstatus på utgaven arbeidsflate På utgavens arbeidsflate er det et område for Migrering og status. Her vises en oversikt over versjonens status. Herfra kan du også gå direkte til siden med migreringsoversikt via en lenken Migreringsstatus.\nMulige statuser for utgave:\n   Tilstand Siste versjon Siste migrering I produksjon     Tjenesteutgaven er opprettet, men ikke migrert noe sted. Under utvikling Ikke migrert Nei   Tjenesteutgaven er migrert til et testmiljø Migrert Dato for migrering Nei   Tjenesteutgaven er migrert til et testmiljø, men forandret etterpå. Under utvikling Dato for migrering Nei   Tjenesteutgaven er migrert til produksjonsmiljø. Migrert Migrert til produksjon Produksjons­setting bestilt   Tjenesteutgaven er aktivert i produksjon (ved at aktiverings­linken i TUL er klikket på) Migrert Migrert til produksjon Ja   Tjenesteutgaven er endret etter produksjons­setting er bestilt Under utvikling Migrert til produksjon Produksjons­setting bestilt   Tjenesteutgaven er endret etter at den er aktivert i produksjon Under utvikling Migrert til produksjon Ja    Migrerings­status\n Blank (hvis ingen migrering pågår) Løpende status (hvis migrering pågår)  Statusverdiene oppdateres når siden lastes. For å sjekke utviklingen mens en migrering pågår, må du oppdatere siden (Refresh). Hvis flere migreringer pågår i parallell, vil siden vise alle statusendringene fortløpende på tvers av migreringsprosesser. For å se status og eventuelle advarsler og feilmeldinger per migrering, må du imidlertid bli stående på siden Migreringsstatus til migrering er gjennomført.\nEn innsendingstjenestes utgave kan inngå som underskjema i et skjemasett for en annen innsendingstjeneste. Om utgaven er migrert som underskjema i et skjemasett vil det dukke opp et nytt område på arbeidsflaten med status over siste migrering som underskjema. I motsetning til migreringsstatusen for utgaven som hovedskjema vil ikke denne statusen oppdateres i sanntid\nKjente feilmeldinger Ved migrering til Sluttbrukerløsningen gjennomføres et sett med kontroller som kan resultere i advarsler eller feilmeldinger til tjenesteutvikler. Til tross for mange eksplisitte kontroller av metadata og skjema kan det oppstå plutselige og uhåndterte feil som følge av kommunikasjons­problemer, problemer med skjema o.l. Det er vanskelig for løsningen å ”oversette” alle feil i og med at de stammer fra et standardprodukt. Her vil vi derfor forsøke å beskrive noen av de vanligere feilmeldingene som kan oppstå ved uhåndterte feil.\n\u0026ldquo;An unexpected error occured that prevented the migration of the service edition. Migration failed\u0026rdquo;\n Denne tyder i de fleste tilfeller på at noe er feil med skjemaet, som gjør at TUL ikke klarer å migrere skjemaet på hovedspråket. Åpne skjemaet i InfoPath og påse at Design checker ikke melder noen feil. Rett evt. feil og sjekk inn skjema på nytt.\n \u0026ldquo;A communication error occured that prevented communicating with SBL. Unable to migrate\u0026rdquo;\n Denne antyder i 9 av 10 tilfeller at TUL ikke får kontakt med importeringstjenesten i SBL. Det kan også bety at skjemaserverene i SBL ikke klarer å laste opp skjema og kaster et unntak. Vent noen minutter og prøv igjen, hvis du har mistanke om at det er skjema, kjør design checker.\n \u0026ldquo;The request channel timeout while waiting for a reply\u0026hellip;Timeout\u0026rdquo;\n Dette indikerer at SBL bruker for lang tid på å svare. Dette kan enten skyldes en feil i SBL, eller at trykket på løsningen er veldig stort. Vent noen minutter og forsøk igjen.\n \u0026ldquo;SBL was unable to import the service editon package sent. All the changes have been rolled back. Migration failed. SBL returned the message: An error occurred: The XSN cannot be used on the server\u0026rdquo;\n Dette indikerer at det er noe feil med skjemaet som forsøkes lastet opp. Påse at skjemaet er ”Browser enabled”, og at design checker ikke rapporterer noen feil.\nDenne vil også vises hvis et eller flere felter er ubundet, ved f.eks. at det er fjernet en datakilde e.l. Typisk hvis en felles datakilde er fjernet.\n \u0026ldquo;An error occured\u0026rdquo;\n Dette er en standard SharePoint feilmelding som i de fleste tilfeller skyldes en feil med løsningen eller serverproblemer, og ikke utgaven som er forsøkt migrert.\n \u0026ldquo;SBL was unable to import the service edition package sent. All the changes have been rolled back. Migration failed. SBL returned the message: An error occurred: Object reference not set to an instance of an object\u0026rdquo;\n Dette indikerer at det er noe feil med skjemaet som forsøkes lastet opp. Påse at design checker ikke rapporterer noen feil. Forsøk å rull tilbake skjema til en tidligere versjon og forsøk igjen. I de fleste tilfeller kommer denne feilen hvis det finnes felter i skjemaet som ikke er bundet mot datakilden, eller at en datakilde som hadde felter bundet mot seg, er fjernet.\n Rulle tilbake For å rulle tilbake til en tidligere migrert versjon av utgaven i portalmiljø må du på migreringssiden velge den versjonen du ønsker å rulle tilbake til, i nedtrekkslisten der du kan velge miljø (2 Velg miljø). Denne lister alle versjoner av utgaven.\nVil du rulle tilbake arbeidsflaten i TUL, må dette gjøres manuelt ved hjelpe av migreringsrapporten for gitt versjon. Du benytter da migreringsrapporten for versjonen du vil gjenskape, og går inn i hver enkel metadataseksjon og oppdaterer slik at det blir likt migreringsrapportens verdier.\nMerk at det kan være lurt å rulle tilbake InfoPath-skjemaet først. Dette gjøres ved å velge versjonslogg for gitt skjema. Du blir da presentert med liste over alle versjoner:\nVed å klikke på pilen til høyre for versjonen du vil hente fram igjen, får du frem en kontekstmeny med valget ”Gjenopprett”. Ved å velge dette blir gjeldende versjon av skjema på arbeidsflaten erstattet med det du valgte å gjenopprette.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/rest/kom-i-gang/scopes/",
	"title": "OAuth2 scopes for begrensning av tilganger",
	"tags": [],
	"description": "Scopes benyttes av Altinn for å begrense tilganger for OAuth2-klienter.",
	"content": "Scopes for begrensning av tilgang Alle API-forespørsler til Altinn 2.0 krever en API-nøkkel som vil være begrenset til en eller flere områder av API-et.\nI tillegg kan du velge å provisjonere klienter i ID-porten/Maskinporten med et eller flere scopes, som vil ytterligere begrense hvilke operasjoner klienten kan utføre. Merk at scopes er kun en mekanisme for begrensning av eksisterende rettigheter; hvis din organisasjon eller API-nøkkel ikke har tilgang til et gitt API vil ikke scope på en klient gi deg tilgang.\nHvis du ikke ønsker å begrense klienten sin tilgang, men kun vil forholde deg til API-nøkkelens tilganger, kan et generelt scope som altinn:serviceowner benyttes.\nTjenesteeier-API Alle disse scopene er virksomhetsautentiserte, og krever at din organisasjon er tjenesteeier i Altinn. Du må også ha en API-nøkkel som er knyttet til serviceowner-ressursen. Kun tjenesteeiere i Altinn vil kunne provisjonere klienter med disse scopene.\n   Scope Begrenses til API-et /api/serviceowner/\u0026hellip;     altinn:serviceowner (Ingen begrensninger)   altinn:serviceowner/organizations organizations   altinn:serviceowner/reportees reportees   altinn:serviceowner/rolesandrights rights, roles   altinn:serviceowner/events events   altinn:serviceowner/srr.read srr (GET)   altinn:serviceowner/srr.write srr (POST, PUT, DELETE)   altinn:serviceowner/consents consents   altinn:serviceowner/delegationrequests.read delegationrequests (GET)   altinn:serviceowner/delegationrequests.write delegationrequests (POST, DELETE)   altinn:serviceowner/notifications.read notifications (GET)    Hvis .read/.write-suffiks ikke er oppgitt, tilbys bare GET og scopet er å regne som begrenset til leseoperasjoner.\r/api/serviceowner/roledefinitions krever ikke noe spesielt scope.\nTa kontakt med tjenesteeier@altinn.no hvis din organisasjon ikke har fått tilgang til scopet du trenger i Maskinporten.\nSluttbruker-API For tilgang til disse scopene i produksjon må din organisasjon gis tilgang til de scopene som behøves. Dette er i tillegg til at en API-nøkkel med tilstrekkelige rettigheter må være utstedt din organisasjon. For tilgang til disse scopene, ta kontakt med servicedesk@altinn.no.\nI testmiljøet TT02 (som benytter seg av ID/Maskinportens VER2-miljø) er alle scope åpne for alle og kan tas i bruk av alle med tilgang til å opprette klienter i ID/Maskinporten.\nDe fleste sluttbruker-scopes krever personautentisering gjennom ID-porten og en eksplisitt bekreftelse fra sluttbrukeren, mens noen er virksomhetsautentiserte og krever token fra Maskinporten.\n   Scope Begrenses til /api/\u0026hellip;     altinn:enduser Generelt scope, ingen begrensninger utover API-key   altinn:endusernoconsent¹ Generelt scope forbeholdt tjenesteeiere som har legacy-implementasjoner. Krever ikke eksplisitt samtykke fra sluttbruker.   altinn:consenttokens.read² Leseoperasjoner (GET) på /api/token   altinn:consenttokens.write² Leseoperasjoner (POST, DELETE) på /api/token   altinn:rolesandrights.read Leseoperasjoner (GET) på /api/{who}/roles og /api/{who}/rights   altinn:rolesandrights.write Skriveoperasjoner (DELETE) på /api/{who}/roles og /api/{who}/rights   altinn:reportees /api/reportees. Inkluderer også POST /reportees/reporteeconversion   altinn:profiles.read Leseoperasjoner (GET) på /api/{org}/profile og /api/my/profile   altinn:profiles.write Skriveoperasjoner (POST,DELETE) på /api/{org}/profile   altinn:lookup /api/{who}/lookup)   altinn:instances.meta Kun GET /api/{who}/messages, altså kun liste, ikke enkeltelementer   altinn:instances.read Leseoperasjoner (GET) på /api/{who}/messages/{messageId}, /api/{who}/attachments, /api/{who}/forms   altinn:instances.write Skriveoperasjoner (POST,PUT,DELETE) på /api/{who}/messages, /api/{who}/attachments, /api/{who}/forms   altinn:delegations.read Leseoperasjoner (GET) på /api/{who}/delegations   altinn:delegations.write Skriveoperasjoner (POST,DELETE) på /api/{who}/delegations   altinn:brokerservice Leseoperasjoner (GET) på /api/brokerservice   altinn:consentrequests.read²³ Leseoperasjoner (GET) på /api/consentrequest   altinn:consentrequests.write²³ Skriveoperasjoner (POST,DELETE) på /api/consentrequest   altinn:roledefinitions.read Leseoperasjoner (GET) på /api/{who}/authorization/RoleDefinitions   altinn:roledefinitions.write Skriveoperasjoner (POST,PUT,DELETE) på /api/{who}/authorization/RoleDefinitions    ¹ Dette scopet er kun tilgjengelig for eksisterende portalløsninger som i dag benytter legacy-autentisering (cookie-basert) og som av spesielle årsaker ikke har mulighet til OIDC/OAuth2 med brukerinteraksjon. Nye integrasjoner kan benytte altinn:enduser, som gir samme tilganger.\n² Krever Maskinporten-token.\n³ Også tilgjengelig som altinn:enduser/consentrequest.* (deprecated)\nHvis .read/.write-suffiks ikke er oppgitt, tilbys bare GET og scopet er å regne som begrenset til leseoperasjoner.\r/api/authentication og /api/metadata krever ikke autentisering og dermed ikke noe spesielt scope.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/testing/local/apitests/org/",
	"title": "API test org",
	"tags": [],
	"description": "Når man kjører applikasjonene lokalt sammen med den lokale testplattformen kan man teste API som applikasjon eksponerer.",
	"content": "Appen har en rekke API som kan benyttes av applikasjonseier/tjenesteeier. Beskrivelsen du finner her er laget for Postman hvor det er benyttet testapplikasjonen MVA testapp.\nPostman-prosjektet kan lastes ned fra her (høyreklikk og velg \u0026ldquo;save as\u0026rdquo;).\nAutentisering av tjenesteier org I testmiljø og produksjon brukes maskinporten for å autentisere organisasjoner som eier apper.\nTestplattformen for lokal testing tilbyr et enkelt api for å autentisere organisjonen som er ansvarlig.\nMan trenger bare å oppgi tjenesteeier kode (som f.eks brg, skd osv)\nUrl: http://altinn3local.no/Home/GetTestOrgToken/ttd (ttd needs to be replaced with the org you want to authenticate)\nThe response is a JWT token that should be uses as a Authorization header.\nMultipart instansiering Applikasjonene støtter at man instansierer instanser til aktører. Personer eller organsiasjoner.\nUrl: http://altinn3local.no/ttd/mva/instances\nMetode: POST\nHeaders:\n Authorization: Bearer + jwttoken Content-Type: multipart/form-data; boundary=\u0026ldquo;abcdefg\u0026rdquo;  Eksempel Body:\n--abcdefg Content-Type: application/json; charset=utf-8 Content-Disposition: form-data; name=\u0026#34;instance\u0026#34;  { \u0026#34;instanceOwner\u0026#34;: { \u0026#34;organisationNumber\u0026#34; : \u0026#34;897069650\u0026#34; } } --abcdefg Content-Type: application/xml Content-Disposition: form-data; name=\u0026#34;RF0002\u0026#34;  \u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt; \u0026lt;Skjema xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:xsd=\u0026#34;http://www.w3.org/2001/XMLSchema\u0026#34; skjemanummer=\u0026#34;212\u0026#34; spesifikasjonsnummer=\u0026#34;10420\u0026#34; blankettnummer=\u0026#34;RF-0002\u0026#34; tittel=\u0026#34;Alminnelig omsetningsoppgave\u0026#34; gruppeid=\u0026#34;20\u0026#34;\u0026gt; \u0026lt;GenerellInformasjon-grp-2581 gruppeid=\u0026#34;2581\u0026#34;\u0026gt; \u0026lt;Avgiftspliktig-grp-50 gruppeid=\u0026#34;50\u0026#34;\u0026gt; \u0026lt;RapporteringsenhetNavn-datadef-21771 orid=\u0026#34;21771\u0026#34;\u0026gt;DDG Fitness\u0026lt;/RapporteringsenhetNavn-datadef-21771\u0026gt; \u0026lt;RapporteringsenhetAdresse-datadef-21773 orid=\u0026#34;21773\u0026#34;\u0026gt;Sofies Gate 1\u0026lt;/RapporteringsenhetAdresse-datadef-21773\u0026gt; \u0026lt;RapporteringsenhetPostnummer-datadef-21774 orid=\u0026#34;21774\u0026#34;\u0026gt;0170\u0026lt;/RapporteringsenhetPostnummer-datadef-21774\u0026gt; \u0026lt;RapporteringsenhetPoststed-datadef-21775 orid=\u0026#34;21775\u0026#34;\u0026gt;By\u0026lt;/RapporteringsenhetPoststed-datadef-21775\u0026gt; \u0026lt;RapporteringsenhetOrganisasjonsnummer-datadef-21772 orid=\u0026#34;21772\u0026#34;\u0026gt;897069650\u0026lt;/RapporteringsenhetOrganisasjonsnummer-datadef-21772\u0026gt; \u0026lt;/Avgiftspliktig-grp-50\u0026gt; \u0026lt;/GenerellInformasjon-grp-2581\u0026gt; \u0026lt;/Skjema\u0026gt; --abcdefg-- Example Response The below response show how an instance was created for a given organization.\n1{ 2 \u0026#34;id\u0026#34;: \u0026#34;500000/b4a42747-882f-47fa-bcd3-94029fdbc918\u0026#34;, 3 \u0026#34;instanceOwner\u0026#34;: { 4 \u0026#34;partyId\u0026#34;: \u0026#34;500000\u0026#34;, 5 \u0026#34;personNumber\u0026#34;: null, 6 \u0026#34;organisationNumber\u0026#34;: \u0026#34;897069650\u0026#34; 7 }, 8 \u0026#34;appId\u0026#34;: \u0026#34;ttd/mva\u0026#34;, 9 \u0026#34;org\u0026#34;: \u0026#34;ttd\u0026#34;, 10 \u0026#34;selfLinks\u0026#34;: { 11 \u0026#34;apps\u0026#34;: \u0026#34;https://altinn3local.no/ttd/mva/instances/500000/b4a42747-882f-47fa-bcd3-94029fdbc918\u0026#34;, 12 \u0026#34;platform\u0026#34;: \u0026#34;https://localhost:5101/storage/api/v1/instances/500000/b4a42747-882f-47fa-bcd3-94029fdbc918\u0026#34; 13 }, 14 \u0026#34;dueBefore\u0026#34;: null, 15 \u0026#34;visibleAfter\u0026#34;: null, 16 \u0026#34;title\u0026#34;: { 17 \u0026#34;nb\u0026#34;: \u0026#34;RF-0002\u0026#34; 18 }, 19 \u0026#34;process\u0026#34;: { 20 \u0026#34;started\u0026#34;: \u0026#34;2020-01-24T06:37:48.6026647Z\u0026#34;, 21 \u0026#34;startEvent\u0026#34;: \u0026#34;StartEvent_1\u0026#34;, 22 \u0026#34;currentTask\u0026#34;: { 23 \u0026#34;flow\u0026#34;: 2, 24 \u0026#34;started\u0026#34;: \u0026#34;2020-01-24T06:37:48.6027116Z\u0026#34;, 25 \u0026#34;elementId\u0026#34;: \u0026#34;Task_1\u0026#34;, 26 \u0026#34;name\u0026#34;: \u0026#34;Utfylling\u0026#34;, 27 \u0026#34;altinnTaskType\u0026#34;: \u0026#34;data\u0026#34;, 28 \u0026#34;ended\u0026#34;: null, 29 \u0026#34;validated\u0026#34;: null 30 }, 31 \u0026#34;ended\u0026#34;: null, 32 \u0026#34;endEvent\u0026#34;: null 33 }, 34 \u0026#34;status\u0026#34;: null, 35 \u0026#34;appOwner\u0026#34;: { 36 \u0026#34;labels\u0026#34;: null, 37 \u0026#34;messages\u0026#34;: null, 38 \u0026#34;canBeDeletedAfter\u0026#34;: null 39 }, 40 \u0026#34;data\u0026#34;: [ 41 { 42 \u0026#34;id\u0026#34;: \u0026#34;54d868aa-5bc9-47fb-9525-67ba4c2e595c\u0026#34;, 43 \u0026#34;instanceGuid\u0026#34;: \u0026#34;b4a42747-882f-47fa-bcd3-94029fdbc918\u0026#34;, 44 \u0026#34;dataType\u0026#34;: \u0026#34;RF0002\u0026#34;, 45 \u0026#34;filename\u0026#34;: null, 46 \u0026#34;contentType\u0026#34;: \u0026#34;application/xml\u0026#34;, 47 \u0026#34;blobStoragePath\u0026#34;: \u0026#34;ttd/mva/b4a42747-882f-47fa-bcd3-94029fdbc918/data/54d868aa-5bc9-47fb-9525-67ba4c2e595c\u0026#34;, 48 \u0026#34;selfLinks\u0026#34;: { 49 \u0026#34;apps\u0026#34;: \u0026#34;https://altinn3local.no/ttd/mva/instances/500000/b4a42747-882f-47fa-bcd3-94029fdbc918/data/54d868aa-5bc9-47fb-9525-67ba4c2e595c\u0026#34;, 50 \u0026#34;platform\u0026#34;: \u0026#34;https://localhost:5101/storage/api/v1/instances/500000/b4a42747-882f-47fa-bcd3-94029fdbc918/data/54d868aa-5bc9-47fb-9525-67ba4c2e595c\u0026#34; 51 }, 52 \u0026#34;size\u0026#34;: 1009, 53 \u0026#34;locked\u0026#34;: false, 54 \u0026#34;refs\u0026#34;: [], 55 \u0026#34;created\u0026#34;: \u0026#34;2020-01-24T06:37:48.641997Z\u0026#34;, 56 \u0026#34;createdBy\u0026#34;: null, 57 \u0026#34;lastChanged\u0026#34;: \u0026#34;2020-01-24T06:37:48.641997Z\u0026#34;, 58 \u0026#34;lastChangedBy\u0026#34;: null 59 } 60 ], 61 \u0026#34;created\u0026#34;: \u0026#34;2020-01-24T06:37:48.6068671Z\u0026#34;, 62 \u0026#34;createdBy\u0026#34;: null, 63 \u0026#34;lastChanged\u0026#34;: \u0026#34;2020-01-24T06:37:48.6068671Z\u0026#34;, 64 \u0026#34;lastChangedBy\u0026#34;: null 65} "
},
{
	"uri": "https://altinn.github.io/docs/tul/funksjonalitet/oversetting/",
	"title": "Oversetting",
	"tags": [],
	"description": "Hvis det er behov for å tilby en tjeneste på flere språk så kan oversettermodulen benyttes.",
	"content": "En tjenesteutgave utvikles alltid i et hovedspråk. Hovedspråket velges som utgaveparameter når utgaven opprettes, og kan ikke endres senere. Man kan velge mellom følgende språk: bokmål, nynorsk, samisk og engelsk. Alle deler av tjenesten utvikles først i hovedspråket, både InfoPath-skjema og tekster som legges inn i TUL (for eksempel tjeneste- og utgavenavn, sidenavn, signeringstekst, hjelpetekster).\nHvis det er behov for å tilby tjenesten på flere språk må TUL oversettermodul benyttes. Denne startes fra tjenesteutgavens arbeidsflate. Det lønner seg å vente med oversettelsen til utgaven er komplett på hovedspråket, for å slippe ekstra vedlikehold.\nFor å starte oversettelse til et nytt språk, velg Ny i språkseksjonen i arbeidsflaten. Du får opp en side der du kan velge hvilket språk du vil oversette til:\nAlternativene er de samme som for hovedspråk, se over, med unntak av det språket som er valgt som hovedspråk,\nNår språk er valgt presenteres oversettelsessiden:\nHer han du velge hva du vil oversette (parametre, hjelpetekster, skjemaelementer, valideringstekster eller alt sammen) og hvilket språk du vil oversette fra.\nFor den første oversettelsen er det bare ett alternativ å oversette fra (hovedspråket), hvor det kun er mulig å endre tjenestenavnet, men for senere oversettelser kan du fritt velge blant de eksisterende språkversjonene, uavhengig om de er komplette eller ikke.\nPå oversettelsessiden presenteres en liste over de tekstelementene som utgaven inneholder innenfor den kategorien du har valgt, med plass til å skrive inn din oversettelse av hvert tekstelement. For noen av valgene må du gjøre et undervalg i tillegg; for eksempel hvis du velger Dialogsider, vises en ny nedtrekksliste der du kan velge blant de definerte dialogsidene.\nSkriv inn dine oversettelser. Klikk på Sjekk inn når du er ferdig med oversettelsen, eller ønsker at andre skal ta over arbeidet.\nMerk at valideringstekster for skjermtips ikke kan være lengre enn 125 tegn. Det er lagt inn begrensning på dette i TUL.\nVær oppmerksom på at det må tas spesielle hensyn i InfoPath når skjemaet utvikles for at skjemaet skal kunne oversettes i TUL. Alle språkavhengige elementer i skjemaet (ledetekster, hinttekster, gruppeoverskrifter osv.) må defineres som uttrykksfelter (”expression box”), ellers vil de ikke bli oversatt. Uttrykksbokser beskrives i Vedlegg A. For å teste en språkversjon av et skjema, kan du gå tilbake til utgave-arbeidsflaten og velge Vis InfoPath form fra nedtrekksmenyen som er knyttet til språknavnet:\nSkjemaet vil da bli vist i InfoPath med språkavhengige elementer erstattet med de oversettelsene som er lagt inn i TUL. I de fleste tilfeller vil man måtte lagre skjemafilen lokalt og velge design for å få se at skjemaet er på riktig språk.\nFor å teste oversettelse av øvrige tekster må tjenesteutgaven migreres til et test-sluttbrukermiljø. Dersom du migrerer en språkversjon til testmiljøene uten at alle tekster er oversatt, vil manglende oversettelser bli erstattet av samme tekst på hovedspråket.\nDersom det ikke lenger er behov for en oversettelse kan den slettes fra utgaven ved å velge Slett fra nedtrekksmenyen som er knyttet til språknavnet. Du får da opp et pop-up vindu der du må bekrefte at oversettelsen til dette språket skal slettes.\nEksportere oversettelse Dersom du vil gjøre oversettelsen utenfor TUL kan du eksportere en xml-fil som kan redigeres i for eksempel Excel.\nFor å eksportere tekster som kan oversettes klikker du på «Last ned eksisterende oversettelse». Det vil da bli generert en xml-fil som du må lagre et sted du finner den igjen. Filen kan redigeres med hvilket som helst program som kan lese xml-filer, men det er først og fremst lagt opp til at den blir redigert i Excel.\nDersom du bruker Excel må du velge å åpne filen som xml-tabell. Du vil da få en visning som ser slik ut:\nDe tre kolonnene til venstre (A, B og C) skal du ikke røre fordi de blir brukt til identifikasjon under importen. Vi bruker disse til å fortelle hva det er som skal oversettes. A og B er id-felter som blir brukt til å finne feltene. C er originaltekster som kommer fra InfoPath-skjema. Gjør du endringer i disse kolonnene kan importen enten feile eller den oversatte teksten kan havne i feil felt.\nOversettelsene fyller du inn i kolonnene til de språkene som ikke er hovedspråk. I dette eksempelet er bokmål hovedspråk, og det er kolonnene «English» og «NorwegianNN» som kan brukes til å legge inn oversettelse. Du bruker da kolonnen «NorwegianNO» som utgangspunkt for det som skal oversettes. Her har vi bare fylt ut engelsk oversettelse, men du kan også fylle ut oversettelse for flere språk samtidig.\nEtter at du har fylt ut den teksten du vil endre, skal du lagre filen som xml. Excel kan komme til å forsøke å få deg til å lagre den som Excel-fil, men du må lagre den som xml.\nImportere oversettelse Filen du laget i Eksportere oversettelse skal så lastes opp i tjenesteutgaven ved hjelp av «Last opp ny oversettelse» (se Figur 107).\nNår filen er lastet opp vil du få valg om å godta endringene eller avbryte.\nDu må da trykke «Ok» for å få inn oversettelsen. Dersom du har fylt inn oversettelse for et språk som ikke allerede eksisterer på utgaven, så vil dette språket bli opprettet for deg med de oversettelsene du har fylt inn. En bekreftelsestekst i grønt vil fortelle deg at opplastingen var vellykket.\nFelter som du lar stå blanke i xml-fila vil bli ignorert under import. Det betyr at dersom du bare skal endre enkelte felt, så kan du la resten stå blanke. Dermed vil bare de feltene du har lagt inn tekst i bli endret.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/ux/pdf/",
	"title": "PDF",
	"tags": [],
	"description": "Hvordan konfigurere generering av PDF.",
	"content": "Ekskludere sider Det er mulig å konfigurere hvilke sider man vil ha med i den genererte pdf\u0026rsquo;en ved hjelp av Settings.json under App/ui/. Dette gjøres på følgende vis:\n{ \u0026#34;pages\u0026#34;: { \u0026#34;excludeFromPdf\u0026#34;: [\u0026#34;side2\u0026#34;] } } Her vil sidene spesifisert i pages.excludeFromPdf bli ekskludert fra pdf. Om denne array\u0026rsquo;en ikke settes i repo så vil alle sidene bli med.\n"
},
{
	"uri": "https://altinn.github.io/docs/utviklingsguider/referanser/",
	"title": "Referanser",
	"tags": [],
	"description": "Diverse referanser og lenker.",
	"content": "Referanser til diverse filer og dokumenter:\n   Dokument Beskrivelse     Funksjonell spesifikasjon - Sluttbrukerløsningen Funksjonell beskrivelse av Sluttbrukerløsningen hvor bl.a. abonnement, preutfylling og meldinger blir beskrevet.   Implementasjonsguide for integrasjon mot Altinn.doc Dette dokumentet beskriver den overordnede arkitekturen for integrasjon mot Altinn, samt sikkerhetsmekanismer som benyttes for kommunikasjon mellom Altinn og eksterne systemer.   serviceinitiation.2010.10.xsd Meldingsbeskrivelse benyttet for innsending av preutfyllingsdata og abonnementsdata fra tjenesteeier på batchgrensesnitt.   correspondence.2010.10.xsd Meldingsbeskrivelse benyttet for innsending av meldinger fra tjenesteeier på batchgrensesnitt.   correspondence.confirmations.2010.10.xsd Meldingsbeskrivelse benyttet for innsending av meldinger fra tjenesteeier på batchgrensesnitt.   AltUt.xsd Meldingsbeskrivelse benyttet for innsending av meldinger fra tjenesteeier på gammelt format, for både batch– og tjenestegrensesnitt.   AltUtConfirmationBatch.xsd Meldingsbekreftelse benyttet for meldingsbekreftelser på gammelt format fra Altinn til tjenesteeier, batchgrensesnitt.   GovOrganReceipt.xsd Meldingsbekreftelse benyttet for meldingsbekreftelser på gammelt format fra Altinn til tjenesteeier, batchgrensesnitt.   genericbatch.2010.10.xsd Meldingsbeskrivelse benyttet for overføring av arkiverte innsendingstjenester fra Altinn til tjenesteeier   genericbatch.2013.06.xsd Oppdatert meldingsbeskrivelse benyttet for overføring av arkiverte innsendingstjenester fra Altinn til tjenesteeier. Med støtte for vedleggstypenavn (AttachmentTypeName) og sjekksum av vedlegget (Checksum)   OnlineBatchReceipt.xsd Kvittering ved online overføring av data fra Altinn til Tjenesteeier   Videreformidling av identitet_SAML 2 0.doc Beskriver hvordan tjenesteleverandører kan sette opp og konfigurere et grensesnitt mot Altinn sin løsning for videreformidling av elektronisk identitet basert på SAML 2.0 protokollen.    Lenker til diverse ressurser:\n   Beskrivelse Link     Bestillingsskjemaer https://altinn.brreg.no/sites/dokument2/Bestillingsskjema   Tjenestekatalogen https://altinn.brreg.no/sites/program/altinn%20II/Lists/Tjenestekatalog   Referanseklienter for Java og .NET https://altinn.brreg.no/sites/fagsystemer/Kokebker/Forms/AllItems.aspx?RootFolder=/sites/fagsystemer/Kokebker/Referanseklienter    "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/configuration/authorisation/rules/",
	"title": "Regelbibliotek",
	"tags": [],
	"description": "Bibliotek av autorisasjonsregler som kan brukes i en app. Husk å bytte ut tags ([ORG], [APP], [RULE_ID]) med din egen data.",
	"content": "[ORG] can instantiate an instance of [ORG]/[APP] [ORG_1] og [ORG_2] kan her være like eller ulike. I tilfellet at de er ulike vil [ORG_1] tilsvare applikasjonseieren og [ORG_2] være en annen organisasjon som får lov til å instansiere.\n\u0026lt;xacml:Rule RuleId=\u0026#34;urn:altinn:example:ruleid:[RULE_ID]\u0026#34; Effect=\u0026#34;Permit\u0026#34;\u0026gt; \u0026lt;xacml:Description\u0026gt;[ORG_2] can instantiate an instance of [ORG_1]/[APP]\u0026lt;/xacml:Description\u0026gt;  \u0026lt;xacml:Target\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG_2]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG_1]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[APP]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:app\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;instantiate\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:1.0:action:action-id\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;/xacml:Target\u0026gt; \u0026lt;/xacml:Rule\u0026gt; User with role REGNA can read instances of [ORG]/[APP] when it is in Task_1 Ved å endre på rolle og task i denne regelen vil du kunne gi rettigheter til å lese instansdata på en gitt task i prosessflyten.\n\u0026lt;xacml:Rule RuleId=\u0026#34;urn:altinn:example:ruleid:[RULE_ID]\u0026#34; Effect=\u0026#34;Permit\u0026#34;\u0026gt; \u0026lt;xacml:Description\u0026gt;User with role REGNA can read instances of [ORG]/[APP] when it is in Task_1\u0026lt;/xacml:Description\u0026gt;  \u0026lt;xacml:Target\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:3.0:function:string-equal-ignore-case\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;REGNA\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:rolecode\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[APP]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:app\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;Task_1\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:task\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;read\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:1.0:action:action-id\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;/xacml:Target\u0026gt; \u0026lt;/xacml:Rule\u0026gt; [ORG] can write to an instance of [ORG]/[APP] in any task or event Denne regelen kan brukes dersom applikasjonseier skal kunne oppdatere instanser uavhengig av hvor de er i prosessflyten sin.\n\u0026lt;xacml:Rule RuleId=\u0026#34;urn:altinn:example:ruleid:[RULE_ID]\u0026#34; Effect=\u0026#34;Permit\u0026#34;\u0026gt; \u0026lt;xacml:Description\u0026gt;[ORG] can write to instances of [ORG]/[APP] in any task or event\u0026lt;/xacml:Description\u0026gt;  \u0026lt;xacml:Target\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[APP]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:app\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;write\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:1.0:action:action-id\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;/xacml:Target\u0026gt; \u0026lt;/xacml:Rule\u0026gt; User with role REGNA or DAGL can confirm instances of [ORG]/[APP] when it is in Task_2 Denne reglen begrenser rettigheten til å bekrefte en instans i en bestemt task til kun to roller. Ved å enten modifisere task eller roller vil du her kunne sette regler for hvem som får bekrefte instansen i ulike faser av prosessen.\n\u0026lt;xacml:Rule RuleId=\u0026#34;urn:altinn:example:ruleid:[RULE_ID]\u0026#34; Effect=\u0026#34;Permit\u0026#34;\u0026gt; \u0026lt;xacml:Description\u0026gt;User with role REGNA or DAGL can confirm instances of [ORG]/[APP] when it is in Task_2\u0026lt;/xacml:Description\u0026gt;  \u0026lt;xacml:Target\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:3.0:function:string-equal-ignore-case\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;REGNA\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:rolecode\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:3.0:function:string-equal-ignore-case\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;DAGL\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:rolecode\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[APP]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:app\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;Task_2\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:task\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;confirm\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:1.0:action:action-id\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;/xacml:Target\u0026gt; \u0026lt;/xacml:Rule\u0026gt; User with role REGNA can read instanes of [ORG]/[APP] when it is in EndEvent_1 Denne regler tillatter en bruker med den gitte rollen å lese instansdata etter at prosessen er avsluttet. Dette vil bl.a. inkludere å laste ned vedlegg og kvitteringer knyttet til instansen.\n\u0026lt;xacml:Rule RuleId=\u0026#34;urn:altinn:example:ruleid:[RULE_ID]\u0026#34; Effect=\u0026#34;Permit\u0026#34;\u0026gt; \u0026lt;xacml:Description\u0026gt;User with role REGNA can read instanes of [ORG]/[APP] when it is in EndEvent_1\u0026lt;/xacml:Description\u0026gt;  \u0026lt;xacml:Target\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:3.0:function:string-equal-ignore-case\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;REGNA\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:rolecode\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[APP]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:app\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;EndEvent_1\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:end-event\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;read\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:1.0:action:action-id\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;/xacml:Target\u0026gt; \u0026lt;/xacml:Rule\u0026gt; Rule that defines that [ORG] can complete an instance of [ORG]/[APP] which state is at the end event. Denne regelen tillatter applikasjonseier å utføre en kvittering på at de er ferdig med en instans. Instansen må ha en fullført process.\n\u0026lt;xacml:Rule RuleId=\u0026#34;urn:altinn:example:ruleid:[RULE_ID]\u0026#34; Effect=\u0026#34;Permit\u0026#34;\u0026gt; \u0026lt;xacml:Description\u0026gt;Rule that defines that [ORG] can complete an instance of [ORG]/[APP] which state is at the end event.\u0026lt;/xacml:Description\u0026gt;  \u0026lt;xacml:Target\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[APP]\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:app\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;EndEvent_1\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:end-event\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;complete\u0026lt;/xacml:AttributeValue\u0026gt;  \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:1.0:action:action-id\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;/xacml:Target\u0026gt; \u0026lt;/xacml:Rule\u0026gt; [ORG] can delete an instance of [ORG]/[APP] in any task or event. Denne regelen tillatter applikasjonseier å slette en instans. Dette kan gjøres uavhengig av hvor i prosessen instansen er.\n\u0026lt;xacml:Rule RuleId=\u0026#34;urn:altinn:example:ruleid:[RULE_ID]\u0026#34; Effect=\u0026#34;Permit\u0026#34;\u0026gt; \u0026lt;xacml:Description\u0026gt;[ORG] can delete an instance of [ORG]/[APP] in any task or event.\u0026lt;/xacml:Description\u0026gt; \u0026lt;xacml:Target\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG]\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:1.0:subject-category:access-subject\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[ORG]\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:org\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;[APP]\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:altinn:app\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:resource\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;xacml:AnyOf\u0026gt; \u0026lt;xacml:AllOf\u0026gt; \u0026lt;xacml:Match MatchId=\u0026#34;urn:oasis:names:tc:xacml:1.0:function:string-equal\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34;\u0026gt;delete\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;xacml:AttributeDesignator AttributeId=\u0026#34;urn:oasis:names:tc:xacml:1.0:action:action-id\u0026#34; Category=\u0026#34;urn:oasis:names:tc:xacml:3.0:attribute-category:action\u0026#34; DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#string\u0026#34; MustBePresent=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;/xacml:Match\u0026gt; \u0026lt;/xacml:AllOf\u0026gt; \u0026lt;/xacml:AnyOf\u0026gt; \u0026lt;/xacml:Target\u0026gt; \u0026lt;/xacml:Rule\u0026gt; [ORG] can access with authentication level 3 \u0026lt;xacml:ObligationExpressions\u0026gt; \u0026lt;xacml:ObligationExpression FulfillOn=\u0026#34;Permit\u0026#34; ObligationId=\u0026#34;urn:altinn:obligation:authenticationLevel1\u0026#34;\u0026gt; \u0026lt;xacml:AttributeAssignmentExpression AttributeId=\u0026#34;urn:altinn:obligation1-assignment1\u0026#34; Category=\u0026#34;urn:altinn:minimum-authenticationlevel\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#integer\u0026#34;\u0026gt;4\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;/xacml:AttributeAssignmentExpression\u0026gt; \u0026lt;/xacml:ObligationExpression\u0026gt; \u0026lt;xacml:ObligationExpression FulfillOn=\u0026#34;Permit\u0026#34; ObligationId=\u0026#34;urn:altinn:obligation:authenticationLevel2\u0026#34;\u0026gt; \u0026lt;xacml:AttributeAssignmentExpression AttributeId=\u0026#34;urn:altinn:obligation2-assignment2\u0026#34; Category=\u0026#34;urn:altinn:minimum-authenticationlevel-org\u0026#34;\u0026gt; \u0026lt;xacml:AttributeValue DataType=\u0026#34;http://www.w3.org/2001/XMLSchema#integer\u0026#34;\u0026gt;3\u0026lt;/xacml:AttributeValue\u0026gt; \u0026lt;/xacml:AttributeAssignmentExpression\u0026gt; \u0026lt;/xacml:ObligationExpression\u0026gt; \u0026lt;/xacml:ObligationExpressions\u0026gt; "
},
{
	"uri": "https://altinn.github.io/docs/tul/funksjonalitet/rolleadministrasjon/",
	"title": "Rolleadministrasjon",
	"tags": [],
	"description": "Oversikt over rolleadministrasjon i TUL, med hovedvekt på definisjon av roller med tilhørende rettigheter.",
	"content": "Det er vanskelig å gi en god generell veiledning i valg av rolle som skal gi tilgang til tjenesten. Vi tilbyr derfor rådgiving i valg av rolle/rettighet. Ta kontakt med oss på tjenesteeier@altinn.no/selvbetjeningsportalen for individuell veiledning.\rHer gis en oversikt over rolleadministrasjon i TUL, med hovedvekt på definisjon av roller med tilhørende rettigheter. Dette utføres av brukere med spesielle rettigheter i TUL.\nSikkerhetspolicy – tjeneste- og utgavenivå Sikkerhetsmodulen i TUL tillater Tjenesteeier/Systemeier/Tjenesteutvikler å definere en rettighetspolicy for å begrense tilgang for sluttbruker i sluttbrukerløsningen. Dette gjøres i hovedsak i en egen modul – Rolleadministrasjon – der det defineres roller med tilhørende rettigheter til systemressurser og til tjenesteressurser. Eksterne roller er gitt fra Enhetsregisteret, mens Altinn-roller defineres i TUL. Alle roller migreres til SBL der roller kan delegeres, og rettighetskrav håndheves.\nI Rolle­administrasjon defineres rettigheter på tjenestenivå. En utgave vil arve disse rettighets­kravene automatisk når den migreres til SBL. For tjenesteressurser kan rettighetskrav i tillegg overstyres for enkeltutgaver av tjenesten. Dette gjelder imidlertid ikke roller til tjenesteeiers arkiv; disse rollene har rollekategori = tjenesteeier.\nEn ressurs er generelt noe en sluttbruker kan få tilgang til. En systemressurs kan være funksjonalitet for å delegere roller og rettigheter, mens en tjenesteressurs vil være en bestemt tjeneste. En rettighet gir sluttbruker tilgang til å utføre en bestemt operasjon på en bestemt ressurs for en bestemt avgiver – for eksempel å lese momsoppgavene i arkivet til virksomheten brukeren er ansatt i.\nFølgende rettigheter kan settes på en ressurs:\n   Ressurs Read Write Sign Archive Read Archive Write Service Owner Archive Read Delegatable     Service Owner X X X X X X    Service X X X X X X    Service Edition X X X X X X    Form X X        Page X X        Field X X         Arbeidsflate for rolleadministrasjon Rolleadministrasjon nås fra startsiden og fra tjenesteeiers arbeidsflate. Systemeier og tjenesteeier/-utvikler vil ha ulike tilgangsnivåer. Systemeier har mulighet å importere eksterne roller fra registerdatabasen, opprette nye Altinn-roller og endre eksisterende roller og, når rollene er definert med rettigheter, migrere til SBL. Alle tekster knyttet til rollene kan oversettes, slik som for tjenesteutgaver. Hvis oversettelse ikke er komplett, brukes hovedspråk for det som mangler.\nTjensteeier/-utvikler har lese-rettigheter på Rolleadministrasjon-siden. Hvis tjenesteutvikler trenger en rolle eller rettighet for å utføre oppgaver knyttet til Rolleadministrasjon-siden, må systemeier/ASF kontaktes på tjenesteeier@altinn.no.\nFra arbeidsflaten for rolleadministrasjon kan du åpne én bestemt rolle for å se på/endre denne rollens rettigheter for alle ressurser, eller du kan åpne én tjeneste og se på/endre rettigheter til denne for alle roller.\nDefinisjon av roller Systemeier kan definere hvilke rettigheter eksterne roller og Altinn-roller skal ha til systemressurser og tjenesteressurser. Øvrige brukergrupper kan lese tilsvarende informasjon.\nNår en rolle åpnes fra arbeidsflaten, kommer du til en side med rollens navn. Denne siden viser selve rolledefinisjonen inkludert hvilke rettigheter rollen omfatter. Rettighetene listes i to matriser, en for systemressurser og en for tjenesteressurser. Ressurser listes vertikalt, operasjoner listes horisontalt. Hvilke operasjoner som er relevante, avhenger av tjenestetype og rollekategori. Merk at matrisen med tjenesteressurser er utvidbar; klikk på en tjenesteeier for å se alle underliggende tjenester. En hake i ruten for ressurs/operasjon betyr at innehaver av denne rollen har tilgang til å utføre denne operasjonen på ressursen – for den avgiver rollen gjelder for.\nNår du oppretter en ny rolle, kommer du først til en side der du angir nøkkelinformasjon om rollen, før du kan gå videre. Bruk Rollekategori = Tjenesteeier hvis rollen gjelder tilgang til tjenesteeiers arkiv.\nDet er viktig å angi en god beskrivelse for rollen, for denne vil vises i SBL. Dette gjelder spesielt i perioden fram til alle tjenester ligger på Altinn II-plattform, fordi tjenestene i Altinn I vil ikke bli listet i rettighetsmatrisen som viser detaljer om rollen. Det betyr at beskrivelsen er sluttbrukers eneste mulighet til å forstå hva rollen omfatter. - Rettigheter til Altinn I-tjenester vil likevel håndteres automatisk gjennom en mapping mellom nye og gamle roller.\nEksterne roller tildeles automatisk til sluttbrukere basert på informasjon i Folkeregisteret og Enhetsregisteret. Altinn-roller kobles til eksterne roller, slik at innehaver av en bestemt ekstern rolle også får de(n) Altinn-rolle(r) som er koblet mot denne. I TUL kobles en Altinn-rolle til eksterne roller ved å velge en eller flere eksterne roller i en nedtrekksliste og klikke på Legg til-knappen.\nAltinn-rollene kan som regel delegeres videre; dette kan settes som en parameter ved opprettelse av rollen. Altinn-roller er ment som en enkel mekanisme for å delegere flere rettigheter samlet, gruppert i henhold til arbeidsdelingen i representative virksomheter.\nDet finnes noen unntak på roller som ikke tildeles eksterne roller fra Enhetsregisteret og Folkeregisteret. Disse rollene er innført for å ivareta behov for tilgangsstyring til ressurser som personer i roller fra Enhetsregisteret ikke nødvendigvis skal ha tilgang til (f.eks taushetsbelagte meldinger, API-ressurser o.l.) Rollene dette gjelder:\n \u0026ldquo;Roller for sensitive tjenester\u0026rdquo;  Tjenestespesifikke roller som gir tilgang til taushetsbelagte tjenester og som er lagt under \u0026ldquo;Hovedrolle for sensitive tjenester\u0026rdquo;   \u0026ldquo;Eksplisitt tjenestedelegering\u0026rdquo;  Ikke-delegerbar tjenesterolle for tjenester som bare skal kunne delegeres på tjenestenivå eller instansnivå Rollen eksponeres ikke i portal-grensesnittet i sluttbrukerløsningen (SBL)    Delegering av ressurser knyttet til disse rollene kan kun utføres av Hovedadministrator, og evt personer som har fått delegert rolle/tjenesterettighet OG rollen \u0026ldquo;Tilgangsstyring\u0026rdquo;.\nFor tjenesteeier-roller finnes ingen slik automatikk. En tjenesteeier-rolle defineres i TUL, migreres til SBL og tildeles manuelt til utvalgt(e) bruker(e) hos tjenesteeier. Rollen bør bare omfatte rettigheter til tjenesteeiers tjenester, siden SBL uansett gir tilgang til kun én tjenesteeier om gangen; det er ikke mulig å hente tjenesteelementer fra flere tjenesteeiere til samme liste.\nRollens rettigheter til tjenester Rettigheter for tjenester kan defineres på overordnet nivå for alle tjenestene som tilhører en tjenesteeier eller for en enkelt tjeneste. Ved å huke av en operasjon på tjenesteeiernivået vil alle undernivåer automatisk arve rettigheten; tjenestene tilhørende den aktuelle tjenesteeier og nye tjenester som opprettes vil automatisk arve denne rettigheten.\nDen grønne rammen rundt sjekkboksen indikerer at du har gjort en endring. Når du sjekker inn rollen vil rammen fortsatt være der, men bli grå. Slik vil du neste gang du editerer rettighetene til en rolle få en oversikt over hva du har endret denne gangen fordi de nye endringene markeres med grønne rammer. Det er kun rettigheten som er markert med grønn/grå ramme som lagres i databasen.\nHvis du har gitt en rettighet på tjenesteeiernivå, men tar bort rettigheten for en eller flere tjenester tilhørende den aktuelle tjenesteeier, vil dette markeres med en grønn sjekkboks på tjenesteeiernivået. En grønnfarget sjekkboks indikerer at rettigheten har blitt overstyrt på et lavere nivå med en deny-regel (nektelse).\nHvis du gir rettigheter på tjenestenivå og tjenesteeier ikke tidligere har rettigheter satt for den aktuelle operasjonen, vil dette markeres med en oransje sjekkboks på tjenesteeiernivået. En oransjefarget sjekkboks indikerer at rettigheten har blitt overstyrt på et lavere nivå med en permit-regel (tillatelse).\nHvis du gir rettigheter enkeltvis til alle tjenestene tilknyttet en tjenesteeier vil dette markeres med en vanlig hake på tjenesteeiernivået. Legg merke til at det kun er sjekkboksene på tjenestenivå som markeres med grønn ramme, dette indikerer at det kun er tjenesterettighetene som lagres i databasen. Nye tjenester som opprettes vil ikke få denne rettigheten selv om alle tjenestene knyttet til tjenesteeieren har rettigheten.\nRolleadministrasjon er ganske komplisert da rettigheter kan settes i flere ulike nivåer, fra et enkelt felt til tjenesteeier. Det lønner seg å sjekke inn og deretter dobbeltsjekke at de endringene du har utført har blitt slik du ønsket for alle nivåer.\nSlette Altinn-rolle En Altinn-rolle kan slettes dersom den ikke er koblet mot andre roller. Dersom rollen har koblinger må disse slettes før rollen kan slettes.\nTjenesterettigheter Det er også mulig å hente fram alle roller samtidig, for å se på eller endre rettigheter til én bestemt tjeneste. Dette kan være hensiktsmessig når man skal sette opp rettigheter til en tjeneste for første gang.\nFor å gå inn på Tjenesterettigheter-siden fra Rolleadministrasjon-siden klikker du på Tjenesterettigheter i menylinjen i listen over roller.\nVelg tjenesteeier og tjeneste i nedtrekkslistene og trykk på Hent-kanppen:\nDu kan nå se en liste over alle roller som har rettigheter til denne tjenesten. For å editere rettighetene til en tjeneste må du ha tilgang til å administrere rettigheter og sjekke ut siden.\nDu endrer rettighetene til valgte tjeneste ved å legge til eller fjerne markeringer for hvilke operasjoner hver enkelt rolle skal kunne utføre.\nNår du har sjekket ut siden, vises et valg for å liste alle roller. Dette er nødvendig for å tildele rettigheter til roller som ikke allerede har det på tjenestenivå. Nederst til venstre under listen er det en sjekkboks, og ved å ta bort haken vil listen utvides til å vise alle roller.\nDu har også mulighet til å se eller endre rettigheter på tjenesteeiernivå. Dette gjør du ved å velge tjenesteeier og ”Alle”. Da viser siden de rollene som har rettigheter satt direkte på tjenesteeiernivå. For øvrig er funksjonaliteten tilsvarende som for tjenestenivå.\nDu må sjekke inn for å lagre rettighetene på én tjeneste(eier), før du eventuelt henter fram roller for en annen.\nRettigheter fra tjenestearbeidsflaten Tjenesterettigheter-siden kan også nås fra arbeidsflaten for en tjeneste. Når siden åpnes, vil den liste rettigheter knyttet til den aktuelle tjenesten.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/rest/autorisasjon/roller-og-rettigheter/",
	"title": "Roller og rettigheter",
	"tags": [],
	"description": "Benyttes når du skal hente ut roller og rettigheter en innlogget bruker har. Du kan også delegere roller til andre eller slette slike delegeringer.",
	"content": "Hente roller Hente ut roller innlogget bruker har for {who} - kan være my, organisasjonsnummer eller andre privatpersoner der man spør ved hjelp av r{id} som hentes fra api/reportees.\nSe beskrivelse på altinn.no/api/help.\nGET https://www.altinn.no/api/{who}/authorization/roles HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey Eksempel på respons på rettigheter innlogget bruker har for 910252240:\n{ \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roles\u0026#34; } }, \u0026#34;_embedded\u0026#34;: { \u0026#34;roles\u0026#34;: [ { \u0026#34;RoleId\u0026#34;: 38069107, \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 3, \u0026#34;RoleName\u0026#34;: \u0026#34;L\\u00f8nn og personalmedarbeider\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Tilgang til l\\u00f8nns- og personalrelaterte tjenester\u0026#34;, \u0026#34;Delegator\u0026#34;: \u0026#34;ELLEN FISKE\u0026#34;, \u0026#34;DelegatedTime\u0026#34;: \u0026#34;2014-11-19T08:27:40.577\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roledefinitions\\/3\u0026#34; } } }, { \u0026#34;RoleId\u0026#34;: 38069108, \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 6, \u0026#34;RoleName\u0026#34;: \u0026#34;Regnskapsmedarbeider\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Tilgang til regnskapsrelaterte skjema og tjenester\u0026#34;, \u0026#34;Delegator\u0026#34;: \u0026#34;ELLEN FISKE\u0026#34;, \u0026#34;DelegatedTime\u0026#34;: \u0026#34;2014-11-19T08:27:40.577\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roledefinitions\\/6\u0026#34; } } }, { \u0026#34;RoleId\u0026#34;: 38069101, \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 8, \u0026#34;RoleName\u0026#34;: \u0026#34;Begrenset signeringsrettighet\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Tilgang til \\u00e5 signere utvalgte skjema og tjenester\u0026#34;, \u0026#34;Delegator\u0026#34;: \u0026#34;ELLEN FISKE\u0026#34;, \u0026#34;DelegatedTime\u0026#34;: \u0026#34;2014-11-19T08:22:21.653\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roledefinitions\\/8\u0026#34; } } }, { \u0026#34;RoleId\u0026#34;: 38069102, \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 11, \u0026#34;RoleName\u0026#34;: \u0026#34;Utfyller\\/Innsender\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Tilgang til utvalgte skjema og tjenester\u0026#34;, \u0026#34;Delegator\u0026#34;: \u0026#34;ELLEN FISKE\u0026#34;, \u0026#34;DelegatedTime\u0026#34;: \u0026#34;2014-11-19T08:22:21.653\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roledefinitions\\/11\u0026#34; } } }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 89, \u0026#34;RoleName\u0026#34;: \u0026#34;Basisrolle\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Rolle som f\\u00f8lger automatisk med n\\u00e5r en bruker f\\u00e5r en annen Altinn-rolle\u0026#34;, \u0026#34;_links\u0026#34;: { \u0026#34;roledefinition\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/roledefinitions\\/89\u0026#34; } } } ] } } Tildele roller Tildele roller innlogget bruker har for en avgiver {who} til en annen avgiver. {who} - kan være my, organisasjonsnummer eller andre privatpersoner. Avgiveren som mottar rollen kan være en person (fødselsnummer + navn), en virksomhet (organisasjonsnummer + navn) eller bruker med virksomhetssertifikat (brukernavn + organisasjonsnummer).\nAvgiverdataene og hvilken rolle som skal tildeles legges i Body. Den innloggede brukeren må være tilgangsstyrer for avgiveren og selv ha rollen som skal delegeres (eller være hovedadministrator).\nSe beskrivelse på altinn.no/api/help.\nPOST /api/my/authorization/delegations HTTP/1.1 Host: www.altinn.no Accept: application/hal+json apikey: myKey Content-Type: application/xml \u0026lt;resource rel=\u0026#34;RightHolder\u0026#34;\u0026gt; \u0026lt;Type\u0026gt;Brukes ikke\u0026lt;/Type\u0026gt; \u0026lt;SocialSecurityNumber\u0026gt;11115601542\u0026lt;/SocialSecurityNumber\u0026gt; \u0026lt;LastName\u0026gt;DREYER\u0026lt;/LastName\u0026gt; \u0026lt;resource rel=\u0026#34;Roles\u0026#34;\u0026gt; \u0026lt;resource rel=\u0026#34;Role\u0026#34;\u0026gt; \u0026lt;RoleDefinitionId\u0026gt;10\u0026lt;/RoleDefinitionId\u0026gt; \u0026lt;/resource\u0026gt; \u0026lt;/resource\u0026gt; \u0026lt;/resource\u0026gt; Returnerer tom respons og statuskode 201 Created.\nHente rettigheter Hente ut rettigheter innlogget bruker har for {who} - kan være my, organisasjonsnummer eller andre privatpersoner der man spør ved hjelp av r{id} som hentes fra api/reportees.\nSe beskrivelse på altinn.no/api/help.\nGET https://www.altinn.no/api/{who}/authorization/rights HTTP/1.1 Host: www.altinn.no Accept: application/hal+json ApiKey: myKey Eksempel på respons:\n{ \u0026#34;_links\u0026#34;: { \u0026#34;self\u0026#34;: { \u0026#34;href\u0026#34;: \u0026#34;https:\\/\\/www.altinn.no\\/api\\/910252240\\/authorization\\/rights\u0026#34; } }, \u0026#34;_embedded\u0026#34;: { \u0026#34;rights\u0026#34;: [ { \u0026#34;RightID\u0026#34;: 103, \u0026#34;RightType\u0026#34;: \u0026#34;Service\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;1261\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 1, \u0026#34;Action\u0026#34;: \u0026#34;Read\u0026#34;, \u0026#34;RightSourceType\u0026#34;: \u0026#34;RoleTypeRights\u0026#34;, \u0026#34;IsDelegatable\u0026#34;: true }, { \u0026#34;RightID\u0026#34;: 104, \u0026#34;RightType\u0026#34;: \u0026#34;Service\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;1238\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 3, \u0026#34;Action\u0026#34;: \u0026#34;Read\u0026#34;, \u0026#34;RightSourceType\u0026#34;: \u0026#34;RoleTypeRights\u0026#34;, \u0026#34;IsDelegatable\u0026#34;: false }, { \u0026#34;RightID\u0026#34;: 10481822, \u0026#34;RightType\u0026#34;: \u0026#34;Service\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;1051\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 140619, \u0026#34;Action\u0026#34;: \u0026#34;Read\u0026#34;, \u0026#34;RightSourceType\u0026#34;: \u0026#34;RoleTypeRights\u0026#34;, \u0026#34;IsDelegatable\u0026#34;: true }, { \u0026#34;RightID\u0026#34;: 10481823, \u0026#34;RightType\u0026#34;: \u0026#34;Service\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;1051\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 140619, \u0026#34;Action\u0026#34;: \u0026#34;Write\u0026#34;, \u0026#34;RightSourceType\u0026#34;: \u0026#34;RoleTypeRights\u0026#34;, \u0026#34;IsDelegatable\u0026#34;: true }, { \u0026#34;RightID\u0026#34;: 10481824, \u0026#34;RightType\u0026#34;: \u0026#34;Service\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;1051\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 140619, \u0026#34;Action\u0026#34;: \u0026#34;ArchiveRead\u0026#34;, \u0026#34;RightSourceType\u0026#34;: \u0026#34;RoleTypeRights\u0026#34;, \u0026#34;IsDelegatable\u0026#34;: true }, { \u0026#34;RightID\u0026#34;: 10481825, \u0026#34;RightType\u0026#34;: \u0026#34;Service\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;1051\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 140619, \u0026#34;Action\u0026#34;: \u0026#34;ArchiveDelete\u0026#34;, \u0026#34;RightSourceType\u0026#34;: \u0026#34;RoleTypeRights\u0026#34;, \u0026#34;IsDelegatable\u0026#34;: true }, { \u0026#34;RightID\u0026#34;: 10481843, \u0026#34;RightType\u0026#34;: \u0026#34;Service\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;1051\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 140619, \u0026#34;Action\u0026#34;: \u0026#34;Sign\u0026#34;, \u0026#34;RightSourceType\u0026#34;: \u0026#34;RoleTypeRights\u0026#34;, \u0026#34;IsDelegatable\u0026#34;: true } ] } } Slette tildelte roller Sletter en rolle for {who} (r{id} fra api/reportees, organisasjonsnummer eller brukernavn) ved hjelp av roleid fra GET.\nSe beskrivelse på altinn.no/api/help.\nDELETE https://www.altinn.no/api/{who}/authorization/roles/{rolleid} HTTP/1.1 Host: www.altinn.no ApiKey: myKey Returnerer tom respons og statuskode/-melding.\nSlette tildelte rettigheter Sletter en rettighet for {who} (r{id} fra api/reportees, organisasjonsnummer eller brukernavn) ved hjelp av rightid fra GET rights.\nSe beskrivelse på altinn.no/api/help.\nDELETE https://www.altinn.no/api/{who}/authorization/rights/{rettighetsid} HTTP/1.1 Host: www.altinn.no ApiKey: myKey Returnerer tom respons og statuskode/-melding.\n"
},
{
	"uri": "https://altinn.github.io/docs/api/rest/autorisasjon/rolledefinisjoner/",
	"title": "Rolle­definisjoner",
	"tags": [],
	"description": "API&#39;er relatert til rolledefinisjoner.",
	"content": "Hente rolledefinisjoner Henter ut alle rolledefinisjoner tilgjengelig for {who}.\nSe også altinn.no/api/help.\nGET https://www.altinn.no/api/{who}/authorization/roledefinitions HTTP/1.1 Accept: application/hal+json ApiKey: myKey Eksempel på respons\n[ { \u0026#34;RoleType\u0026#34;: \u0026#34;External\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 82, \u0026#34;RoleName\u0026#34;: \u0026#34;Privatperson\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Privatperson\u0026#34; }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 1525, \u0026#34;RoleName\u0026#34;: \u0026#34;UDI referanseperson\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Videreformidlingstjeneste UDI\u0026#34; }, { \u0026#34;RoleType\u0026#34;: \u0026#34;Altinn\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 2215, \u0026#34;RoleName\u0026#34;: \u0026#34;hildetest\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;testrolle\u0026#34; } ] Hente ut en enkelt rolle Hente ut alle rettigheter tilknyttet en spesifikk rolle angitt med roledefinitionid fra rollelisten i punktet over.\nSe også altinn.no/api/help.\nGET https://www.altinn.no/api/{who}/authorization/roledefinitions/{roledefinitionid} HTTP/1.1 Accept: application/hal+json ApiKey: myKey Eksempel på respons:\n{ \u0026#34;RoleType\u0026#34;: \u0026#34;External\u0026#34;, \u0026#34;RoleDefinitionId\u0026#34;: 82, \u0026#34;RoleName\u0026#34;: \u0026#34;Privatperson\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;Privatperson\u0026#34;, \u0026#34;Rights\u0026#34;: [ { \u0026#34;RightID\u0026#34;: 63, \u0026#34;RightType\u0026#34;: \u0026#34;Service\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;SKBERG\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 1, \u0026#34;Action\u0026#34;: \u0026#34;Read\u0026#34;, \u0026#34;RightSourceType\u0026#34;: \u0026#34;RoleTypeRights\u0026#34;, \u0026#34;IsDelegatable\u0026#34;: false }, { \u0026#34;RightID\u0026#34;: 68, \u0026#34;RightType\u0026#34;: \u0026#34;Service\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;SKDPSA\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 2, \u0026#34;Action\u0026#34;: \u0026#34;Read\u0026#34;, \u0026#34;RightSourceType\u0026#34;: \u0026#34;RoleTypeRights\u0026#34;, \u0026#34;IsDelegatable\u0026#34;: false }, { \u0026#34;RightID\u0026#34;: 70, \u0026#34;RightType\u0026#34;: \u0026#34;Service\u0026#34;, \u0026#34;ServiceCode\u0026#34;: \u0026#34;SKDSLN\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: 1, \u0026#34;Action\u0026#34;: \u0026#34;Read\u0026#34;, \u0026#34;RightSourceType\u0026#34;: \u0026#34;RoleTypeRights\u0026#34;, \u0026#34;IsDelegatable\u0026#34;: false } ] } Opprette lokal rolle Oppretter en egendefinert rolle med de spesifikke rettighetene til tjenester/ressurser som angis i kallet. Språk er valgfri inputparameter.\nTillatte actions er Read, Write, Delete, Sign, ReadArchive, DeleteArchive og disse angir hvilke rettigheter rollen gir for de forskjellige stegene i arbeidsflyten gjennom Altinn. Etter at den er opprettet, må rollen delegeres for faktisk gi rettighetene man har valgt.\nSe også altinn.no/api/help.\nPOST https://www.altinn.no/api/{who}/authorization/roledefinitions/ HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey { \u0026#34;RoleName\u0026#34;: \u0026#34;min egen lokale rolle2\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;en beskrivelse av rollen\u0026#34;, \u0026#34;_embedded\u0026#34;: { \u0026#34;Rights\u0026#34;: [ { \u0026#34;ServiceCode\u0026#34;: \u0026#34;3357\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: \u0026#34;130429\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;Read\u0026#34; } ] } } Eksempel på respons:\nDet returneres en tom respons, men location header angir id på den nye lokale rollen dersom den ble opprettet OK.\nHTTP 201 - Created Location: https://www.altinn.no/api/my/authorization/roledefinitions/13667 Slette lokal rolle Se også altinn.no/api/help.\nDELETE https://www.altinn.no/api/my/authorization/roledefinitions/13667 HTTP/1.1 ApiKey: myKey Eksempel på respons:\nHTTP 204 - No Content Oppdatere rolle Oppdaterer angitt rolle for {who}. Språk er valgfri input-parameter\nSe også altinn.no/api/help.\nPUT https://www.altinn.no/api/{who}/authorization/roledefinitions/{roledefinitionid} HTTP/1.1 Content-Type: application/hal+json ApiKey: myKey { \u0026#34;RoleName\u0026#34;: \u0026#34;min egen lokale rolle5\u0026#34;, \u0026#34;RoleDescription\u0026#34;: \u0026#34;en beskrivelse av rollen\u0026#34;, \u0026#34;RoleType\u0026#34;: \u0026#34;service\u0026#34;, \u0026#34;_embedded\u0026#34;: { \u0026#34;Rights\u0026#34;: [ { \u0026#34;ServiceCode\u0026#34;: \u0026#34;3357\u0026#34;, \u0026#34;ServiceEditionCode\u0026#34;: \u0026#34;130429\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;Read\u0026#34; } ] } } Eksempel på respons:\nHTTP 204 - No content Location: https://www.altinn.no/api/my/authorization/roledefinitions/13667 "
},
{
	"uri": "https://altinn.github.io/docs/tul/tjenestetyper/samhandling/",
	"title": "Samhandling",
	"tags": [],
	"description": "En samhandlingstjeneste grupperer enkelttjenester og presentere dem for sluttbruker i en prosess.",
	"content": "I Altinn II versjon 2 innførtes samhandlingstjeneste som ny tjenestetype i Altinn. En samhandlingstjeneste grupperer enkelttjenester og presentere dem for sluttbruker på en arbeidsflate. Arbeidsflaten kan samtidig gi veiledning og støtte i prosess og regelverk. Enkelttjenestene i en samhandlingstjeneste utføres på samme måte som om de var enkeltstående.\nI sin enkleste form kan en samhandlingstjeneste samle tjenester som inngår i en enkel, sekvensiell prosess mellom én avgiver og én tjenesteeier, for eksempel send søknad – motta svar – send klage – motta svar. I mer komplekse tilfeller kan samhandlingstjenesten involvere flere tjenesteeiere og/eller tillate svært mange alternative løp, avhengig av sluttbrukers handlinger kombinert med utfallet av enkelttjenestene som inngår.\nSpesifikasjon - samhandlingsstjeneste For en samhandlingstjeneste må det som for øvrige tjenestetyper registreres utgave­parametre, og det er mulig å overstyre rettigheter. I tillegg må du definere et tjenesteutvalg, dvs. hvilke enkelttjenester som skal brukes. Du må også laste opp en tilstandsmodell og sette parametre for tilstandene tjenesten skal gjennomløpe. Videre kan du definere gjenbruk av data mellom tjenester, og du kan registrere en liste med merknader som benyttes i kommunikasjon fra tjenesteeiers system til Altinn.\nUtgaveparametre Enhver utgave må ha utgaveparametre.\nOverstyr rettigheter Rettigheter kan du overstyre hvis den utgaven du utvikler har andre rettighetskrav enn de som allerede er satt på tjenestenivå. Hver utgave vil arve disse rettighetene fra tjenesten når den migreres til SBL, og få med seg overstyringene i tillegg. Du kan også overstyre de dialogsidene som er angitt som rollestyrte dialogsider på \u0026ldquo;Tilstander siden\u0026rdquo; for slik å gi spesifikke roller tilgang til spesifikke dialogsider.\nTjenestevalg Her velger du hvilke tjenesteutgaver som skal være tilgjengelig i samhandlingstjenesten. En samhandlingstjeneste kan omfatte utgaver fra flere tjenesteeiere.\nBare de tjenesteutgavene du velger, vil være tilgjengelig når du konfigurerer dialogsider. Tilsvarende gjelder mulighet for gjenbruk av data. I SBL vil brukeren selv kunne koble inn benyttede tjenester, men bare innenfor tjenestevalget du gjør her.\nØverst på siden er det radioknapper og nedtrekkslister som brukes for å hente fram aktuelle tjenester. Du velger en tjeneste ved å klikke på «Legg til»-lenken til høyre på raden. Når du er ferdig med å velge tjenester, kan det være hensiktsmessig å trekke sammen utgavelisten du valgte fra, for at samhandlingstjenestens utgaver skal være synlig. Valglisten kan utvides og trekkes sammen ved å klikke på overskriftslinjen.\nListen nederst på siden viser utgavene som inngår i samhandlingstjenesten. Du kan slette en utgave ved å klikke på Slett -lenken. Hvis du vil slette en utgave som er benyttet i en dialogside eller i gjenbruk av data, vil den slettes derfra også, dersom disse sidene er sjekket inn. I motsatt fall vil du få en feilmelding.\nTilstander Samhandlingstjenesten kan gjennomløpe en eller flere tilstander. Definerte tilstands­overganger tillater at tjenesten går fra en tilstand til en annen. I eksempelet i Figur 60 er det flere tilstander som tilstandsmaskinen beveger seg gjennom. Hver tilstandsovergang vil skje når en hendelse inntreffer. Det er de underliggende tjenester knyttet til hver tilstand som kan forårsake en tilstandsovergang når deres interne status endres.\nHendelser som registreres automatisk i SBL er knyttet til sluttbrukers elementer i meldingsboksen, for eksempel om en tjenesteutgave er instansiert eller arkivert. I tillegg er det mulig å sende eksterne hendelser fra tjenesteeiers systemer, for å trigge tilstandsovergang basert på hendelser utenfor Altinn.\nFor hver tilstand kan et ulikt sett av informasjon og undertjenester kommuniseres til sluttbrukeren i SBL. Det gjøres ved å koble hver tilstand til en eller flere dialogsider. Dialogsider beskrives senere, sammen med andre innholdselementer for samhandlingstjeneste.\nFør du går i gang med å sette opp tilstander i TUL, kan det være en fordel å ha laget seg en oversikt over flyten i tjenesten. Du bør vite hvilke tilstander som du skal ha i tjenesten, hvilke dialogsider som skal vises i hver tilstand og hvordan du går fra en tilstand til en annen.\nDu må først opprette en starttilstand for tjenesten din. Dette er tilstanden som tjenesten vil være i fra starten av.\nEtter at du har laget starttilstanden må du gi den et navn og en beskrivelse. Du må velge hvilken dialogside som skal vises i SBL når samhandlingstjenesten er i denne tilstanden. Nedtrekkslisten viser de dialogsidene som ligger i biblioteket på utgavearbeidsflaten. Valgene «Arkiver» og «Slett» avgjør om bruker skal kunne arkivere eller slette samhandlingstjenesten når den er i denne tilstanden. Disse valgene kan være ulik fra tilstand til tilstand, slik at du for eksempel kan si at det ikke er lov å arkivere i tilstand 1, men at det er lov i tilstand 2.\nFor å kunne komme videre fra starttilstanden må du definere en overgang. Her forteller du hva som skal til for at tjenesten skal skifte tilstand, og til hvilken tilstand den skal gå. Du kan lage flere overganger i en tilstand. Det betyr at du kan velge at tjenesten går til ulike tilstander basert på hva som skjer. For eksempel kan en starttilstand «søknad» gå til «behandling» dersom søknaden blir sendt inn, men gå til «avsluttet» dersom søknaden blir trukket/slettet.\nEn overgang må du gi et navn og en beskrivelse. I «til tilstand» skriver du inn navnet på tilstanden som tjensten skal havne i etter at overgangen har funnet sted. Navnet du skriver her må være navnet på en annen tilstand. I «hendelse» forteller du hvilke kriterie som må inntreffe for at overgangen skal tre i kraft. Det finnes to ulike typer hendelser du kan bruke her, forhåndsdefinerte eller egendefinerte.\nAltinn har fem forhåndsdefinerte hendelser som du kan finne i Figur 63. Disse skal skrives inn på følgende måte [Ekstern tjenestekode]:[Ekstern utgavekode]:[hendelse], for eksempel «3374:1:Submitted». Kodene du legger inn her refererer til de(n) tjenesteutgaven(e) som skal utløse hendelsen.\nI «hendelse» kan du bruke regulære uttrykk (regular expression/regex). Regulære uttrykk er en måte å finne ut om en tekst oppfyller definerte kriterier. Hvordan du lager slike uttrykk vil ikke bli forklart i denne brukerguiden. Du vil finne mange guider om dette på nettet. For hendelse kan du for eksempel bruke «3314:[0-9]:Instantiated» for å fange opp alle instantiated-hendelser for utgaver med ekstern kode fra 0 til 9 for tjeneste med ekstern kode 3314.\nForhåndsdefinerte hendelser:\n   Hendelsekode Hendelse Tjenestetype     Instantiated Utføres når tjenesteutgaven blir instansiert Alle   Submitted Utføres når tjenesteutgaven sendes inn Innsendingstjeneste   Archived Utføres når tjenesteutgaven blir arkivert Innsendingstjeneste   Opened Utføres når tjenesteutgaven åpnes Meldingstjeneste Innsynstjeneste (må kodes inn i bestilt proxy-tjeneste)   Confirmed Utføres når tjenesteutgaven bekreftes lest Meldingstjeneste    Egendefinerte hendelser er hendelser som tjenesteeier utløser og sender til Altinn. Disse må da bli implementert av sluttbrukersystemet. Det er da opp til implementasjonen å avgjøre når dette skjer. Det er ingen bestemt syntaks for navngiving av egendefinerte hendelser, eksem­pel­vis «DeadlineExpired».\nDialogsider kan ha en webdel som viser hendelser. Du kan bestemme om en overgang skal vises i denne listen eller ikke ved å bruke avkryssingsboksen «Vis i hendelsesliste».\nFor at overgangen skal fungere, må du også lage tilstanden som den skal føre til. Denne fyller du ut på samme måte som starttilstanden. Det er viktig at du gir den samme navn som du brukte i «Til tilstand» i overgangen.\nRolledefinerte dialogsider kan du bruke dersom du har dialogsider som bare skal vises til brukere med bestemte roller. De dialogsidene du velger her vil bli vist i stedet for den som er valgt for tilstanden dersom en bruker har en bestemt rolle. For å sette opp hvilken rolle dette skal være, må du overstyre rettigheter for dialogsiden. Bruk sekvensnummer for å avgjøre hvilken rekkefølge SBL vil sjekke dialogsidene for rollekrav. Du bør sette den dialogsiden med mest spesifikke rollekrav først.\nGjenbruk av data Gjenbruk av data kan defineres innenfor en samhandlingstjeneste. En gjenbruksdefinisjon angir hvilke felter som skal kopieres fra en tjenesteutgave til en annen. Det kan bare gjøres for innsendings- og meldingstjenester, og den tjenesten som skal avgi data må være lagret i sluttbrukers meldingsboks. Når sluttbruker starter en tjenesteutgave som skal gjenbruke data fra en annen, vil data kunne hentes – enten automatisk, eller etter at sluttbruker har bekreftet, eventuelt også valgt hvilken tjenesteinstans data skal hentes fra.\nFor å gjenbruke data må det lages en XSLT-fil som mapper datafelt mellom XML for avgivende tjeneste (produsent) og XML for tjenesten som mottar data (konsument). Hver XSL-transformasjon må resultere i en «transformert XML» som er gyldig iht. skjema­format/XSD for konsumenten. For meldingstjenester som inneholder flere Infopath-vedlegg, er det aktuelt å lage flere XSLT-filer, der hver fil mapper fra ett produsentskjemas XML til konsument­skjemaets XML. Når gjenbruksdefinisjonen behandles i Sluttbrukerløsningen, vil XLS-transformasjonene kjøres på hvert enkelt produsentskjema i vilkårlig rekkefølge. For hver påfølgende transformasjon vil de resulterende «transformerte XMLene» slås sammen i en «felles, transformert (merged) XML», som importeres i konsument-skjema ved instansiering.\nHvis preutfylling benyttes for konsumenten, finner dette sted etter at eventuelle gjenbruks­definisjoner er behandlet. Preutfylling vil dermed kunne overskrive gjenbruk av data.\nI TUL lager du en gjenbruksdefinisjon ved å velge hvilke utgaver som avgir/mottar data, og bla deg fram til og laste opp XSLT-filen. For en meldingstjeneste må du også velge hvilket skjema det gjelder, siden samme tjeneste kan ha flere skjema. Hvis du definerer gjenbruk av datafelter fra flere skjema innenfor samme meldingstjeneste, må du sørge for at feltene ikke overskriver hverandre i konsument-tjenesten. Hvis sluttbrukers tjenesteinstans i praksis kan inneholde flere vedleggsskjema, må felter fra disse skjemaene derfor ikke mappes til samme felt i konsumenten.\nSkal du endre en gjenbruksdefinisjon, sletter du den i listen ved å klikke på Slett-lenken, og laster opp på nytt.\nMerknadsliste En merknad er en beskjed som kan sendes fra tjenesteeier og vises til sluttbruker i SBL. En merknad kan sendes fra tjenesteeiers systemer til sluttbrukers samhandlingstjeneste i Altinn, eller til en underliggende tjeneste. Det kan defineres et sett med merknader som kan brukes innenfor en samhandlingstjeneste. Hver merknad får tildelt en ID og kan oversettes, som andre parametre i TUL.\nDu skriver inn en merknadstekst i tekstfeltet øverst på *Merknadsliste-*siden i TUL. Merknadsteksten kan inneholde variable på følgende format: \u0026ldquo;merknadstekst $$variabelnavn$$ mer tekst\u0026rdquo;. Trykk deretter på knappen Legg til for å legge den til i listen over merknader. I listen ser du hvilken ID merknaden er tildelt. Merknadene kan endres eller slettes i etterkant ved å klikke på lenkene Endre eller Slett knyttet til hvert innslag i listen.\nMerknader kan vises i dialogkomponentene Min meldingsboks eller Status i en dialogside. Dialogkomponentene må være konfigurert til å kunne vise merknad for at disse skal vises i SBL.\nInnhold - samhandlingstjeneste Dialogsider Ved å utvikle dialogsider bestemmer du hvordan samhandlingstjenesten skal presenteres i SBL for hver enkelt tilstand av tjenesten. For hver tilstand kobler du til en dialogside. Tilstandene kan ikke ferdigdefineres før dialogsidene er opprettet.\nDialogsider defineres ved hvilke dialogkomponenter de skal inneholde. For hver dialogside og -komponent angis parametre som styrer innhold og presentasjon for sluttbruker. Utvikling av dialogsider er også en designoppgave der kunnskap om brukerinteraksjon og visuell design er nyttig.\nDet vi i TUL/Altinn kaller dialogkomponent og dialogside vil i grensesnittet i TUL enkelte steder omtales som henholdsvis webdel og webdel-side. Dette er fordi TUL er bygget på standard SharePoint-komponenter, og dialogsidene er bygget opp av SharePoints standard webdel-komponenter*.*\nEn dialogside kan lages ny, eller ved å kopiere en eksisterende dialogside.\nHvis du velger å opprette en ny dialogside, vil en parameterside Ny dialogside åpnes. Her kan du skrive inn et navn på dialogsiden og velge en oppsettsmal. Navnet er et filnavn som brukes i TUL.\nTUL inneholder 6 oppsettsmaler som tjenesteutvikler kan velge mellom når dialogsiden lages. Du velger hvilken mal du vil bruke til dialogsiden fra en liste med beskrivende navn for malen. Legg merke til figuren som illustrerer sideinndelingen.\nNår template er valgt kan du legge til webdeler/dialogkomponenter ved å trykke på Legg til en webdel.\nDialogkomponenter Det eksisterer 10 tilgjengelige webdeler/dialogkomponenter:\n Aktiv innsynstjeneste Aktører Grafikk Hendelser Informasjon Kommentarfelt Lenker Status Utvalg fra Min meldingsboks Utvalg fra Tjenestekatalogen  Når du har valgt å legge til en webdel på en dialogside vil ribbon endre seg til en liste over de 10 tilgjengelige dialogkomponentene.\nTilpass utseende og innhold Du kan endre overskrift og tilpasse utseende til dialogkomponentene i SBL. I tillegg kan du tilpasse innholdet i de fleste dialogkomponentene ved å sette parametre knyttet til innholdet.\nFor å endre en webdel må du åpne den i editeringsmodus. Dette gjør du ved å klikke på pillenken til høyre og deretter Rediger webdel i webdelens header:\nTabellen under viser en oversikt over parametrene knyttet til dialogkomponentenes utseende. Disse parametrene er felles for alle dialogkomponentene. Verdiene i fet skrift representerer standard-utseende (default-verdier).\n\r\r\rOverskriftsvisning\rRamme\rBakgrunn\rEkstra avstand\rSkillelinje\rHøyde\r\r\r\r\rIngen\rIngen tekst\rIngen\rIngen ramme, kun strek under tittel\rIngen\rIngen bakgrunn\rIngen\r25px\rIngen\rIngen skillelinje\rDynamisk\r\r\rDiskret \r12px\rDiskret\r1px blå ramme + skygge\rDiskret\rLys blå, #f2f6f8\rOver\r45px\rOver\r3px blå-hvit-blå skillelinje\rFast\r\r\rMarkant\r12px med blå gradert bakgrunn\rMarkant\r3px blå-hvit-blå ramme + skygge\rMarkant\rMedium blå,\n#d0e0e7\r\r\rUnder\r3px blå-hvit-blå skillelinje\r\r\r\r\rParametrene som gjelder innholdet i dialogkomponentene vil variere fra komponent til komponent.\nFor dialogkomponenten Aktiv innsynstjeneste kan du bare velge hvilken innsynstjeneste som skal vises i komponenten. Utover dette er det ingen innholdsparametre du kan sette. Det er en forutsetning at innsynstjenesten er definert i samhandlingstjenestenes tjenesteutvalg for at den skal listes i nedtrekkslisten hvor du velger tjenester.\nDialogkomponenten Aktører lister tjenesteeiere og sluttbrukere som er involvert i samhandlingstjenesten. Du kan tilpasse innholdet i dialogkomponenten ved å sette eller ta bort haker i sjekkboksene Vis sluttbrukere som har endret tjenesten, Vis sluttbrukere med overstryrte rettigheter og Vis tjenesteeiere.\nI dialogkomponenten Grafikk kan du velge et bilde fra grafikkbiblioteket på arbeidsflaten for samhandlingstjenesten. Det anbefales i tillegg å legge inn en alternativ tekst og eventuelt en tooltip. Alternativ tekst vil vises i tilfeller der bildet ikke vises, for eksempel hvis sluttbruker har valgt å ikke vise bilder i nettleseren. Om sluttbruker benytter Jaws (skjermoppleser som brukes av blinde) vil alt-teksten leses opp. Tooltip er teksten som kommer opp i en gul liten boks når du holder musepekeren over bildet, den vil kunne gi sluttbruker tilleggsinformasjon om bildet. Jaws vil lese både alt-teksten og tooltip-teksten.\nDialogkomponenten Hendelser brukes for å liste hendelser som kan føre til overgang til en ny tilstand innen samhandlingstjenesten. Ved å sette eller ta bort haken i sjekkboksen Vis tidligere hendelser kan du velge hvorvidt hendelser fra tidligere dialogsider skal vises. På parametersiden Tilstander kan du gi hendelsene som listes i denne dialogkomponenten gode, brukervennlige navn. På denne siden kan du også velge hvorvidt en hendelse skal listes i denne dialogkomponenten eller ikke.\nDialogkomponenten Informasjon gir mulighet til å skrive inn en informasjonstekst i en WYSIWYG-editor. Utover dette er det ingen parametre som kan settes for innholdet i komponenten.\nFor dialogkomponenten Kommentarfelt er det ingen parameter som kan settes for innholdet. Denne dialogkomponenten gir sluttbruker mulighet til å legge inn egne kommentarer på siden.\nDialogkomponenten Lenker gir deg mulighet til å legge til egendefinerte lenker på dialogsiden. Du kan velge å ha en overskrift som grupperer en eller flere lenker, legge til en lenketekst, URL, tooltip og definere hvorvidt du vil at lenken skal åpnes i et nytt nettleservindu. Hvis du legger til flere lenker kan du i etterkant endre rekkefølgen på lenkene.\nI dialogkomponenten Status er det tenkt at du kan legge inn en statusmelding til sluttbruker. Du kan velge å vise tilstandsnavn og merknad sammen med statusen ved å sette eller ta bort haker i sjekkboksene Vis tilstandsnavn og Vis merknad.\nDialogkomponenten Utvalg fra Min meldingsboks lister alle instanser av tjenester som er definer i tjenesteutvalget for samhandlingstjenesten. Dialogkomponenten vil liste alle instansene av tjenesten uavhengig av tilstand, men filtrert ut i fra parametrene du kan sette for dialogkomponenten. Du setter filtrene ved å sette eller ta bort haker i sjekkboksene Til min behandling, Venter på andre og Arkivert.\nDu kan også tilpasse innholdet i dialogkomponenten ved å velge hvilke kolonner fra Min meldingsboks som skal vises. Dette gjør du også ved å sette eller ta bort haker for disse kolonnene (Tittel, Status, Dato etc.).\nDialogkomponenten Utvalg fra Tjenestekatalogen kan liste tjenester som er definer i tjenesteutvalget for samhandlingstjenesten. Du må aktivt legge til tjenestene fra nedtrekkslisten og legge de til dialogkomponenten. Du kan tilpasse innholdet ved å sette eller ta bort haker i sjekkboksene Vis tjenesteeier, Skjul kolonneoverskrifter og Vis bare tjenester som sluttbruker har rettighet til.\nEgendefinerte dialogkomponenter Dersom tjenesteutvikler ønsker andre dialogkomponenter, kan disse utvikles separat og tilgjengeliggjøres i SBL og TUL slik at de kan velges som del av en dialogside.\nDette består da av flere prosesser, som ikke tjenesteutvikler kan gjøre helt på egenhånd, siden dette inkluderer tilpassning av allerede eksisterende Altinn kildekode. For at komponentene skal bli tilgjengelige, kreves det bistand både fra leverandør og driftsleverandør. Noen av forutsetningene vil være tilgang til Altinn-kode for integrasjon/test – herunder et fullt Altinn utviklingsmiljø med Sharepoint installert. \u0026ldquo;Andre dialogkomponenter\u0026rdquo; vil kunne være komponenter som viser et helt annet innhold – typisk fra tjenesteeier selv.\nFølgende må gjøres ifm utvikling og tilgjengeliggjøring av dialogkomponenter:\n Tjenesteeier (IKT/tekniker) utvikler web parts (én for TUL og én for SBL) i sitt utviklingsmiljø/Visual Studio. For GUI bør User Controls benyttes. Leverandør legger på arv fra korrekte baseklasser, før Leverandør og Driftsleverandør kvalitetssikrer i Altinn utviklings-/testmiljø og deployer til TUL og SBL. Hvis data skal hentes eksternt må infrastruktur tilrettelegges (f.eks. åpning av brannmurer) eksternt, samt i TUL og SBL. Fagperson finner komponenten i TUL og jobber som vanlig.  Grafikkbibliotek Grafikkbiblioteket brukes til å laste opp bilder som skal brukes i dialogkomponenten Grafikk. Dette er bare relevant hvis du bruker denne komponenten i en eller flere dialogsider.\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/diverse/sletting/",
	"title": "Slette tjeneste og utgave",
	"tags": [],
	"description": "Det er mulig å slette en tjeneste eller en tjenesteutgave fra TUL dersom du skulle ønske det.",
	"content": "Det kan være fordi tjenesten ikke lenger skal være i bruk og dermed skal slettes både fra TUL og fra sluttbrukerløsningen. Det kan også skyldes at en tjeneste erstatter en annen eller at det er startet arbeid på en tjeneste eller utgave som ikke er korrekt.\nSletting av tjenester og utgaver i TUL blir gjort i to separate steg. Den første slette­operasjonen kan gjøres av brukeren selv. Dette er en operasjon som bare vil gjøre at tjenesten eller utgaven ikke lenger vil bli vist, men den er ikkje fjernet. Dermed er den mulig å gjenopprette. En administrator vil kunne permanent slette en slik tjeneste eller utgave som har blitt slettet.\nGjenopprettbar sletting av tjeneste Når du har slettet en tjeneste eller tjenesteutgave vil den ikke lenger være synlig i TUL eller SBL. Den vil ikke fjernes fysisk fra TUL SharePoint, men vil bli merket som slettet. Utgaven da bare kunne sees av en administrator.\nSlette tjeneste For å slette en tjeneste fra TUL starter du med å slette eventuelle utgaver først. Du får ikke lov å slette en tjeneste som har aktive utgaver. Deretter går du til tjenesteeiers arbeidsflate og velger alternativet Slett i kontekstmenyen til tjenesten du ønsker å slette.\nDu kommer da til et eget skjermbilde der du kan slette tjenesten.\nNår du har bekreftet slettingen vil tjenesten fjernes fra alle steder den tidligere har vært tilgjengelig. Det er verdt å merke seg, at tjenesten vil være synlig for administratorer, men da ville være markert i rødt. I skjermbildet over er slett-knappen deaktivert pga at tjenesten har utgaver.\nHvordan slette utgave For å slette en tjenesteutgave fra TUL starter du på tjenestens arbeidsflate og velger alternativet Slett i kontekstmenyen til utgaven du ønsker å slette. Du kommer da til et skjermbilde der du kan slette tjenesteutgaven. Sletting er bare mulig dersom ingen deler av utgaven er sjekket ut for editering.\nNår du har bekreftet slettingen vil prosessen videre være avhengig av om utgaven er produksjonssatt eller ikke.\nHvis utgaven er produksjonssatt vil det bli sendt melding til applikasjonsforvalter om at utgaven skal deaktiveres i produksjon. Utgaven blir liggende i TUL med status deaktivering bestilt, inntil bekreftelse kommer fra driftsoperatøren om at deaktivering er utført. Først da blir utgaven slettet, og det gjøres manuelt av en bruker med administratorrettigheter i TUL. Bare brukere med administratorrettighet får lov å velge Slett på en utgave som har status deaktivering bestilt status.\nHvis utgaven ikke er produksjonssatt blir den slettet i TUL SharePoint straks, samtidig som eventuelle versjoner som er migrert til testmiljø blir deaktivert der.\nDet er verdt å merke seg, er at tjenesteutgaven vil kunne vises for administratorer, men da ville være markert i rødt.\nGjenopprette slettede tjenester og utgaver Dette er en operasjon som utføres sjelden, og det er derfor ikke et eget brukergrensesnitt for dette i TUL, men en manuell jobb som gjøres i databasen av driftsleverandør. Det vil avhenge av tjenesteeier sin prosess mot driftsleverandør, men det oppfordres til at gjennopprettelse av slettede utgaver og tjenester bestilles enkeltvis ved behov.\nPermanent slette tjenester og utgaver Tjenester og utgaver som har blitt slettet ved hjelp av metoden beskrevet under gjenopprettbar sletting av tjeneste kan bli permanent slettet fra TUL. Dette må gjøres av en bruker som har administratorrettigheter (såkalt «administrator for områdesamling» / «site collection administrator» i SharePoint) for den tjenesteeieren tjenesten ligger i. Dersom du kan se slettede tjenester og utgaver (markert med rød bakgrunn) skal du også kunne permanent slette de.\nTjenester og utgaver som er permanent sletting vil bli helt og holdent fjernet fra databasen og SharePoint, og det vil ikke være mulig å gjenopprette de. Også alt innhold, som for eksempel skjema og migreringspakker, vil bli slettet. Innholdet kan heller ikke gjenopprettes etter permanent sletting.\nPermanent slette tjeneste For å permanent slette en tjeneste må du logge inn med en administratorbruker og gå til tjenesteeierarbeidsflaten. Tjenester markert med rød bakgrunn er slettet og er dermed mulig å permanent slette. For å permanent slette en tjeneste velger du menyvalget «Slett tjenesten permanent» som du får opp ved å trykke ved siden av tjenestelenken i kolonnen «Tjenestenavn». Dette menyvalget er bare tilgjengelig for tjenester som allerede er markert med rødt.\nFor å kunne slette tjenesten må også alle utgavene være slettet (markert med rødt). Dersom en eller flere utgaver ikke er slettet vil du få feilmelding når du prøver å slette permanent. Har tjenesten utgaver, og alle disse er slettet, så vil «Slett tjenesten permanent» slette både tjenesten og alle utgavene permanent. Du vil få opp en bekreftelsesdialog med liste over alle utgaver som vil bli slettet.\nPermanent slette utgave For å permanent slette en utgave må du logge inn med en administratorbruker og gå til tjenestearbeidsflaten. Utgaver markert med rød bakgrunn er slettet, og kan dermed permanent slettes. Bruk menyvalget «Slett utgaven permanent» for å permanent slette utgaven. Dette valget får du ved å klikke på aktuell utgave i «Kortnavn»-kolonnen. Merk at menyvalget bare vil være tilgjengelig for utgaver som er markert med rød bakgrunn. Utgaver som er del av et skjemasett kan ikke slettes.\n"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/testing/local/apitests/user/",
	"title": "API bruk som sluttbruker",
	"tags": ["todo"],
	"description": "Når man kjører applikasjonen lokalt så kan man teste API beregnet for sluttbruker.",
	"content": "TODO\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/roadmap/altinn3/sluttbruker/",
	"title": "Sluttbruker-funksjonalitet i Altinn 3",
	"tags": [],
	"description": "Dette er funksjonaliteten for sluttbrukere som allerede eksisterer, og noen av de større endringene som er planlagt framover i Altinn 3.",
	"content": "Lansert funksjonalitet For informasjon om hvordan man bruker funksjonalitetene som er beskrevet her, se brukerdokumentasjonen for Altinn Studio.\n\r\rSkjemafunksjonalitet Støtte for innsendingstjenester. Et utvalg standardkomponenter å bygge med (eks. tekstfelt, radioknapp, sjekkliste, datovelger, vedlegg), inkludert sidestilling av elementer (støtte for grid). Støtte for at skjemaet består av flere sider, men sluttbruker kan kun navigere framover/bakover mellom sidene (styrt navigasjon). Alle skjema og elementer har standardisert look and feel.\nStøtte for å sette opp ulike regler, herunder kalkulering, validering og dynamikk på både element- og sidenivå (dvs. styre hva som vises ut fra hva bruker fyller inn i skjemaet.)\nElementene kobles med tekster og knyttes til datamodell. Mulighet til å koble på API-er som datakilder, samt å forhåndsutfylle med data fra Altinns kopier av Folkeregisteret og Enhetsregisteret.\nArbeidsflyt i applikasjonen Du kan kombinere flere ulike steg i den rekkefølgen som er relevant for tjenesten:\n Utfylling/melding (data) - eksponering av data fra tjenesteeier og/eller innhenting av data fra sluttbruker Bekreftelse (confirm) - bruker skal bekrefte at dette er dataene de ønsker å sende inn Vente på tilbakemelding (feedback) - prosessen er ikke fullført, men det er andre enn bruker (tjenesteeier eller tredjepart) som skal gjøre noe  I tillegg har alle en sluttstatus for at instanser er arkivert/fullført.\nAutentisering og autorisasjon Det er støtte for å definere hvilke(n) rolle(r) som har tilgang til ulike operasjoner per steg i arbeidsflyten. Rollene kan enten være Altinn-roller, roller fra Enhetsregisteret eller at tjenesteeier selv har tilgang.\nIntegrasjon med meldingsboksen i Altinn Instanser av tjenester ligger i brukers meldingsboks på samme måte som i Altinn 2. Det er mulig å finne instansene ved bruk av søk (men med enkelte begrensninger).\nTjenesteeier har selv mulighet til å angi hvilken status som er relevant for den enkelte instans. Det er også mulig å definere opp at instanser av en app aldri skal legges i brukers arkiv.\nIntegrasjon med sluttbrukersystemer Tjenestene har standardiserte API-er som kan benyttes for innsending fra tredjepartssystemer. Hver app har sine egne endepunkter. Autentisering av bruker skjer med ID-porten.\nKommende funksjonalitet Altinn 3 er i stadig videreutvikling, og funksjonalitet lanseres løpende. Backlogg revideres åtte ganger i året, og mindre endringer kan også forekomme mellom revisjonene. Generelt kan man si at jo lenger frem i tid leveranse er planlagt jo mer usikkert er angitt leveransetidspunkt.\nEndringer beskrevet i kursiv er å regne som på idéstadiet, og er ikke besluttet at skal utvikles. Lenker i parentes er til beskrivelser i vår åpne backlog på Github.\nSkjemafunksjonalitet Det skal være mulig å definere opp brukergrensesnitt som passer godt til den enkelte tjenestens behov. Eksempler på kommende funksjonaliteter:\n Fylle ut repeterende gruppe over flere sider (Q2 2021) (#5176) Friere navigering mellom sider (Q3 2021) (#2115) Ulike «tema» for brukergrensesnittet i portalen  Arbeidsflyt i applikasjonen Vi vil utvide biblioteket med tilgjengelige arbeidsflytsteg for å dekke stadig flere bruksområder. Eksempler på kommende funksjonaliteter:\n Funksjonell signering (Q3 2021) (#5540) Teknisk signering (Q4 2021) Komplekse signeringsregler - f.eks. basert på hva som fylles ut i skjemaet og parallellsignering (x av y personer skal signere) (Q3 2021) Betaling (2022) Erstatning for innsynstjenester (Q2 2021) (#1328) Innhenting av samtykke  Autentisering og autorisasjon Vi skal tilby minst samme fleksibilitet for brukerne til å styre hvem som har tilgang til Altinn 3-tjenestene som finnes i Altinn II. Det innebærer f.eks. følgende endringer:\n Støtte for delegering på app-nivå (Q2 2021) (#2731) Støtte for delegering på instansnivå (Q3 2021) (#2732) Tilgang til app med virksomhetsbruker  Hendelsesstyrte tjenester For å bygge sammenhengende tjenestekjeder, uten at man må bygge kompleks orkestrering, er det nødvendig at en tjeneste skal kunne \u0026ldquo;reagere\u0026rdquo; på hendelser i en annen app, eller på eksterne hendelser. Å legge til rette for denne måten å lage tjenestekjeder ligger i planene for 2022.\nVarslinger Å sende ut varsler på e-post og/eller sms er en viktig del av flere tjenester. Inntil videre vil Altinn 3 bruke varslingsfunksjonaliteten i Altinn II. Det skal fra Q4 2021 være mulig å koble varslingene til ulike hendelser i appene. (#4275)\nIntegrasjon med meldingsboksen i Altinn Det skal være lett å finne riktig instans av en tjeneste i meldingsboksen. For å få til dette legger vi til:\n Presentasjonsfelter - mulighet for å skille instanser av samme app fra hverandre (Q2 2021) (#594) Støtte for å lage ny instans med utgangspunkt i en eksisterende - lag ny kopi (Q2 2021) (#1566) Mulighet for å søke i innholdet i instansene  "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/ux/sporvalg/",
	"title": "Sporvalg",
	"tags": [],
	"description": "Hvordan legge til dynamisk sporvalg i app",
	"content": "Dynamisk sporvalg i en applikasjon kan være nyttig dersom man ønsker å vise og/eller skjule enkelte sider basert input fra sluttbruker på forutgående deler av skjemaet.\nTrigge kalkulering av sporvalg fra frontend Appen vil gjøre et initielt kall for å kalkulere rekkefølgen ved innlasting. For å trigge kalkuleringingen av sporvalg på sidebytte må man legge inn dette som en trigger på den aktuelle navigasjons-komponenten man ønsker. Dette gjøres ved å legge til calculatePageOrder som en del av triggers. Eksempel:\n{ \u0026#34;id\u0026#34;: \u0026#34;navigation-button\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;NavigationButtons\u0026#34;, \u0026#34;textResourceBindings\u0026#34;: { \u0026#34;next\u0026#34;: \u0026#34;Neste\u0026#34;, \u0026#34;back\u0026#34;: \u0026#34;Tilbake\u0026#34; }, \u0026#34;triggers\u0026#34;: [\u0026#34;calculatePageOrder\u0026#34;], \u0026#34;dataModelBindings\u0026#34;: {}, \u0026#34;showBackButton\u0026#34;: true } Her vil frontend da gjøre kallet mot apiet definert i appen og benytte listen som returneres til å avgjøre hvilke side den går til i det brukeren trykker neste. Denne rekkefølgen blir også lagret i staten frontend slik at navigering vil fungere både frem og tilbake på den gitte rekkefølgen man returnerer fra backend.\nOm man ønsker å trigge kalkulering på hvert eneste sidebytte kan dette gjøres ved å enten legge inn calculatePageOrder som en del av triggers for alle navigasjonskomponentene man har i applikasjonen, eller legge til en trigger i Settings.json under pages-seksjonen. Eksempel:\n{ \u0026#34;$schema\u0026#34;: \u0026#34;https://altinncdn.no/schemas/json/layout/layoutSettings.schema.v1.json\u0026#34;, \u0026#34;pages\u0026#34;: { \u0026#34;order\u0026#34;: [ \u0026#34;Side1\u0026#34;, \u0026#34;Side2\u0026#34;, \u0026#34;Side3\u0026#34; ], \u0026#34;triggers\u0026#34;: [\u0026#34;calculatePageOrder\u0026#34;] } } Om triggers er satt på navigasjonskomponenten vil denne overstyre triggers som settes i Settings.json, på denne måten er det mulig å styre default-oppførsel på komponentnivå om ønskelig.\nSette opp sporvalg backend I App.cs må man overstyre metoden som henter ut den standardrekkefølgen av sider som er definert i Settings.json Dette gjøres ved å legge til funksjonen nedenfor i App.cs. Forventet output fra denne metoden er en stortert liste som inneholder navnet på de relevante sidene i applikasjonen.\n/// \u0026lt;inheritdoc /\u0026gt; public override async Task\u0026lt;List\u0026lt;string\u0026gt;\u0026gt; GetPageOrder(string org, string app, int instanceOwnerId, Guid instanceGuid, string layoutSetId, string currentPage, string dataTypeId, object formData) { List\u0026lt;string\u0026gt; pageOrder = new List\u0026lt;string\u0026gt;(); // Implement your own logic here  return pageOrder; } Funksjonen får inn en rekke parametere som kan være nyttig dersom man skal benytte skjemadata eller annen informasjon om sluttbruker til å kalkulere sporvalget.\n layoutSetId Dersom appen din definerer flere layout set vil id på det gjeldende layout settet sendes inn. Dersom applikasjonen ikke har layout set vil denne strengen være tom. Basert på denne parameteren kan man hente ut standard siderekkefølge som er definert i applikasjonen:  List\u0026lt;string\u0026gt; pageOrder = new List\u0026lt;string\u0026gt;(); if (string.IsNullOrEmpty(layoutSetId)) { pageOrder = _appResources.GetLayoutSettings().Pages.Order; } else { pageOrder = _appResources.GetLayoutSettingsForSet(layoutSetId).Pages.Order; } Dette forutsetter at servicen IAppResources gjøres tilgjengelig i App.cs. Da servicen allerede dependency injectes inn i klasen er det kun to steg som kreves.\n Opprett en privat variabel i staten av klassen.  private readonly IAppResources _appResources; Definer den nye private variabelen lik servicen som sendes med i konstruktøren til App.cs  _appResources = appResourcesService;   CurrentPage Siden man ønsker å navigere fra vil være spesifisert i denne parameteren.\n  FormData inneholder skjemadataen. Den kan enkelt jobbes med som et objekt ved å caste den til riktig type Skjema skjema = (Skjema)formData;. Her heter C# modellen til skjemadataen Skjema for din applikasjon kan det være et annet navn. Dette kan du sjekke ved å finne klassenavnet på C# filen i App/models-mappen.\n  Reflektere sporvalg i kvittering (PDF) Som applikasjonsutvikler må man selv sørge for å reflektere de sporvalgene som gjøres i PDFen som opprettes i slutten av hver task. I App.cs finnes funksjonen FormatPdf:\npublic override async Task\u0026lt;LayoutSettings\u0026gt; FormatPdf(LayoutSettings layoutSettings, object data) { return await _pdfHandler.FormatPdf(layoutSettings, data); } Som input til metoden får man layoutSettings som inneholder default siderekkefølge under propertyen layoutSettings.Pages.Order. I tillegg får man skjemadataen som er knyttet til steget som skal avsluttes. Denne kan parses til en C# modell som beskrevet lengere oppe på denne siden.\nVed å manipulere layoutSettings.Pages.Order i denne metoden vil man kunne duplisere de sporvalgene som er gjort for sluttbruker. MERK! Kallet til PDF handler, vist nedenfor, må ikke fjernes fra FormatPDF metoden dersom du har implementert ytterlig logikk for kvitteringen i PDFHandler.cs.\nreturn await _pdfHandler.FormatPdf(layoutSettings, data); For å unngå å duplisere logikk vil vi anbefale å lage en privat metode som manipulerer siderekkefølgen basert på skjemadata og kalle denne både fra FormatPdfog GetPageOrder. Et kodeeksempel på en slik implementasjon følger.\npublic override async Task\u0026lt;List\u0026lt;string\u0026gt;\u0026gt; GetPageOrder(string org, string app, int instanceOwnerId, Guid instanceGuid, string layoutSetId, string currentPage, string dataTypeId, object formData) { List\u0026lt;string\u0026gt; pageOrder = new List\u0026lt;string\u0026gt;(); if (string.IsNullOrEmpty(layoutSetId)) { pageOrder = _appResourcesService.GetLayoutSettings().Pages.Order; } else { pageOrder = _appResourcesService.GetLayoutSettingsForSet(layoutSetId).Pages.Order; } UpdatePageOrder(pageOrder, (FavorittArtist)formData); return pageOrder; } public override async Task\u0026lt;LayoutSettings\u0026gt; FormatPdf(LayoutSettings layoutSettings, object data) { UpdatePageOrder(layoutSettings.Pages.Order, (FavorittArtist)data); return await _pdfHandler.FormatPdf(layoutSettings, data); } private void UpdatePageOrder(List\u0026lt;string\u0026gt; pageOrder, FavorittArtist formdata) { if (formdata.EnGodNrTo.Contains(\u0026#34;Tix\u0026#34;)) { pageOrder.Remove(\u0026#34;Prince\u0026#34;); } else { pageOrder.Remove(\u0026#34;Tix\u0026#34;); } } "
},
{
	"uri": "https://altinn.github.io/docs/api/info/storrelser/",
	"title": "Størrelsesbegrensninger",
	"tags": [],
	"description": "Størrelsesbegrensninger",
	"content": "SOAP - innsending av skjema og vedlegg SubmitFormTask: Maksimalt 30 MB vedlegg per request\nSubmitAttachmentStreamed uten regler definert på tjenesten: 30 MB\nSubmitAttachmentStreamed med regler definert på tjenesten: 0-500 MB\n"
},
{
	"uri": "https://altinn.github.io/docs/tul/diverse/utgavesok-oversending/",
	"title": "Søk på tjenesteutgaver for gitt overføringsmetode",
	"tags": [],
	"description": "Søkeside hvor tjenesteeier kan søke på utgaver som benytter gitt overføringsmetode ved innsending",
	"content": "For innsending-, innsyn- og meldingtjenester kan Metode for oversending av tjenesteutgaves data settes på utgavenivå (se oversikt over utgaveparametere). Hver enkelt tjenesteeier kan søke på hvilke tjenesteutgaver som benytter en gitt metode for oversending ved å gå inn på egen søkeside fra tjenesteeier-arbeidsflaten. Søkesiden kan nås via lenke under Felles ressurser for tjenesteeier.\nSøk gjøres ved å velge ønsket metode for overføring fra nedtrekksliste. Metodene som vises i nedtrekkslisten er alle de aktive metodene som er tilgjengelige for tjenesteeieren. Dersom det er utgaver som benytter valgt metode vises disse i en liste, med lenke direkte til utgaven.\nDersom ingen metode er valgt, eller det ikke er noen utgaver som bruker den valgte metoden, vises en tom liste.\n"
},
{
	"uri": "https://altinn.github.io/docs/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/ux/tekster/",
	"title": "Tekster",
	"tags": [],
	"description": "Hvordan legge til eller endre tekster i en app.",
	"content": "Tekster lagres i ressursfiler i appen (App/config/texts). Tekster kan være fra felles biblioteker, datamodellen eller manuelt lagt inn av utvikler.\nTekstressursene er tilgjengelig når man redigerer UI komponenter i skjemaet via Altinn Studio, og de vises til sluttbruker når skjemaet lastes inn i nettleser.\nTekster lagres i JSON-format og det er én fil pr språk.\nFormat på filnavn for tekster er resource.[språk].json f.eks: resource.nb.json.\nFormatering av tekster Alle tekster kan formateres med markdown. Nedenfor er de mest benyttede formateringene beskrevet. Mer omfattende dokumentasjon og tips til hvordan markdown kan benyttes finnes her: Markdown Cheatsheet.\nUthevede tekster Det er ekstremt enkelt å gjøre ord eller setninger fet eller kursiv i markdown.\nDette er en _kursiv tekst_ laget med understrek. Dette er også en *kurvis tekst* laget med stjerne. Dette er __fet tekst__ laget med understrek. Dette er også **fet tekst**, men laget med stjerner! Lenker Trykk [her](https://altinn.github.io/docs) for å komme til Altinn docs. Headinger # Dette er en stor heading (H1) ## Dette er en litt mindre heading (H2) ### Og enda litt mindre (H3) #### Bitteliten heading (H4) Legge til og endre tekster i en app Man har to alternativer når man skal endre tekster i en app: enten gjøres det via Altinn Studio eller direkte i repository.\nLegge til og endre tekster i Altinn Studio Designer I den øverste navigerings menyen i Altinn Studio, velg Språk for å kunne redigere tekster. En oversikt over tekstene som allerede er tilgjengelig for applikasjonen listes opp.\nPå denne siden kan man redigere eksisterende tekster samt legge til nye teksressurser. Nye tekster legges til ved å trykke på Ny tekst, og fylle ut tekst og en unik nøkkel.\nLagre endringer i tekstene ved å trykke på Lagre tekster.\nLegge til og endre tekster i repository Dersom det er mange tekster som skal endres på en gang kan det være praktisk å redigere tekstene i JSON-struturen direkte i repoet. Enten via Altinn Studio Repos eller i en lokal klone i selvvalgt kodeeditor.\nTekstene ligger lagret i App/config/texts\nVariabler i tekster Variabler i tekster kan inkluderes ved å følge oppsettet nedenfor.\nStøttede datakilder: datamodel.\n{ \u0026#34;id\u0026#34;: \u0026#34;good.text.id\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;Hello, {0}! Here is a second variable {1}.\u0026#34;, \u0026#34;variables\u0026#34;: [ { \u0026#34;key\u0026#34;: \u0026#34;\u0026lt;datamodelField\u0026gt;\u0026#34;, \u0026#34;dataSource\u0026#34;: \u0026#34;dataModel.\u0026lt;dataModelName\u0026gt;\u0026#34; }, { \u0026#34;key\u0026#34;: \u0026#34;\u0026lt;datamodelField\u0026gt;\u0026#34;, \u0026#34;dataSource\u0026#34;: \u0026#34;dataModel.\u0026lt;dataModelName\u0026gt;\u0026#34; } ] } Rekkefølgen på variablene må matche parameterne i teksten.\n{ \u0026#34;id\u0026#34;: \u0026#34;common.submitinfo\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;Du leverer nå skjema for: {0} med organisasjonsnummer: {1}.\u0026#34;, \u0026#34;variables\u0026#34;: [ { \u0026#34;key\u0026#34;: \u0026#34;skattepliktig.organisasjonsnavn\u0026#34;, \u0026#34;dataSource\u0026#34;: \u0026#34;dataModel.default\u0026#34; }, { \u0026#34;key\u0026#34;: \u0026#34;skattepliktig.organisasjonsnummer\u0026#34;, \u0026#34;dataSource\u0026#34;: \u0026#34;dataModel.default\u0026#34; } ] } Det er anbefalt at variablene er statiske gjennom prosessflyten til en instans. Dette kan man oppnå ved å enten bruke prefill data eller verdier som settes under instansiering som variabler. Se et eksempel på hvordan å sette et datafelt under instansiering her.\nVariabler i tekst - repeterende grupper For at variabler i tekst skal fungere med data som ligger i repeterende grupper, må oppsettet vist over endres litt for de aktuelle feltene, for å spesifisere den repeterende gruppen dataene ligger i.\nDette gjøres ved å legge til [{0}] etter den repeterende gruppen når man spesifiserer felt i datamodellen i key-parameteren. F.eks.:\n{ \u0026#34;id\u0026#34;: \u0026#34;common.submitinfo\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;Du leverer nå skjema for: {0} med organisasjonsnummer: {1}.\u0026#34;, \u0026#34;variables\u0026#34;: [ { \u0026#34;key\u0026#34;: \u0026#34;skattepliktig[{0}].organisasjonsnavn\u0026#34;,  \u0026#34;dataSource\u0026#34;: \u0026#34;dataModel.default\u0026#34; }, { \u0026#34;key\u0026#34;: \u0026#34;skattepliktig[{0}].organisasjonsnummer\u0026#34;,  \u0026#34;dataSource\u0026#34;: \u0026#34;dataModel.default\u0026#34; } ] } Det er fullt mulig å kombinere variabler fra felter i repeterende gruppe med variabler fra felter ikke i repeterende gruppe. Det anbefales ikke å kombinere variabler fra felter fra forskjellige repeterende grupper, med mindre man er helt sikker på at rekkefølgen på innslag i gruppene vil bli helt like.\nLegge til hjelpetekst Hjelpetekster er små tekstsnutter som gir en kort og konsis beskrivelse av hva sluttbrukeren er forventet å fylle ut i feltet som teksten er tilknyttet.\nSpråknøklene som peker på hjelpeteksten er definert i FormLayout.json. I app repoet finner du filen under App/ui/.\nNedenfor ser du et eksempel på en FormLayout.json uten hjelpetekster.\n{ \u0026#34;data\u0026#34;: { \u0026#34;layout\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;616071dc-90b1-4ce5-8d18-492844828a41\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Header\u0026#34;, \u0026#34;componentType\u0026#34;: 0, \u0026#34;textResourceBindings\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;ServiceName\u0026#34; }, \u0026#34;dataModelBindings\u0026#34;: {} }, { \u0026#34;id\u0026#34;: \u0026#34;08d707a9-2475-4d23-bf76-f209fb434ec2\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;TextArea\u0026#34;, \u0026#34;componentType\u0026#34;: 7, \u0026#34;textResourceBindings\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;tilleggsopplysninger.label\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;tilleggsopplysninger.desc\u0026#34;, }, \u0026#34;dataModelBindings\u0026#34;: { \u0026#34;simpleBinding\u0026#34;: \u0026#34;omsetningsoppgaverTilleggsopplysninger.value\u0026#34; } }, { \u0026#34;id\u0026#34;: \u0026#34;bd6589b6-e2ab-49ba-b39a-dd3f8b63e5de\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Button\u0026#34;, \u0026#34;componentType\u0026#34;: 9, \u0026#34;textResourceBindings\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;Send inn\u0026#34; }, \u0026#34;dataModelBindings\u0026#34;: {}, \u0026#34;textResourceId\u0026#34;: \u0026#34;Standard.Button.Button\u0026#34;, \u0026#34;customType\u0026#34;: \u0026#34;Standard\u0026#34; } ] } } Dersom du skulle ønske å legge til hjelpetekst på en av disse skjemakomponentene må du\n Legge til hjelpeteksten i tekstressursfilen som beskrevet her. Åpne FormLayout.json-filen. Legg til en binding til den nye hjelpeteksten med nøkkel \u0026quot;help\u0026quot; og verdi lik nøkkel til tekstressursen.  Slik ser hele filen ut etter å ha lagt til en hjelpetekst:\n{ \u0026#34;data\u0026#34;: { \u0026#34;layout\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;616071dc-90b1-4ce5-8d18-492844828a41\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Header\u0026#34;, \u0026#34;componentType\u0026#34;: 0, \u0026#34;textResourceBindings\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;ServiceName\u0026#34; }, \u0026#34;dataModelBindings\u0026#34;: {} }, { \u0026#34;id\u0026#34;: \u0026#34;08d707a9-2475-4d23-bf76-f209fb434ec2\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;TextArea\u0026#34;, \u0026#34;componentType\u0026#34;: 7, \u0026#34;textResourceBindings\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;tilleggsopplysninger.label\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;tilleggsopplysninger.desc\u0026#34;, \u0026#34;help\u0026#34;: \u0026#34;tilleggsopplysninger.help\u0026#34;  }, \u0026#34;dataModelBindings\u0026#34;: { \u0026#34;simpleBinding\u0026#34;: \u0026#34;omsetningsoppgaverTilleggsopplysninger.value\u0026#34; } }, { \u0026#34;id\u0026#34;: \u0026#34;bd6589b6-e2ab-49ba-b39a-dd3f8b63e5de\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Button\u0026#34;, \u0026#34;componentType\u0026#34;: 9, \u0026#34;textResourceBindings\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;Send inn\u0026#34; }, \u0026#34;dataModelBindings\u0026#34;: {}, \u0026#34;textResourceId\u0026#34;: \u0026#34;Standard.Button.Button\u0026#34;, \u0026#34;customType\u0026#34;: \u0026#34;Standard\u0026#34; } ] } } Endre applikasjonstittel Når man oppretter en applikasjon vil man ha en tekstressurs med label ServiceName. Dette er tittelen på applikasjonen som vil gjenspeiles flere steder i løsningen vår. Blant annet når en sluttbruker fyller ut skjema, og når elementer skal vises i meldingsboksen på altinn.no.\nTittelen på applikasjonen skal ligge to steder i applikasjonsrepoet:\n  I tekstressurser med nøkkelen ServiceName. Tjenesteeiere oppfordres til å legge inn tittel på bokmål, nynorsk og engelsk. Dersom tittel mangler i tekstressursene vil lagringsnavnet (navnet på repoet) vises til sluttbrukeren.\n  I applicationmetadata.json under property title. Denne filen ligger under App/config/.\n  Dersom man gjør endrer ServiceName på applikasjonen sin lokalt er det viktig at også legge til den oppdatere tittelen i applicationmetadata.json også. Dersom tittel på applikasjonen endres i Altinn Studio enten på \u0026ldquo;Om\u0026rdquo; eller \u0026ldquo;Språk\u0026rdquo;-siden bli applicationmetadata.json oppdatert automatisk.\nEksempel på korrekt konfigurasjon for applikasjonstittel I App/config/applicationmetadata.json:\n\u0026#34;title\u0026#34;: { \u0026#34;nb\u0026#34;: \u0026#34;Automatisk deploy applikasjonen\u0026#34;, \u0026#34;nn\u0026#34;: \u0026#34;Automatisk deploy applikasjonen\u0026#34;, \u0026#34;en\u0026#34;: \u0026#34;Auto deploy application\u0026#34; }, I App/config/texts/resource.nb.json:\n{ \u0026#34;language\u0026#34;: \u0026#34;nb\u0026#34;, \u0026#34;resources\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;ServiceName\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;Automatisk deploy applikasjonen\u0026#34; }, . . . ] } I App/config/texts/resource.nn.json:\n{ \u0026#34;language\u0026#34;: \u0026#34;nn\u0026#34;, \u0026#34;resources\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;ServiceName\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;Automatisk deploy applikasjonen\u0026#34; }, . . . ] } I App/config/texts/resource.en.json:\n{ \u0026#34;language\u0026#34;: \u0026#34;en\u0026#34;, \u0026#34;resources\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;ServiceName\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;Auto deploy application\u0026#34; }, . . . ] } "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/testing/local/testusers/",
	"title": "Testbrukere lokalt",
	"tags": [],
	"description": "Vi har definert et lite sett med testbrukere som er tilgjengelig for lokal test.",
	"content": "Disse kan man velge når man logger inn i lokal test.\nSophie Salt Sophie er en svært driftig dame som bor i Oslo. Hun har startet en kjede med treningsententer som heter DDG Fitness og til nå er det startet 3 underenheter i Oslo, Bergen og Trondheim. Sophie har rollen DAGL og dens underroller for DDG Fitness AS og dens underhenheter.\nI tilegg er hun ekspert på helse og har startet eget konsulentfirma for helsetjenester. Sophie har rollen LEDE + knyttede roller for EAS Health Consulting.\nHun er også styremedlem i borettslaget der hun bor. \u0026ldquo;Oslos Vakreste Borettslag\u0026rdquo;. Sophie har rollen MEDL + knyttede roller for \u0026ldquo;Oslos Vakreste Borettslag\u0026rdquo;.\nAvgivere    Avgiver Roller     01039012345 Sophie Salt Privatperson   897069650 DDG Fitness AS Daglig leder + knytninger   897069651 DDG Fitness Bergen Daglig leder + knytninger   897069652 DDG Fitness Oslo Daglig leder + knytninger   897069653 DDG Fitness Trondheim Daglig leder + knytninger   897069631 EAS Health Consulting Styreleder + knytninger   950474084 Oslos Vakreste Borettslag Styremedlem + knytninger    Ola Nordmann. Ola Nordmann er en privatperson som kun kan representere seg selv. Er bosatt på Stokmarknes.\nAvgivere  01017512345 Ola Nordmann  "
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/configuration/process/customize/",
	"title": "Tilpasse visninger av steg",
	"tags": [],
	"description": "Hvordan tilpasse visninger i forskjellige steg av en prosess.",
	"content": "En applikasjon vil ha en prosess som brukeren av applikasjonen vil følge. Avhengig av hvilken type steg brukeren er i, vil forskjellige ting vises. Denne siden vil forklare hvordan visningen til de forskjellige stegene kan tilpasses.\nData (tilsvarer utfyllingssteg i Altinn II) I denne prosess-task-typen vises skjema som kan fylles ut.\nSkjema kan redigeres ved bruk av UI editoren eller ved å endre FormLayout.json direkte.\nBekreftelse (Confirmation) I denne prosess-task-typen vises noen standard-tekster, og bruker kan velge å bekrefte for å gå videre.\nTekstene kan overstyres, ved at man legger inn tekstnøkkel som hører til hver tekst i språkfilene for appen. Info om hvordan dette gjøres finner du her. Se under for oversikt over de forskjellige tekstnøklene som kan overstyres.\nI tillegg kan man legge inn statiske data som kan presenteres til sluttbruker, markert med 5 i bildet under.\nOverstyre tekster    Tekst nr. (se bilde over) Tekstnøkkel     1 confirm.title   2 confirm.body   3 confirm.attachments   4 confirm.button_text    Eksempel på overstyrte tekster i filen resources.nb.json:\n{ \u0026#34;id\u0026#34;: \u0026#34;confirm.title\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;Vennligst bekreft at du ønsker å sende inn\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;confirm.body\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;Du må kun trykke send inn om du er helt sikker på at du vil sende inn. \u0026lt;br/\u0026gt;\u0026lt;br/\u0026gt;I det du trykker send inn kan du ikke gjøre endringer.\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;confirm.attachments\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;Dokumenter med opplysninger\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;confirm.button_text\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;Lagre og fortsett\u0026#34; } Merk at i eksempelet over har vi brukt html-taggen \u0026lt;br/\u0026gt; for å lage linjeskift. For lenke og utheving, benytt markdown.\nDette resulterer i følgende visning:\n"
},
{
	"uri": "https://altinn.github.io/docs/ny-funksjonalitet/roadmap/altinn3/tjenesteeier/",
	"title": "Tjenesteeier-funksjonalitet i Altinn 3",
	"tags": [],
	"description": "Dette er funksjonaliteten for tjenesteeier som allerede eksisterer, og noen av de større endringene som er planlagt framover i Altinn 3.",
	"content": "Lansert funksjonalitet For informasjon om hvordan man bruker funksjonalitetene som er beskrevet her, se brukerdokumentasjonen for Altinn Studio.\n\r\rTjenesteutvikling i GUI I brukergrensesnittet til Altinn Studio kan du gjøre følgende:\n Opprette (og finne igjen) en app Laste opp datamodell Legge inn tekster Lage et enkelt skjema (en eller flere sider), med kobling mellom elementer, tekster og datamodell Legge inn dynamikkregler (NB! Kodes i JavaScript) Deploye app til test- og produksjonsmiljø  Tjenesteutvikling via kode Ved å hente ned applikasjonskoden (via Git) lokalt (eller ved å redigere på app-filene i repository-visning) kan du gjøre alle mulige endringer av appen. Dette inkluderer blant annet standardfunksjonalitet for å:\n Lage kalkulerings- og valideringsregler Koble på forhåndsutfylling Legge inn API-oppslag Redigere på prosessen/arbeidsflyten i appen Redigere på autorisasjonsreglene for appen, samt lage egendefinert instansieringslogikk Lage egendefinerte hendelser/events  Teste lokalt Når du har applikasjonskoden lokalt, kan du også benytte deg av muligheten til å ha et lokalt testmiljø for å gjøre de fleste typer testing.\nIntegrasjon med tjenesteeier Altinn 3 har standardiserte API-er som tjenesteeier kan bruke for å hente og laste opp data. For nedlasting bygger Altinn 3 på at tjenesteeier gjør spørringer og laster ned data (pull). I tillegg kan tjenesteeier benytte app-enes API-er for å instansiere eller gjøre endringer på instanser.\nFor å benytte API-ene som tjenesteeier må man autentisere seg med Maskinporten.\nForvaltning av apper Det er lagt opp til tilgang til overvåking av egne applikasjoner, slik at man kan ha oversikt over hvordan appene fungerer. Se også sidene om vedlikehold av apps.\nKommende funksjonalitet Altinn 3 er i stadig videreutvikling, og funksjonalitet lanseres løpende. Backlogg revideres åtte ganger i året, og mindre endringer kan også forekomme mellom revisjonene. Generelt kan man si at jo lenger frem i tid leveranse er planlagt jo mer usikkert er angitt leveransetidspunkt.\nEndringer beskrevet i kursiv er å regne som på idéstadiet, og er ikke besluttet at skal utvikles.\nTjenesteutvikling i GUI For all kommende funksjonalitet gjør vi vurderinger av om det er egnet å løse det i GUI. På et senere tidspunkt (2023 eller senere) vil vi gjøre et løft for at mer funksjonalitet skal være tilgjengelig via GUI.\n Støtte for branching i Altinn Studio (Q2 2021) (#985)  Datamodellering Den avhengigheten vi i dag har til at datamodellering skal gjøres i et eksternt system vil forsvinne. Noen høydepunkter i planene for datamodellering i Altinn 3 er:\n Å kunne jobbe med en datamodell i et GUI (Q2 2021) (#5551) Integrasjoner med Felles datakatalog (Q3 2021) (#3811) Å kunne få automatisk generert datamodell fra det man bygger av brukergrensesnitt Å kunne få automatisk generert forslag til brukergrensesnitt ut fra datamodellen  Forvaltning av tjenester Vi ønsker å gjøre tjenesteeiere i stand til å selv forvalte sine applikasjoner i Altinn 3. For å få til dette kommer blant annet:\n Mulighet for å avpublisere en applikasjon (Q2 2021) (#3717) Webanalyse for applikasjonene  Integrasjon med tjenesteeier Pull av data vil fortsatt være grunnmønsteret for at tjenesteeier får tilgang til data, men det kommer et par unntak:\n Mulighet for å bruke eFormidling som grensesnitt for å få data direkte fra en Altinn 3-app til tjenesteeiers systemer (Q2 2021) (#4788) Push av events - at tjenesteeier varsles når det er data til nedlasting (Q2 2021) (#4728) Splitt av data - flere tjenesteeiere kan motta data fra samme tjeneste (2022) (#4274)  "
},
{
	"uri": "https://altinn.github.io/docs/tags/todo/",
	"title": "todo",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/ux/ui-editor/",
	"title": "UI editor",
	"tags": [],
	"description": "Hvordan bygge et skjema med UI editor i Altinn Studio.",
	"content": "Bygge et skjema ved bruk av UI editor UI Editor er tilgjengelig i fanen Lage når man er inne i en app i Altinn Studio.\nBruke skjemakomponenter Skjemakomponentene kan trekkes inn i arbeidsområdet (i midten) fra menyen til venstre. Man kan deretter endre rekkefølgen på dem ved hjelp av drag and drop i arbeidsområdet.\nNår du holder muspekeren over en komponent, eller når du velger den ved å klikke på den, blir to ikoner synlig - et søppelbøtte-ikon for å slette komponenten, og et blyant-ikon for å endre på egenskapene til komponenten.\nSe oversikten over skjemakomponenter (i systemdokumentasjonen) for mer detaljer om komponentene som er tilgjengelig.\nRedigere egenskapene til komponentene Hver komponent har et sett med egenskaper som kan redigeres, for eksempel kobling til tekster og kobling til datamodell osv. For å endre på egenskapene, klikk blyant-ikonet som vises når du holder musepekeren over komponenten du vil endre på.\nGjør deretter endringene du ønsker, og lagre dem ved å klikke på hake-ikonet til høyre for egenskapsredigeringen. Du kan forkaste endringene ved å klikke på kryss-ikonet.\nMERK: UI-editoren og kompoentene er under utvikling. Det vil derfor være perioder der ikke alle egenskaper kan settes i UI-editor.\r\rFlere sider i skjema\rHvordan sette opp skjema med flere sider\n\r\rFlere skjema i tjeneste\rHvordan sette opp tjeneste med flere skje\n\r\rOppsummeringsvisning\rHvordan sette opp visning av oppsummering av utfylt skjema\n\r\rStyling av skjema\rHvordan styre stylingen på skjema\n\r\rWidgets\rHvordan bruke sammensatte komponenter (widgets)\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/",
	"title": "Utvikling",
	"tags": [],
	"description": "Teknisk dokumentasjon for Altinns produkter",
	"content": "Utvikling Dersom organisasjonen din er tjenesteeier i Altinn kan du utvikle digitale tjenester ved hjelp av våre verktøy og API-er. En del av API-ene får du også tilgang til uten å være tjenesteeier. Kom i gang med utvikling\r\r\rStart med å skaffe tilganger og gjøre nødvendige bestillinger.\n\r\rUtviklingsguider\r\r\rFølg våre steg-for-steg-guider for Altinns produkter.\n\r\rAltinn API\r\r\rAltinns løsninger er tilgjengelig via API. Tjenesteeiere får tilgang til en ekstra del av API-et.\n\r\r"
},
{
	"uri": "https://altinn.github.io/docs/altinn-studio/app-creation/logic/validation/",
	"title": "Validering",
	"tags": [],
	"description": "Hvordan legge til logikk for å validere skjemadata?",
	"content": "Introduksjon Valideringer sørger for at brukerens input er gyldig med tanke på datamodellen, i tillegg til alle egendefinerte regler som settes opp for applikasjonen. Valideringer kan kjøres enten på klient (dvs. browseren) eller serversiden.\nKlientside-validering MERK: Konfigurasjon av klientside-validering er foreløpig ikke tilgjenglig. Dokumentasjonen vil oppdateres når ny funksjonalitet blir tilgjengelig.\rDisse valideringene kjøres automatisk og, validerer brukerens input opp mot restriksjoner i datamodellen. Følgende restriksjoner er tilgjengelige for øyeblikket:\n min verdi (tall) max verdi (tall) min lengde max lengde lengde mønster / patterns  I tillegg støttes påkrevde felt. Dette kobles automatisk til datamodellen og ingen ytterligere konfigurasjon er nødvendig.\nServerside-validering Serverside-validering kan deles opp i to kategorier:\n Valideringer mot datamodell - Disse kjører automatisk når brukeren prøver å sende inn skjemadata. Egendefinerte valideringer - Disse skrives av applikasjonsutvikleren, og kjører når brukeren prøver å sende inn skjemadata eller flytte prosessen til et nytt steg.  Hvordan legge til egendefinert validering Egendefinerte validering kan igjen deles opp i to kategorier; task-validering og data-validering.\n Task-validering vil kjøres hver gang validering trigges enten manuelt fra applikasjonen eller når man prøver å flytte seg framover i prosessen. Data-validering vil kjøre dersom man står på et steg som har definerte dataelementer knyttet til seg.  Valideringer er skrevet i C#, i ValidationHandler.cs -filen i applikasjonsmalen. Filen kan aksesseres og endres i Altinn Studio via logikkmenyen, ved å velge Rediger valideringer, eller direkte i applikasjonsrepoet der ligger filen i logic/Validation-mappen.\nEndringer gjøres i ValidateData og ValidateTask-metodene (disse er tomme når appen lages). Førstnevnte får inn et dataobjekt og sistnevnte får inn instansen og taskId. For å legge til en valideringsfeil brukes AddModelError-metoden til validationResults object som sendes med i begge metodene.\nEt eksempel på en enkel data-validering som sjekker at feltet FirstName ikke inneholder verdien 1337, når rotelementet til modellen er Skjema er vist nedenfor:\npublic void ValidateData(object data, ModelStateDictionary validationResults) { if (data.GetType() == typeof(Skjema)) { // Cast instance data to model type  Skjema model = (Skjema)data; // Get value to test - FirstName  string firstName = Skjema?.Person?.FirstName; // Check if FirstName exists, and contains the value \u0026#34;1337\u0026#34;  if (firstName != null \u0026amp;\u0026amp; firstName.Contains(\u0026#34;1337\u0026#34;))  { // Add validation error, with error message and list  // of affected fields (in this case Person.FirstName)  validationResults.AddModelError( \u0026#34;Person.FirstName\u0026#34;, \u0026#34;Error: First name cannot contain the value \u0026#39;1337\u0026#39;.\u0026#34; ); } } } Se kommentarer i koden over for en forklaring på hva de ulike delene gjør.\nEt eksempel på en enkel task-validering som sjekker hvor lang tid brukeren har brukt på Task_1 og returnerer en feil dersom det har tatt lenger enn 3 dager.\npublic async Task ValidateTask(Instance instance, string taskId, ModelStateDictionary validationResults) { if (taskId.Equals(\u0026#34;Task_1\u0026#34;)) { DateTime deadline = ((DateTime)instance.Created).AddDays(3); if (DateTime.UtcNow \u0026lt; deadline)  { validationResults.AddModelError(\u0026#34;Task_1\u0026#34;, $\u0026#34;Ferdigstilling av Task_1 har tatt for lang tid. Vennligst start på nytt.\u0026#34;); } } } Enkeltfeltvalidering Dersom det er behov for umiddelbar validering av et felt som ikke kan dekkes i klientsidevalideringen, så kan man sette opp en trigger for validering på enkeltfelter i formLayout.json\n{ \u0026#34;data\u0026#34;: { \u0026#34;layout\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;3611fb2a-c06b-4fa7-a400-3f6c1ece64e1\u0026#34;, \u0026#34;textResourceBindings\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;25795.OppgavegiverNavnPreutfyltdatadef25795.Label\u0026#34; }, \u0026#34;dataModelBindings\u0026#34;: { \u0026#34;simpleBinding\u0026#34;: \u0026#34;etatid\u0026#34; }, \u0026#34;type\u0026#34;: \u0026#34;Input\u0026#34;, \u0026#34;triggers\u0026#34;: [\u0026#34;validation\u0026#34;] , // \u0026lt;--- Add this field  }, { \u0026#34;id\u0026#34;: \u0026#34;9ec368da-d6a9-4fbd-94d0-b4dfa8891981\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;Button\u0026#34;, \u0026#34;textResourceBindings\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;Button\u0026#34; }, \u0026#34;dataModelBindings\u0026#34;: {}, \u0026#34;textResourceId\u0026#34;: \u0026#34;Standard.Button.Button\u0026#34;, \u0026#34;customType\u0026#34;: \u0026#34;Standard\u0026#34; } ] } } Konfigurasjonen overfor vil resultere i at din egendefinerte validering i ValidationHandler.cs vil trigges hver gang feltet oppdaterer seg. Dersom du har behov for å vite hvilket felt som trigget valideringen er denne tilgjengelig i http-konteksten som en header på requesten ved navn ValidationTriggerField.\nEt eksempel på en egendefinert validering der headerverdien hentes ut er vist nedenfor.\npublic async Task ValidateData(object data, ModelStateDictionary validationResults) { _httpContextAccessor.HttpContext.Request.Headers.TryGetValue(\u0026#34;ValidationTriggerField\u0026#34;, out StringValues value); if (value.Count \u0026gt; 0 \u0026amp;\u0026amp; value[0].Equals(\u0026#34;kommune\u0026#34;)) { // Cast instance data to model type  flyttemelding model = (flyttemelding)data; // Get value to test - Kommune  string kommune = model.kommune; if (!kommune.Equals(\u0026#34;Oslo\u0026#34;)) { validationResults.AddModelError(value[0], \u0026#34;Dette er ikke en gyldig kommune.\u0026#34;); } } await Task.CompletedTask; } OBS Merk at validering av enkeltfelter bør implementeres slik at det kjører både på trigger og under generell validering. Eksempelet som omhandler flere komplekse valideringer viser hvordan dette kan implementeres.\nDet er gjort flere ting for å få denne kodesnutten til å kjøre\n I ValidationHandler.cs inkluderes using Microsoft.Extensions.Privites; øverst i filen for å kunne ta i bruk StringValues. I App.cs inkluderes using Microsoft.AspNetCore.Http; øverst i filen for å kunne ta i bruk IHttpContextAccessor. I App.cs dependency injectes IHttpContextAccessor i konstruktøren og sendes med videre til ValidationHandler.  public App( IAppResources appResourcesService, ILogger\u0026lt;App\u0026gt; logger, IData dataService, IProcess processService, IPDF pdfService, IProfile profileService, IRegister registerService, IPrefill prefillService, IHttpContextAccessor httpContextAccessor // \u0026lt;--- Add this line  ) : base(appResourcesService, logger, dataService, processService, pdfService, prefillService) { _logger = logger; _validationHandler = new ValidationHandler(httpContextAccessor); // \u0026lt;--- Include the new property here  _calculationHandler = new CalculationHandler(); _instantiationHandler = new InstantiationHandler(profileService, registerService); } Dersom man har flere komplekse valideringer som er tidkrevende er det anbefalt å implementere flere private metoder for validering av disse og bruke ValidationTriggerField til å avgjøre hvilken private metode som skal kjøres. Man kan bl.a. bruke en switch statement for å oppnå dette.\npublic async Task ValidateData(object data, ModelStateDictionary validationResults) { if (data is flyttemelding model)) { _httpContextAccessor.HttpContext.Request.Headers .TryGetValue(\u0026#34;ValidationTriggerField\u0026#34;, out StringValues value); string dataField = value.Any() ? value[0] : string.Empty; switch (dataField) { case \u0026#34;kommune\u0026#34;: ValidateKommune(model, validationResults); break; case \u0026#34;boaddresse\u0026#34;: ValidateBoAdresse(model, validationResults); break; default: ValidateKommune(model, validationResults); ValidateBoAdresse(model, validationResults); break; } } } private void ValidateKommune(flyttemelding model, ModelStateDictionary validationResults) { if (model.kommune != null \u0026amp;\u0026amp; !model.kommune.Equals(\u0026#34;Oslo\u0026#34;)) { validationResults.AddModelError( nameof(model.kommune), \u0026#34;Dette er ikke en gyldig kommune.\u0026#34;); } } private void ValidateBoAdresse(flyttemelding model, ModelStateDictionary validationResults) { if (model.boaddresse != null \u0026amp;\u0026amp; model.boaddresse.Length \u0026gt; 150) { validationResults.AddModelError( nameof(model.boaddresse), \u0026#34;Boadresse kan ikke være lengere enn 150 tegn.\u0026#34;); } } Myk validering Myke valideringer (eller advarsler) er valideringsmeldinger som ikke stopper bruker fra å sende inn eller gå videre til neste steg i prosessen. Denne typen valideringer kan f.eks. brukes til å be brukeren om å verifisere input som virker feil eller rart, men som strengt tatt ikke er ugyldig.\nMeldinger basert på myke validering vil vises en gang, men bruker kan velge å klikke seg videre uten å utføre endringer.\nMyke valideringer legges til fra server-siden i validerings-logikken, på samme måte som vanlige validerings-feil. Forskjellen er at valideringsmeldingen må prefixes med *WARNING*. Dette vil da tolkes som en myk validering. Prefixen *WARNING* blir ikke synlig for sluttbruker.\nKodeeksempel\npublic async Task ValidateData(object data, ModelStateDictionary modelState) { if (data is TestModel testModel) { string firstName = testModel?.Person?.FirstName; if (firstName != null \u0026amp;\u0026amp; firstName.Contains(\u0026#34;1337\u0026#34;)) { validationResults.AddModelError( \u0026#34;Person.FirstName\u0026#34;, \u0026#34;*WARNING*Are you sure your first name contains 1337?\u0026#34;); } } await Task.CompletedTask; } "
},
{
	"uri": "https://altinn.github.io/docs/tul/tjenestetyper/innsending/vedleggstyper/",
	"title": "Vedleggstyper",
	"tags": [],
	"description": "En vedleggstype kan du bruke til å definere et sett med vilkår som må følges for å laste opp filvedlegg.",
	"content": "Disse vilkårene vil bli brukt av sluttbrukerløsningen for å godkjenne filer som blir lastet opp. På denne måten kan du definere et sett med regler for filer som skal lastes opp, som kan bli brukt av flere tjenester.\nVedleggstyper blir opprettet og vedlikeholdt av hver enkelt tjenesteeier. Alle vedleggstyper som blir opprettet av tjenesteeier vil være tilgjengelig for alle innsendingstjenester hos denne tjenesteeieren. Vedleggstyper fra andre tjenesteeiere vil ikke være tilgjengelig. For å opprette, endre eller se på vedleggstyper går tjenesteeier inn på siden «Definer vedleggstyper». Denne siden finnes det link til på tjenesteeierarbeidsflaten.\nEtter at du har sjekket ut, kan du lage en ny vedleggstype ved å fylle ut feltene i \u0026ldquo;Legg til vedleggstype\u0026rdquo;-seksjonen, og trykke \u0026ldquo;Legg til vedleggstype\u0026rdquo;-knappen når du er ferdig. Da vil den nye vedleggstypen bli lagt i listen over vedleggstyper. Den vil derimot ikke bli lagret før du sjekker inn. Dersom du ikke sjekker inn, vil endringen din ikke bli lagret. Du kan gjøre endringer på flere forskjellige vedleggstyper før du sjekker inn, og på den måten lagre flere samtidig.\nDefinere vedleggstyper Navn Navnet du gir vedleggstypen er navnet tjenesteutviklere vil se når de skal velge vedleggstypen for en tjenesteutgave. Dette navnet blir også brukt av sluttbrukersystemet for å identifisere vedleggstype ved opplasting. Navnet må derfor være unikt innenfor hver tjenesteeier. Små og store bokstaver vil bli betraktet som like, det vil si at «ABC» vil være identisk med «abc». Du vil ikke få lov til å bruke et navn som allerede er i bruk. Bare små og store bokstaver mellom a og z er tillatt. I tillegg kan du bruke tall og _ (understrek). Navnet kan ikke starte med «xml».\nForetrukket navngiving skal baserest på at flere ledd blir skilt med understrek (_) som for eksempel «skd_lonnslipp».\nNavnet kan du bare endre på dersom vedleggstypen ikke er i bruk av tjenesteutgaver. Dersom du endrer navn eller sletter en vedleggstype så vil navnet den hadde kunne brukes av en ny vedleggstype.\nVisningsnavn Visningsnavnet er navnet som vil bli vist til sluttbruker når han skal velge hvilken vedleggstype han ønsker å laste opp. Dette er basert på brukerens språk, og må derfor oversettes.\nMinimum/Maksimum antall filvedlegg Minimum/Maksimum antall filvedlegg kan du bruke dersom du vil begrense hvor mange filvedlegg av denne typen som kan bli lastet opp. Verdien for minimum antall er forhåndsutfylt til 0, noe som betyr at det ikke er noen begrensing. Minimum antall filvedlegg kan du bruke til å kreve at brukeren må laste opp minst et visst antall filvedlegg. Dersom du ikke ønsker å kreve et minimums- /maksimum antall kan du la feltet stå blankt.\nMaks filstørrelse Maks filstørrelse brukes for å begrense størrelsen på filvedleggene som lastes opp. Filopplastingstjenesten har en begrensing på 200 MB, og du kan derfor ikke tillate større filer enn det.\nValgene om lagring i tjenesteeierarkivet og sluttbrukerarkivet avgjør om filvedleggene vil bli lagret i de respektive arkivene. Valget du gjør her vil ikke påvirke lagring av selve tjenesteutgaven, bare filvedleggene. Dersom tjenesteutgaven ikke tillater lagring i arkivene, så vil heller ikke filvedleggene bli lagret, selv om du har satt dem til \u0026ldquo;ja\u0026rdquo; på vedleggstypen.\nFiltyper Filtyper som kan lastes opp defineres dersom du vil begrense filene som kan bli lastet opp basert på filendelser. Dersom du vil sette begrensinger fjerner du haken for \u0026ldquo;Godta alle filtyper\u0026rdquo; og fyller inn filendelsene for filtypene du vil tillate. Vil du fylle inn mer enn en filendelse, bruker du komma til å skille mellom dem. Du trenger ikke punktum eller stjerne framfor filendelsene.\nEksempel: \u0026ldquo;doc, xls, xml\u0026rdquo;\nXsd-validering Valideringsfil i xsd-format vil bli brukt til å validere xml-filer som lastes opp. Last opp valideringsfil ved å klikke på filvalgsknappen og last opp filen du vil bruke. Dersom du har fjernet \u0026ldquo;godta alle filtyper\u0026rdquo;, vil du ikke kunne laste opp en slik fil før du har fylt inn \u0026ldquo;xml\u0026rdquo; som en gyldig filtype.\nDersom du har lastet opp en valideringsfil, betyr dette at denne vil bli brukt til å validere alle xml-filer som blir lastet opp. Det er bare xml-filer som vil bli validert. Andre filtyper kan ikke valideres. Ønsker du å fjerne valideringen, må du fjerne xsd-filen fra vedleggstypen.\nGenerer sjekksum Generer sjekksum avgjør om det skal genereres sjekksummer for filvedleggene ved opplasting. Dette kan brukes til å forsikre seg om at filen som er lastet opp har samme innhold som filen sjekksummen er generert fra. Vær oppmerksom på at generering av sjekksum kan være tidkrevende for store filer.\nEndring av vedleggstype For å endre en eksisterende vedleggstype må du finne den i lista og trykke på \u0026ldquo;Endre\u0026rdquo;-knappen. Dette forutsetter at siden er sjekket ut. Verdiene til den valgte vedleggstypen vil da bli fylt ut i de samme feltene du bruker til å lage en ny vedleggstype. Du kan så endre verdiene du vil. Legg merke til at navnet ikke kan endres på dersom vedleggstypen er tatt i bruk av en eller flere utgaver. For å lagre endringene, må du klikke på \u0026ldquo;Oppdater\u0026rdquo;-knappen. Vil du avbryte endringene dine, trykker du på \u0026ldquo;Forkast endringer\u0026rdquo;.\nDersom vedleggstypen er i bruk vil du få en advarsel om dette. For å finne ut hvilke tjenesteutgaver som bruker vedleggstypen kan du enten trykke på \u0026ldquo;Se hvilke tjenesteutgaver\u0026rdquo; bak advarselen, eller trykke på linken i \u0026ldquo;Brukt av\u0026rdquo;-kolonnen i listen. Endringene du gjør vil bli del av framtidige migreringer for alle tjenesteutgaver som bruker vedleggstypen. Tjenesteutgaver som allerede har blitt migrert med gamle innstillinger vil fortsette å bruke disse inntile utgaven eventuelt blir migrert på nytt. Utviklerene av tjenesteutgavene vil ikke få noen advarsel om at vedleggstypen har blitt endret. Det er derfor tjenesteeier sitt ansvar å vurdere om endringene er noe tjenesteutviklerene bør gjøres oppmerksomme på.\n"
}]